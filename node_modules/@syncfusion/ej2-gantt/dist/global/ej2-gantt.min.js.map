{"version":3,"file":"ej2-gantt.min.js","sources":["../../src/gantt/base/utils.js","../../src/gantt/base/date-processor.js","../../src/gantt/base/task-processor.js","../../src/gantt/base/css-constants.js","../../src/gantt/actions/chart-scroll.js","../../src/gantt/renderer/virtual-content-render.js","../../src/gantt/base/gantt-chart.js","../../src/gantt/renderer/timeline.js","../../src/gantt/models/column.js","../../src/gantt/base/tree-grid.js","../../src/gantt/models/day-working-time.js","../../src/gantt/models/add-dialog-field-settings.js","../../src/gantt/models/edit-dialog-field-settings.js","../../src/gantt/models/edit-settings.js","../../src/gantt/models/event-marker.js","../../src/gantt/models/filter-settings.js","../../src/gantt/models/search-settings.js","../../src/gantt/models/holiday.js","../../src/gantt/models/label-settings.js","../../src/gantt/models/selection-settings.js","../../src/gantt/models/splitter-settings.js","../../src/gantt/models/task-fields.js","../../src/gantt/models/timeline-settings.js","../../src/gantt/models/tooltip-settings.js","../../src/gantt/models/sort-settings.js","../../src/gantt/models/resource-fields.js","../../src/gantt/models/loading-indicator.js","../../src/gantt/models/week-working-time.js","../../src/gantt/renderer/chart-rows.js","../../src/gantt/actions/dependency.js","../../src/gantt/renderer/connector-line.js","../../src/gantt/base/splitter.js","../../src/gantt/renderer/tooltip.js","../../src/gantt/actions/keyboard.js","../../src/gantt/base/gantt.js","../../src/gantt/base/interface.js","../../src/gantt/actions/cell-edit.js","../../src/gantt/renderer/edit-tooltip.js","../../src/gantt/actions/taskbar-edit.js","../../src/gantt/actions/dialog-edit.js","../../src/gantt/actions/connector-line-edit.js","../../src/gantt/actions/edit.js","../../src/gantt/actions/column-reorder.js","../../src/gantt/actions/column-resize.js","../../src/gantt/actions/filter.js","../../src/gantt/actions/sort.js","../../src/gantt/actions/selection.js","../../src/gantt/actions/toolbar.js","../../src/gantt/base/constant.js","../../src/gantt/renderer/nonworking-day.js","../../src/gantt/renderer/event-marker.js","../../src/gantt/actions/day-markers.js","../../src/gantt/actions/critical-path.js","../../src/gantt/actions/undo-redo.js","../../src/gantt/actions/context-menu.js","../../src/gantt/actions/excel-export.js","../../src/gantt/actions/column-menu.js","../../src/gantt/actions/rowdragdrop.js","../../src/gantt/export/pdf-base/pdf-style/gantt-theme.js","../../src/gantt/export/pdf-base/dictionary.js","../../src/gantt/export/pdf-base/pdf-borders.js","../../src/gantt/export/pdf-base/pdf-style/style.js","../../src/gantt/export/pdf-base/treegrid-layouter.js","../../src/gantt/export/pdf-treegrid.js","../../src/gantt/export/pdf-base/pdf-grid-table.js","../../src/gantt/export/export-helper.js","../../src/gantt/export/pdf-taskbar.js","../../src/gantt/export/pdf-timeline.js","../../src/gantt/export/pdf-connector-line.js","../../src/gantt/export/pdf-event-marker.js","../../src/gantt/export/pdf-gantt.js","../../src/gantt/actions/pdf-export.js","../../src/gantt/actions/virtual-scroll.js","../../src/global.js"],"sourcesContent":["/**\n * Common methods used in Gantt\n */\nimport { isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nimport { DataManager, UrlAdaptor, WebApiAdaptor, ODataAdaptor } from '@syncfusion/ej2-data';\nimport { WebMethodAdaptor, CacheAdaptor, RemoteSaveAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\n/**\n * @param {Element} elem .\n * @param {string} selector .\n * @param {boolean} isID .\n * @returns {Element} .\n * @hidden\n */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\n/**\n * @param {ITaskData} ganttProp .\n * @returns {boolean} .\n * @hidden\n */\nexport function isScheduledTask(ganttProp) {\n    if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n        isNullOrUndefined(ganttProp.duration)) {\n        return null;\n    }\n    else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n        isNullOrUndefined(ganttProp.duration)) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\n/**\n * @param {Gantt} parent .\n * @returns {boolean} .\n * @hidden\n */\nexport function isCountRequired(parent) {\n    if (parent.dataSource && !(parent.dataSource instanceof DataManager) &&\n        'result' in parent.dataSource) {\n        return true;\n    }\n    return false;\n}\n/**\n * @param {object} obj .\n * @returns {object} .\n * @hidden\n */\nexport function getSwapKey(obj) {\n    var temp = {};\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var key = _a[_i];\n        temp[obj[key]] = key;\n    }\n    return temp;\n}\n/**\n * @param {object} dataSource .\n * @returns {boolean} .\n * @hidden\n */\nexport function isRemoteData(dataSource) {\n    if (dataSource instanceof DataManager) {\n        var adaptor = dataSource.adaptor;\n        return (adaptor instanceof ODataAdaptor || (adaptor instanceof ODataV4Adaptor) ||\n            (adaptor instanceof WebApiAdaptor) || (adaptor instanceof WebMethodAdaptor) ||\n            (adaptor instanceof CacheAdaptor) || (adaptor instanceof RemoteSaveAdaptor) ||\n            adaptor instanceof UrlAdaptor);\n    }\n    return false;\n}\n/**\n * @param {IGanttData[]} records .\n * @param {boolean} isNotExtend .\n * @param {ITaskAddedEventArgs} eventArgs .\n * @param {Gantt} parent .\n * @returns {object[]} .\n * @hidden\n */\nexport function getTaskData(records, isNotExtend, eventArgs, parent) {\n    if (eventArgs) {\n        var result = void 0;\n        for (var i = 0; i < records.length; i++) {\n            var data = isNotExtend ?\n                (records[parseInt(i.toString(), 10)].taskData) : extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result = (data);\n        }\n        return result;\n    }\n    else {\n        var result = [];\n        for (var i = 0; i < records.length; i++) {\n            if (!isNullOrUndefined(parent) && parent.timezone) {\n                updateDates(records[i], parent);\n            }\n            var data = isNotExtend ? (records[parseInt(i.toString(), 10)].taskData) :\n                extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result.push(data);\n        }\n        return result;\n    }\n}\n/**\n * @param {IGanttData} record .\n * @param {Gantt} parent .\n * @returns {null} .\n * @hidden\n */\nexport function updateDates(record, parent) {\n    // let startDate: Date = (record as IGanttData).taskData[parent.taskFields.startDate];\n    if (record && !isNullOrUndefined(record.ganttProperties)) {\n        record.taskData[parent.taskFields.startDate] = parent.dateValidationModule.remove(record.ganttProperties.startDate, parent.timezone);\n        if (parent.taskFields.endDate !== null) {\n            record.taskData[parent.taskFields.endDate] = parent.dateValidationModule.remove(record.ganttProperties.endDate, parent.timezone);\n        }\n        if (parent.taskFields.baselineEndDate || parent.taskFields.baselineStartDate) {\n            record.taskData[parent.taskFields.baselineStartDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineStartDate, parent.timezone);\n            record.taskData[parent.taskFields.baselineEndDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineEndDate, parent.timezone);\n        }\n    }\n    return null;\n}\n/**\n * @param {string} str .\n * @param {string[]} args .\n * @returns {string} .\n * @hidden\n */\nexport function formatString(str, args) {\n    var regx;\n    for (var i = 0; i < args.length; i++) {\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        regx = new RegExp('\\\\{' + (i) + '\\\\}', 'gm');\n        str = str.replace(regx, args[i].toString());\n    }\n    return str;\n}\n/**\n * @param {any} value .\n * @param {string} key1 .\n * @param {any} collection .\n * @param {string} key2\n * @returns {number} .\n * @hidden\n */\n/* eslint-disable-next-line */\nexport function getIndex(value, key1, collection, key2) {\n    var index = -1;\n    for (var i = 0; i < collection.length; i++) {\n        if (getValue(key1, collection[i]) === getValue(key1, value) && isNullOrUndefined(key2)\n            || (!isNullOrUndefined(key2) && getValue(key1, collection[i]) === getValue(key1, value)\n                && getValue(key2, collection[i]) === getValue(key2, value))) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pixelToPoint(value) {\n    return (value * 76) / 92;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pointToPixel(value) {\n    return (value * 92) / 76;\n}\nvar uid = 0;\n/**\n * @returns {number} .\n * @hidden\n */\nexport function getUid() {\n    return uid++;\n}\n","import { isNullOrUndefined, getValue, setValue } from '@syncfusion/ej2-base';\n/**\n *  Date processor is used to handle date of task data.\n */\nvar DateProcessor = /** @class */ (function () {\n    function DateProcessor(parent) {\n        this.fromSegments = false;\n        this.mondayTimeRangeLength = 0;\n        this.tuesdayTimeRangeLength = 0;\n        this.wednesdayTimeRangeLength = 0;\n        this.thursdayTimeRangeLength = 0;\n        this.fridayTimeRangeLength = 0;\n        this.saturdayTimeRangeLength = 0;\n        this.sundayTimeRangeLength = 0;\n        this.parent = parent;\n    }\n    /**\n     * @param {ITaskData} ganttProp .\n     * @returns {boolean} .\n     */\n    DateProcessor.prototype.isValidateNonWorkDays = function (ganttProp) {\n        return (!isNullOrUndefined(ganttProp) && ganttProp.isAutoSchedule &&\n            (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0)) ||\n            (isNullOrUndefined(ganttProp) && (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0));\n    };\n    /**\n     * Method to convert given date value as valid start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkStartDate = function (date, ganttProp, validateAsMilestone, isLoad) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var currentDay = new Date(date.getTime());\n        var dayStartTime = this.parent['getCurrentDayStartTime'](currentDay);\n        var dayEndTime = this.parent['getCurrentDayEndTime'](currentDay);\n        var cloneStartDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneStartDate);\n        validateAsMilestone = isNullOrUndefined(validateAsMilestone) ? !isNullOrUndefined(ganttProp) ?\n            ganttProp.isMilestone : false : validateAsMilestone;\n        if (hour < dayStartTime && (!validateAsMilestone || isLoad)) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour < dayStartTime && validateAsMilestone) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if ((hour === dayEndTime && (!ganttProp || !validateAsMilestone)) || hour > dayEndTime) {\n            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n            dayStartTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            var workingRange = this.parent.workingTimeRanges;\n            if (this.parent.weekWorkingTime.length > 0) {\n                workingRange = this.parent['getWorkingRange'](cloneStartDate);\n            }\n            for (var index = 0; index < workingRange.length; index++) {\n                var value = workingRange[index];\n                if (hour >= value.to && (workingRange[index + 1] &&\n                    hour < workingRange[index + 1].from)) {\n                    // milestone can fall at end any interval time\n                    if ((hour === value.to && (!ganttProp || !validateAsMilestone)) || hour !== value.to) {\n                        this.setTime(workingRange[index + 1].from, cloneStartDate);\n                    }\n                    break;\n                }\n            }\n        }\n        var tStartDate;\n        if (this.parent.autoCalculateDateScheduling) {\n            do {\n                tStartDate = new Date(cloneStartDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                // check holidays and weekends\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    dayStartTime = this.parent['getCurrentDayStartTime'](tStartDate);\n                    if (ganttProp) {\n                        dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : tStartDate);\n                    }\n                    var startTime = (!validateAsMilestone || isLoad) ? dayStartTime : dayEndTime;\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneStartDate.getTime());\n                        cloneStartDate = this.getNextWorkingDay(cloneStartDate);\n                        startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                        if (tempDate.getTime() !== cloneStartDate.getTime() && !validateAsMilestone) {\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneStartDate.getTime() >= holidayFrom.getTime() && cloneStartDate.getTime() < holidayTo.getTime()) {\n                            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n                            startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                }\n            } while (tStartDate.getTime() !== cloneStartDate.getTime());\n            return new Date(cloneStartDate.getTime());\n        }\n        else {\n            return new Date(cloneStartDate.getTime());\n        }\n    };\n    /**\n     * To update given date value to valid end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkEndDate = function (date, ganttProp, validateAsMilestone) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var dayStartTime;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            var currentDay = date;\n            if (!this.parent.includeWeekend && ganttProp && ganttProp.isAutoSchedule || (this.parent.editModule\n                && this.parent.editModule.taskbarEditModule && this.parent.editModule.taskbarEditModule.taskBarEditRecord\n                && !this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.isAutoSchedule)) {\n                currentDay = this.getNextWorkingDay(date);\n            }\n            dayStartTime = this.parent['getStartTime'](currentDay);\n            dayEndTime = this.parent['getEndTime'](currentDay);\n        }\n        else {\n            dayStartTime = this.parent.defaultStartTime;\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        var cloneEndDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneEndDate);\n        if (hour > dayEndTime) {\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour <= dayStartTime && !validateAsMilestone) {\n            var taskfields = this.parent.taskFields;\n            if (this.parent.editModule && this.parent.editModule['editedRecord'] && (!this.parent.editModule['editedRecord'][taskfields.startDate] && this.parent.editModule['editedRecord'][taskfields.endDate])) {\n                cloneEndDate.setDate(cloneEndDate.getDate());\n            }\n            else {\n                cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n            }\n            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            for (var index = 0; index < this.parent.workingTimeRanges.length; index++) {\n                var value = this.parent.workingTimeRanges[index];\n                if (hour > value.to && (this.parent.workingTimeRanges[index + 1] &&\n                    hour <= this.parent.workingTimeRanges[index + 1].from)) {\n                    this.setTime(this.parent.workingTimeRanges[index].to, cloneEndDate);\n                    break;\n                }\n            }\n        }\n        var tempCheckDate;\n        if (this.parent.autoCalculateDateScheduling) {\n            do {\n                tempCheckDate = new Date(cloneEndDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneEndDate.getTime());\n                        cloneEndDate = this.getPreviousWorkingDay(cloneEndDate);\n                        dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                        if (tempDate.getTime() !== cloneEndDate.getTime()) {\n                            this.setTime(dayEndTime, cloneEndDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        var tempHoliday = new Date(cloneEndDate.getTime());\n                        tempHoliday.setMinutes(cloneEndDate.getMilliseconds() - 2);\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneEndDate.getTime() >= holidayFrom.getTime() && cloneEndDate.getTime() < holidayTo.getTime() ||\n                            tempHoliday.getTime() >= holidayFrom.getTime() && tempHoliday.getTime() < holidayTo.getTime()) {\n                            cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n                            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                            if (!(cloneEndDate.getTime() === holidayFrom.getTime() && dayEndTime === 86400 &&\n                                this.getSecondsInDecimal(cloneEndDate) === 0)) {\n                                this.setTime(dayEndTime, cloneEndDate);\n                            }\n                        }\n                    }\n                }\n            } while (tempCheckDate.getTime() !== cloneEndDate.getTime());\n            return new Date(cloneEndDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(cloneEndDate)) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](date);\n                this.setTime(dayEndTime, cloneEndDate);\n            }\n            return new Date(cloneEndDate.getTime());\n        }\n    };\n    /**\n     * To validate the baseline start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineStartDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](date);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp ? ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour < dayStartTime) {\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayEndTime) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](cloneDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                }\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] &&\n                        hour < this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i + 1].from, cloneDate);\n                        break;\n                    }\n                }\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To validate baseline end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineEndDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n            var dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp ? ganttProp.startDate ? ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour > dayEndTime) {\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour < dayStartTime && !isNullOrUndefined(ganttProp) && !ganttProp.isMilestone) {\n                cloneDate.setDate(cloneDate.getDate() - 1);\n                dayEndTime = this.parent['getCurrentDayEndTime'](cloneDate);\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] && hour <= this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i].to, cloneDate);\n                        break;\n                    }\n                }\n            }\n            if (ganttProp && ganttProp.baselineStartDate && cloneDate &&\n                ganttProp.baselineStartDate.getTime() > cloneDate.getTime()) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To calculate start date value from duration and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempStartDate = null;\n        if (!isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(ganttProp.duration)) {\n            tempStartDate = this.getStartDate(ganttProp.endDate, ganttProp.duration, ganttProp.durationUnit, ganttProp);\n        }\n        this.parent.setRecordValue('startDate', tempStartDate, ganttProp, true);\n        if (this.parent.taskFields.startDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempEndDate = null;\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttProp.startDate)) {\n            if (!isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                if (this.compareDates(ganttProp.startDate, ganttProp.endDate) === 1) {\n                    this.parent.setRecordValue('startDate', new Date(ganttProp.endDate.getTime()), ganttProp, true);\n                    dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp.isAutoSchedule ? ganttProp.autoStartDate : ganttProp.startDate);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.isAutoSchedule ? ganttProp.autoEndDate : ganttProp.endDate);\n                    this.setTime(dayStartTime, ganttProp.startDate);\n                }\n                this.calculateDuration(ganttData);\n            }\n            if (!isNullOrUndefined(ganttProp.duration)) {\n                var duration = !isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 1 ?\n                    this.totalDuration(ganttProp.segments) : ganttProp.duration;\n                tempEndDate = this.getEndDate(ganttProp.startDate, duration, ganttProp.durationUnit, ganttProp, false);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        else {\n            tempEndDate = ganttData[this.parent.taskFields.endDate];\n            if (!isNullOrUndefined(tempEndDate)) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](tempEndDate);\n                this.setTime(dayEndTime, tempEndDate);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        if (this.parent.taskFields.endDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        }\n    };\n    DateProcessor.prototype.totalDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            duration += segments[i].duration + segments[i].offsetDuration;\n        }\n        return duration;\n    };\n    /**\n     * To calculate duration from start date and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     */\n    DateProcessor.prototype.calculateDuration = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var tDuration;\n        if (!isNullOrUndefined(ganttProperties.segments) && ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            tDuration = this.parent.editModule.taskbarEditModule.sumOfDuration(ganttProperties.segments);\n        }\n        else {\n            if ((!isNullOrUndefined(this.parent.taskFields.milestone)) && (!isNullOrUndefined(ganttProperties.startDate))\n                && !isNullOrUndefined(ganttProperties.endDate) &&\n                (ganttProperties.startDate).getTime() === (ganttProperties.endDate).getTime()\n                && (ganttData.taskData[this.parent.taskFields.milestone] === false)) {\n                tDuration = 1;\n            }\n            else {\n                tDuration = this.getDuration(ganttProperties.startDate, ganttProperties.endDate, ganttProperties.durationUnit, ganttProperties.isAutoSchedule, ganttProperties.isMilestone);\n            }\n        }\n        this.parent.setRecordValue('duration', tDuration, ganttProperties, true);\n        var col = this.parent.columnByField[this.parent.columnMapping.duration];\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isCellEdit && !isNullOrUndefined(col)) {\n            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                var dialog = this.parent.editModule.dialogModule.dialog;\n                if (!isNullOrUndefined(dialog)) {\n                    var textBox = dialog.querySelector('#' + this.parent.element.id + 'Duration')\n                        .ej2_instances[0];\n                    if (!isNullOrUndefined(textBox) && textBox.value !== tDuration.toString()) {\n                        textBox.value = tDuration.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n            if (this.parent.taskFields.duration) {\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                if (this.parent.taskFields.durationUnit) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'durationUnit');\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} sDate Method to get total nonworking time between two date values\n     * @param {Date} eDate .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonworkingTime = function (sDate, eDate, isAutoSchedule, isCheckTimeZone) {\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var weekendCount = (!this.parent.includeWeekend && this.parent.autoCalculateDateScheduling) && isAutoSchedule ?\n            this.getWeekendCount(sDate, eDate) : 0;\n        var totalHours = this.getNumberOfSeconds(sDate, eDate, isCheckTimeZone);\n        var holidaysCount = isAutoSchedule && this.parent.autoCalculateDateScheduling ? this.getHolidaysCount(sDate, eDate) : 0;\n        var totWorkDays = (totalHours - (weekendCount * 86400) - (holidaysCount * 86400)) / 86400; // working days between two dates\n        var nonWorkHours = this.getNonWorkingSecondsOnDate(sDate, eDate, isAutoSchedule);\n        var totalNonWorkTime = (this.parent.weekWorkingTime.length > 0 ?\n            this.nonWorkingSeconds(sDate, eDate, isAutoSchedule, totWorkDays) : (totWorkDays * (86400 - this.parent.secondsPerDay))) +\n            (weekendCount * 86400) + (holidaysCount * 86400) + nonWorkHours;\n        return totalNonWorkTime;\n    };\n    DateProcessor.prototype.nonWorkingSeconds = function (sDate, eDate, isAutoSchedule, workDays, fromDuration) {\n        var newStartDate = sDate.getTime() > eDate.getTime() ? new Date(eDate.getTime()) : new Date(sDate.getTime());\n        var newEndDate = sDate.getTime() > eDate.getTime() ? new Date(sDate.getTime()) : new Date(eDate.getTime());\n        var timeDiff = 0;\n        var count = 0;\n        if (fromDuration) {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](newStartDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](newStartDate);\n            if (!(newStartDate.getHours() < dayEndTime / 3600 && newStartDate.getHours() >= dayStartTime / 3600)) {\n                newStartDate.setDate(newStartDate.getDate() + 1);\n            }\n        }\n        else {\n            newStartDate.setDate(newStartDate.getDate() + 1);\n            newStartDate.setHours(0, 0, 0, 0);\n            newEndDate.setHours(0, 0, 0, 0);\n        }\n        if (workDays > 0 || isNullOrUndefined(workDays)) {\n            while ((fromDuration && newStartDate.getTime() <= newEndDate.getTime())\n                || (!fromDuration && newStartDate.getTime() < newEndDate.getTime())) {\n                if (isAutoSchedule) {\n                    if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                        do {\n                            newStartDate.setDate(newStartDate.getDate() + 1);\n                        } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                    }\n                    if (!this.parent.includeWeekend) {\n                        this.getNextWorkingDay(newStartDate);\n                    }\n                }\n                if (newStartDate.getTime() <= newEndDate.getTime()) {\n                    count++;\n                    var currentDaySeconds = this.parent['getSecondsPerDay'](newStartDate);\n                    if (fromDuration) {\n                        timeDiff += currentDaySeconds;\n                    }\n                    else {\n                        timeDiff += 86400 - currentDaySeconds;\n                    }\n                    newStartDate.setDate(newStartDate.getDate() + 1);\n                    if (isAutoSchedule) {\n                        if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                            do {\n                                newStartDate.setDate(newStartDate.getDate() + 1);\n                            } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                        }\n                        if (!this.parent.includeWeekend) {\n                            this.getNextWorkingDay(newStartDate);\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            return 0;\n        }\n        if (fromDuration) {\n            if (timeDiff > 0) {\n                timeDiff = timeDiff / count;\n            }\n            else {\n                timeDiff = this.parent.secondsPerDay;\n            }\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} durationUnit .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getDuration = function (startDate, endDate, durationUnit, isAutoSchedule, isMilestone, isCheckTimeZone) {\n        if (isNullOrUndefined(startDate) || isNullOrUndefined(endDate)) {\n            return null;\n        }\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var durationValue = 0;\n        var timeDiff = this.getTimeDifference(startDate, endDate, isCheckTimeZone) / 1000;\n        var nonWorkHours = this.getNonworkingTime(startDate, endDate, isAutoSchedule, isCheckTimeZone);\n        var durationHours = timeDiff - nonWorkHours;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.nonWorkingSeconds(startDate, endDate, isAutoSchedule, undefined, true);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (isMilestone && this.parent.getFormatedDate(startDate) === this.parent.getFormatedDate(endDate)) {\n            durationValue = 0;\n        }\n        else {\n            if (!durationUnit || durationUnit === 'day') {\n                durationValue = durationHours / totSeconds;\n            }\n            else if (durationUnit === 'minute') {\n                durationValue = durationHours / 60;\n            }\n            else {\n                durationValue = durationHours / 3600;\n            }\n        }\n        return parseFloat(durationValue.toString());\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {Date} date .\n     *  @returns {number} .\n     */\n    DateProcessor.prototype.getDurationAsSeconds = function (duration, durationUnit, date) {\n        var value = 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](date);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (!durationUnit || durationUnit.toLocaleLowerCase() === 'day') {\n            value = totSeconds * duration;\n        }\n        else if (durationUnit.toLocaleLowerCase() === 'hour') {\n            value = duration * 3600;\n        }\n        else {\n            value = duration * 60;\n        }\n        return value;\n    };\n    /**\n     * To get date from start date and duration\n     *\n     * @param {Date} startDate .\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getEndDate = function (startDate, duration, durationUnit, ganttProp, validateAsMilestone) {\n        var tempStart = new Date(startDate.getTime());\n        var endDate = new Date(startDate.getTime());\n        var sDate = new Date(startDate.getTime());\n        var secondDuration;\n        if (this.parent.weekWorkingTime.length > 0 && (!durationUnit || durationUnit.toLocaleLowerCase() === 'day')) {\n            secondDuration = this.calculateSecondDuration(duration, sDate, secondDuration, startDate, true);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, startDate);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            endDate.setSeconds(endDate.getSeconds() + secondDuration);\n            nonWork = this.getNonworkingTime(tempStart, endDate, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                endDate = this.checkStartDate(endDate, ganttProp, validateAsMilestone);\n            }\n            tempStart = new Date(endDate.getTime());\n        }\n        return endDate;\n    };\n    /**\n     * Calculate start date based on end date and duration.\n     *\n     * @param {Date} endDate - To calculate start date value from end date and duration.\n     * @param {number} duration - The duration value.\n     * @param {string} durationUnit - The unit of duration.\n     * @param {ITaskData} ganttProp - The Gantt task properties.\n     * @param {boolean} fromValidation - A flag indicating if the calculation is from validation.\n     * @returns {Date} The calculated start date.\n     * @private\n     */\n    DateProcessor.prototype.getStartDate = function (endDate, duration, durationUnit, ganttProp, fromValidation) {\n        var tempEnd = new Date(endDate.getTime());\n        var startDate = new Date(endDate.getTime());\n        var secondDuration;\n        var eDate = new Date(tempEnd.getTime());\n        if (this.parent.weekWorkingTime.length > 0) {\n            secondDuration = this.calculateSecondDuration(duration, eDate, secondDuration, tempEnd, false);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, tempEnd);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            startDate.setSeconds(startDate.getSeconds() - secondDuration);\n            nonWork = this.getNonworkingTime(startDate, tempEnd, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                tempEnd = this.checkEndDate(startDate, ganttProp);\n            }\n            tempEnd = new Date(startDate.getTime());\n        }\n        /* To render the milestone in proper date while loading */\n        if (fromValidation && ganttProp.isMilestone) {\n            startDate.setDate(startDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : startDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, startDate);\n            startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp, true);\n        }\n        return startDate;\n    };\n    DateProcessor.prototype.calculateSecondDuration = function (duration, sDate, secondDuration, startDate, fromEndDate) {\n        if (duration < 1) {\n            secondDuration = this.parent['getSecondsPerDay'](sDate) * duration;\n        }\n        else {\n            secondDuration = 0;\n            var durationValue = duration;\n            var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](sDate);\n            if (!(sDate.getHours() < dayEndTime / 3600 && sDate.getHours() > dayStartTime / 3600) && this.fromSegments) {\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n            }\n            while (durationValue > 0) {\n                if (this.isOnHolidayOrWeekEnd(sDate, true)) {\n                    do {\n                        if (fromEndDate) {\n                            sDate.setDate(sDate.getDate() + 1);\n                        }\n                        else {\n                            sDate.setDate(sDate.getDate() - 1);\n                        }\n                    } while (this.isOnHolidayOrWeekEnd(sDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    sDate = fromEndDate ? this.getNextWorkingDay(sDate) : this.getPreviousWorkingDay(sDate);\n                }\n                var totSeconds = this.parent['getSecondsPerDay'](sDate);\n                var num = 0;\n                if (this.getSecondsInDecimal(startDate) !== this.parent['getStartTime'](startDate) && !Number.isInteger(durationValue)) {\n                    var deciNumber = duration.toString().split('.');\n                    num = parseFloat('.' + deciNumber[1]);\n                    totSeconds = totSeconds * num;\n                    durationValue = durationValue - num;\n                }\n                if (durationValue < 1) {\n                    totSeconds = totSeconds * durationValue;\n                }\n                secondDuration = secondDuration + totSeconds;\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n                if (!num) {\n                    durationValue--;\n                }\n            }\n        }\n        return secondDuration;\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getProjectStartDate = function (ganttProp, isLoad) {\n        if (!isNullOrUndefined(this.parent.cloneProjectStartDate)) {\n            if (typeof this.parent.cloneProjectStartDate === 'string') {\n                this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            }\n            var cloneStartDate = this.checkStartDate(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectStartDate = cloneStartDate;\n            return new Date(cloneStartDate.getTime());\n        }\n        else if (!isNullOrUndefined(this.parent.projectStartDate)) {\n            var cloneStartDate = this.getDateFromFormat(this.parent.projectStartDate);\n            this.parent.cloneProjectStartDate = this.checkStartDate(cloneStartDate);\n        }\n        else if (!isNullOrUndefined(isLoad)) {\n            var flatData = this.parent.flatData;\n            var minStartDate = void 0;\n            if (flatData.length > 0) {\n                minStartDate = flatData[0].ganttProperties.startDate;\n            }\n            else {\n                minStartDate = new Date();\n                minStartDate.setHours(0, 0, 0, 0);\n            }\n            for (var index = 1; index < flatData.length; index++) {\n                var startDate = flatData[index].ganttProperties.startDate;\n                if (!isNullOrUndefined(startDate) && this.compareDates(startDate, minStartDate) === -1) {\n                    minStartDate = startDate;\n                }\n            }\n            this.parent.cloneProjectStartDate = this.checkStartDate(minStartDate, ganttProp);\n        }\n        else {\n            return null;\n        }\n        return new Date(this.parent.cloneProjectStartDate.getTime());\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidStartDate = function (ganttProp, isAuto) {\n        var sDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = !ganttProp.isAutoSchedule && ganttProp.autoDuration ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(startDate)) {\n            if (!isNullOrUndefined(endDate)) {\n                sDate = new Date(endDate.getTime());\n                var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n                this.setTime(dayStartTime, sDate);\n            }\n            else if (!isNullOrUndefined(duration)) {\n                sDate = this.getProjectStartDate(ganttProp);\n            }\n        }\n        else {\n            sDate = new Date(startDate.getTime());\n        }\n        return sDate;\n    };\n    /**\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidEndDate = function (ganttProp, isAuto) {\n        var eDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(endDate)) {\n            if (!isNullOrUndefined(startDate)) {\n                if (ganttProp.isMilestone) {\n                    eDate = this.checkStartDate(startDate);\n                }\n                else {\n                    eDate = new Date(startDate.getTime());\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](endDate ? endDate : eDate);\n                    this.setTime(dayEndTime, eDate);\n                }\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var sDate = this.getValidStartDate(ganttProp);\n                if (sDate) {\n                    eDate = this.getEndDate(sDate, duration, ganttProp.durationUnit, ganttProp, false);\n                }\n            }\n        }\n        else {\n            eDate = new Date(endDate.getTime());\n        }\n        return eDate;\n    };\n    DateProcessor.prototype.getWorkingTime = function (day, currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        if (!isNullOrUndefined(currentRange.from) && !isNullOrUndefined(currentRange.to)) {\n            startDate.setHours(0, 0, 0, 0);\n            var tempDate = new Date(startDate.getTime());\n            startDate.setTime(startDate.getTime() + (currentRange.from * 3600000));\n            var startHour = new Date(startDate.getTime());\n            if (currentRange.to === 24) {\n                var currentRangeTo = 23.99;\n                tempDate.setTime(tempDate.getTime() + (currentRangeTo * 3600000));\n            }\n            else {\n                tempDate.setTime(tempDate.getTime() + (currentRange.to * 3600000));\n            }\n            var endHour = new Date(tempDate.getTime());\n            var timeDiff = endHour.getTime() - startHour.getTime();\n            var sdSeconds = this.getSecondsInDecimal(startHour);\n            var edSeconds = this.getSecondsInDecimal(endHour);\n            if (edSeconds === 0) {\n                edSeconds = 86400;\n            }\n            totalSeconds += timeDiff / 1000;\n            if (count === 0) {\n                this.parent.defaultStartTime = sdSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignStartTime(day, sdSeconds);\n                }\n            }\n            if (count === this[day.toLowerCase() + 'TimeRangeLength'] - 1 || day === '') {\n                this.parent.defaultEndTime = edSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignEndTime(day, edSeconds);\n                }\n            }\n            if (count > 0) {\n                if (day === '') {\n                    nonWorkingHours.push(nonWorkingHours[nonWorkingHours.length - 1] +\n                        sdSeconds - workingTimeRanges[count - 1].to);\n                    if (workingTimeRanges[count - 1].to < sdSeconds) {\n                        nonWorkingTimeRanges.push({\n                            from: workingTimeRanges[count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - workingTimeRanges[count - 1].to)\n                        });\n                    }\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(this.parent[day.toLowerCase() + 'NonWorkingHours'][this.parent[day.toLowerCase() + 'NonWorkingHours'].length - 1] +\n                        sdSeconds - this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'][count - 1].to);\n                    if (this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to < sdSeconds) {\n                        this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                            from: this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to)\n                        });\n                    }\n                }\n            }\n            else {\n                if (day === '') {\n                    nonWorkingHours.push(0);\n                    nonWorkingTimeRanges.push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(0);\n                    this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n            }\n            if (day === '') {\n                workingTimeRanges.push({ from: sdSeconds, to: edSeconds });\n                nonWorkingTimeRanges.push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n            else {\n                this.parent[day.toLowerCase() + 'WorkingTimeRanges'].push({ from: sdSeconds, to: edSeconds });\n                this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n        }\n        return totalSeconds;\n    };\n    DateProcessor.prototype.assignStartTime = function (day, sdSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultStartTime = sdSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultStartTime = sdSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultStartTime = sdSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.assignEndTime = function (day, edSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultEndTime = edSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultEndTime = edSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultEndTime = edSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultEndTime = edSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultEndTime = edSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.calculateWeekWorkTime = function (day, currentDay, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        var seconds = 0;\n        for (var j = 0; j < currentDay.length; j++) {\n            var currentRange = currentDay[j];\n            seconds = seconds + this.getWorkingTime(day, currentRange, startDate, totalSeconds, j, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent[day.toLowerCase() + 'DefaultStartTime'] / 3600 !== 24) {\n            this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                from: this.parent[day.toLowerCase() + 'DefaultEndTime'], to: 86400,\n                isWorking: false, interval: 86400 - this.parent[day.toLowerCase() + 'DefaultEndTime']\n            });\n        }\n        return seconds;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getSecondsPerDay = function () {\n        var totalSeconds = 0;\n        var startDate = new Date('10/11/2018');\n        this.parent.nonWorkingHours = [];\n        var nonWorkingHours = this.parent.nonWorkingHours;\n        this.parent.workingTimeRanges = [];\n        this.parent.workingTimeRanges = [];\n        var workingTimeRanges = this.parent.workingTimeRanges;\n        this.parent.nonWorkingTimeRanges = [];\n        var nonWorkingTimeRanges = this.parent.nonWorkingTimeRanges;\n        for (var _i = 0, _a = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _i < _a.length; _i++) {\n            var day = _a[_i];\n            this[day.toLowerCase() + \"TimeRangeLength\"] = this.parent.dayWorkingTime.length;\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            for (var i = 0; i < this.parent.weekWorkingTime.length; i++) {\n                this[this.parent.weekWorkingTime[i].dayOfWeek.toLowerCase() + 'TimeRangeLength']\n                    = this.parent.weekWorkingTime[i].timeRange.length;\n            }\n            var weekWorkingTime = this.parent.weekWorkingTime;\n            var dayWorkingTime_1 = this.parent.dayWorkingTime;\n            for (var _b = 0, weekWorkingTime_1 = weekWorkingTime; _b < weekWorkingTime_1.length; _b++) {\n                var weekDay = weekWorkingTime_1[_b];\n                if (weekDay.timeRange && weekDay.timeRange.length > 0) {\n                    var seconds_1 = this.calculateWeekWorkTime(weekDay.dayOfWeek, weekDay.timeRange, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[weekDay.dayOfWeek.toLowerCase() + \"Seconds\"] = seconds_1;\n                }\n            }\n            for (var _c = 0, _d = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _c < _d.length; _c++) {\n                var day = _d[_c];\n                var dayDefaultStartTime = this.parent[day.toLowerCase() + \"DefaultStartTime\"];\n                if (isNullOrUndefined(dayDefaultStartTime)) {\n                    var seconds_2 = this.calculateWeekWorkTime(day, dayWorkingTime_1, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[day.toLowerCase() + \"Seconds\"] = seconds_2;\n                }\n            }\n        }\n        var dayWorkingTime = this.parent.dayWorkingTime;\n        var length = dayWorkingTime.length;\n        var seconds = 0;\n        for (var count = 0; count < length; count++) {\n            var currentRange = dayWorkingTime[count];\n            seconds = seconds + this.getWorkingTime('', currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent.defaultEndTime / 3600 !== 24) {\n            nonWorkingTimeRanges.push({\n                from: this.parent.defaultEndTime, to: 86400,\n                isWorking: false, interval: 86400 - this.parent.defaultEndTime\n            });\n        }\n        totalSeconds = seconds;\n        return totalSeconds;\n    };\n    /**\n     *\n     * @param {string} value .\n     * @param {boolean} isFromDialog .\n     * @returns {object} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.getDurationValue = function (value, isFromDialog) {\n        var durationUnit = null;\n        var duration = null;\n        if (typeof value === 'string') {\n            var values = value.match(/(\\d*\\.*\\d+|.+$)/g);\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0].toString().trim());\n                var unit = values[1] ? values[1].toString().trim().toLowerCase() : null;\n                if (getValue('minute', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'day';\n                }\n            }\n        }\n        else {\n            duration = value;\n            durationUnit = null;\n        }\n        var output = {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n        return output;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getNextWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1) {\n            date.setDate(date.getDate() + 1);\n            date = this.getNextWorkingDay(date);\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * get weekend days between two dates without including args dates\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getWeekendCount = function (startDate, endDate) {\n        var weekendCount = 0;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setHours(0, 0, 0, 0);\n        sDate.setDate(sDate.getDate() + 1);\n        eDate.setHours(0, 0, 0, 0);\n        while (sDate.getTime() < eDate.getTime()) {\n            if (this.parent.nonWorkingDayIndex.indexOf(sDate.getDay()) !== -1) {\n                weekendCount += 1;\n            }\n            sDate.setDate(sDate.getDate() + 1);\n        }\n        return weekendCount;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNumberOfSeconds = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var timeDiff = 0;\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            timeDiff = (this.getTimeDifference(sDate, eDate, isCheckTimeZone)) / 1000;\n        }\n        if (timeDiff % 86400 !== 0) {\n            timeDiff = timeDiff - (timeDiff % 86400) + 86400;\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getHolidaysCount = function (startDate, endDate) {\n        var holidaysCount = 0;\n        var holidays = this.parent.totalHolidayDates;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            for (var i = 0; i < holidays.length; i++) {\n                var currentHoliday = this.getDateFromFormat(new Date(holidays[i]));\n                if (sDate.getTime() <= currentHoliday.getTime() && eDate.getTime() > currentHoliday.getTime()) {\n                    if ((!this.parent.includeWeekend && this.parent.nonWorkingDayIndex.indexOf(currentHoliday.getDay()) === -1) ||\n                        this.parent.includeWeekend) {\n                        holidaysCount += 1;\n                    }\n                }\n            }\n        }\n        return holidaysCount;\n    };\n    /**\n     * @returns {number[]} .\n     * @private\n     */\n    DateProcessor.prototype.getHolidayDates = function () {\n        var holidays = this.parent.holidays;\n        var holidayDates = [];\n        for (var i = 0; i < holidays.length; i++) {\n            var from = this.getDateFromFormat(holidays[i].from);\n            var to = this.getDateFromFormat(holidays[i].to);\n            if (isNullOrUndefined(from) && isNullOrUndefined(to)) {\n                continue;\n            }\n            else if (isNullOrUndefined(from) || isNullOrUndefined(to)) {\n                var tempDate = from ? from : to;\n                tempDate.setHours(0, 0, 0, 0);\n                if (holidayDates.indexOf(tempDate.getTime()) === -1) {\n                    holidayDates.push(tempDate.getTime());\n                }\n            }\n            else {\n                while (from <= to) {\n                    from.setHours(0, 0, 0, 0);\n                    if (holidayDates.indexOf(from.getTime()) === -1) {\n                        holidayDates.push(from.getTime());\n                    }\n                    from.setDate(from.getDate() + 1);\n                }\n            }\n        }\n        return holidayDates;\n    };\n    /**\n     * @param {Date} date .\n     * @param {boolean} checkWeekEnd .\n     * @returns {boolean} .\n     * @private\n     */\n    /*Check given date is on holidays*/\n    DateProcessor.prototype.isOnHolidayOrWeekEnd = function (date, checkWeekEnd) {\n        checkWeekEnd = !isNullOrUndefined(checkWeekEnd) ? checkWeekEnd : this.parent.includeWeekend;\n        if (!this.parent.autoCalculateDateScheduling) {\n            checkWeekEnd = true;\n        }\n        if (!checkWeekEnd && this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n            return true;\n        }\n        var holidays = this.parent.totalHolidayDates;\n        for (var count = 0; count < holidays.length; count++) {\n            var holidayFrom = this.getDateFromFormat(new Date(holidays[count]));\n            var holidayTo = new Date(holidayFrom.getTime());\n            holidayFrom.setHours(0, 0, 0, 0);\n            holidayTo.setHours(23, 59, 59, 59);\n            if (date.getTime() >= holidayFrom.getTime() && date.getTime() < holidayTo.getTime()) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To calculate non working times in given date\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isAutoSchedule .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonWorkingSecondsOnDate = function (startDate, endDate, isAutoSchedule) {\n        var sHour = this.getSecondsInDecimal(startDate);\n        var eHour = this.getSecondsInDecimal(endDate);\n        var startRangeIndex = -1;\n        var endRangeIndex = -1;\n        var totNonWrkSecs = 0;\n        var startOnHoliday = isAutoSchedule && this.parent.autoCalculateDateScheduling ?\n            this.isOnHolidayOrWeekEnd(startDate, null) : false;\n        var endOnHoliday = isAutoSchedule && this.parent.autoCalculateDateScheduling ?\n            this.isOnHolidayOrWeekEnd(endDate, null) : false;\n        var startnonWorkingTimeRange;\n        var endnonWorkingTimeRange;\n        if (this.parent.weekWorkingTime.length > 0) {\n            startnonWorkingTimeRange = this.parent['getNonWorkingRange'](startDate);\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n            }\n            endnonWorkingTimeRange = this.parent['getNonWorkingRange'](endDate);\n            for (var i = 0; i < endnonWorkingTimeRange.length; i++) {\n                var val = endnonWorkingTimeRange[i];\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        else {\n            startnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            endnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        if (startDate.getDate() !== endDate.getDate() || startDate.getMonth() !== endDate.getMonth() ||\n            startDate.getFullYear() !== endDate.getFullYear()) {\n            if (!startOnHoliday) {\n                for (var i = startRangeIndex; i < startnonWorkingTimeRange.length; i++) {\n                    if (!startnonWorkingTimeRange[i].isWorking) {\n                        if (i === startRangeIndex) {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                        }\n                        else {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].interval);\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += (86400 - sHour);\n            }\n            if (!endOnHoliday) {\n                for (var i = 0; i <= endRangeIndex; i++) {\n                    if (!endnonWorkingTimeRange[i].isWorking) {\n                        if (i === endRangeIndex) {\n                            totNonWrkSecs += (eHour - endnonWorkingTimeRange[i].from);\n                        }\n                        else {\n                            totNonWrkSecs += endnonWorkingTimeRange[i].interval;\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += eHour;\n            }\n        }\n        else {\n            if (startRangeIndex !== endRangeIndex) {\n                if (!endOnHoliday) {\n                    for (var i = startRangeIndex; i <= endRangeIndex; i++) {\n                        if (!startnonWorkingTimeRange[i].isWorking) {\n                            if (i === startRangeIndex) {\n                                totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                            }\n                            else if (i === endRangeIndex) {\n                                totNonWrkSecs += (eHour - startnonWorkingTimeRange[i].from);\n                            }\n                            else {\n                                totNonWrkSecs += startnonWorkingTimeRange[i].interval;\n                            }\n                        }\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n            else {\n                if (!endOnHoliday) {\n                    var range = startnonWorkingTimeRange[startRangeIndex];\n                    if (!range.isWorking) {\n                        totNonWrkSecs = eHour - sHour;\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n        }\n        return totNonWrkSecs;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getPreviousWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        var previousIndex = (dayIndex === 0) ? 6 : dayIndex - 1;\n        var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1 || (this.parent.nonWorkingDayIndex.indexOf(previousIndex) !== -1\n            && dayEndTime === 86400 && this.getSecondsInDecimal(date) === 0)) {\n            date.setDate(date.getDate() - 1);\n            if (this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n                date = this.getPreviousWorkingDay(date);\n            }\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * To get non-working day indexes.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.getNonWorkingDayIndex = function () {\n        var weekDay = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n        var weekDayLength = weekDay.length;\n        if (this.parent.workWeek.length === 0) {\n            this.parent.workWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n        }\n        var workWeek = this.parent.workWeek.slice();\n        var length = workWeek.length;\n        for (var i = 0; i < length; i++) {\n            workWeek[i] = workWeek[i].toLowerCase();\n        }\n        this.parent.nonWorkingDayIndex = [];\n        for (var i = 0; i < weekDayLength; i++) {\n            if (workWeek.indexOf(weekDay[i]) === -1) {\n                this.parent.nonWorkingDayIndex.push(i);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} seconds .\n     * @param {Date} date .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.setTime = function (seconds, date) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var hour = seconds / 3600;\n        hour = parseInt(hour, 10);\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var min = (seconds - (hour * 3600)) / 60;\n        min = parseInt(min, 10);\n        var sec = seconds - (hour * 3600) - (min * 60);\n        date.setHours(hour, min, sec);\n    };\n    /**\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getTimeDifference = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        if (isCheckTimeZone) {\n            this.updateDateWithTimeZone(sDate, eDate);\n        }\n        return eDate.getTime() - sDate.getTime();\n    };\n    /**\n     * @param {Date} sDate .\n     * @param {Date} eDate .\n     * @returns {void} .\n     */\n    DateProcessor.prototype.updateDateWithTimeZone = function (sDate, eDate) {\n        var sTZ = sDate.getTimezoneOffset();\n        var eTZ = eDate.getTimezoneOffset();\n        var uTZ;\n        var uDate;\n        if (sTZ !== eTZ) {\n            var standardTZ = new Date(new Date().getFullYear(), 0, 1).getTimezoneOffset();\n            if (standardTZ !== sTZ) {\n                uDate = sDate;\n                uTZ = sTZ;\n            }\n            else if (standardTZ !== eTZ) {\n                uDate = eDate;\n                uTZ = eTZ;\n            }\n            if (standardTZ < 0) {\n                var tzDiff = standardTZ - uTZ;\n                uDate.setTime(uDate.getTime() + (tzDiff * 60 * 1000));\n            }\n            else if (standardTZ >= 0) {\n                var tzDiff = uTZ - standardTZ;\n                uDate.setTime(uDate.getTime() - (tzDiff * 60 * 1000));\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getSecondsInDecimal = function (date) {\n        return (date.getHours() * 60 * 60) + (date.getMinutes() * 60) + date.getSeconds() + (date.getMilliseconds() / 1000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {number} localOffset .\n     * @param {string} timezone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.offset = function (date, timezone) {\n        var localOffset = date.getTimezoneOffset();\n        try {\n            var convertedDate = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n            if (!isNaN(convertedDate.getTime())) {\n                return ((date.getTime() - convertedDate.getTime()) / 60000) + localOffset;\n            }\n            return 0;\n        }\n        catch (error) {\n            return 0;\n        }\n    };\n    DateProcessor.prototype.remove = function (date, timezone) {\n        if (!isNullOrUndefined(date)) {\n            date = this.reverse(date, timezone, date.getTimezoneOffset());\n        }\n        return date;\n    };\n    DateProcessor.prototype.reverse = function (date, fromOffset, toOffset) {\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {string} timezone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.convert = function (date, timezone) {\n        var fromOffset = date.getTimezoneOffset();\n        var toOffset = this.offset(date, timezone);\n        if (fromOffset < 0 && (this.parent.timelineSettings.bottomTier && this.parent.timelineSettings.bottomTier.unit !== 'Hour')) {\n            date = new Date(date.getTime() - (fromOffset - toOffset) / 60000);\n            var toLocalOffset = date.getTimezoneOffset();\n            return new Date(date.getTime() - (toLocalOffset - fromOffset) / 60000);\n        }\n        else {\n            date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n            var toLocalOffset = date.getTimezoneOffset();\n            return new Date(date.getTime() + (toLocalOffset - fromOffset) * 60000);\n        }\n    };\n    /**\n     * @param {string | Date} date .\n     * @param {boolean} toConvert .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getDateFromFormat = function (date, toConvert) {\n        var updatedDate;\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else if (date instanceof Date) {\n            updatedDate = new Date(date.getTime());\n        }\n        else {\n            var dateObject = this.parent.globalize.parseDate(date, { format: this.parent.getDateFormat(), type: 'dateTime' });\n            updatedDate = isNullOrUndefined(dateObject) && !isNaN(new Date(date).getTime()) ? new Date(date) : dateObject;\n        }\n        if (!isNullOrUndefined(this.parent.timezone) && toConvert) {\n            var convertedDate = this.convert(updatedDate, this.parent.timezone);\n            return convertedDate;\n        }\n        else {\n            return updatedDate;\n        }\n    };\n    /**\n     * @param {Date} date1 .\n     * @param {Date} date2 .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.compareDates = function (date1, date2) {\n        if (!isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return (date1.getTime() > date2.getTime()) ? 1 : (date1.getTime() < date2.getTime()) ? -1 : 0;\n        }\n        else if (!isNullOrUndefined(date1) && isNullOrUndefined(date2)) {\n            return 1;\n        }\n        else if (isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return -1;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getDurationString = function (duration, durationUnit) {\n        var value = '';\n        if (!isNullOrUndefined(duration)) {\n            value += parseFloat(duration.toFixed(2)) + ' ';\n            if (!isNullOrUndefined(durationUnit)) {\n                var plural = duration !== 1;\n                if (durationUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (durationUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (durationUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * Method to get work with value and unit.\n     *\n     * @param {number} work .\n     * @param {string} workUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getWorkString = function (work, workUnit) {\n        var value = '';\n        if (!isNullOrUndefined(work)) {\n            value += parseFloat(work).toFixed(2) + ' ';\n            if (!isNullOrUndefined(workUnit)) {\n                var plural = work !== 1;\n                if (workUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (workUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (workUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.calculateProjectDatesForValidatedTasks = function (editArgs) {\n        var _this = this;\n        var projectStartDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var projectEndDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = (getValue('dataOperation.dataArray', this.parent));\n        if ((!projectStartDate || !projectEndDate) && (flatData && flatData.length === 0)) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        else if (flatData.length > 0) {\n            var sortedStartDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(a[_this.parent.taskFields.startDate])).getTime() -\n                    (new Date(b[_this.parent.taskFields.startDate])).getTime());\n            });\n            var sortedEndDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(b[_this.parent.taskFields.endDate])).getTime() - (new Date(a[_this.parent.taskFields.endDate])).getTime());\n            });\n            minStartDate = sortedStartDate[0][this.parent.taskFields.startDate];\n            maxEndDate = sortedEndDate[sortedEndDate.length - 1][this.parent.taskFields.endDate];\n        }\n        this.parent.cloneProjectStartDate = projectStartDate ? new Date(projectStartDate.getTime()) :\n            typeof minStartDate === 'string' ? new Date(minStartDate) : minStartDate;\n        this.parent.cloneProjectEndDate = projectEndDate ? new Date(projectEndDate.getTime()) :\n            typeof maxEndDate === 'string' ? new Date(maxEndDate) : maxEndDate;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateProjectDates = function (editArgs) {\n        var _this = this;\n        if (this.parent.isLoad && this.parent.enablePersistence &&\n            this.parent.cloneProjectStartDate && this.parent.cloneProjectEndDate) {\n            this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectEndDate = this.getDateFromFormat(this.parent.cloneProjectEndDate);\n            return;\n        }\n        var sDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var eDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var projectStartDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectStartDate\n            ? this.getDateFromFormat(this.parent.cloneProjectStartDate) : this.getDateFromFormat(sDate);\n        var projectEndDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectEndDate\n            ? this.getDateFromFormat(this.parent.cloneProjectEndDate) : this.getDateFromFormat(eDate);\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var taskRange = [];\n        var addDateToList = function (date) {\n            if (!isNullOrUndefined(date)) {\n                taskRange.push(date);\n            }\n        };\n        var sortDates = function (dates) {\n            if (dates.length > 0) {\n                dates.sort(function (a, b) {\n                    return a.getTime() - b.getTime();\n                });\n                minStartDate = new Date(dates[0].getTime());\n                maxEndDate = dates.length > 1 ? new Date(dates[dates.length - 1].getTime()) : null;\n            }\n        };\n        if (((!projectStartDate || !projectEndDate) && flatData.length > 0) || editArgs || this.parent.timelineModule.isZoomToFit) {\n            var viewData = void 0;\n            if (currentViewData.length > 0 && this.parent.timelineModule.isZoomToFit &&\n                this.parent.treeGrid.filterModule &&\n                this.parent.treeGrid.filterModule.filteredResult.length > 0) {\n                viewData = currentViewData;\n            }\n            else {\n                viewData = flatData;\n            }\n            viewData.forEach(function (data) {\n                taskRange = [];\n                var task = data.ganttProperties;\n                var tempStartDate;\n                var tempEndDate;\n                if (isNullOrUndefined(task.startDate) && isNullOrUndefined(task.endDate)) {\n                    tempStartDate = null;\n                    tempEndDate = null;\n                }\n                else {\n                    tempStartDate = _this.getValidStartDate(task);\n                    tempEndDate = _this.getValidEndDate(task);\n                }\n                addDateToList(minStartDate);\n                addDateToList(maxEndDate);\n                addDateToList(tempStartDate);\n                addDateToList(tempEndDate);\n                if (_this.parent.renderBaseline && !_this.parent.timelineModule.isZoomToFit) {\n                    addDateToList(task.baselineStartDate);\n                    addDateToList(task.baselineEndDate);\n                }\n                if (task.indicators && task.indicators.length > 0 && !_this.parent.timelineModule.isZoomToFit) {\n                    task.indicators.forEach(function (item) {\n                        addDateToList(_this.getDateFromFormat(item.date));\n                    });\n                }\n                sortDates(taskRange);\n            });\n            taskRange = [];\n            addDateToList(minStartDate);\n            addDateToList(maxEndDate);\n            //update schedule dates as per holiday and strip line collection\n            if (this.parent.eventMarkers.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var eventMarkers = this.parent.eventMarkers;\n                // eslint-disable-next-line\n                eventMarkers.forEach(function (marker, index) {\n                    addDateToList(_this.getDateFromFormat(marker.day));\n                });\n            }\n            if (this.parent.totalHolidayDates.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var holidays = this.parent.totalHolidayDates;\n                // eslint-disable-next-line\n                holidays.forEach(function (holiday, index) {\n                    addDateToList(new Date(holiday));\n                });\n            }\n            sortDates(taskRange);\n            if (!minStartDate || !maxEndDate) {\n                if (!minStartDate) {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                    minStartDate.setHours(0, 0, 0, 0);\n                }\n                else {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                }\n                maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n                maxEndDate.setDate(maxEndDate.getDate() + 20);\n            }\n        }\n        else if ((!projectStartDate || !projectEndDate) && flatData.length === 0) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        if (!editArgs) {\n            this.prevProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.cloneProjectStartDate = minStartDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectStartDate)) ? new Date(projectStartDate.getTime()) :\n                    minStartDate : minStartDate : new Date(projectStartDate.getTime());\n            this.parent.cloneProjectEndDate = maxEndDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectEndDate)) ? new Date(projectEndDate.getTime()) :\n                    maxEndDate : maxEndDate : new Date(projectEndDate.getTime());\n        }\n        else {\n            setValue('minStartDate', minStartDate, editArgs);\n            setValue('maxEndDate', maxEndDate, editArgs);\n        }\n        this.parent['isProjectDateUpdated'] = true;\n    };\n    /**\n     *\n     * @param {ITaskSegment} segments .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.splitTasksDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            var sDate = segment.startDate;\n            var eDate = segment.endDate;\n            if (this.parent.timelineModule.bottomTier === 'Hour') {\n                duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60));\n            }\n            else if (this.parent.timelineModule.bottomTier === 'Minutes') {\n                duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60));\n            }\n            else {\n                duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24));\n            }\n        }\n        return duration;\n    };\n    return DateProcessor;\n}());\nexport { DateProcessor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, getValue, extend, setValue } from '@syncfusion/ej2-base';\nimport { getUid } from '@syncfusion/ej2-grids';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isCountRequired, isScheduledTask } from './utils';\nimport { DateProcessor } from './date-processor';\n/**\n * To calculate and update task related values\n */\nvar TaskProcessor = /** @class */ (function (_super) {\n    __extends(TaskProcessor, _super);\n    function TaskProcessor(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.customSegmentProperties = [];\n        _this.recordIndex = 0;\n        _this.taskIds = [];\n        _this.hierarchyData = [];\n        _this.addEventListener();\n        return _this;\n    }\n    TaskProcessor.prototype.addEventListener = function () {\n        this.parent.on('beforeDataManipulate', this.checkDataBinding.bind(this));\n    };\n    /**\n     * @param {boolean} isChange .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.checkDataBinding = function (isChange) {\n        if (isChange) {\n            this.parent.flatData = [];\n            this.parent.currentViewData = [];\n            this.parent.updatedRecords = [];\n            this.dataArray = [];\n            this.taskIds = [];\n            this.parent.ids = [];\n            this.recordIndex = 0;\n            this.hierarchyData = [];\n            this.parent.predecessorsCollection = [];\n            this.parent.treeGrid.parentData = [];\n            this.parent.taskIds = [];\n        }\n        if (isNullOrUndefined(this.parent.dataSource)) {\n            this.parent.dataSource = [];\n            this.parent.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else if (this.parent.dataSource instanceof DataManager) {\n            this.initDataSource(isChange);\n        }\n        else {\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n                var ganttdata = getValue('result', this.parent.dataSource);\n                this.dataArray = ganttdata;\n            }\n            else {\n                this.dataArray = this.parent.dataSource;\n            }\n            this.processTimeline();\n            this.cloneDataSource();\n            this.parent.renderGantt(isChange);\n        }\n    };\n    TaskProcessor.prototype.processTimeline = function () {\n        this.parent.processTimeline();\n        if (!this.parent.enableValidation) {\n            this.parent.dataOperation.calculateProjectDatesForValidatedTasks();\n            this.parent.timelineModule.validateTimelineProp();\n        }\n    };\n    TaskProcessor.prototype.initDataSource = function (isChange) {\n        var _this = this;\n        var queryManager = this.parent.query instanceof Query ? this.parent.query : new Query();\n        queryManager.requiresCount();\n        var dataManager = this.parent.dataSource;\n        if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            this.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else {\n            dataManager.executeQuery(queryManager).then(function (e) {\n                _this.dataArray = e.result;\n                _this.processTimeline();\n                if (_this.parent.loadChildOnDemand || (!_this.parent.loadChildOnDemand && !(_this.parent.taskFields.hasChildMapping))) {\n                    _this.cloneDataSource();\n                }\n                _this.parent.renderGantt(isChange);\n            }).catch(function (e) {\n                // Trigger action failure event\n                _this.parent.processTimeline();\n                _this.parent.renderGantt(isChange);\n                _this.parent.trigger('actionFailure', { error: e });\n            });\n        }\n    };\n    TaskProcessor.prototype.constructDataSource = function (dataSource) {\n        var mappingData = new DataManager(dataSource).executeLocal(new Query()\n            .group(this.parent.taskFields.parentID));\n        var rootData = [];\n        var index;\n        for (var i = 0; i < mappingData.length; i++) {\n            var groupData = mappingData[i];\n            if (!isNullOrUndefined(groupData.key)) {\n                index = this.taskIds.indexOf(groupData.key.toString());\n                if (index > -1) {\n                    if (!isNullOrUndefined(groupData.key)) {\n                        dataSource[index][this.parent.taskFields.child] = groupData.items;\n                        continue;\n                    }\n                }\n            }\n            if (index !== -1) {\n                rootData.push.apply(rootData, groupData.items); // eslint-disable-line\n            }\n        }\n        this.hierarchyData = this.dataReorder(dataSource, rootData);\n    };\n    TaskProcessor.prototype.cloneDataSource = function () {\n        var taskIdMapping = this.parent.taskFields.id;\n        var parentIdMapping = this.parent.taskFields.parentID;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(taskIdMapping) && !isNullOrUndefined(parentIdMapping)) {\n            var data = [];\n            for (var i = 0; i < this.dataArray.length; i++) {\n                var tempData = this.dataArray[i];\n                if (tempData['parentItem']) {\n                    delete tempData['parentItem'];\n                }\n                data.push(extend({}, {}, tempData, true));\n                if (!isNullOrUndefined(tempData[taskIdMapping])) {\n                    this.taskIds.push(tempData[taskIdMapping].toString());\n                }\n            }\n            if (!this.parent.taskFields.child) {\n                this.parent.setProperties({ taskFields: { child: 'Children' } }, true);\n            }\n            this.constructDataSource(data);\n            if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                hierarchicalData = this.dataArray;\n            }\n            else {\n                hierarchicalData = this.hierarchyData;\n            }\n        }\n        else {\n            hierarchicalData = this.dataArray;\n        }\n        if (this.parent.taskFields.segmentId) {\n            this.segmentCollection = new DataManager(this.parent.segmentData).executeLocal(new Query()\n                .group(this.parent.taskFields.segmentId));\n            if (!this.parent.taskFields.segments) {\n                this.parent.taskFields.segments = 'Segments';\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var resources = extend([], [], this.parent.resources, true);\n            var unassignedTasks = [];\n            this.constructResourceViewDataSource(resources, hierarchicalData, unassignedTasks);\n            if (unassignedTasks.length > 0) {\n                var record = {};\n                var resourceName = this.parent.resourceFields.name || 'resourceName';\n                record[this.parent.resourceFields.id] = 0;\n                record[resourceName] = this.parent.localeObj.getConstant('unassignedTask');\n                record[this.parent.taskFields.child] = unassignedTasks;\n                resources.push(record);\n            }\n            hierarchicalData = resources;\n        }\n        this.prepareDataSource(hierarchicalData);\n    };\n    /**\n     * @param {object[]} resources .\n     * @param {object[]} data .\n     * @param {object[]} unassignedTasks .\n     * @returns {void} .\n     *\n     */\n    TaskProcessor.prototype.constructResourceViewDataSource = function (resources, data, unassignedTasks) {\n        var _loop_1 = function (i) {\n            var tempData = data[i];\n            var child = this_1.parent.taskFields.child !== null ? this_1.parent.taskFields.child : this_1.parent.taskFields.child = 'Children';\n            var resourceData = tempData && tempData[this_1.parent.taskFields.resourceInfo];\n            var resourceIdMapping = this_1.parent.resourceFields.id;\n            if ((!tempData[child] || tempData[child].length === 0) && resourceData && resourceData.length) {\n                if (typeof (resourceData) === 'string') {\n                    this_1.isResourceString = true;\n                    var id = resourceData;\n                    for (var j = 0; j < resources.length; j++) {\n                        if (resources[j][this_1.parent.resourceFields.name].toString() === id.toString()) {\n                            if (resources[j][child]) {\n                                resources[j][child].push(tempData);\n                            }\n                            else {\n                                resources[j][child] = [tempData];\n                            }\n                            break;\n                        }\n                    }\n                }\n                else {\n                    resourceData.forEach(function (resource) {\n                        var id = (typeof resource === 'object') ? resource[resourceIdMapping] :\n                            resource;\n                        for (var j = 0; j < resources.length; j++) {\n                            if (resources[j][resourceIdMapping].toString() === id.toString()) {\n                                if (resources[j][child]) {\n                                    resources[j][child].push(tempData);\n                                }\n                                else {\n                                    resources[j][child] = [tempData];\n                                }\n                                break;\n                            }\n                        }\n                    });\n                }\n            }\n            else if (!tempData[child] || (tempData[child] && tempData[child].length === 0)) {\n                unassignedTasks.push(tempData);\n            }\n            if (tempData[this_1.parent.taskFields.child] && tempData[this_1.parent.taskFields.child].length) {\n                this_1.constructResourceViewDataSource(resources, tempData[this_1.parent.taskFields.child], unassignedTasks);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < data.length; i++) {\n            _loop_1(i);\n        }\n    };\n    /**\n     * Function to manipulate data-source\n     *\n     * @param {object[]} data .\n     * @returns {void} .\n     * @hidden\n     */\n    TaskProcessor.prototype.prepareDataSource = function (data) {\n        this.prepareRecordCollection(data, 0);\n        this.parent.initialLoadData = extend({}, {}, this.parent.flatData, true);\n        if (!this.parent.autoCalculateDateScheduling) {\n            this.parent.dataMap = this.parent.flatData.reduce(function (map, val) {\n                map.set(val.uniqueID, val);\n                return map;\n            }, new Map());\n        }\n        // Method to maintain the shared task uniqueIds\n        if (this.parent.viewType === 'ResourceView') {\n            this.calculateSharedTaskUniqueIds();\n        }\n        if (this.parent.taskFields.dependency && this.parent.predecessorModule) {\n            this.parent.predecessorModule.ensurePredecessorCollection();\n        }\n    };\n    TaskProcessor.prototype.calculateSharedTaskUniqueIds = function () {\n        var _loop_2 = function (i) {\n            var value = [];\n            value[0] = this_2.parent.getTaskIds()[i][0];\n            value[1] = this_2.parent.getTaskIds()[i].slice(1);\n            if (value[0] !== 'R') {\n                var sharedRecords_1 = [];\n                var ids_1 = [];\n                this_2.parent.flatData.filter(function (data) {\n                    if (data.ganttProperties.taskId.toString() === value[1] && data.level !== 0) {\n                        ids_1.push(data.ganttProperties.rowUniqueID);\n                        sharedRecords_1.push(data);\n                    }\n                });\n                for (var j = 0; j < sharedRecords_1.length; j++) {\n                    sharedRecords_1[j].ganttProperties.sharedTaskUniqueIds = ids_1;\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            _loop_2(i);\n        }\n    };\n    TaskProcessor.prototype.prepareRecordCollection = function (data, level, parentItem) {\n        var _this = this;\n        var length = data.length;\n        var _loop_3 = function (i) {\n            var tempData = data[i];\n            if (!isNullOrUndefined(this_3.parent.taskFields.segmentId)) {\n                var segmentData = this_3.segmentCollection.\n                    filter(function (x) { return x.key === tempData[_this.parent.taskFields.id]; });\n                if (segmentData.length > 0) {\n                    tempData[this_3.parent.taskFields.segments] = segmentData[0].items;\n                }\n            }\n            var ganttData = this_3.createRecord(tempData, level, parentItem, true);\n            if (!this_3.parent.enableValidation || !this_3.parent.autoCalculateDateScheduling) {\n                this_3.updateTaskLeftWidth(ganttData);\n            }\n            ganttData.index = this_3.recordIndex++;\n            this_3.parent.ids[ganttData.index] = ganttData.ganttProperties.rowUniqueID;\n            this_3.parent.flatData.push(ganttData);\n            this_3.parent.setTaskIds(ganttData);\n            var childData = tempData[this_3.parent.taskFields.child] || (tempData['taskData'] && tempData['taskData'][this_3.parent.taskFields.child]);\n            if (this_3.parent.viewType === 'ResourceView' && isNullOrUndefined(childData)\n                && isNullOrUndefined(ganttData.parentItem) && ganttData.level === 0) {\n                var ganttProp = ganttData.ganttProperties;\n                var parentData = ganttData;\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', null, parentData.ganttProperties, true);\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', null, parentData.ganttProperties, true);\n                var parentProgress = 0;\n                var parentProp = parentData.ganttProperties;\n                this_3.parent.setRecordValue('isMilestone', false, parentProp, true);\n                if (parentProp.isAutoSchedule) {\n                    this_3.calculateDuration(parentData);\n                }\n                this_3.updateWorkWithDuration(parentData);\n                var parentWork = parentProp.work;\n                this_3.parent.setRecordValue('work', parentWork, parentProp, true);\n                this_3.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                if (!isNullOrUndefined(this_3.parent.taskFields.type)) {\n                    this_3.updateMappingData(parentData, 'type');\n                }\n                this_3.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                this_3.parent.setRecordValue('totalProgress', 0, parentProp, true);\n                this_3.parent.setRecordValue('totalDuration', 0, parentProp, true);\n                if (!parentProp.isAutoSchedule) {\n                    this_3.parent.setRecordValue('autoDuration', this_3.calculateAutoDuration(parentProp), parentProp, true);\n                    this_3.updateAutoWidthLeft(parentData);\n                }\n                if (!this_3.parent.allowParentDependency) {\n                    this_3.resetDependency(parentData);\n                }\n                this_3.updateWidthLeft(parentData);\n                this_3.updateTaskData(parentData);\n            }\n            if (!isNullOrUndefined(childData) && childData.length > 0) {\n                this_3.prepareRecordCollection(childData, ganttData.level + 1, ganttData);\n            }\n        };\n        var this_3 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_3(i);\n        }\n    };\n    /**\n     * Method to update custom field values in gantt record\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.addCustomFieldValue = function (data, ganttRecord) {\n        var columns = this.parent.ganttColumns;\n        var length = columns.length;\n        if (length) {\n            for (var i = 0; i < length; i++) {\n                var fieldName = ganttRecord[columns[i].field];\n                if (fieldName === undefined) {\n                    this.parent.setRecordValue(columns[i].field, data[columns[i].field], ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To populate Gantt record\n     *\n     * @param {object} data .\n     * @param {number} level .\n     * @param {IGanttData} parentItem .\n     * @param {boolean} isLoad .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.createRecord = function (data, level, parentItem, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var resourceFields = this.parent.resourceFields;\n        var progress = data[taskSettings.progress];\n        var id = null;\n        var name = null;\n        var notes = data[taskSettings.notes];\n        progress = progress ? parseFloat(progress.toString()) ? parseFloat(progress.toString()) : 0 : 0;\n        progress = (100 < progress) ? 100 : progress;\n        var predecessors = data[taskSettings.dependency];\n        var baselineStartDate = this.getDateFromFormat(data[taskSettings.baselineStartDate], true);\n        var baselineEndDate = this.getDateFromFormat(data[taskSettings.baselineEndDate], true);\n        var ganttData = {};\n        var ganttProperties = {};\n        var autoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                data[taskSettings.manual] === true ? false : true;\n        this.parent.setRecordValue('ganttProperties', ganttProperties, ganttData);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessor && data['ganttProperties'].predecessor.length > 0 && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessor', data['ganttProperties'].predecessor, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(data[taskSettings.id])) {\n            id = data[taskSettings.id];\n            name = data[taskSettings.name];\n            var shouldLoadChild = (!this.parent.loadChildOnDemand &&\n                taskSettings.hasChildMapping && data['taskData']) ? true : false;\n            if (shouldLoadChild) {\n                ganttData['taskData'] = data['taskData'];\n            }\n            else {\n                if (data['taskData'] && data['ganttProperties']) {\n                    this.addTaskData(ganttData, data['taskData'], isLoad);\n                }\n                else {\n                    this.addTaskData(ganttData, data, isLoad);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(data[resourceFields.id])) {\n            id = data[resourceFields.id];\n            if (isNullOrUndefined(data[resourceFields.name]) && data['resourceName'] === 'Unassigned Task') {\n                name = data['resourceName'];\n            }\n            else {\n                name = data[resourceFields.name];\n            }\n            this.addTaskData(ganttData, data, false);\n        }\n        this.parent.setRecordValue('taskId', id, ganttProperties, true);\n        this.parent.setRecordValue('taskName', name, ganttProperties, true);\n        // eslint-disable-next-line\n        this.parent && taskSettings.parentID && this.parent.setRecordValue('parentId', data[taskSettings.parentID], ganttProperties, true);\n        this.addCustomFieldValue(data, ganttData);\n        this.parent.setRecordValue('isAutoSchedule', autoSchedule, ganttProperties, true);\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n            this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n        }\n        else if (data['ganttProperties']) {\n            this.parent.setRecordValue('resourceInfo', data['ganttProperties'].resourceInfo, ganttProperties, true);\n        }\n        this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n        this.parent.setRecordValue('indicators', data[taskSettings.indicators], ganttProperties, true);\n        this.updateResourceName(ganttData);\n        this.calculateScheduledValues(ganttData, data, isLoad);\n        this.parent.setRecordValue('baselineStartDate', this.checkBaselineStartDate(baselineStartDate, ganttProperties), ganttProperties, true);\n        // set default end time, if hour is 0\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0 && baselineEndDate) {\n            dayEndTime = this.parent['getEndTime'](baselineEndDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (baselineEndDate && baselineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, baselineEndDate);\n        }\n        if ((ganttProperties.baselineStartDate && baselineEndDate &&\n            (ganttProperties.baselineStartDate.getTime() > baselineEndDate.getTime())) ||\n            ((!isNullOrUndefined(ganttProperties.baselineStartDate) && !isNullOrUndefined(ganttProperties.startDate)\n                && (ganttProperties.baselineStartDate.getTime() === ganttProperties.startDate.getTime()))\n                && (!isNullOrUndefined(baselineEndDate) && !isNullOrUndefined(ganttProperties.endDate)\n                    && (baselineEndDate.toLocaleDateString() === ganttProperties.endDate.toLocaleDateString())) &&\n                ganttProperties.isMilestone)) {\n            baselineEndDate = ganttProperties.baselineStartDate;\n        }\n        this.parent.setRecordValue('baselineEndDate', this.checkBaselineEndDate(baselineEndDate, ganttProperties), ganttProperties, true);\n        this.parent.setRecordValue('progress', progress, ganttProperties, true);\n        this.parent.setRecordValue('totalProgress', progress, ganttProperties, true);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessorsName && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessorsName', data['ganttProperties'].predecessorsName, ganttProperties, true);\n        }\n        else {\n            this.parent.setRecordValue('predecessorsName', predecessors, ganttProperties, true);\n        }\n        this.parent.setRecordValue('notes', notes, ganttProperties, true);\n        this.parent.setRecordValue('cssClass', data[taskSettings.cssClass], ganttProperties, true);\n        this.parent.setRecordValue('parentItem', this.getCloneParent(parentItem), ganttData);\n        if (!this.parent.loadChildOnDemand && taskSettings.hasChildMapping && this.parent.currentViewData.length > 0) {\n            this.parent.setRecordValue('parentItem', ganttData.parentItem, this.parent.currentViewData[this.taskIds.indexOf(data[taskSettings.id].toString())]);\n        }\n        var parentUniqId = ganttData.parentItem ? ganttData.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, ganttData);\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(taskSettings.parentID)\n            && !isNullOrUndefined(ganttData.parentItem)) {\n            this.parent.setRecordValue('parentId', ganttData.parentItem.taskId, ganttProperties, true);\n        }\n        this.parent.setRecordValue('level', level, ganttData);\n        if (data['ganttProperties'] && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n        }\n        else {\n            if (!this.parent.loadChildOnDemand && taskSettings.hasChildMapping && data['uniqueID']) {\n                this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n            }\n            else {\n                this.parent.setRecordValue('uniqueID', getUid(this.parent.element.id + '_data_'), ganttData);\n            }\n        }\n        this.parent.setRecordValue('uniqueID', ganttData.uniqueID, ganttProperties, true);\n        this.parent.setRecordValue('childRecords', [], ganttData);\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n            !isNullOrUndefined(taskSettings.child)) {\n            this.parent.setRecordValue(taskSettings.child, [], ganttData);\n        }\n        if ((!isNullOrUndefined(data[taskSettings.child]) && data[taskSettings.child].length > 0) ||\n            (data['taskData'] && data['taskData'][taskSettings.child] && data['taskData'][taskSettings.child].length > 0)) {\n            this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n            if (!this.parent.allowParentDependency) {\n                this.resetDependency(ganttData);\n            }\n        }\n        else {\n            if (!this.parent.loadChildOnDemand && taskSettings.hasChildMapping && ganttData.taskData[taskSettings.hasChildMapping]) {\n                this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            }\n            else {\n                this.parent.setRecordValue('hasChildRecords', false, ganttData);\n            }\n        }\n        if (ganttData.hasChildRecords) {\n            this.parent.setRecordValue('autoStartDate', ganttData.ganttProperties.startDate, ganttProperties);\n            this.parent.setRecordValue('autoEndDate', ganttData.ganttProperties.endDate, ganttProperties);\n            this.parent.setRecordValue('autoDuration', ganttData.ganttProperties.duration, ganttProperties);\n        }\n        this.parent.setRecordValue('expanded', (ganttData.hasChildRecords && this.parent.collapseAllParentTasks) ? false : true, ganttData);\n        this.updateExpandStateMappingValue(ganttData, data);\n        if (!isLoad) {\n            this.parent.setRecordValue('width', this.calculateWidth(ganttData), ganttProperties, true);\n            this.parent.setRecordValue('left', this.calculateLeft(ganttProperties), ganttProperties, true);\n            this.parent.setRecordValue('progressWidth', this.getProgressWidth(ganttProperties.width, progress), ganttProperties, true);\n            if (ganttProperties.baselineEndDate && ganttProperties.baselineStartDate) {\n                this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(ganttProperties), ganttProperties, true);\n                this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(ganttProperties), ganttProperties, true);\n            }\n        }\n        if (isNullOrUndefined(taskSettings.work)) {\n            this.updateWorkWithDuration(ganttData);\n        }\n        if (!isNullOrUndefined(taskSettings.manual)) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'manual');\n        }\n        this.updateTaskData(ganttData);\n        if (predecessors) {\n            this.parent.predecessorsCollection.push(ganttData);\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            parentItem.childRecords.push(ganttData);\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n                !isNullOrUndefined(this.parent.taskFields.child)) {\n                parentItem[this.parent.taskFields.child].push(ganttData.taskData);\n            }\n        }\n        if (this.parent.viewType === 'ProjectView') {\n            this.parent.setRecordValue('rowUniqueID', ganttProperties.taskId.toString(), ganttProperties, true);\n        }\n        else {\n            var uniqueId = ganttData.uniqueID.replace(this.parent.element.id + '_data_', '');\n            // if (this.parent.viewType === 'ResourceView' && typeof(ganttData.ganttProperties.taskId) === 'string') {\n            //     uniqueId = ganttProperties.taskId.toString();\n            // }\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttData);\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttProperties, true);\n            this.parent.setRecordValue('sharedTaskUniqueIds', [], ganttProperties, true);\n        }\n        if (this.parent.allowUnscheduledTasks && ganttData.ganttProperties.startDate\n            && (ganttData.ganttProperties.endDate || ganttData.ganttProperties.duration)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n            if (!isLoad) {\n                this.updateWidthLeft(ganttData);\n            }\n        }\n        return ganttData;\n    };\n    TaskProcessor.prototype.sortSegmentsData = function (segments, onLoad, ganttProp) {\n        var _this = this;\n        if (onLoad) {\n            segments.sort(function (a, b) {\n                var startDate = _this.parent.taskFields.startDate;\n                return _this.getDateFromFormat(a[startDate]).getTime() - _this.getDateFromFormat(b[startDate]).getTime();\n            });\n        }\n        else {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n        }\n        return segments;\n    };\n    TaskProcessor.prototype.setSegmentsInfo = function (data, onLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var ganttSegments = [];\n        var segments;\n        var sumOfDuration = 0;\n        var remainingDuration = 0;\n        var predefinedProperties = [this.parent.taskFields.duration, this.parent.taskFields.endDate,\n            this.parent.taskFields.startDate, this.parent.taskFields.id];\n        var taskData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.segments)) {\n            segments = onLoad ? data.taskData[this.parent.taskFields.segments] : data.ganttProperties.segments;\n            if (!onLoad) {\n                if (data.taskData[this.parent.taskFields.segments] && data.taskData[this.parent.taskFields.segments].length > 0) {\n                    data.taskData[this.parent.taskFields.segments].forEach(function (segment) {\n                        var cleanedObject = {};\n                        var extraProperties = {};\n                        for (var key in segment) {\n                            if (predefinedProperties.indexOf(key) !== -1) {\n                                cleanedObject[key] = segment[key];\n                            }\n                            else {\n                                extraProperties[key] = segment[key];\n                            }\n                        }\n                        _this.customSegmentProperties.push(extraProperties);\n                    });\n                }\n            }\n            if (!isNullOrUndefined(segments) && segments.length > 1) {\n                this.sortSegmentsData(segments, onLoad, data.ganttProperties);\n                for (var i = 0; i < segments.length; i++) {\n                    var segment = segments[i];\n                    var startDate = onLoad ? segment[taskSettings.startDate] : segment.startDate;\n                    var endDate = onLoad ? segment[taskSettings.endDate] : segment.endDate;\n                    var duration = onLoad ? segment[taskSettings.duration] : segment.duration;\n                    startDate = this.getDateFromFormat(startDate);\n                    startDate = this.checkStartDate(startDate, data.ganttProperties, false);\n                    if (!isNullOrUndefined(duration)) {\n                        endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    else {\n                        endDate = this.getDateFromFormat(endDate);\n                        if (endDate && (isNullOrUndefined(duration) || String(duration) === '')) {\n                            var dayEndTime = void 0;\n                            if (this.parent.weekWorkingTime.length > 0) {\n                                dayEndTime = this.parent['getEndTime'](endDate);\n                            }\n                            else {\n                                dayEndTime = this.parent.defaultEndTime;\n                            }\n                            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                                this.setTime(dayEndTime, endDate);\n                            }\n                        }\n                        endDate = this.checkEndDate(endDate, data.ganttProperties, false);\n                        duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration - 1;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    segment = {};\n                    if (!(startDate && endDate) || !(startDate && duration)) {\n                        break;\n                    }\n                    sumOfDuration += Number(duration);\n                    segment.startDate = startDate;\n                    segment.endDate = endDate;\n                    segment.duration = Number(duration);\n                    segment.width = 0;\n                    segment.left = 0;\n                    segment.segmentIndex = i;\n                    ganttSegments.push(segment);\n                    if (!isNullOrUndefined(ganttSegments[i - 1])) {\n                        var offsetDuration = this.getDuration(ganttSegments[i - 1].endDate, ganttSegments[i].startDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        segment.offsetDuration = offsetDuration;\n                        if (offsetDuration < 1) {\n                            if (this.parent.weekWorkingTime.length === 0) {\n                                segment.startDate = this.getEndDate(ganttSegments[i - 1].endDate, 1, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            }\n                            else {\n                                var prevSegmentDate = new Date(ganttSegments[i - 1].endDate.getTime());\n                                segment.startDate = new Date(prevSegmentDate.setHours(prevSegmentDate.getHours() + 24));\n                                if (this.isOnHolidayOrWeekEnd(segment.startDate, true)) {\n                                    do {\n                                        segment.startDate.setDate(segment.startDate.getDate() + 1);\n                                    } while (this.isOnHolidayOrWeekEnd(segment.startDate, true));\n                                }\n                                if (!this.parent.includeWeekend) {\n                                    segment.startDate = this.getNextWorkingDay(segment.startDate);\n                                }\n                                var dayEndTime = this.parent['getEndTime'](ganttSegments[i - 1].endDate);\n                                if (this.getSecondsInDecimal(ganttSegments[i - 1].endDate) === dayEndTime) {\n                                    this.setTime(this.parent['getEndTime'](segment.startDate), segment.startDate);\n                                }\n                            }\n                            segment.startDate = this.checkStartDate(segment.startDate, data.ganttProperties, false);\n                            segment.endDate = this.getEndDate(segment.startDate, segment.duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            segment.endDate = !taskSettings.duration && taskSettings.endDate\n                                && segment.endDate > data.ganttProperties.endDate ? data.ganttProperties.endDate : segment.endDate;\n                            segment.offsetDuration = 1;\n                        }\n                    }\n                    else {\n                        segment.offsetDuration = 0;\n                    }\n                    taskData.push(this.setSegmentTaskData(segment, segments[i]));\n                }\n                this.parent.setRecordValue('duration', sumOfDuration, data.ganttProperties, true);\n                if (!isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue('endDate', ganttSegments[ganttSegments.length - 1].endDate, data.ganttProperties, true);\n                }\n                if (!isNullOrUndefined(taskSettings.endDate) && !isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue(this.parent.taskFields.endDate, ganttSegments[ganttSegments.length - 1].endDate, data, true);\n                }\n                if (!onLoad && taskData && taskData.length > 0) {\n                    taskData.forEach(function (task, index) {\n                        var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                        taskData[index] = mergedObject;\n                    });\n                }\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, taskData, data);\n            }\n        }\n        if (ganttSegments.length > 1) {\n            this.parent.setRecordValue('segments', ganttSegments, data.ganttProperties, true);\n            this.parent.setRecordValue(this.parent.taskFields.segments, data.taskData[this.parent.taskFields.segments], data, true);\n        }\n        else {\n            ganttSegments = null;\n        }\n        return ganttSegments;\n    };\n    TaskProcessor.prototype.setSegmentTaskData = function (segments, segmenttaskData) {\n        var taskSettings = this.parent.taskFields;\n        var taskData = extend({}, {}, segmenttaskData, true);\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            taskData[this.parent.taskFields.startDate] = segments.startDate;\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            taskData[this.parent.taskFields.endDate] = segments.endDate;\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            taskData[this.parent.taskFields.duration] = Number(segments.duration);\n        }\n        return taskData;\n    };\n    /**\n     * Method to calculate work based on resource unit and duration.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateWorkWithDuration = function (ganttData) {\n        var resources = (this.parent.editModule && this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : ganttData.ganttProperties.resourceInfo;\n        var work = 0;\n        var resourceOneDayWork;\n        if (!isNullOrUndefined(resources) && !ganttData.hasChildRecords) {\n            var resourcesLength = resources.length;\n            var index = void 0;\n            var resourceUnit = void 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n            for (index = 0; index < resourcesLength; index++) {\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                resourceOneDayWork = (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : (ganttData.ganttProperties.taskType !== 'FixedUnit' ? actualOneDayWork : 0));\n                work += (resourceOneDayWork * durationInDay);\n            }\n            //Update work as per defined unit.\n            if (ganttData.ganttProperties.workUnit === 'minute') {\n                work = work * 60;\n            }\n            if (ganttData.ganttProperties.workUnit === 'day') {\n                work = work / actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (work % 1 !== 0) {\n                work = parseFloat(work.toFixed(2));\n            }\n        }\n        if (ganttData.childRecords) {\n            if (ganttData.childRecords.length > 0 && this.parent.isOnEdit) {\n                var childCompletedWorks = 0;\n                for (var i = 0; i < ganttData.childRecords.length; i++) {\n                    childCompletedWorks += ganttData.childRecords[i].ganttProperties.work;\n                }\n                work += childCompletedWorks;\n            }\n        }\n        if (ganttData.ganttProperties.taskType === 'FixedUnit' && resourceOneDayWork === 0) {\n            work = 0;\n            this.parent.setRecordValue('duration', 0, ganttData.ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                this.parent.setRecordValue(this.parent.taskFields.duration, 0, ganttData, true);\n            }\n        }\n        this.parent.setRecordValue('work', work, ganttData.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.work)) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} parent .\n     * @returns {IParent} .\n     * @private\n     */\n    TaskProcessor.prototype.getCloneParent = function (parent) {\n        if (!isNullOrUndefined(parent)) {\n            var cloneParent = {};\n            cloneParent.uniqueID = parent.uniqueID;\n            cloneParent.expanded = parent.expanded;\n            cloneParent.level = parent.level;\n            cloneParent.index = parent.index;\n            cloneParent.taskId = parent.ganttProperties.rowUniqueID;\n            return cloneParent;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateResources = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttProperties = void 0;\n            var ganttData = void 0;\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttProperties = this.parent.flatData[index].ganttProperties;\n                ganttData = this.parent.flatData[index];\n                this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n                this.updateResourceName(ganttData);\n            }\n        }\n    };\n    TaskProcessor.prototype.addTaskData = function (ganttData, data, isLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var dataManager = this.parent.dataSource;\n        if (isLoad) {\n            if (taskSettings.parentID || (dataManager instanceof DataManager &&\n                dataManager.dataSource.json && dataManager.dataSource.offline)) {\n                if (taskSettings.parentID) {\n                    var id = data[taskSettings.id];\n                    var index = this.taskIds.indexOf(id.toString());\n                    var tempData_1 = (index > -1) ? this.dataArray[index] : {};\n                    if (!isNullOrUndefined(this.parent.taskFields.segmentId)) {\n                        var segmentDataCollection = this.segmentCollection.\n                            filter(function (x) { return x.key === tempData_1[_this.parent.taskFields.id]; });\n                        if (segmentDataCollection.length > 0) {\n                            tempData_1[this.parent.taskFields.segments] = segmentDataCollection[0].items;\n                        }\n                    }\n                    this.parent.setRecordValue('taskData', tempData_1, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData', data, ganttData);\n                }\n            }\n            else {\n                this.parent.setRecordValue('taskData', data, ganttData);\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData', data, ganttData);\n        }\n    };\n    TaskProcessor.prototype.updateExpandStateMappingValue = function (ganttData, data) {\n        var expandStateMapping = this.parent.taskFields.expandState;\n        var mappingValue = data[expandStateMapping];\n        var updatableValue;\n        if (expandStateMapping && ganttData.hasChildRecords) {\n            if (!isNullOrUndefined(mappingValue)) {\n                updatableValue = mappingValue.toString() === 'true' ? true : false;\n            }\n            else if (isNullOrUndefined(mappingValue) && !this.parent.collapseAllParentTasks) {\n                updatableValue = true;\n            }\n            else if (isNullOrUndefined(mappingValue) && this.parent.collapseAllParentTasks) {\n                updatableValue = false;\n            }\n            this.parent.setRecordValue('taskData.' + expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue(expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue('expanded', updatableValue, ganttData);\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.setValidatedDates = function (ganttData, data) {\n        var ganttProperties = ganttData.ganttProperties;\n        var taskSettings = this.parent.taskFields;\n        var duration = data[taskSettings.duration];\n        var startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n        var endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        this.parent.setRecordValue('startDate', new Date(startDate.getTime()), ganttProperties, true);\n        if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n        }\n        else {\n            this.calculateDuration(ganttData);\n        }\n        this.parent.setRecordValue('endDate', new Date((endDate.getTime())), ganttProperties, true);\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @param {boolean} isLoad .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateScheduledValues = function (ganttData, data, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        var duration = data[taskSettings.duration];\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        var startDate;\n        var endDate;\n        if (ganttProperties.startDate && ganttProperties.endDate) {\n            startDate = this.getDateFromFormat(ganttProperties.startDate, true);\n            endDate = this.getDateFromFormat(ganttProperties.endDate, true);\n        }\n        else {\n            startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n            endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        }\n        var segments = taskSettings.segments ? (data[taskSettings.segments] ||\n            ganttData.taskData[taskSettings.segments]) : null;\n        var isMileStone = taskSettings.milestone ? data[taskSettings.milestone] ? true : false : false;\n        var durationMapping = data[taskSettings.durationUnit] ? data[taskSettings.durationUnit] : '';\n        this.parent.setRecordValue('durationUnit', this.validateDurationUnitMapping(durationMapping), ganttProperties, true);\n        var work = !isNullOrUndefined(data[taskSettings.work]) ? parseFloat(data[taskSettings.work]) : 0;\n        this.parent.setRecordValue('workUnit', this.validateWorkUnitMapping(this.parent.workUnit), ganttProperties, true);\n        var taskTypeMapping = data[taskSettings.type] ? data[taskSettings.type] : '';\n        var tType = this.validateTaskTypeMapping(taskTypeMapping);\n        this.parent.setRecordValue('taskType', tType, ganttProperties, true);\n        if (isLoad && !this.parent.enableValidation && startDate && endDate) {\n            this.setValidatedDates(ganttData, data);\n        }\n        else {\n            if (!endDate && !startDate && (isNullOrUndefined(duration) || duration === '')) {\n                if (this.parent.allowUnscheduledTasks) {\n                    return;\n                }\n                else {\n                    this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            else if (startDate) {\n                this.calculateDateFromStartDate(startDate, endDate, duration, ganttData, isLoad);\n            }\n            else if (endDate) {\n                this.calculateDateFromEndDate(endDate, duration, ganttData);\n            }\n            else if (!isNullOrUndefined(duration) && duration !== '') {\n                this.updateDurationValue(duration, ganttProperties);\n                if (this.parent.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                    this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                }\n                else {\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n        }\n        if (!this.parent.autoCalculateDateScheduling) {\n            if (!isNullOrUndefined(ganttData.ganttProperties.startDate)) {\n                ganttData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n                ganttData.taskData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n            }\n            if (!isNullOrUndefined(ganttData.ganttProperties.endDate)) {\n                ganttData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n                ganttData.taskData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n            }\n        }\n        if (!isNullOrUndefined(segments)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n        }\n        if (ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(isMileStone) && isMileStone) {\n            this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(taskSettings.work)) {\n            this.parent.setRecordValue('durationUnit', this.parent.durationUnit, ganttProperties, true);\n            if (isNaN(work) || isNullOrUndefined(work)) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                }\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('work', work, ganttProperties, true);\n                switch (tType) {\n                    case 'FixedDuration':\n                        this.updateWorkWithDuration(ganttData);\n                        break;\n                    case 'FixedWork':\n                        if (!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) && ganttData.ganttProperties.resourceInfo.length !== 0) {\n                            this.updateDurationWithWork(ganttData);\n                        }\n                        this.updateUnitWithWork(ganttData);\n                        break;\n                    case 'FixedUnit':\n                        this.updateWorkWithDuration(ganttData);\n                        break;\n                }\n                if (!isNullOrUndefined(taskSettings.type)) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'type');\n                }\n                if (ganttProperties.duration === 0) {\n                    this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                    }\n                    this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                }\n                else if (!isNullOrUndefined(ganttProperties.startDate) && !isNullOrUndefined(ganttProperties.duration)) {\n                    this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, false, ganttData, true);\n                    }\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n        else if (taskSettings.type && ganttProperties.taskType) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'type');\n        }\n    };\n    /**\n     * Method to update duration with work value.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateDurationWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = (this.parent.editModule && this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : ganttProperties.resourceInfo;\n        if (!isNullOrUndefined(resources)) {\n            var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n            var totalResourceOneDayWork = 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var updatedDuration = 0;\n            var resourceUnit = void 0;\n            var index = void 0;\n            for (index = 0; index < resourcesLength; index++) {\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                totalResourceOneDayWork += (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : (ganttData.ganttProperties.taskType !== 'FixedUnit' ? actualOneDayWork : 0)); //in hours\n            }\n            var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n            if (resourcesLength > 0 && totalResourceOneDayWork > 0) {\n                updatedDuration += (totalHours / totalResourceOneDayWork);\n            }\n            if (ganttProperties.taskType === 'FixedUnit' && totalResourceOneDayWork === 0) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.work, 0, ganttData, true);\n            }\n            //Update duration as per defined unit.\n            if (ganttProperties.durationUnit === 'minute') {\n                updatedDuration = updatedDuration * actualOneDayWork * 60;\n            }\n            if (ganttProperties.durationUnit === 'hour') {\n                updatedDuration = updatedDuration * actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (updatedDuration % 1 !== 0) {\n                updatedDuration = parseFloat(updatedDuration.toFixed(2));\n            }\n            if (!isNullOrUndefined(ganttProperties.duration)) {\n                this.parent.setRecordValue('duration', updatedDuration, ganttProperties, true);\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        }\n    };\n    /**\n     * Update units of resources with respect to duration and work of a task.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateUnitWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = ganttProperties.resourceInfo;\n        var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        var actualOneDayWork = (totSeconds) / 3600;\n        if (resourcesLength === 0) {\n            return;\n        }\n        var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n        var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n        var totalUnitInPercentage = durationInDay > 0 ? (totalHours / (durationInDay * actualOneDayWork)) * 100 : 0;\n        var individualUnit = totalUnitInPercentage === 0 ? 0 : totalUnitInPercentage > 0 ? totalUnitInPercentage / resourcesLength : 100;\n        //To check the decimal places.\n        if (individualUnit % 1 !== 0) {\n            individualUnit = parseFloat(individualUnit.toFixed(2));\n        }\n        for (var index = 0; index < resourcesLength; index++) {\n            resources[index][this.parent.resourceFields.unit] = individualUnit;\n        }\n        //To update the unit value in data source\n        this.updateResourceName(ganttData);\n    };\n    TaskProcessor.prototype.calculateDateFromEndDate = function (endDate, duration, ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            dayEndTime = this.parent['getEndTime'](endDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, endDate);\n        }\n        var validateAsMilestone = (parseInt(duration, 10) === 0) ? true : null;\n        this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties, validateAsMilestone), ganttProperties, true);\n        if (isNullOrUndefined(duration) || duration === '') {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n            this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n        }\n    };\n    TaskProcessor.prototype.calculateDateFromStartDate = function (startDate, endDate, duration, ganttData, isLoad) {\n        var ganttProperties = ganttData.ganttProperties;\n        var validateAsMilestone = (parseInt(duration, 10) === 0 || ((startDate && endDate) &&\n            (new Date(startDate.getTime()) === new Date(endDate.getTime())))) ? true : null;\n        this.parent.setRecordValue('startDate', this.checkStartDate(startDate, ganttProperties, validateAsMilestone, isLoad), ganttProperties, true);\n        if (this.parent.isTreeGridRendered && ganttData) {\n            this.updateTaskData(ganttData);\n        }\n        if (!endDate && (isNullOrUndefined(duration) || duration === '')) {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.calculateEndDate(ganttData);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && !endDate) {\n            this.updateDurationValue(duration, ganttProperties);\n            this.calculateEndDate(ganttData);\n        }\n        else if (endDate && (isNullOrUndefined(duration) || duration === '')) {\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                this.setTime(dayEndTime, endDate);\n            }\n            this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties), ganttProperties, true);\n            if (this.compareDates(ganttProperties.startDate, ganttProperties.endDate) === 1) {\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            }\n            else {\n                this.calculateDuration(ganttData);\n            }\n        }\n        else {\n            this.updateDurationValue(duration, ganttProperties);\n            if (this.parent.autoCalculateDateScheduling) {\n                this.calculateEndDate(ganttData);\n            }\n            else {\n                this.parent.setRecordValue('endDate', endDate, ganttProperties, true);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} parentWidth .\n     * @param {number} percent .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getProgressWidth = function (parentWidth, percent) {\n        return (parentWidth * percent) / 100;\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateWidth = function (ganttData, isAuto) {\n        var ganttProp = ganttData.ganttProperties;\n        var sDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var eDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var unscheduledTaskWidth = 3;\n        if (isNullOrUndefined(sDate) && isNullOrUndefined(eDate)) {\n            sDate = this.getValidStartDate(ganttProp, isAuto);\n            eDate = this.getValidEndDate(ganttProp, isAuto);\n        }\n        if (isNullOrUndefined(sDate) || isNullOrUndefined(eDate)) {\n            return unscheduledTaskWidth;\n        }\n        else if (ganttProp.isMilestone && (!ganttData.hasChildRecords || ganttProp.isAutoSchedule)) {\n            //let taskBarHeight: number = this.getTaskbarHeight();\n            return 0;\n        }\n        else {\n            return this.getTaskWidth(sDate, eDate, ganttProp);\n        }\n    };\n    TaskProcessor.prototype.getTaskbarHeight = function () {\n        var rowHeight = this.parent.rowHeight;\n        var taskBarHeight = this.parent.taskbarHeight;\n        if (taskBarHeight < rowHeight) {\n            return taskBarHeight;\n        }\n        else {\n            return rowHeight;\n        }\n    };\n    /**\n     * Method to calculate left\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateLeft = function (ganttProp, isAuto) {\n        var sDate = null;\n        var left = -300;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration; // eslint-disable-line\n        var milestone = ganttProp.isMilestone;\n        if (startDate) {\n            sDate = new Date(startDate.getTime());\n        }\n        else if (endDate) {\n            sDate = new Date(endDate.getTime());\n            milestone = isNullOrUndefined(startDate) && this.parent.allowUnscheduledTasks ? false : true;\n        }\n        else {\n            sDate = this.getValidStartDate(ganttProp);\n        }\n        if (!isNullOrUndefined(sDate)) {\n            left = this.getTaskLeft(sDate, milestone);\n        }\n        return left;\n    };\n    /**\n     * calculate the left position of the auto scheduled taskbar\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoLeft = function (ganttProperties) {\n        return this.getTaskLeft(ganttProperties.autoStartDate, ganttProperties.isMilestone);\n    };\n    /**\n     * To calculate duration of Gantt record with auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     */\n    TaskProcessor.prototype.calculateAutoDuration = function (ganttProperties) {\n        return this.getDuration(ganttProperties.autoStartDate, ganttProperties.autoEndDate, ganttProperties.durationUnit, false, ganttProperties.isMilestone);\n    };\n    /**\n     * calculate the with between auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoWidth = function (ganttProperties) {\n        return this.getTaskWidth(ganttProperties.autoStartDate, ganttProperties.autoEndDate);\n    };\n    /**\n     * calculate the left margin of the baseline element\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineLeft = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate) {\n            return (this.getTaskLeft(baselineStartDate, ganttProperties.isMilestone));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * calculate the width between baseline start date and baseline end date.\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineWidth = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate && (baselineStartDate.getTime() !== baselineEndDate.getTime())) {\n            return (this.getTaskWidth(baselineStartDate, baselineEndDate));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * To get tasks width value\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {ITaskData} [ganttData] .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskWidth = function (startDate, endDate, ganttData) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var isValid = false;\n        var modifiedsDate = new Date(startDate.getTime());\n        var hour = 0;\n        if (!isNullOrUndefined(ganttData) && ganttData.durationUnit === 'hour') {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 60 * 1000);\n        }\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute') || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 1000);\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            var date = new Date(startDate.getTime());\n            for (var count = startDate.getDate(); count <= endDate.getDate(); count++) {\n                var day = date.getDay();\n                var currentDay = void 0;\n                var weekWorkingTime = this.parent.weekWorkingTime;\n                switch (day) {\n                    case 0:\n                        currentDay = 'Sunday';\n                        break;\n                    case 1:\n                        currentDay = 'Monday';\n                        break;\n                    case 2:\n                        currentDay = 'Tuesday';\n                        break;\n                    case 3:\n                        currentDay = 'Wednesday';\n                        break;\n                    case 4:\n                        currentDay = 'Thursday';\n                        break;\n                    case 5:\n                        currentDay = 'Friday';\n                        break;\n                    case 6:\n                        currentDay = 'Saturday';\n                        break;\n                    default:\n                        currentDay = '';\n                }\n                var isValid_1 = true;\n                for (var i = 0; i < weekWorkingTime.length; i++) {\n                    if (weekWorkingTime[i][currentDay]\n                        && weekWorkingTime[i][currentDay].length > 0) {\n                        isValid_1 = false;\n                        for (var j = 0; j < weekWorkingTime[i][currentDay].length; j++) {\n                            hour = hour + weekWorkingTime[i][currentDay][j].to\n                                - weekWorkingTime[i][currentDay][j].from;\n                        }\n                    }\n                }\n                if (isValid_1) {\n                    for (var k = 0; k < this.parent.dayWorkingTime.length; k++) {\n                        hour = hour + this.parent.dayWorkingTime[k].to - this.parent.dayWorkingTime[k].from;\n                    }\n                }\n                date = new Date(date.setDate(date.getDate() + 1));\n                if (!this.parent.includeWeekend) {\n                    date = this.parent.dataOperation.getNextWorkingDay(date);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < this.parent.dayWorkingTime.length; i++) {\n                hour = hour + this.parent.dayWorkingTime[i].to - this.parent.dayWorkingTime[i].from;\n            }\n        }\n        var dateDiff = modifiedsDate.getTime() - sDate.getTime();\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute' && ganttData.duration < (hour * 60)) || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if ((Math.floor((dateDiff / (1000 * 60 * 60)) % 24) >= hour || dateDiff === 0)) {\n                    isValid = true;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime && isValid) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime && isValid) {\n                    eDate.setHours(24);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            else {\n                isValid = true;\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (isValid) {\n                    return ((this.getTimeDifference(sDate, eDate, true) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                }\n                else {\n                    if (ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n                        return (ganttData.duration * this.parent.perDayWidth);\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * hour)) * this.parent.perDayWidth);\n                    }\n                }\n            }\n        }\n        else {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime) {\n                    eDate.setHours(24);\n                    eDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (this.parent.isInDst(sDate) || this.parent.isInDst(eDate)) {\n                    return ((this.getTimeDifference(sDate, eDate, true) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                }\n                else {\n                    return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                }\n            }\n        }\n    };\n    /**\n     * Get task left value\n     *\n     * @param {Date} startDate .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isFromTimelineVirtulization .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskLeft = function (startDate, isMilestone, isFromTimelineVirtulization) {\n        var date = new Date(startDate.getTime());\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](date);\n                dayEndTime = this.parent['getEndTime'](date);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(date) === dayStartTime) {\n                date.setHours(0, 0, 0, 0);\n            }\n            else if (isMilestone && this.getSecondsInDecimal(date) === dayEndTime) {\n                date.setHours(24);\n            }\n            else if (this.getSecondsInDecimal(date) === dayEndTime && this.parent.allowUnscheduledTasks) {\n                date.setHours(22);\n            }\n        }\n        var leftValueForStartDate;\n        var isValid = true;\n        if ((this.parent.editModule && ((this.parent.editModule.taskbarEditModule && this.parent.editModule.taskbarEditModule.taskBarEditAction) || (this.parent.editModule.dialogModule && this.parent.editModule.dialogModule['isEdit']) ||\n            (this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit) ||\n            this.parent.ganttChartModule.scrollObject['isSetScrollLeft'])) && !isFromTimelineVirtulization) {\n            isValid = false;\n        }\n        if (this.parent.enableTimelineVirtualization && isValid && !this.parent.timelineModule['performedTimeSpanAction']) {\n            leftValueForStartDate = (this.parent.enableTimelineVirtualization\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n                ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        }\n        var timelineStartDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).toString()) : new Date(this.parent.timelineModule.timelineStartDate);\n        if (timelineStartDate) {\n            var leftValue = void 0;\n            if (this.parent.isInDst(startDate) && !this.parent.isInDst(timelineStartDate)) {\n                var newTimelineStartDate = new Date(timelineStartDate.getTime() - (60 * 60 * 1000));\n                leftValue = (date.getTime() - newTimelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n            }\n            else {\n                leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n            }\n            if (this.parent.isInDst(timelineStartDate) && !this.parent.isInDst(startDate) && (this.parent.timelineModule.topTier === 'Hour' || this.parent.timelineModule.bottomTier === 'Hour')) {\n                leftValue = leftValue - this.parent.timelineSettings.timelineUnitSize;\n            }\n            return leftValue;\n        }\n        else {\n            return 0;\n        }\n    };\n    TaskProcessor.prototype.getSplitTaskWidth = function (sDate, duration, data) {\n        var startDate = new Date(sDate.getTime());\n        var endDate = new Date((this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false).getTime()));\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](startDate);\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(startDate) === dayStartTime) {\n                startDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayEndTime) {\n                endDate.setHours(24);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayStartTime) {\n                endDate.setHours(0, 0, 0, 0);\n            }\n        }\n        return ((this.getTimeDifference(startDate, endDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n    };\n    TaskProcessor.prototype.getSplitTaskLeft = function (sDate, segmentTaskStartDate) {\n        var stDate = new Date(sDate.getTime());\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var segmentStartTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](stDate);\n                segmentStartTime = this.parent['getStartTime'](segmentTaskStartDate);\n            }\n            else {\n                segmentStartTime = dayStartTime = this.parent.defaultStartTime;\n            }\n            if (this.getSecondsInDecimal(stDate) === dayStartTime) {\n                stDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(segmentTaskStartDate) === segmentStartTime) {\n                segmentTaskStartDate.setHours(0, 0, 0, 0);\n            }\n        }\n        if (segmentTaskStartDate) {\n            return (stDate.getTime() - segmentTaskStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {string} fieldName .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateMappingData = function (ganttData, fieldName) {\n        var columnMapping = this.parent.columnMapping;\n        var ganttProp = ganttData.ganttProperties;\n        if (isNullOrUndefined(columnMapping[fieldName]) && fieldName !== 'taskType' && fieldName !== 'segments') {\n            return;\n        }\n        if (fieldName === 'predecessorName') {\n            //\n        }\n        else if (fieldName === 'resourceInfo') {\n            var resourceData = ganttProp.resourceInfo;\n            var resourceSettings = this.parent.resourceFields;\n            // eslint-disable-next-line\n            var resourcesId = [];\n            var resourcesName = [];\n            if (!isNullOrUndefined(resourceData)) {\n                for (var i = 0; i < resourceData.length; i++) {\n                    resourcesId.push(resourceData[i][resourceSettings.id]);\n                    var resName = resourceData[i][resourceSettings.name];\n                    var resourceUnit = resourceData[i][resourceSettings.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (resName) {\n                        resourcesName.push(resName);\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceNames', resourcesName.join(','), ganttProp, true);\n            if (this.isResourceString) {\n                ganttData.taskData[this.parent.taskFields.resourceInfo] =\n                    ganttData.taskData[this.parent.taskFields.resourceInfo][0][resourceSettings.name];\n                this.updateTaskDataResource(ganttData);\n            }\n            else {\n                this.updateTaskDataResource(ganttData);\n            }\n            this.parent.setRecordValue(columnMapping[fieldName], resourcesName.join(','), ganttData);\n        }\n        else if (fieldName === 'startDate' || fieldName === 'endDate') {\n            this.setRecordDate(ganttData, ganttProp[fieldName], columnMapping[fieldName]);\n        }\n        else if (fieldName === 'duration') {\n            this.setRecordDuration(ganttData, columnMapping[fieldName]);\n        }\n        else if (fieldName === 'work') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp.work, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n        else if (fieldName === 'type') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp[fieldName], ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n        else if (fieldName === 'manual') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n        }\n        else if (fieldName === 'segments') {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, this.segmentTaskData(ganttData), ganttData);\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp[fieldName], ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n    };\n    TaskProcessor.prototype.segmentTaskData = function (data) {\n        var _this = this;\n        var segments = data.ganttProperties.segments;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(segments)) {\n            return null;\n        }\n        var taskData = extend([], [], data.taskData[taskSettings.segments], true);\n        for (var i = 0; i < segments.length; i++) {\n            if (this.parent.isEdit || (this.parent.editModule && this.parent.editModule.dialogModule &&\n                getValue('isEdit', this.parent.editModule.dialogModule)) || (this.parent.contextMenuModule && getValue('isEdit', this.parent.contextMenuModule))) {\n                taskData[i] = {};\n            }\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                taskData[i][this.parent.taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                taskData[i][this.parent.taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                taskData[i][this.parent.taskFields.duration] = Number(segments[i].duration);\n            }\n        }\n        if (this.customSegmentProperties.length > 0 && taskData && taskData.length > 0) {\n            taskData.forEach(function (task, index) {\n                var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                taskData[index] = mergedObject;\n            });\n        }\n        return taskData;\n    };\n    /**\n     * Method to update the task data resource values\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateTaskDataResource = function (ganttData) {\n        var resourceData = ganttData.ganttProperties.resourceInfo;\n        var preTaskResources = ganttData.taskData[this.parent.taskFields.resourceInfo];\n        var resourceSettings = this.parent.resourceFields;\n        if (isNullOrUndefined(preTaskResources)) {\n            ganttData.taskData[this.parent.taskFields.resourceInfo] = resourceData;\n        }\n        else if (resourceData.length) {\n            for (var i = 0; i < resourceData.length; i++) {\n                var isAdded = false;\n                if (typeof (preTaskResources) === 'string') {\n                    if (typeof preTaskResources === 'string') {\n                        if ((preTaskResources) === (resourceData[i][resourceSettings.name])) {\n                            preTaskResources = resourceData[i][resourceSettings.name];\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var j = 0; j < preTaskResources.length; j++) {\n                        if (typeof preTaskResources[j] === 'number' || typeof preTaskResources[j] === 'string') {\n                            if (parseInt(preTaskResources[j], 10) ===\n                                parseInt(resourceData[i][resourceSettings.id], 10)) {\n                                preTaskResources[j] = resourceData[i];\n                                isAdded = true;\n                                break;\n                            }\n                        }\n                        else if (preTaskResources[j][resourceSettings.id] === resourceData[i][resourceSettings.id] && typeof preTaskResources[j] !== 'number') {\n                            preTaskResources[j] = extend({}, preTaskResources[j], resourceData[i], true);\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                if (!isAdded) {\n                    if (typeof (preTaskResources) === 'string') {\n                        preTaskResources = resourceData[i][resourceSettings.name];\n                    }\n                    else {\n                        preTaskResources.push(resourceData[i]);\n                    }\n                }\n            }\n            var data_1 = [];\n            if (typeof (preTaskResources) !== 'string') {\n                var _loop_4 = function (k) {\n                    resourceData.filter(function (resourceInfo) {\n                        if (resourceInfo[resourceSettings.id] === preTaskResources[k][resourceSettings.id]\n                            && data_1.indexOf(preTaskResources[k]) === -1) {\n                            data_1.push(preTaskResources[k]);\n                        }\n                    });\n                };\n                for (var k = 0; k < preTaskResources.length; k++) {\n                    _loop_4(k);\n                }\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, data_1, ganttData);\n            }\n            else {\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, preTaskResources, ganttData);\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], ganttData);\n        }\n    };\n    TaskProcessor.prototype.setRecordDate = function (task, value, mapping) {\n        var tempDate = typeof value === 'string' ? new Date(value) : value;\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        this.parent.setRecordValue(mapping, value, task);\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        if (!this.parent.isLoad && !this.parent.isDynamicData) {\n            this.parent.setRecordValue('taskData.' + mapping, value, task);\n        }\n        this.parent.isDynamicData = false;\n    };\n    TaskProcessor.prototype.getDurationInDay = function (duration, durationUnit) {\n        if (durationUnit === 'day') {\n            return duration;\n        }\n        else if (durationUnit === 'hour') {\n            return duration / (this.parent.secondsPerDay / 3600);\n        }\n        else {\n            return duration / (this.parent.secondsPerDay / 60);\n        }\n    };\n    TaskProcessor.prototype.setRecordDuration = function (task, mapping) {\n        var duration = task.ganttProperties.duration;\n        var durationUnit = task.ganttProperties.durationUnit;\n        if (!isNullOrUndefined(duration)) {\n            this.parent.setRecordValue(mapping, task.ganttProperties.duration, task);\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var durationValue = (getValue(mapping, task.taskData));\n            if (isNaN(durationValue) && isNullOrUndefined(this.parent.taskFields.durationUnit) && !isNullOrUndefined(durationValue)) {\n                this.parent.setRecordValue('taskData.' + mapping, this.getDurationString(duration, durationUnit), task);\n            }\n            else {\n                if (typeof durationValue === 'string') {\n                    this.parent.setRecordValue('taskData.' + mapping, duration.toString(), task);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + mapping, duration, task);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue(mapping, duration, task);\n            this.parent.setRecordValue('taskData.' + mapping, duration, task);\n        }\n        if (this.parent.taskFields.durationUnit) {\n            task.taskData[this.parent.taskFields.durationUnit] = task.ganttProperties.durationUnit;\n        }\n    };\n    TaskProcessor.prototype.setDataSource = function (data) {\n        var dataArray;\n        var createData = [];\n        if (Array.isArray(data)) {\n            dataArray = data;\n        }\n        var length = dataArray.length;\n        for (var i = 0; i < length; i++) {\n            var record = data[i];\n            createData.push(record);\n            if (!(isNullOrUndefined(data[i][this.parent.taskFields.child]))) {\n                this.setDataSource(data[i][this.parent.taskFields.child]);\n            }\n        }\n        return createData;\n    };\n    TaskProcessor.prototype.setStartDate = function (task) {\n        var _this = this;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.parentID) && !isNullOrUndefined(this.parent.taskFields.id)) {\n            hierarchicalData = this.setDataSource(this.parent.dataSource);\n        }\n        else {\n            hierarchicalData = this.parent.dataSource;\n        }\n        hierarchicalData.map(function (record) {\n            if (task.ganttProperties.taskId === record[_this.parent.taskFields.id]) {\n                if (!isNullOrUndefined(_this.parent.taskFields.startDate)) {\n                    task[_this.parent.taskFields.startDate] = record[_this.parent.taskFields.startDate];\n                }\n                if (!isNullOrUndefined(_this.parent.taskFields.endDate)) {\n                    task[_this.parent.taskFields.endDate] = record[_this.parent.taskFields.endDate];\n                }\n            }\n        });\n    };\n    TaskProcessor.prototype.getWorkInHour = function (work, workUnit) {\n        if (workUnit === 'day') {\n            return work * (this.parent.secondsPerDay / 3600);\n        }\n        else if (workUnit === 'minute') {\n            return work / 60;\n        }\n        else {\n            return work;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateTaskData = function (ganttData) {\n        var dataMapping = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        if (!isNullOrUndefined(ganttData.taskData)) {\n            var data = ganttData.taskData;\n            if (dataMapping.id) {\n                this.parent.setRecordValue('taskData.' + dataMapping.id, ganttProperties.taskId, ganttData);\n                this.parent.setRecordValue(dataMapping.id, ganttProperties.taskId, ganttData);\n            }\n            if (dataMapping.name) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.name, ganttProperties.taskName, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.name, ganttProperties.taskName, ganttData);\n            }\n            if (dataMapping.startDate) {\n                this.setRecordDate(ganttData, ganttProperties.startDate, dataMapping.startDate);\n            }\n            if (dataMapping.endDate) {\n                this.setRecordDate(ganttData, ganttProperties.endDate, dataMapping.endDate);\n            }\n            if (dataMapping.duration) {\n                if (isNullOrUndefined(dataMapping.milestone) || (!isNullOrUndefined(dataMapping.milestone) && !ganttData.taskData[dataMapping.milestone])) {\n                    this.setRecordDuration(ganttData, dataMapping.duration);\n                }\n            }\n            if (dataMapping.durationUnit) {\n                data[dataMapping.durationUnit] = ganttProperties.durationUnit;\n            }\n            if (dataMapping.progress) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.progress, ganttProperties.progress, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.progress, ganttProperties.progress, ganttData);\n            }\n            if (dataMapping.baselineStartDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineStartDate, dataMapping.baselineStartDate);\n            }\n            if (dataMapping.baselineEndDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineEndDate, dataMapping.baselineEndDate);\n            }\n            if (dataMapping.notes) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.notes, ganttProperties.notes, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.notes, ganttProperties.notes, ganttData);\n            }\n            if (dataMapping.cssClass) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n            }\n            if (dataMapping.indicators) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.indicators, ganttProperties.indicators, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.indicators, ganttProperties.indicators, ganttData);\n            }\n            if (dataMapping.parentID) {\n                var parentID = this.parent.viewType === 'ProjectView' ? ganttProperties.parentId : data[dataMapping.parentID];\n                this.parent.setRecordValue('taskData.' + dataMapping.parentID, parentID, ganttData);\n                this.parent.setRecordValue(dataMapping.parentID, ganttProperties.parentId, ganttData);\n            }\n            if (dataMapping.work) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.work, ganttProperties.work, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.work, ganttProperties.work, ganttData);\n            }\n            if (dataMapping.type) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.type, ganttProperties.taskType, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.type, ganttProperties.taskType, ganttData);\n            }\n        }\n    };\n    /**\n     * To set resource value in Gantt record\n     *\n     * @param {object} data .\n     * @returns {object[]} .\n     * @private\n     */\n    TaskProcessor.prototype.setResourceInfo = function (data) {\n        var _this = this;\n        // eslint-disable-next-line\n        var resourceIdCollection;\n        if (isNullOrUndefined(data[this.parent.taskFields.resourceInfo])) {\n            return resourceIdCollection;\n        }\n        resourceIdCollection = data[this.parent.taskFields.resourceInfo];\n        var resourceData;\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.dialogModule)\n            && this.parent.editModule.dialogModule.isAddNewResource) {\n            resourceData = this.parent.editModule.dialogModule.ganttResources;\n        }\n        else {\n            resourceData = this.parent.resources;\n        }\n        var resourceIDMapping = this.parent.resourceFields.id;\n        var resourceUnitMapping = this.parent.resourceFields.unit;\n        var resourceGroup = this.parent.resourceFields.group;\n        var resources = [];\n        if (typeof (resourceIdCollection) === 'string' && resourceIdCollection !== '') {\n            var resource_1;\n            var resourceIds = data[this.parent.taskFields.resourceInfo].split(',');\n            if (resourceIds.length === 0) {\n                resourceData.forEach(function (resourceInfo) {\n                    if (resourceIdCollection === resourceInfo[_this.parent.resourceFields.name]) {\n                        resource_1 = [resourceInfo];\n                    }\n                });\n                var ganttDataResource = extend({}, resource_1[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping) && !isNullOrUndefined(resourceIdCollection[resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup) && !isNullOrUndefined(resourceIdCollection[resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[resourceGroup];\n                }\n            }\n        }\n        else {\n            var _loop_5 = function (count) {\n                var resource = resourceData.filter(function (resourceInfo) {\n                    if (typeof (resourceIdCollection[count]) === 'object' &&\n                        resourceIdCollection[count][resourceIDMapping] === resourceInfo[resourceIDMapping]) {\n                        return true;\n                    }\n                    else {\n                        return (resourceIdCollection[count] === resourceInfo[resourceIDMapping]);\n                    }\n                });\n                var ganttDataResource = extend({}, resource[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[count][resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[count][resourceGroup];\n                }\n            };\n            for (var count = 0; count < resourceIdCollection.length; count++) {\n                _loop_5(count);\n            }\n        }\n        this.updateResourceUnit(resources);\n        return resources;\n    };\n    /**\n     * To set resource unit in Gantt record\n     *\n     * @param {object[]} resourceData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceUnit = function (resourceData) {\n        var resourceUnit = this.parent.resourceFields.unit;\n        if (!isNullOrUndefined(resourceUnit)) {\n            var length_1 = resourceData.length;\n            var index = void 0;\n            for (index = 0; index < length_1; index++) {\n                if (isNullOrUndefined(resourceData[index][resourceUnit])) {\n                    resourceData[index][resourceUnit] = 100;\n                }\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceName = function (data) {\n        var resourceInfo = data.ganttProperties.resourceInfo;\n        var resourceName = [];\n        var taskMapping = this.parent.taskFields;\n        if (resourceInfo && resourceInfo.length > 0) {\n            var resourceLength = resourceInfo.length;\n            if (typeof data.taskData[this.parent.taskFields.resourceInfo] === 'string') {\n                var taskResources = data.taskData[this.parent.taskFields.resourceInfo];\n                var stringResourceName = taskResources;\n                this.parent.setRecordValue('resourceNames', stringResourceName, data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, stringResourceName, data, true);\n                this.updateTaskDataResource(data);\n            }\n            else {\n                var taskResources = extend([], [], data.taskData[this.parent.taskFields.resourceInfo], true);\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], data);\n                for (var i = 0; i < resourceLength; i++) {\n                    var resource = resourceInfo[i];\n                    var resName = resource[this.parent.resourceFields.name];\n                    var resourceUnit = resource[this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (!isNullOrUndefined(resName)) {\n                        resourceName.push(resName);\n                    }\n                    if (data.taskData) {\n                        var mapping = taskMapping.resourceInfo;\n                        if (taskResources[i] && typeof (taskResources[parseInt(i.toString(), 10)] === 'object')) {\n                            data.taskData[mapping].push(taskResources[i]);\n                        }\n                        else {\n                            data.taskData[mapping].push(resource[this.parent.resourceFields.id]);\n                        }\n                    }\n                }\n                this.parent.setRecordValue('resourceNames', resourceName.join(','), data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, resourceName.join(','), data, true);\n                this.updateTaskDataResource(data);\n            }\n        }\n    };\n    TaskProcessor.prototype.dataReorder = function (flatCollection, rootCollection) {\n        var result = [];\n        while (flatCollection.length > 0 && rootCollection.length > 0) {\n            var index = rootCollection.indexOf(flatCollection[0]);\n            if (index === -1) {\n                flatCollection.shift();\n            }\n            else {\n                result.push(flatCollection.shift());\n                rootCollection.splice(index, 1);\n            }\n        }\n        return result;\n    };\n    TaskProcessor.prototype.validateDurationUnitMapping = function (durationUnit) {\n        var unit = durationUnit;\n        if ((unit === 'minute') || (unit === 'minutes') || (unit === 'm') || (unit === 'min')) {\n            unit = 'minute';\n        }\n        else if ((unit === 'hour') || (unit === 'hours') || (unit === 'h') || (unit === 'hr')) {\n            unit = 'hour';\n        }\n        else if ((unit === 'day') || (unit === 'days') || (unit === 'd')) {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    TaskProcessor.prototype.validateTaskTypeMapping = function (taskType) {\n        var type = taskType;\n        if (type === 'FixedDuration') {\n            type = 'FixedDuration';\n        }\n        else if (type === 'FixedUnit') {\n            type = 'FixedUnit';\n        }\n        else if (type === 'FixedWork') {\n            type = 'FixedWork';\n        }\n        else {\n            type = this.parent.taskType;\n        }\n        return type;\n    };\n    TaskProcessor.prototype.validateWorkUnitMapping = function (workUnit) {\n        var unit = workUnit;\n        if (unit === 'minute') {\n            unit = 'minute';\n        }\n        else if (unit === 'hour') {\n            unit = 'hour';\n        }\n        else if (unit === 'day') {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.workUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    /**\n     * To update duration value in Task\n     *\n     * @param {string} duration .\n     * @param {ITaskData} ganttProperties .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateDurationValue = function (duration, ganttProperties) {\n        var tempDuration = this.getDurationValue(duration);\n        if (!isNaN(getValue('duration', tempDuration)) && !(this.parent.viewType === 'ResourceView' && tempDuration['duration'] === 0 && this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit)) {\n            this.parent.setRecordValue('duration', getValue('duration', tempDuration), ganttProperties, true);\n        }\n        if (!isNullOrUndefined(getValue('durationUnit', tempDuration))) {\n            this.parent.setRecordValue('durationUnit', getValue('durationUnit', tempDuration), ganttProperties, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttData = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttData = void 0;\n            this.parent.secondsPerDay = this.getSecondsPerDay();\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttData = this.parent.flatData[index];\n                if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                    this.setRecordDuration(ganttData, this.parent.taskFields.duration);\n                }\n                if (this.parent.isLoad) {\n                    this.setStartDate(ganttData);\n                }\n                this.calculateScheduledValues(ganttData, data, false);\n            }\n            this.updateGanttData();\n        }\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInStartDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() >= from.getTime() && day.getTime() < to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInEndDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() > from.getTime() && day.getTime() <= to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    /**\n     * Method to find overlapping value of the parent task\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingValues = function (resourceTask) {\n        var tasks = resourceTask.childRecords;\n        var currentTask;\n        var ranges = [];\n        if (tasks.length <= 1) {\n            resourceTask.ganttProperties.workTimelineRanges = [];\n            return;\n        }\n        tasks = this.setSortedChildTasks(resourceTask);\n        this.updateOverlappingIndex(tasks);\n        for (var count = 1; count < tasks.length; count++) {\n            currentTask = tasks[count];\n            var cStartDate = void 0;\n            var cEndDate = void 0;\n            if (currentTask.ganttProperties.startDate) {\n                cStartDate = new Date(currentTask.ganttProperties.startDate.getTime());\n            }\n            if (currentTask.ganttProperties.endDate) {\n                cEndDate = new Date(currentTask.ganttProperties.endDate.getTime()); //task 2\n            }\n            var range = [];\n            // eslint-disable-next-line\n            var rangeObj = {};\n            for (var index = 0; index < count; index++) {\n                var tStartDate = tasks[index].ganttProperties.startDate;\n                var tEndDate = tasks[index].ganttProperties.endDate; // task 1\n                var rangeObj_1 = {};\n                if (cStartDate && cEndDate && tEndDate\n                    && (this._isInStartDateRange(cStartDate, tStartDate, tEndDate)\n                        || this._isInEndDateRange(cEndDate, tStartDate, tEndDate))) {\n                    if ((tStartDate.getTime() > cStartDate.getTime() && tStartDate.getTime() < cEndDate.getTime()\n                        && tEndDate.getTime() > cStartDate.getTime() && tEndDate.getTime() >= cEndDate.getTime())\n                        || (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() <= tEndDate.getTime())) {\n                        rangeObj_1.from = tStartDate;\n                        rangeObj_1.to = cEndDate;\n                    }\n                    else if (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() > tEndDate.getTime()) {\n                        rangeObj_1.from = tStartDate;\n                        rangeObj_1.to = tEndDate;\n                    }\n                    else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime()) {\n                        rangeObj_1.from = cStartDate;\n                        rangeObj_1.to = tEndDate;\n                    }\n                    else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime()) {\n                        rangeObj_1.from = cStartDate;\n                        rangeObj_1.to = cEndDate;\n                    }\n                    range.push(rangeObj_1);\n                }\n            }\n            // eslint-disable-next-line\n            ranges.push.apply(ranges, this.mergeRangeCollections(range));\n        }\n        this.parent.setRecordValue('workTimelineRanges', this.mergeRangeCollections(ranges, true), resourceTask.ganttProperties, true);\n        this.calculateRangeLeftWidth(resourceTask.ganttProperties.workTimelineRanges);\n    };\n    /**\n     * @param {IGanttData[]} tasks .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingIndex = function (tasks) {\n        for (var i = 0; i < tasks.length; i++) {\n            tasks[i].ganttProperties.eOverlapIndex = i;\n        }\n    };\n    /**\n     * Method to calculate the left and width value of oarlapping ranges\n     *\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateRangeLeftWidth = function (ranges) {\n        for (var count = 0; count < ranges.length; count++) {\n            ranges[count].left = this.getTaskLeft(ranges[count].from, false);\n            ranges[count].width = this.getTaskWidth(ranges[count].from, ranges[count].to);\n        }\n    };\n    /**\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @param {boolean} isSplit .\n     * @returns {IWorkTimelineRanges[]} .\n     * @private\n     */\n    TaskProcessor.prototype.mergeRangeCollections = function (ranges, isSplit) {\n        var finalRange = [];\n        var currentTopRange = {};\n        var cCompareRange = {};\n        var cStartDate;\n        var cEndDate;\n        var tStartDate;\n        var tEndDate;\n        var sortedRanges = new DataManager(ranges).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        for (var i = 0; i < sortedRanges.length; i++) {\n            if (finalRange.length === 0 && i === 0) {\n                finalRange.push(sortedRanges[i]);\n                continue;\n            }\n            currentTopRange = finalRange[finalRange.length - 1];\n            cStartDate = currentTopRange.from;\n            cEndDate = currentTopRange.to;\n            cCompareRange = sortedRanges[i];\n            tStartDate = cCompareRange.from;\n            tEndDate = cCompareRange.to;\n            if ((cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())\n                || (cStartDate.getTime() < tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())) {\n                continue;\n            }\n            /* eslint-disable-next-line */\n            else if ((cStartDate.getTime() <= tStartDate.getTime() && cEndDate.getTime() >= tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime())\n                || (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() === tStartDate.getTime())) {\n                currentTopRange.to = tEndDate;\n            }\n            else if (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() !== tStartDate.getTime()) {\n                finalRange.push(sortedRanges[i]);\n            }\n        }\n        if (isSplit) {\n            finalRange = this.splitRangeCollection(finalRange);\n        }\n        return finalRange;\n    };\n    /**\n     * Sort resource child records based on start date\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.setSortedChildTasks = function (resourceTask) {\n        var sortedRecords = [];\n        sortedRecords = new DataManager(resourceTask.childRecords).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        return sortedRecords;\n    };\n    TaskProcessor.prototype.splitRangeCollection = function (rangeCollection, fromField, toField) {\n        var splitArray = [];\n        var unit;\n        if (this.parent.timelineModule.isSingleTier) {\n            unit = this.parent.timelineModule.bottomTier !== 'None' ?\n                this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        }\n        else {\n            unit = this.parent.timelineModule.bottomTier;\n        }\n        if (unit === 'Week' || unit === 'Month' || unit === 'Year') {\n            splitArray = rangeCollection;\n        }\n        else if (unit === 'Day') {\n            splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n        }\n        else {\n            if (this.parent.workingTimeRanges[0].from === 0 && this.parent.workingTimeRanges[0].to === 86400) {\n                splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n            }\n            else {\n                splitArray = this.getRangeWithDay(rangeCollection, fromField, toField);\n            }\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.getRangeWithDay = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            splitArray.push.apply(splitArray, this.splitRangeForDayMode(ranges[parseInt(i.toString(), 10)], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForDayMode = function (range, fromField, toField) {\n        var fromString = fromField ? fromField : 'from';\n        var toString = toField ? toField : 'to';\n        var tempStart = new Date(range[fromString]);\n        var end = new Date(range[toString]);\n        var ranges = [];\n        var rangeObject = {};\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                var nStart = new Date(tempStart.getTime());\n                var nEndDate = new Date(tempStart.getTime());\n                var nextAvailDuration = 0;\n                var sHour = this.parent.dataOperation.getSecondsInDecimal(tempStart);\n                var startRangeIndex = -1;\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var val = this.parent.workingTimeRanges[i];\n                    if (sHour >= val.from && sHour <= val.to) {\n                        startRangeIndex = i;\n                        break;\n                    }\n                }\n                if (startRangeIndex !== -1) {\n                    nextAvailDuration = Math.round(this.parent.workingTimeRanges[startRangeIndex].to - sHour);\n                    nEndDate.setSeconds(nEndDate.getSeconds() + nextAvailDuration);\n                }\n                var taskName = 'task';\n                if (nEndDate.getTime() < end.getTime()) {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = nEndDate;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                else {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = end;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                tempStart = this.checkStartDate(nEndDate);\n            } while (tempStart.getTime() < end.getTime());\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    TaskProcessor.prototype.getRangeWithWeek = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            // eslint-disable-next-line\n            splitArray.push.apply(splitArray, this.splitRangeForWeekMode(ranges[i], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForWeekMode = function (range, fromField, toField) {\n        var from = fromField ? fromField : 'from';\n        var to = toField ? toField : 'to';\n        var start = new Date(range[from]);\n        var tempStart = new Date(range[from]);\n        var end = new Date(range[to]);\n        var isInSplit = false;\n        var ranges = [];\n        var rangeObj = {};\n        tempStart.setDate(tempStart.getDate() + 1);\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                if (this.parent.dataOperation.isOnHolidayOrWeekEnd(tempStart, null)) {\n                    var tempEndDate = new Date(tempStart.getTime());\n                    tempEndDate.setDate(tempStart.getDate() - 1);\n                    var dayEndTime = void 0;\n                    if (this.parent.weekWorkingTime.length > 0) {\n                        dayEndTime = this.parent['getEndTime'](tempEndDate);\n                    }\n                    else {\n                        dayEndTime = this.parent.defaultEndTime;\n                    }\n                    this.setTime(dayEndTime, tempEndDate);\n                    rangeObj = {};\n                    rangeObj[from] = start;\n                    rangeObj.isSplit = true;\n                    rangeObj[to] = new Date(tempEndDate);\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    var isStartNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(start, null);\n                    var isTempEndDateNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(tempEndDate, null);\n                    var isDifferentDates = start.getTime() !== tempEndDate.getTime();\n                    if (isStartNotHolidayOrWeekend && isTempEndDateNotHolidayOrWeekend && isDifferentDates) {\n                        ranges.push(rangeObj);\n                    }\n                    tempEndDate.setDate(tempEndDate.getDate() + 1);\n                    start = this.checkStartDate(tempEndDate);\n                    tempStart = new Date(start.getTime());\n                    isInSplit = true;\n                }\n                else {\n                    tempStart.setDate(tempStart.getDate() + 1);\n                }\n            } while (tempStart.getTime() < end.getTime());\n            if (isInSplit) {\n                if (start.getTime() !== end.getTime()) {\n                    rangeObj = {};\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    rangeObj[from] = start;\n                    rangeObj[to] = end;\n                    rangeObj.isSplit = true;\n                    ranges.push(rangeObj);\n                }\n            }\n            else {\n                ranges.push(range);\n            }\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateGanttData = function () {\n        var flatData = this.parent.flatData;\n        var length = flatData.length;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            this.updateTaskLeftWidth(data);\n        }\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @public\n     */\n    TaskProcessor.prototype.updateTaskLeftWidth = function (data) {\n        var task = data.ganttProperties;\n        if (!data.hasChildRecords || !this.parent.autoCalculateDateScheduling) {\n            this.updateWidthLeft(data);\n        }\n        this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n        this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n        var childData = [];\n        var parentItem;\n        if (data.parentItem) {\n            parentItem = this.parent.getParentTask(data.parentItem);\n            childData = parentItem.childRecords;\n        }\n        if (parentItem && childData.indexOf(data) === childData.length - 1 && !data.hasChildRecords && this.parent.enableValidation) {\n            if (this.parent.autoCalculateDateScheduling || this.parent.viewType === 'ResourceView') {\n                this.updateParentItems(parentItem);\n            }\n            if (!this.parent.autoCalculateDateScheduling) {\n                this.updateWidthLeft(parentItem);\n            }\n        }\n        else if (parentItem && !this.parent.enableValidation) {\n            this.updateWidthLeft(parentItem);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttDataPosition = function () {\n        var flatData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n            && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            flatData = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            flatData = this.parent.flatData;\n        }\n        var length = flatData.length;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            var task = data.ganttProperties;\n            this.updateWidthLeft(data);\n            if (this.parent.taskMode !== 'Auto' && data.hasChildRecords) {\n                this.updateAutoWidthLeft(data);\n            }\n            this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n            this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n            this.parent.dataOperation.updateTaskData(data);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        var totalSegmentsProgressWidth = 0;\n        // task endDate may be changed in segment calculation so this must be calculated first.\n        // task width calculating was based on endDate\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            var segments = ganttRecord.segments;\n            for (var i = 0; i < segments.length; i++) {\n                var segment = segments[i];\n                if (i === 0 && !isNullOrUndefined(ganttRecord.startDate)\n                    && !isNullOrUndefined(segment.startDate) && !isNullOrUndefined(segment.startDate.getTime()) &&\n                    segment.startDate.getTime() !== ganttRecord.startDate.getTime()) {\n                    segment.startDate = ganttRecord.startDate;\n                    var endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttRecord.durationUnit, ganttRecord, false);\n                    segment.endDate = this.parent.dataOperation.checkEndDate(endDate, ganttRecord, false);\n                    this.parent.chartRowsModule.incrementSegments(segments, 0, data);\n                }\n                segment.width = this.getSplitTaskWidth(segment.startDate, segment.duration, data);\n                totalSegmentsProgressWidth = totalSegmentsProgressWidth + segment.width;\n                segment.showProgress = false;\n                segment.progressWidth = -1;\n                if (i !== 0) {\n                    var pStartDate = new Date(ganttRecord.startDate.getTime());\n                    segment.left = this.getSplitTaskLeft(segment.startDate, pStartDate);\n                }\n            }\n            var setProgress = this.parent.dataOperation.getProgressWidth(totalSegmentsProgressWidth, ganttRecord.progress);\n            var isValid = true;\n            for (var i = 0; i < segments.length; i++) {\n                if (isValid) {\n                    if (setProgress <= segments[i].width) {\n                        segments[i].progressWidth = setProgress;\n                        segments[i].showProgress = true;\n                        isValid = false;\n                    }\n                    else {\n                        segments[i].progressWidth = segments[i].width;\n                        setProgress = setProgress - segments[i].progressWidth;\n                    }\n                }\n            }\n            this.parent.setRecordValue('segments', ganttRecord.segments, ganttRecord, true);\n            this.parent.dataOperation.updateMappingData(data, 'segments');\n        }\n        this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data), ganttRecord, true);\n        this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttRecord), ganttRecord, true);\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(totalSegmentsProgressWidth, ganttRecord.progress), ganttRecord, true);\n        }\n        else {\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule || !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateAutoWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        this.parent.setRecordValue('autoWidth', this.calculateWidth(data, true), ganttRecord, true);\n        this.parent.setRecordValue('autoLeft', this.calculateLeft(ganttRecord, true), ganttRecord, true);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule ||\n            !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n    };\n    /**\n     * To calculate parent progress value\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @returns {object} .\n     * @private\n     */\n    TaskProcessor.prototype.getParentProgress = function (childGanttRecord) {\n        var durationInDay = 0;\n        var progressValues = {};\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](childGanttRecord.ganttProperties.startDate ? childGanttRecord.ganttProperties.startDate : childGanttRecord.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        switch (childGanttRecord.ganttProperties.durationUnit) {\n            case 'hour':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 3600));\n                break;\n            case 'minute':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 60));\n                break;\n            default:\n                durationInDay = childGanttRecord.ganttProperties.duration;\n        }\n        if (childGanttRecord.hasChildRecords) {\n            setValue('totalProgress', childGanttRecord.ganttProperties.totalProgress, progressValues);\n            setValue('totalDuration', childGanttRecord.ganttProperties.totalDuration ? childGanttRecord.ganttProperties.totalDuration : 0, progressValues);\n        }\n        else {\n            setValue('totalProgress', childGanttRecord.ganttProperties.progress * durationInDay, progressValues);\n            setValue('totalDuration', durationInDay, progressValues);\n        }\n        return progressValues;\n    };\n    TaskProcessor.prototype.resetDependency = function (record) {\n        var dependency = this.parent.taskFields.dependency;\n        if (!isNullOrUndefined(dependency)) {\n            var recordProp = record.ganttProperties;\n            this.parent.setRecordValue('predecessor', [], recordProp, true);\n            this.parent.setRecordValue('predecessorsName', null, recordProp, true);\n            this.parent.setRecordValue('taskData.' + dependency, null, record);\n            this.parent.setRecordValue(dependency, null, record);\n        }\n    };\n    TaskProcessor.prototype.isUnscheduledTask = function (ganttProperties, parantData) {\n        var properties = ['startDate', 'endDate', 'duration'];\n        var count = 0;\n        var filledProperty = null;\n        for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n            var prop = properties_1[_i];\n            if (ganttProperties[prop]) {\n                count++;\n                filledProperty = prop;\n            }\n        }\n        if (count === 1 || (count === 0 && !isNullOrUndefined(parantData) && parantData.hasChildRecords)) {\n            return [true, filledProperty];\n        }\n        else {\n            return [false, null];\n        }\n    };\n    /**\n     * @param {IParent | IGanttData} cloneParent .\n     * @param {boolean} isParent .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateParentItems = function (cloneParent, isParent) {\n        var _this = this;\n        var parentData = isParent ? cloneParent : this.parent.getParentTask(cloneParent);\n        parentData = parentData ? parentData : cloneParent;\n        var deleteUpdate = false;\n        var ganttProp = !isNullOrUndefined(parentData) ? parentData.ganttProperties : null;\n        var _a = this.isUnscheduledTask(ganttProp, parentData), isParentUnschecule = _a[0], propertyWithValue = _a[1];\n        if (this.parent.autoCalculateDateScheduling || this.parent.viewType === 'ResourceView') {\n            if (parentData && parentData.childRecords && parentData.childRecords.length > 0) {\n                var previousStartDate = ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate;\n                var previousEndDate = ganttProp.isAutoSchedule ? ganttProp.endDate :\n                    ganttProp.autoEndDate;\n                var childRecords_1 = parentData.childRecords;\n                var childLength = childRecords_1.length;\n                var totalDuration = 0;\n                var progressValues = {};\n                var minStartDate = null;\n                var maxEndDate = null;\n                var milestoneCount = 0;\n                var totalProgress = 0;\n                var childCompletedWorks = 0;\n                var childData = void 0;\n                var isChildBoth = void 0;\n                var countOfScheduled_1 = 0;\n                var countOfUnScheduled_1 = 0;\n                childRecords_1.some(function (childRecord) {\n                    var _a = _this.isUnscheduledTask(childRecord['ganttProperties']), isUnscheduled = _a[0], propertyWithValue = _a[1];\n                    if (isUnscheduled && propertyWithValue === 'duration') {\n                        ++countOfUnScheduled_1;\n                    }\n                    else if (!isUnscheduled) {\n                        ++countOfScheduled_1;\n                    }\n                    if (countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0) {\n                        return true;\n                    }\n                    return false;\n                });\n                isChildBoth = (countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0) ? true : isChildBoth;\n                var _loop_6 = function (count) {\n                    childData = (!this_4.parent.loadChildOnDemand && this_4.parent.taskFields.hasChildMapping) ?\n                        this_4.parent.currentViewData.filter(function (item) {\n                            return item.ganttProperties.taskId === childRecords_1[count][_this.parent.taskFields.id];\n                        })[0] :\n                        childRecords_1[count];\n                    if (this_4.parent.isOnDelete && childData.isDelete) {\n                        if (childLength === 1 && this_4.parent.viewType === 'ProjectView') {\n                            deleteUpdate = true;\n                        }\n                        return \"continue\";\n                    }\n                    var _a = this_4.isUnscheduledTask(childData.ganttProperties), isUnscheduled = _a[0], propertyWithValue_1 = _a[1];\n                    var startDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        ganttProp.startDate : this_4.getValidStartDate(childData.ganttProperties);\n                    if (parentData.hasChildRecords && !ganttProp.isAutoSchedule\n                        && !isNullOrUndefined(childData.ganttProperties.autoStartDate)) {\n                        startDate = childData.ganttProperties.autoStartDate;\n                    }\n                    var endDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        ganttProp.endDate : this_4.getValidEndDate(childData.ganttProperties);\n                    if (parentData.hasChildRecords && !ganttProp.isAutoSchedule\n                        && !isNullOrUndefined(childData.ganttProperties.autoEndDate)) {\n                        endDate = childData.ganttProperties.autoEndDate;\n                    }\n                    if (isNullOrUndefined(minStartDate) &&\n                        ((isChildBoth && !isUnscheduled) || (isNullOrUndefined(isChildBoth)))) {\n                        minStartDate = this_4.getDateFromFormat(startDate);\n                    }\n                    if (isNullOrUndefined(maxEndDate) &&\n                        ((isChildBoth && !isUnscheduled) || (isNullOrUndefined(isChildBoth)))) {\n                        maxEndDate = this_4.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(endDate) && maxEndDate && this_4.compareDates(endDate, maxEndDate) === 1) {\n                        maxEndDate = this_4.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(startDate) && minStartDate && this_4.compareDates(startDate, minStartDate) === -1) {\n                        minStartDate = this_4.getDateFromFormat(startDate);\n                    }\n                    var condition = (!childData.ganttProperties.isMilestone &&\n                        isScheduledTask(childData.ganttProperties)) ? true : false;\n                    if (condition) {\n                        progressValues = this_4.getParentProgress(childData);\n                        totalProgress += getValue('totalProgress', progressValues);\n                        if (childData[this_4.parent.taskFields.duration] < 1) {\n                            totalDuration += getValue('totalDuration', progressValues);\n                            totalDuration = Number(totalDuration.toFixed(4));\n                        }\n                        else {\n                            totalDuration += getValue('totalDuration', progressValues);\n                        }\n                    }\n                    else {\n                        milestoneCount++;\n                    }\n                    var work = childData.ganttProperties.work;\n                    if (typeof work === 'string') {\n                        // If it's a string, convert it to a number\n                        var numericValue = parseFloat(work);\n                        if (!isNaN(numericValue)) {\n                            childCompletedWorks += numericValue;\n                        }\n                    }\n                    else if (typeof work === 'number') {\n                        // If it's already a number, simply add it to childCompletedWorks\n                        childCompletedWorks += work;\n                    }\n                };\n                var this_4 = this;\n                for (var count = 0; count < childLength; count++) {\n                    _loop_6(count);\n                }\n                if (!deleteUpdate) {\n                    var taskCount = void 0;\n                    if (this.parent.isOnDelete && childData.isDelete) {\n                        taskCount = childLength - milestoneCount - 1;\n                    }\n                    else {\n                        taskCount = childLength - milestoneCount;\n                    }\n                    var parentProgress = (taskCount > 0 && totalDuration > 0) ?\n                        Number((totalProgress / totalDuration).toFixed(2)) : 0;\n                    var parentProp = parentData.ganttProperties;\n                    var milestone = (taskCount === 0) && minStartDate && maxEndDate &&\n                        minStartDate.getTime() === maxEndDate.getTime() ? true : false;\n                    if (this.compareDates(previousStartDate, minStartDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', minStartDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData['isManual'] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('startDate', minStartDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    if (this.compareDates(previousEndDate, maxEndDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', maxEndDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData['isManual'] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('endDate', maxEndDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    this.parent.setRecordValue('isMilestone', milestone, parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.updateMappingData(parentData, 'milestone');\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, milestone, parentData, true);\n                        this.parent.setRecordValue('taskData.' + this.parent.taskFields.milestone, milestone, parentData, true);\n                    }\n                    if (parentProp.isAutoSchedule) {\n                        this.calculateDuration(parentData);\n                    }\n                    this.updateWorkWithDuration(parentData);\n                    var parentWork = parentProp.work;\n                    parentWork = this.parent.isOnEdit ? parentWork : (parentWork + childCompletedWorks);\n                    this.parent.setRecordValue('work', parentWork, parentProp, true);\n                    this.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.type)) {\n                        this.updateMappingData(parentData, 'type');\n                    }\n                    this.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                    this.parent.setRecordValue('totalProgress', totalProgress, parentProp, true);\n                    this.parent.setRecordValue('totalDuration', totalDuration, parentProp, true);\n                    this.parent.setRecordValue('autoDuration', parentProp.duration, parentProp, true);\n                    if (!parentProp.isAutoSchedule) {\n                        this.parent.setRecordValue('autoDuration', this.calculateAutoDuration(parentProp), parentProp, true);\n                        this.updateAutoWidthLeft(parentData);\n                    }\n                    if (!this.parent.allowParentDependency) {\n                        this.resetDependency(parentData);\n                    }\n                    this.updateWidthLeft(parentData);\n                    this.updateTaskData(parentData);\n                }\n            }\n        }\n        else {\n            parentData.ganttProperties.endDate = parentData.taskData[this.parent.taskFields.endDate];\n        }\n        if (deleteUpdate && parentData.childRecords.length === 1 && parentData.ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, parentData.ganttProperties, true);\n            this.updateWidthLeft(parentData);\n            this.updateTaskData(parentData);\n        }\n        var parentItem = !isNullOrUndefined(parentData) ?\n            this.parent.getParentTask(parentData.parentItem) : null;\n        if (parentItem) {\n            if (this.parent.autoCalculateDateScheduling || this.parent.viewType === 'ResourceView') {\n                this.updateParentItems(parentItem);\n            }\n        }\n        deleteUpdate = false;\n    };\n    return TaskProcessor;\n}(DateProcessor));\nexport { TaskProcessor };\n","/**\n * CSS Constants\n */\n/** @hidden */\nexport var root = 'e-gantt';\nexport var ganttChartPane = 'e-gantt-chart-pane';\nexport var treeGridPane = 'e-gantt-tree-grid-pane';\nexport var splitter = 'e-gantt-splitter';\nexport var ganttChart = 'e-gantt-chart';\nexport var chartBodyContainer = 'e-chart-root-container';\nexport var toolbar = 'e-gantt-toolbar';\nexport var chartScrollElement = 'e-chart-scroll-container';\nexport var chartBodyContent = 'e-chart-rows-container';\nexport var scrollContent = 'e-content';\nexport var adaptive = 'e-device';\nexport var focusCell = 'e-grid';\n// Timeline-Class\nexport var taskTable = 'e-task-table';\nexport var zeroSpacing = 'e-zero-spacing';\nexport var timelineHeaderContainer = 'e-timeline-header-container';\nexport var timelineHeaderTableContainer = 'e-timeline-header-table-container';\nexport var timelineHeaderTableBody = 'e-timeline-header-table-body';\nexport var timelineTopHeaderCell = 'e-timeline-top-header-cell';\nexport var timelineHeaderCellLabel = 'e-header-cell-label';\nexport var weekendHeaderCell = 'e-weekend-header-cell';\nexport var timelineSingleHeaderCell = 'e-timeline-single-header-cell';\nexport var timelineSingleHeaderOuterDiv = 'e-timeline-single-header-outer-div';\nexport var virtualTable = 'e-virtualtable';\nexport var virtualTrack = 'e-virtualtrack';\n// Chart Rows-Class\nexport var leftLabelContainer = 'e-left-label-container';\nexport var leftLabelTempContainer = 'e-left-label-container e-left-label-temp-container';\nexport var leftLabelInnerDiv = 'e-left-label-inner-div';\nexport var rightLabelContainer = 'e-right-label-container';\nexport var rightLabelTempContainer = 'e-right-label-container e-right-label-temp-container';\nexport var rightLabelInnerDiv = 'e-right-label-inner-div';\nexport var taskBarMainContainer = 'e-taskbar-main-container';\nexport var parentTaskBarInnerDiv = 'e-gantt-parent-taskbar-inner-div';\nexport var parentProgressBarInnerDiv = 'e-gantt-parent-progressbar-inner-div';\nexport var taskLabel = 'e-task-label';\nexport var childTaskBarInnerDiv = 'e-gantt-child-taskbar-inner-div';\nexport var childProgressBarInnerDiv = 'e-gantt-child-progressbar-inner-div';\nexport var criticalChildTaskBarInnerDiv = 'e-gantt-child-critical-taskbar-inner-div';\nexport var criticalChildProgressBarInnerDiv = 'e-gantt-child-critical-progressbar-inner-div';\nexport var criticalMilestone = 'e-critical-milestone';\nexport var baselineBar = 'e-baseline-bar';\nexport var baselineMilestoneContainer = 'e-baseline-gantt-milestone-container';\nexport var baselineMilestoneDiv = 'e-baseline-gantt-milestone';\nexport var chartRowCell = 'e-chart-row-cell';\nexport var chartRow = 'e-chart-row';\nexport var rowExpand = 'e-row-expand';\nexport var rowCollapse = 'e-row-collapse';\nexport var collapseParent = 'e-collapse-parent';\nexport var taskBarLeftResizer = 'e-taskbar-left-resizer';\nexport var taskBarRightResizer = 'e-taskbar-right-resizer';\nexport var childProgressResizer = 'e-child-progress-resizer';\nexport var progressBarHandler = 'e-progressbar-handler';\nexport var progressHandlerElement = 'e-progressbar-handler-element';\nexport var progressBarHandlerAfter = 'e-progressbar-handler-after';\nexport var icon = 'e-icon';\nexport var traceMilestone = 'e-gantt-milestone';\nexport var parentMilestone = 'e-gantt-parent-milestone';\nexport var traceChildTaskBar = 'e-gantt-child-taskbar';\nexport var traceChildProgressBar = 'e-gantt-child-progressbar';\nexport var manualParentMainContainer = 'e-manualparent-main-container';\nexport var manualParentTaskBar = 'e-gantt-manualparenttaskbar';\nexport var manualParentMilestone = 'e-gantt-manualparent-milestone';\nexport var manualChildTaskBar = 'e-gantt-child-manualtaskbar';\nexport var manualChildProgressBar = 'e-gantt-child-manualprogressbar';\nexport var manualParentRightResizer = 'e-gantt-manualparenttaskbar-right';\nexport var manualParentLeftResizer = 'e-gantt-manualparenttaskbar-left';\nexport var traceManualUnscheduledTask = 'e-gantt-unscheduled-manualtask';\nexport var traceParentTaskBar = 'e-gantt-parent-taskbar';\nexport var traceParentProgressBar = 'e-gantt-parent-progressbar';\nexport var traceUnscheduledTask = 'e-gantt-unscheduled-task';\nexport var criticalUnscheduledTask = 'e-gantt-critical-unscheduled-taskbar';\nexport var taskIndicatorDiv = 'e-indicator-span';\nexport var leftResizeGripper = 'e-left-resize-gripper';\nexport var rightResizeGripper = 'e-right-resize-gripper';\nexport var progressResizeGripper = 'e-progress-resize-gripper';\nexport var label = 'e-label';\n//event Markers classes\nexport var eventMarkersContainer = 'e-event-markers-container';\nexport var eventMarkersChild = 'e-event-markers';\nexport var eventMarkersSpan = 'e-span-label';\n//holiday classes\nexport var nonworkingContainer = 'e-nonworking-day-container';\nexport var holidayContainer = 'e-holiday-container';\nexport var holidayElement = 'e-holiday';\nexport var holidayLabel = 'e-span';\n//weekend classes\nexport var weekendContainer = 'e-weekend-container';\nexport var weekend = 'e-weekend';\n//Unscheduled Taskbar\nexport var unscheduledTaskbarLeft = 'e-gantt-unscheduled-taskbar-left';\nexport var unscheduledTaskbarRight = 'e-gantt-unscheduled-taskbar-right';\nexport var unscheduledTaskbar = 'e-gantt-unscheduled-taskbar';\nexport var unscheduledMilestoneTop = 'e-unscheduled-milestone-top';\nexport var unscheduledMilestoneBottom = 'e-unscheduled-milestone-bottom';\n//Connector Line\nexport var dependencyViewContainer = 'e-gantt-dependency-view-container';\nexport var connectorLineContainer = 'e-connector-line-container';\nexport var connectorLine = 'e-line';\nexport var connectorLineSVG = 'e-connector-line';\nexport var criticalConnectorLineSVG = 'e-critical-line';\nexport var criticalConnectorArrowSVG = 'e-critical-line-arrow';\nexport var connectorLineArrow = 'e-connector-line-arrow';\nexport var criticalConnectorLine = 'e-criticalconnector-line';\nexport var criticalConnectorLineRightArrow = 'e-criticalconnector-line-right-arrow';\nexport var criticalConnectorLineLeftArrow = 'e-criticalconnector-line-left-arrow';\nexport var connectorLineRightArrow = 'e-connector-line-right-arrow';\nexport var connectorLineLeftArrow = 'e-connector-line-left-arrow';\nexport var connectorLineZIndex = 'e-connector-line-z-index';\nexport var connectorLineHover = 'e-connector-line-hover';\nexport var criticalConnectorLineHover = 'e-critical-connector-line-hover';\nexport var connectorLineHoverZIndex = 'e-connector-line-hover-z-index';\nexport var connectorLineRightArrowHover = 'e-connector-line-right-arrow-hover';\nexport var connectorLineLeftArrowHover = 'e-connector-line-left-arrow-hover';\nexport var criticalConnectorLineRightArrowHover = 'e-critical-connector-line-right-arrow-hover';\nexport var criticalConnectorLineLeftArrowHover = 'e-critical-connector-line-left-arrow-hover';\nexport var connectorTouchPoint = 'e-connectortouchpoint';\nexport var connectorPointLeft = 'e-connectorpoint-left';\nexport var connectorPointRight = 'e-connectorpoint-right';\nexport var connectorPointLeftHover = 'e-connectorpoint-left-hover';\nexport var connectorPointRightHover = 'e-connectorpoint-right-hover';\nexport var falseLine = 'e-gantt-false-line';\nexport var connectorTooltipTaskName = 'e-tooltiptaskname';\nexport var connectorTooltipFalse = 'e-predecessor-false';\nexport var connectorTooltipTrue = 'e-predecessor-true';\nexport var rightConnectorPointOuterDiv = 'e-right-connectorpoint-outer-div';\nexport var leftConnectorPointOuterDiv = 'e-left-connectorpoint-outer-div';\nexport var connectorPointAllowBlock = 'e-connectorpoint-allow-block';\nexport var ganttTooltip = 'e-gantt-tooltip';\n// Context Menu\nexport var columnHeader = '.e-gridheader';\nexport var content = '.e-content';\nexport var editForm = '.e-gridform';\nexport var deleteIcon = 'e-delete';\nexport var saveIcon = 'e-save';\nexport var cancelIcon = 'e-cancel';\nexport var ascendingIcon = 'e-icon-ascending';\nexport var descendingIcon = 'e-icon-descending';\nexport var editIcon = 'e-edit';\nexport var indentIcon = 'e-indent';\nexport var outdentIcon = 'e-outdent';\nexport var addIcon = 'e-add';\nexport var criticalPathIcon = 'e-critical-path';\nexport var addAboveIcon = 'e-add-above';\nexport var addBelowIcon = 'e-add-below';\n//Predecessor touch mode\nexport var activeParentTask = 'e-active-parent-task';\nexport var activeChildTask = 'e-active-child-task';\nexport var activeConnectedTask = 'e-active-connected-task';\nexport var touchMode = 'e-predecessor-touch-mode';\n//Over allocation range container\nexport var rangeContainer = 'e-rangecontainer';\nexport var rangeChildContainer = 'e-rg-rangdiv';\nexport var rangeChildMiddleContainer = 'e-rg-middlerangdiv';\n","import { formatUnit, EventHandler, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * To handle scroll event on chart and from TreeGrid\n *\n * @hidden\n */\nvar ChartScroll = /** @class */ (function () {\n    /**\n     * Constructor for the scrolling.\n     *\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function ChartScroll(parent) {\n        this.previousCount = -1;\n        this.isSetScrollLeft = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.parent = parent;\n        this.element = this.parent.ganttChartModule.scrollElement;\n        this.addEventListeners();\n    }\n    /**\n     * Bind event\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.addEventListeners = function () {\n        this.parent.on('grid-scroll', this.gridScrollHandler, this);\n        EventHandler.add(this.element, 'scroll', this.onScroll, this);\n        this.parent.treeGrid.grid.on('showGanttShimmer', this.updateShimmer, this);\n        this.parent.treeGrid.grid.on('removeGanttShimmer', this.removeShimmer, this);\n        this.parent.treeGrid.grid.on('virtualTransform', this.transformChange, this);\n    };\n    /**\n     * Unbind events\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.removeEventListeners = function () {\n        EventHandler.remove(this.element, 'scroll', this.onScroll);\n        this.parent.off('grid-scroll', this.gridScrollHandler);\n        this.parent.treeGrid.grid.off('showGanttShimmer', this.updateShimmer);\n        this.parent.treeGrid.grid.off('removeGanttShimmer', this.removeShimmer);\n        this.parent.treeGrid.grid.off('virtualTransform', this.transformChange);\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     */\n    ChartScroll.prototype.gridScrollHandler = function (args) {\n        this.element.scrollTop = getValue('top', args);\n        this.isFromTreeGrid = true;\n    };\n    /**\n     * Method to update vertical grid line, holiday, event markers and weekend container's top position on scroll action\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.updateContent = function () {\n        var ganttElement = this.parent.element;\n        var currentCount = Math.round(this.element.scrollLeft / ganttElement.offsetWidth);\n        if (this.previousCount !== currentCount || this.parent.timelineModule['performedTimeSpanAction']) {\n            this.deleteTableElements();\n            this.parent.timelineModule.createTimelineSeries();\n            if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n                this.parent['renderChartVerticalLines']();\n            }\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule['eventMarkerRender'].renderEventMarkers();\n            }\n            this.parent.timelineModule['performedTimeSpanAction'] = false;\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule.nonworkingDayRender.renderWeekends();\n                this.parent.dayMarkersModule.nonworkingDayRender.renderHolidays();\n            }\n            this.updateChartElementStyles();\n            this.previousCount = currentCount;\n            if (this.isSetScrollLeft) {\n                this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            }\n        }\n    };\n    ChartScroll.prototype.getTimelineLeft = function () {\n        var tLeft;\n        var ganttElement = this.parent.element;\n        var resultantWidth = this.parent.timelineModule.wholeTimelineWidth > (ganttElement.offsetWidth * 3) ?\n            this.parent.timelineModule.wholeTimelineWidth - ganttElement.offsetWidth * 3 : 0;\n        if (this.element.scrollLeft === (this.parent.enableRtl ? -resultantWidth : resultantWidth)) {\n            tLeft = this.element.scrollLeft;\n        }\n        else {\n            var left = this.parent.enableRtl ? -this.element.scrollLeft : this.element.scrollLeft;\n            tLeft = (left > ganttElement.offsetWidth) ? left - ganttElement.offsetWidth : 0;\n        }\n        if (tLeft >= resultantWidth) {\n            tLeft = resultantWidth;\n        }\n        if ((tLeft <= ganttElement.offsetWidth) && this.isBackwardScrolled) {\n            tLeft = 0;\n        }\n        if (this.parent.timelineModule.isZoomToFit || this.parent.timelineModule.isZooming) {\n            tLeft = 0;\n        }\n        return tLeft;\n    };\n    ChartScroll.prototype.deleteTableElements = function () {\n        var tableContainer = this.parent.element.getElementsByClassName('e-timeline-header-table-container');\n        do {\n            tableContainer[0].remove();\n        } while (tableContainer.length > 0);\n        if (this.parent.element.querySelector('#ganttContainerline-container')) {\n            this.parent.element.querySelector('#ganttContainerline-container').innerHTML = '';\n        }\n        if (this.parent.element.querySelector('.e-nonworking-day-container')) {\n            this.parent.element.querySelector('.e-nonworking-day-container').outerHTML = null;\n        }\n    };\n    ChartScroll.prototype.updateChartElementStyles = function () {\n        var translateXValue = this.getTimelineLeft();\n        if (this.parent.enableTimelineVirtualization) {\n            // updating connector line & task table styles\n            var dependencyViewer = this.parent.connectorLineModule.dependencyViewContainer;\n            var taskTable = this.parent.chartRowsModule.taskTable;\n            if (!this.parent.enableRtl) {\n                dependencyViewer.style.left = -translateXValue + 'px';\n                taskTable.style.left = -translateXValue + 'px';\n            }\n            else {\n                dependencyViewer.style.left = translateXValue + 'px';\n                taskTable.style.right = -translateXValue + 'px';\n            }\n            taskTable.style.width = this.parent.timelineModule.wholeTimelineWidth + 'px';\n        }\n    };\n    ChartScroll.prototype.updateTopPosition = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        var contentScrollTop = content.scrollTop;\n        var scrollTop;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var top_1 = this.parent.virtualScrollModule.getTopPosition();\n            scrollTop = contentScrollTop - top_1;\n        }\n        else {\n            scrollTop = contentScrollTop;\n        }\n        if (!isNullOrUndefined(this.parent.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.parent.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.parent.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.parent.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.top = formatUnit(scrollTop);\n            }\n            if (weekendContainer) {\n                weekendContainer.style.top = formatUnit(scrollTop);\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.top = formatUnit(scrollTop);\n            }\n        }\n        if (this.parent.chartVerticalLineContainer) {\n            this.parent.chartVerticalLineContainer.style.top = formatUnit(scrollTop);\n        }\n    };\n    ChartScroll.prototype.removeShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.hideMaskRow();\n            if (!parent.allowTaskbarOverlap && parent.showOverAllocation) {\n                for (var i = 0; i < parent.currentViewData.length; i++) {\n                    var tr = parent.chartRowsModule.ganttChartTableBody.childNodes[i];\n                    if (tr['style'].display !== 'none' && parent.currentViewData[i].hasChildRecords && !parent.currentViewData[i].expanded) {\n                        if (parent.ganttChartModule.isExpandAll || parent.ganttChartModule.isCollapseAll) {\n                            parent.treeGrid.getRowByIndex(i)['style'].height = tr['style'].height;\n                        }\n                        else {\n                            parent.treeGrid.getRows()[i]['style'].height = tr['style'].height;\n                        }\n                    }\n                }\n                parent.contentHeight = parent.enableRtl ? parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                parent.element.getElementsByClassName('e-chart-rows-container')[0]['style'].height = parent.contentHeight + 'px';\n            }\n        }, 0);\n    };\n    ChartScroll.prototype.transformChange = function () {\n        this.parent.ganttChartModule.virtualRender.adjustTable();\n        this.parent.ganttChartModule.scrollObject.updateTopPosition();\n    };\n    ChartScroll.prototype.updateShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.showMaskRow();\n        }, 0);\n    };\n    ChartScroll.prototype.updateSpinner = function () {\n        var parent = this.parent;\n        this.parent.showSpinner();\n        window.clearTimeout(this.isScrolling);\n        this.isScrolling = setTimeout(function () {\n            parent.hideSpinner();\n        }, 200);\n    };\n    /**\n     * Scroll event handler\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.onScroll = function () {\n        var _this = this;\n        var scrollArgs = {};\n        if (this.element.scrollTop !== this.previousScroll.top) {\n            // eslint-disable-next-line\n            !this.isFromTreeGrid ? this.parent.notify('chartScroll', { top: this.element.scrollTop }) : (this.isFromTreeGrid = false);\n            scrollArgs.previousScrollTop = this.previousScroll.top;\n            this.previousScroll.top = this.element.scrollTop;\n            scrollArgs.scrollTop = this.element.scrollTop;\n            scrollArgs.scrollDirection = 'Vertical';\n            scrollArgs.action = 'VerticalScroll';\n            this.updateTopPosition();\n        }\n        if (this.element.scrollLeft !== this.previousScroll.left) {\n            this.isBackwardScrolled = (this.element.scrollLeft < this.previousScroll.left && !this.parent.enableRtl);\n            this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            scrollArgs.previousScrollLeft = this.previousScroll.left;\n            this.previousScroll.left = this.element.scrollLeft;\n            scrollArgs.scrollLeft = this.element.scrollLeft;\n            scrollArgs.scrollDirection = 'Horizontal';\n            scrollArgs.action = 'HorizontalScroll';\n            if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth >\n                this.parent.element.offsetWidth * 3) {\n                this.isSetScrollLeft = true;\n                if (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    this.updateContent();\n                }\n                this.parent.ganttChartModule.updateWidthAndHeight();\n                if (this.parent.element.getElementsByClassName('e-weekend-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-weekend-container')[0]['style'].height = '100%';\n                }\n                if (this.parent.element.getElementsByClassName('e-holiday-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-holiday-container')[0]['style'].height = '100%';\n                }\n            }\n            else if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth <\n                this.parent.element.offsetWidth * 3) {\n                this.parent.connectorLineModule.svgObject.setAttribute('width', '100%');\n            }\n        }\n        this.parent.timelineModule['performedTimeSpanAction'] = false;\n        if ((!isNullOrUndefined(scrollArgs.scrollDirection)) && (this.parent.enableVirtualization === true ||\n            this.parent.enableTimelineVirtualization === true) && (this.parent.isToolBarClick ||\n            isNullOrUndefined(this.parent.isToolBarClick))) {\n            this.parent.isVirtualScroll = true;\n            if (this.parent.showIndicator || isNullOrUndefined(this.parent.showIndicator)) {\n                if (!this.parent.enableVirtualMaskRow && this.parent.enableVirtualization && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                    this.updateSpinner();\n                }\n                else if (this.parent.enableTimelineVirtualization && !this.parent['isRowSelected'] && Math.abs(this.element.scrollLeft - scrollArgs.previousScrollLeft) > 1000) {\n                    if (!this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                        this.updateSpinner();\n                    }\n                    else {\n                        this.parent.showMaskRow();\n                        setTimeout(function () {\n                            _this.removeShimmer();\n                        }, 0);\n                    }\n                }\n                this.parent['isRowSelected'] = false;\n            }\n        }\n        this.isSetScrollLeft = false;\n        this.parent.isToolBarClick = true;\n        scrollArgs.requestType = 'scroll';\n        this.parent.trigger('actionComplete', scrollArgs);\n    };\n    /**\n     * To set height for chart scroll container\n     *\n     * @param {string | number} height - To set height for scroll container in chart side\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setHeight = function (height) {\n        this.element.style.height = formatUnit(height);\n    };\n    /**\n     * To set width for chart scroll container\n     *\n     * @param {string | number} width - To set width to scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setWidth = function (width) {\n        this.element.style.width = formatUnit(width);\n    };\n    /**\n     * To set scroll top for chart scroll container\n     *\n     * @param {number} scrollTop - To set scroll top for scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setScrollTop = function (scrollTop) {\n        this.element.scrollTop = scrollTop;\n        this.parent.treeGrid.element.querySelector('.e-content').scrollTop = scrollTop;\n    };\n    /**\n     * To set scroll left for chart scroll container\n     *\n     * @param {number} scrollLeft  - To set scroll left for scroll container\n     * @param {number} leftSign - specifies left sign\n     * @returns {void} .\n     */\n    ChartScroll.prototype.setScrollLeft = function (scrollLeft, leftSign) {\n        if (leftSign) {\n            scrollLeft = leftSign === -1 && this.parent.enableRtl ? -scrollLeft : scrollLeft;\n        }\n        this.isSetScrollLeft = true;\n        this.element.scrollLeft = scrollLeft;\n        this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n        if (!this.parent.enableTimelineVirtualization || (!this.parent.enableTimelineVirtualization &&\n            this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) {\n            this.previousScroll.left = this.element.scrollLeft;\n        }\n    };\n    /**\n     * Destroy scroll related elements and unbind the events\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.destroy = function () {\n        this.removeEventListeners();\n    };\n    return ChartScroll;\n}());\nexport { ChartScroll };\n","import { createElement } from '@syncfusion/ej2-base';\n/**\n * virtual Content renderer for Gantt\n */\nvar VirtualContentRenderer = /** @class */ (function () {\n    function VirtualContentRenderer(parent) {\n        this.parent = parent;\n    }\n    /**\n     * To render a wrapper for chart body content when virtualization is enabled.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.renderWrapper = function () {\n        this.wrapper = createElement('div', { className: 'e-virtualtable', styles: 'position: absolute; transform: translate(0px, 0px);' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.wrapper);\n        this.virtualTrack = createElement('div', { className: 'e-virtualtrack', styles: 'position: relative; pointer-events: none; width: 100%;' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.virtualTrack);\n        this.wrapper.appendChild(this.parent.ganttChartModule.chartBodyContent);\n    };\n    /**\n     * To append child elements for wrappered element when virtualization is enabled.\n     *\n     * @param {HTMLElement} element .\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.appendChildElements = function (element) {\n        this.wrapper.appendChild(element);\n    };\n    /**\n     * To adjust gantt content table's style when virtualization is enabled\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.adjustTable = function () {\n        var content = this.parent.treeGrid.getContent().querySelector('.e-content').querySelector('.e-virtualtable');\n        if (this.parent.enableTimelineVirtualization) {\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var translateXValue = void 0;\n            if (virtualTable !== '') {\n                translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            else {\n                var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n        }\n        else {\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = content.style.transform;\n        }\n    };\n    return VirtualContentRenderer;\n}());\nexport { VirtualContentRenderer };\n","import { createElement, formatUnit, EventHandler, Browser } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, closest, addClass, removeClass, getValue, setValue } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { ChartScroll } from '../actions/chart-scroll';\nimport { click } from '@syncfusion/ej2-grids';\nimport { VirtualContentRenderer } from '../renderer/virtual-content-render';\n/**\n * module to render gantt chart - project view\n */\nvar GanttChart = /** @class */ (function () {\n    function GanttChart(parent) {\n        this.isExpandCollapseFromChart = false;\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n        this.isGanttElement = false;\n        this.currentToolbarIndex = -1;\n        this.parent = parent;\n        this.chartTimelineContainer = null;\n        this.rangeViewContainer =\n            createElement('div', { className: cls.rangeContainer });\n        this.rangeViewContainer.setAttribute('role', 'button');\n        this.rangeViewContainer.setAttribute('aria-label', 'RangeContainer');\n        this.virtualRender = new VirtualContentRenderer(this.parent);\n        this.addEventListener();\n    }\n    GanttChart.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.renderChartContainer, this);\n        this.parent.on('recordsUpdated', this.renderChartElements, this);\n        this.parent.on('dataReady', this.renderInitialContents, this);\n        this.parent.on('tree-grid-created', this.renderChartContents, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    GanttChart.prototype.renderChartContents = function () {\n        this.parent.notify('refreshDayMarkers', {});\n        this.wireEvents();\n    };\n    /**\n     * Method to render top level containers in Gantt chart\n     *\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderChartContainer = function () {\n        this.chartElement = createElement('div', { id: this.parent.element.id + 'GanttChart', className: cls.ganttChart });\n        this.parent.chartPane.appendChild(this.chartElement);\n        this.renderTimelineContainer();\n        this.renderBodyContainers();\n        // render top level div header and content\n        // Get timeline header from timeline class file and append to header div\n        // render content div\n        // Render scroll able div\n        // Render container for all element like, table, weekend and holidays\n        // Get rows element from rows renderer class\n        // Get label related info label renderer class\n        // Get baseline from baseline renderer class\n        // Get weekend elements from weekend-holidays renderer class\n    };\n    /**\n     * method to render timeline, holidays, weekends at load time\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderInitialContents = function () {\n        this.parent.timelineModule.createTimelineSeries();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderOverAllocationContainer = function () {\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            var data = this.parent.flatData[i];\n            if (data.childRecords.length > 0) {\n                this.parent.dataOperation.updateOverlappingValues(data);\n            }\n        }\n        var rangeContainer = this.parent.element.querySelector('.' + cls.rangeContainer);\n        if (rangeContainer) {\n            rangeContainer.innerHTML = '';\n        }\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            this.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    GanttChart.prototype.renderChartElements = function () {\n        if (this.parent.isFromOnPropertyChange) {\n            this.rangeViewContainer.innerHTML = '';\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n            this.parent.isFromOnPropertyChange = false;\n        }\n        else {\n            this.parent.chartRowsModule.renderChartRows();\n            if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n                this.parent.connectorLineIds = [];\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.predecessorModule.createConnectorLinesCollection();\n            }\n            this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n            for (var i = 0; i < this.parent.chartRowsModule.ganttChartTableBody.children.length; i++) {\n                if (this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4]) {\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[2].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4].setAttribute('tabindex', '-1');\n                }\n                else {\n                    if (this.parent.viewType === 'ProjectView') {\n                        var node = this.parent.chartRowsModule.ganttChartTableBody.\n                            children[parseInt(i.toString(), 10)].children[0].children[1].children[1];\n                        if (!isNullOrUndefined(node)) {\n                            this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                        }\n                    }\n                    else if (this.parent.chartRowsModule.ganttChartTableBody.children[parseInt(i.toString(), 10)].children[0].\n                        children[1].children[0]) {\n                        this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[0].setAttribute('tabindex', '-1');\n                    }\n                }\n            }\n            var criticalModule = this.parent.criticalPathModule;\n            if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, this.parent.enableCriticalPath, criticalModule.predecessorCollectionTaskIds);\n            }\n            if (this.parent.showOverAllocation) {\n                this.renderOverAllocationContainer();\n            }\n        }\n        this.updateWidthAndHeight();\n        if (this.parent.isLoad) {\n            this.parent.notify('selectRowByIndex', {});\n        }\n        if (this.parent.timelineModule.isZoomToFit) {\n            this.parent.timelineModule.processZoomToFit();\n        }\n    };\n    /**\n     * @param {IGanttData[]} records .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderRangeContainer = function (records) {\n        var recordLength = records.length;\n        var count;\n        var ganttRecord;\n        var rangeCollection;\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            for (count = 0; count < recordLength; count++) {\n                ganttRecord = records[count];\n                rangeCollection = ganttRecord.ganttProperties.workTimelineRanges;\n                if (rangeCollection) {\n                    this.renderRange(rangeCollection, ganttRecord);\n                }\n            }\n        }\n    };\n    GanttChart.prototype.getTopValue = function (currentRecord) {\n        var updatedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var recordIndex = updatedRecords.indexOf(currentRecord);\n        if (currentRecord.parentItem && recordIndex === -1) {\n            var nestedParent = this.parent.getRecordByID(currentRecord.parentItem.taskId);\n            recordIndex = updatedRecords.indexOf(nestedParent);\n        }\n        if (!currentRecord.expanded) {\n            return (recordIndex * this.parent.rowHeight);\n        }\n        return ((recordIndex + 1) * this.parent.rowHeight);\n    };\n    /*get height for range bar*/\n    GanttChart.prototype.getRangeHeight = function (data) {\n        if (!data.expanded && data.hasChildRecords) {\n            return (this.parent.rowHeight - Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight)));\n        }\n        return (data.childRecords.length * this.parent.rowHeight) -\n            Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight));\n    };\n    GanttChart.prototype.renderRange = function (rangeCollection, currentRecord) {\n        var topValue = 0;\n        var rowIndex = this.parent.currentViewData.indexOf(currentRecord);\n        if (!this.parent.allowTaskbarOverlap && this.parent.enableMultiTaskbar) {\n            topValue = !currentRecord.expanded ? this.parent.getRowByIndex(rowIndex).offsetTop :\n                this.parent.getRowByIndex(rowIndex).offsetTop + this.parent.rowHeight;\n        }\n        else {\n            topValue = this.getTopValue(currentRecord);\n        }\n        var sameIDElement = this.rangeViewContainer.querySelector('.' + 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID);\n        if (sameIDElement) {\n            sameIDElement.remove();\n        }\n        var parentDiv = createElement('div', {\n            className: 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID, styles: \"top:\" + topValue + \"px; position: absolute;\"\n        });\n        if (currentRecord.level === 0 && !currentRecord.expanded && isNullOrUndefined(currentRecord.parentItem)\n            && !this.parent.enableMultiTaskbar) {\n            return;\n        }\n        if (currentRecord.level > 0 && currentRecord.expanded && !this.parent.getRecordByID(currentRecord.parentItem.taskId).expanded) {\n            return;\n        }\n        for (var i = 0; i < rangeCollection.length; i++) {\n            var height = void 0;\n            var node = this.parent.chartRowsModule.ganttChartTableBody.childNodes;\n            if (!this.parent.allowTaskbarOverlap && !currentRecord.expanded && this.parent.enableMultiTaskbar && !this.isCollapseAll) {\n                height = parseInt(node[rowIndex].style.height, 10) -\n                    (this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight);\n            }\n            else {\n                height = this.getRangeHeight(currentRecord);\n            }\n            var leftDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-leftarc', styles: (this.parent.enableRtl ? 'right:' : 'left:') +\n                    ((this.parent.enableRtl ? rangeCollection[i].left + rangeCollection[i].width - 5 : rangeCollection[i].left) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px;\\n                height: \" + (height + 1) + \"px; border-right: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            var rightDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-rightarc',\n                styles: (this.parent.enableRtl ? 'right:' : 'left:') + ((this.parent.enableRtl ? rangeCollection[i].left :\n                    rangeCollection[i].left + rangeCollection[i].width - 5) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px; height: \" + (height + 1) + \"px;\\n                border-left: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            parentDiv.appendChild(leftDiv);\n            parentDiv.appendChild(rightDiv);\n            this.rangeViewContainer.appendChild(parentDiv);\n        }\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.rangeViewContainer);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderTimelineContainer = function () {\n        this.chartTimelineContainer =\n            createElement('div', { className: cls.timelineHeaderContainer });\n        if (this.parent.enableRtl) {\n            this.chartTimelineContainer.style.borderLeftWidth = '1px';\n            this.chartTimelineContainer.style.borderRightWidth = '0px';\n        }\n        this.chartTimelineContainer.setAttribute('role', 'presentation');\n        this.chartElement.appendChild(this.chartTimelineContainer);\n    };\n    /**\n     * initiate chart container\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderBodyContainers = function () {\n        this.chartBodyContainer = createElement('div', { className: cls.chartBodyContainer });\n        this.chartElement.appendChild(this.chartBodyContainer);\n        this.scrollElement = createElement('div', {\n            className: cls.chartScrollElement + ' ' + cls.scrollContent, styles: 'position:relative;'\n        });\n        this.chartBodyContainer.appendChild(this.scrollElement);\n        this.chartBodyContent = createElement('div', { className: cls.chartBodyContent, styles: 'position:relative; overflow:hidden ' });\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization || this.parent.enableTimelineVirtualization) {\n            this.parent.ganttChartModule.virtualRender.renderWrapper();\n        }\n        else {\n            this.scrollElement.appendChild(this.chartBodyContent);\n        }\n        // this.parent.chartRowsModule.createChartTable();\n        this.scrollObject = new ChartScroll(this.parent);\n        //this.scrollObject.setWidth(this.chartProperties.width);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        this.scrollObject.\n            setHeight(this.parent.ganttHeight - this.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateWidthAndHeight = function () {\n        //empty row height\n        var emptydivHeight = 36;\n        var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n            this.parent.contentHeight;\n        var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (emptyHeight >= contentElement['offsetHeight'] || this.parent.height === 'auto' || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n            this.chartBodyContent.style.height = formatUnit(emptyHeight);\n        }\n        else {\n            var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            if (contentElement['offsetHeight'] >= scrollHeight) {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n            }\n            else {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n            }\n        } //let element: HTMLElement = this.chartTimelineContainer.querySelector('.' + cls.timelineHeaderTableContainer);\n        this.chartBodyContent.style.width = (this.parent.enableTimelineVirtualization\n            && (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) ?\n            formatUnit(this.parent.element.offsetWidth * 3)\n            : formatUnit(this.parent.timelineModule.totalTimelineWidth);\n        this.setVirtualHeight();\n        this.parent.notify('updateHeight', {});\n        this.parent.updateGridLineContainerHeight();\n        this.updateLastRowBottomWidth();\n    };\n    GanttChart.prototype.setVirtualHeight = function () {\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var wrapper = getValue('virtualTrack', this.parent.ganttChartModule.virtualRender);\n            wrapper.style.height = this.parent.treeGrid.element.getElementsByClassName('e-virtualtrack')[0].style.height;\n            var wrapper1 = getValue('wrapper', this.parent.ganttChartModule.virtualRender);\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            if (this.parent.enableTimelineVirtualization) {\n                var translateXValue = void 0;\n                if (virtualTable !== '') {\n                    translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                else {\n                    var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                    translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n                wrapper1.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n            }\n            else {\n                wrapper1.style.transform = treegridVirtualHeight;\n            }\n        }\n    };\n    /**\n     * Method to update bottom border for chart rows\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.updateLastRowBottomWidth = function () {\n        if (this.parent.currentViewData.length > 0 && this.parent.height !== 'auto') {\n            var expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.getExpandedRecords(this.parent.currentViewData);\n            var lastExpandedRow = expandedRecords[expandedRecords.length - 1];\n            var lastExpandedRowIndex = this.parent.currentViewData.indexOf(lastExpandedRow);\n            var lastRow = this.parent.getRowByIndex(lastExpandedRowIndex);\n            var table = this.parent.chartRowsModule.ganttChartTableBody;\n            if (table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow')) {\n                removeClass(table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow'), 'e-lastrow');\n            }\n            if (this.chartBodyContent.clientHeight < this.chartBodyContainer.clientHeight) {\n                if (lastRow) {\n                    addClass(lastRow.querySelectorAll('td'), 'e-lastrow');\n                    var emptydivHeight = 36;\n                    var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n                        this.parent.contentHeight;\n                    var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n                    if (emptyHeight >= contentElement['offsetHeight'] || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n                        this.chartBodyContent.style.height = formatUnit(emptyHeight);\n                    }\n                    else {\n                        var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n                        if (contentElement['offsetHeight'] >= scrollHeight) {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n                        }\n                        else {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n                        }\n                    }\n                }\n            }\n        }\n    };\n    GanttChart.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('renderPanels', this.renderChartContainer);\n        this.parent.off('recordsUpdated', this.renderChartElements);\n        this.parent.off('dataReady', this.renderInitialContents);\n        this.parent.off('tree-grid-created', this.renderChartContents);\n        this.parent.off('destroy', this.destroy);\n    };\n    /**\n     * Click event handler in chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.ganttChartMouseDown = function (e) {\n        var cancel = false;\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule && this.parent.editSettings.allowTaskbarEditing) {\n            var editAction = this.parent.editModule.taskbarEditModule['getTaskBarAction'](e);\n            if (editAction === 'ChildDrag' || editAction === 'ParentDrag' || editAction === 'MilestoneDrag' || editAction === 'ManualParentDrag') {\n                var args = {\n                    cancel: cancel,\n                    data: this.getRecordByTaskBar(e.target),\n                    target: e.target,\n                    chartRow: closest(e.target, 'tr')\n                };\n                this.parent.trigger('rowDragStartHelper', args);\n                cancel = args['cancel'];\n            }\n        }\n        if (!cancel) {\n            if (e.which !== 3 && this.parent.editSettings.allowTaskbarEditing) {\n                this.parent.notify('chartMouseDown', e);\n                this.parent.element.tabIndex = 0;\n            }\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing && (this.parent.element.querySelector('.e-left-resize-gripper') || this.parent.element.querySelector('.e-left-connectorpoint-outer-div'))) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited || e.button === 2) {\n                if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                    this.parent.treeGrid.endEdit();\n                }\n            }\n        }\n    };\n    GanttChart.prototype.ganttChartMouseClick = function (e) {\n        if (this.parent.autoFocusTasks) {\n            this.scrollToTarget(e); /** Scroll to task */\n        }\n        this.parent.notify('chartMouseClick', e);\n    };\n    GanttChart.prototype.ganttChartMouseUp = function (e) {\n        if (e.type === 'touchend') {\n            var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n            if (!isNullOrUndefined(resizeCheck)) {\n                resizeCheck.remove();\n            }\n            var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar') || this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n            var falseline = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-gantt-false-line');\n            if (!isNullOrUndefined(falseline)) {\n                this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        if (!this.parent.editSettings.allowEditing) {\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing &&\n                getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n                getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited) {\n                /** Expand/collapse action */\n                var target = e.target;\n                var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                    || closest(e.target, '.' + cls.taskBarMainContainer);\n                if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing) {\n                    this.chartExpandCollapseRequest(e);\n                }\n                else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                    this.scrollToTarget(e); /** Scroll to task */\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.scrollToTarget = function (e) {\n        var row = closest(e.target, 'tr');\n        if (row && this.parent.element.contains(row) &&\n            (this.parent.element.querySelectorAll('.e-chart-rows-container')[0].contains(e.target) ||\n                this.parent.element.querySelectorAll('.e-gridcontent')[0].contains(e.target)) &&\n            this.parent.currentViewData.length > 0) {\n            var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n            var dateObject = this.parent.currentViewData[rowIndex].ganttProperties.startDate;\n            var dateObjLeft = this.parent.currentViewData[rowIndex].ganttProperties.left;\n            if (!isNullOrUndefined(dateObject)) {\n                var left = !this.parent.enableTimelineVirtualization ?\n                    this.parent.dataOperation.getTaskLeft(dateObject, false) : {};\n                if (this.parent.autoFocusTasks) {\n                    if (this.parent.enableTimelineVirtualization) {\n                        this.updateScrollLeft(dateObjLeft);\n                    }\n                    else {\n                        this.updateScrollLeft(left);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To focus selected task in chart side\n     *\n     * @param {number} scrollLeft .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateScrollLeft = function (scrollLeft) {\n        scrollLeft = scrollLeft > 0 ? scrollLeft : 0;\n        scrollLeft = this.scrollElement.scrollWidth <= scrollLeft ? this.scrollElement.scrollWidth : scrollLeft;\n        if ((this.scrollElement.offsetWidth + this.parent.ganttChartModule.scrollElement.scrollLeft) < scrollLeft\n            || (this.scrollElement.scrollLeft > scrollLeft)) {\n            this.scrollObject.setScrollLeft(scrollLeft - 50, this.parent.enableRtl ? -1 : 0);\n        }\n        //  this.parent.ganttChartModule.scrollObject.updateLeftPosition();\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void}\n     * @private\n     */\n    GanttChart.prototype.mouseUp = function (e) {\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(false);\n        }\n        var resizeCheck = this.parent.element.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule['previousLeftValue'] = 0;\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (!this.isGanttElement) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        this.isGanttElement = false;\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.documentMouseUp = function (e) {\n        this.isGanttElement = true;\n        if (e.target.classList.contains('e-treegridexpand') ||\n            e.target.classList.contains('e-treegridcollapse')) {\n            if (getValue('isEditCollapse', this.parent.treeGrid) === true) {\n                setValue('isEditCollapse', false, this.parent.treeGrid);\n            }\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (this.parent.isDestroyed || e.which === 3) {\n            return;\n        }\n        var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        var Check = this.parent.element.getElementsByClassName('e-clone-taskbar')[0];\n        if (!isNullOrUndefined(Check)) {\n            var clonetbody = Check.parentElement;\n            var cloneTable = clonetbody.parentElement;\n            cloneTable.remove();\n        }\n        var isTaskbarEdited = false;\n        if (this.parent.editSettings.allowTaskbarEditing &&\n            getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n            getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            isTaskbarEdited = true;\n        }\n        this.parent.notify('chartMouseUp', e);\n        if (this.parent.showActiveElement) {\n            this.parent.showIndicator = true;\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n            if (this.focusedElement && !e.target.classList.contains('e-split-bar')) {\n                this.focusedElement.tabIndex = this.focusedElement.tabIndex === 0 ? -1 : this.focusedElement.tabIndex;\n                removeClass([this.focusedElement], 'e-active-container');\n            }\n        }\n        if (!isTaskbarEdited) {\n            /** Expand/collapse action */\n            var target = e.target;\n            var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                || closest(e.target, '.' + cls.taskBarMainContainer);\n            if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing) {\n                this.chartExpandCollapseRequest(e);\n            }\n            else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                this.scrollToTarget(e); /** Scroll to task */\n            }\n        }\n        if (this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n        }\n        if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isTaskbarEdited) {\n            var target = e.target;\n            var taskbarElement = closest(target, '.e-gantt-parent-taskbar,.e-gantt-child-taskbar,.e-gantt-milestone');\n            if (taskbarElement) {\n                this.onTaskbarClick(e, target, taskbarElement);\n            }\n        }\n    };\n    /**\n     * This event triggered when click on taskbar element\n     *\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @param {EventTarget} target .\n     * @param {Element} taskbarElement .\n     * @returns {void}\n     */\n    GanttChart.prototype.onTaskbarClick = function (e, target, taskbarElement) {\n        var chartRow = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', chartRow);\n        var data = this.getRecordByTarget(e);\n        var args = {\n            data: data,\n            taskbarElement: taskbarElement,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.parent.trigger('onTaskbarClick', args);\n    };\n    /**\n     *  Method trigger while perform mouse leave action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartLeave = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseLeave', e);\n        }\n    };\n    /**\n     *  Method trigger while perform mouse move action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartMove = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            if (this.parent.element.getElementsByClassName('e-clone-taskbar').length > 0 && !this.parent.enableRtl) {\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (xValue <= this.parent.getOffsetRect(this.parent.ganttChartModule.chartElement).left) {\n                    return;\n                }\n            }\n            this.parent.notify('chartMouseMove', e);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency) && this.parent.connectorLineEditModule) {\n                this.parent.connectorLineEditModule.updateConnectorLineEditElement(e);\n            }\n        }\n    };\n    /**\n     *  Method trigger while perform right click action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.contextClick = function (e) {\n        if (this.parent.allowFiltering && this.parent.filterModule) {\n            this.parent.filterModule.closeFilterOnContextClick(e.srcElement);\n        }\n        if (this.parent.allowTaskbarDragAndDrop) {\n            var Check = this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n        }\n    };\n    /**\n     * Method to trigger while perform mouse move on Gantt.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.mouseMoveHandler = function (e) {\n        if (!isNullOrUndefined(this.parent.onMouseMove) &&\n            (this.parent.flatData.length ||\n                e.target.classList.contains('e-header-cell-label') ||\n                e.target.classList.contains('e-headercell'))) {\n            var target = e.target;\n            var args = { originalEvent: e };\n            var element = closest(target, '.e-chart-row-cell,.e-connector-line-container,' +\n                '.e-event-markers,.e-header-cell-label,.e-rowcell,.e-headercell,.e-indicator-span');\n            if (element) {\n                var rowData = void 0;\n                var rowElement = closest(target, '.e-rowcell,.e-chart-row-cell');\n                var columnElement = closest(target, '.e-rowcell,.e-headercell');\n                if (rowElement) {\n                    rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n                    args.data = rowData;\n                }\n                if (columnElement) {\n                    var cellIndex = getValue('cellIndex', columnElement);\n                    args.column = this.parent.treeGrid.columns[cellIndex];\n                }\n                if (closest(target, '.e-indicator-span')) {\n                    var index = 0;\n                    var indicators = rowData.ganttProperties.indicators;\n                    if (indicators.length > 1) {\n                        for (index = 0; index < indicators.length; index++) {\n                            if (indicators[index].name === (element.innerText).trim()) {\n                                break;\n                            }\n                        }\n                    }\n                    args.indicator = indicators[index];\n                }\n                if (closest(target, '.e-connector-line-container')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.predecessor = this.parent.tooltipModule.getPredecessorTooltipData(obj);\n                }\n                if (closest(target, '.e-event-markers')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.eventMarkers = this.parent.tooltipModule.getMarkerTooltipData(obj);\n                }\n                if (target.classList.contains('e-header-cell-label')) {\n                    args.date = new Date(target.dataset.content);\n                }\n            }\n            this.parent.trigger('onMouseMove', args);\n        }\n    };\n    /**\n     * Double click handler for chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.doubleClickHandler = function (e) {\n        var target = e.target;\n        var row = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', row);\n        var rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        this.parent.notify('chartDblClick', e);\n        var args = {\n            row: row,\n            rowData: rowData,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.recordDoubleClick(args);\n    };\n    /**\n     * To trigger record double click event.\n     *\n     * @param {RecordDoubleClickEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.recordDoubleClick = function (args) {\n        this.parent.trigger('recordDoubleClick', args);\n    };\n    /**\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTarget = function (e) {\n        var ganttData;\n        var row = closest(e.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            var id = row.getAttribute('rowUniqueId');\n            ganttData = this.parent.getRecordByID(id);\n        }\n        else {\n            row = closest(e.target, 'tr');\n            if (row) {\n                var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n        }\n        return ganttData;\n    };\n    /**\n     * To get gantt chart row elements\n     *\n     * @returns {NodeListOf<Element>} .\n     * @private\n     */\n    GanttChart.prototype.getChartRows = function () {\n        if (document.getElementById(this.parent.element.id + 'GanttTaskTableBody') !== null) {\n            return document.getElementById(this.parent.element.id + 'GanttTaskTableBody').querySelectorAll('.e-chart-row');\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Expand Collapse operations from gantt chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.chartExpandCollapseRequest = function (e) {\n        if (this.parent.enableMultiTaskbar) {\n            return;\n        }\n        var target = e.target;\n        var parentElement = closest(target, '.e-gantt-parent-taskbar');\n        var record = this.getRecordByTarget(e);\n        var chartRow = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', chartRow);\n        var gridRow = this.parent.treeGrid.getRows()[rowIndex];\n        var args = { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n        this.isExpandCollapseFromChart = true;\n        if (parentElement.classList.contains('e-row-expand')) {\n            this.collapseGanttRow(args);\n        }\n        else if (parentElement.classList.contains('e-row-collapse')) {\n            this.expandGanttRow(args);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.reRenderConnectorLines = function () {\n        this.parent.connectorLineModule.dependencyViewContainer.innerHTML = '';\n        this.parent.connectorLineIds = [];\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.predecessorModule.createConnectorLinesCollection();\n        this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To collapse gantt rows\n     *\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.collapseGanttRow = function (args, isCancel) {\n        var _this = this;\n        if (isCancel) {\n            this.collapsedGanttRow(args);\n        }\n        else {\n            this.parent.trigger('collapsing', args, function (arg) {\n                if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                    _this.collapsedGanttRow(arg);\n                }\n                _this.isExpandCollapseFromChart = false;\n            });\n        }\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.collapsedGanttRow = function (args) {\n        var _this = this;\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            return;\n        }\n        var record;\n        if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties[_this.parent.taskFields.id] === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n            var idField_1 = this.parent.taskFields.id;\n            if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_1] === args['data'][idField_1]; })[0];\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n        }\n        // To render the child record on parent row after collapsing\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'false');\n    };\n    /**\n     * To expand gantt rows\n     *\n     * @returns {void} .\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @private\n     */\n    GanttChart.prototype.expandGanttRow = function (args, isCancel) {\n        var _this = this;\n        if (isCancel) {\n            this.expandedGanttRow(args);\n        }\n        else {\n            this.parent.trigger('expanding', args, function (arg) {\n                if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                    _this.expandedGanttRow(arg);\n                }\n                _this.isExpandCollapseFromChart = false;\n            });\n        }\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.expandedGanttRow = function (args) {\n        var _this = this;\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            return;\n        }\n        var record;\n        if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties.taskId === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            var idField_2 = this.parent.taskFields.id;\n            if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_2] === args['data'][idField_2]; })[0];\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            if (!this.parent.isExpandCollapseLevelMethod) {\n                this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            }\n            this.parent.isExpandCollapseLevelMethod = false;\n        }\n        // To render the child record on parent row after expanding.\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'true');\n    };\n    GanttChart.prototype.renderMultiTaskbar = function (record) {\n        if (this.parent.enableMultiTaskbar) {\n            this.parent.chartRowsModule.refreshRecords([record], true);\n        }\n        else if (this.parent.showOverAllocation) {\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    /**\n     * On expand collapse operation row properties will be updated here.\n     *\n     * @param {string} action .\n     * @param {Node} rowElement .\n     * @param {IGanttData} record .\n     * @param {boolean} isChild .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseChartRows = function (action, rowElement, record, isChild) {\n        var displayType;\n        if (action === 'expand') {\n            displayType = 'table-row';\n            if (!isChild) {\n                record.expanded = true;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-collapse');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-expand');\n                removeClass([targetElement[t]], 'e-row-collapse');\n            }\n        }\n        else if (action === 'collapse') {\n            displayType = 'none';\n            if (!isChild) {\n                record.expanded = false;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-expand');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-collapse');\n                removeClass([targetElement[t]], 'e-row-expand');\n            }\n        }\n        if (!this.parent.enableVirtualization) {\n            var childRecords = record.childRecords;\n            var chartRows = this.getChartRows();\n            var rows = [];\n            for (var i = 0; i < chartRows.length; i++) {\n                if (chartRows[i].classList.contains('gridrowtaskId' +\n                    record.ganttProperties.rowUniqueID +\n                    'level' +\n                    (record.level + 1))) {\n                    rows.push(chartRows[i]);\n                }\n            }\n            for (var i = 0; i < rows.length; i++) {\n                rows[i].style.display = displayType;\n                if (childRecords[i].childRecords &&\n                    childRecords[i].childRecords.length &&\n                    (action === 'collapse' ||\n                        childRecords[i].expanded ||\n                        this.isExpandAll)) {\n                    this.expandCollapseChartRows(action, rows[i], childRecords[i], true);\n                }\n            }\n        }\n    };\n    /**\n     * Public method to expand or collapse all the rows of Gantt\n     *\n     * @returns {void}\n     * @param {string} action .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseAll = function (action) {\n        if (action === 'expand') {\n            this.isExpandAll = true;\n            this.parent.treeGrid.expandAll();\n        }\n        else {\n            this.isCollapseAll = true;\n            this.parent.treeGrid.collapseAll();\n            if (this.isCollapseAll && !this.parent.allowTaskbarOverlap) {\n                var treeGridContentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.contentHeight = treeGridContentHeight;\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.expandAtLevel = function (level) {\n        this.parent.treeGrid.expandAtLevel(level);\n    };\n    /**\n     * Public method to collapse particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.collapseAtLevel = function (level) {\n        if (this.parent.enableVirtualization) {\n            this.parent.isExpandCollapseLevelMethod = true;\n        }\n        this.parent.treeGrid.collapseAtLevel(level);\n    };\n    /**\n     * Event Binding for gantt chart click\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.wireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.add(this.parent.chartPane, mouseDown, this.ganttChartMouseDown, this);\n        EventHandler.add(this.parent.chartPane, cancel, this.ganttChartLeave, this);\n        EventHandler.add(this.parent.chartPane, mouseMove, this.ganttChartMove, this);\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.chartPane, click, this.ganttChartMouseClick, this);\n            EventHandler.add(this.parent.chartPane, mouseUp, this.ganttChartMouseUp, this);\n        }\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(this.parent.element, mouseUp, this.documentMouseUp, this);\n            EventHandler.add(document, mouseUp, this.mouseUp, this);\n        }\n        EventHandler.add(this.parent.element, 'mousemove', this.mouseMoveHandler, this);\n        EventHandler.add(document.body, 'contextmenu', this.contextClick, this);\n        EventHandler.add(document, 'mouseup', this.contextClick, this);\n        EventHandler.add(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler, this);\n    };\n    GanttChart.prototype.unWireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, mouseDown, this.ganttChartMouseDown);\n        }\n        if (!isNullOrUndefined(this.parent.chartPane)) {\n            EventHandler.remove(this.parent.chartPane, cancel, this.ganttChartLeave);\n            EventHandler.remove(this.parent.chartPane, mouseMove, this.ganttChartMove);\n        }\n        if (this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.chartPane)) {\n                EventHandler.remove(this.parent.chartPane, click, this.ganttChartMouseClick);\n                EventHandler.remove(this.parent.chartPane, mouseUp, this.ganttChartMouseUp);\n            }\n        }\n        if (!this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.element)) {\n                EventHandler.remove(this.parent.element, mouseUp, this.documentMouseUp);\n            }\n            if (!isNullOrUndefined(document)) {\n                EventHandler.remove(document, mouseUp, this.mouseUp);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.element)) {\n            EventHandler.remove(this.parent.element, 'mousemove', this.mouseMoveHandler);\n        }\n        if (!isNullOrUndefined(document)) {\n            EventHandler.remove(document, 'mouseup', this.contextClick);\n            if (!isNullOrUndefined(document.body)) {\n                EventHandler.remove(document.body, 'contextmenu', this.contextClick);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler);\n        }\n    };\n    /**\n     * To get record by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTaskBar = function (target) {\n        var item;\n        if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n            item = this.parent.flatData[this.getIndexByTaskBar(target)];\n        }\n        else {\n            item = this.parent.currentViewData[this.getIndexByTaskBar(target)];\n        }\n        return item;\n    };\n    GanttChart.prototype.updateElement = function (next, currentColumn, isTab, isInEditedState, row) {\n        if (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress) {\n            var rowIndex = row.index;\n            do {\n                next = this.getNextElement(next, isTab, isInEditedState);\n                currentColumn = this.parent.ganttColumns[next.getAttribute('data-colindex')];\n                rowIndex = parseInt(next.parentElement.getAttribute('data-rowindex'));\n            } while (!currentColumn.allowEditing);\n            this.parent.treeGrid.saveCell();\n            this.parent.treeGrid.editCell(rowIndex, this.parent.ganttColumns[next.getAttribute('data-colindex')].field);\n        }\n        return next;\n    };\n    /**\n     * Trigger Tab & Shift + Tab keypress to highlight active element.\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.onTabAction = function (e) {\n        this.parent.treeGrid.grid.enableHeaderFocus = this.parent.enableHeaderFocus;\n        var toolbarItems = document.getElementsByClassName('e-toolbar-item');\n        var isInEditedState = this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit;\n        if (!this.parent.showActiveElement && !isInEditedState) {\n            return;\n        }\n        var $target = isInEditedState ? e.target.closest('.e-rowcell') : e.target;\n        if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n            $target = this.parent.element.querySelectorAll('.e-focused')[0];\n        }\n        if ($target && !($target.classList.contains('e-toolbar-item') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn'))) {\n            this.currentToolbarIndex = -1;\n        }\n        if ($target.closest('.e-rowcell') || $target.closest('.e-chart-row')) {\n            this.parent.focusModule.setActiveElement($target);\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.focusedRowIndex = $target.closest('.e-rowcell') ? $target.parentElement.rowIndex :\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            $target.closest('.e-chart-row') ? $target.closest('.e-chart-row').rowIndex : -1;\n        var isTab = (e.action === 'tab') ? true : false;\n        var nextElement = this.getNextElement($target, isTab, isInEditedState);\n        if (nextElement && (nextElement === 'noNextRow' || nextElement.classList.contains('e-rowdragheader'))) {\n            (nextElement === 'noNextRow' && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) ? this.parent.treeGrid.saveCell() : '';\n            nextElement = null;\n        }\n        if (nextElement && $target.classList.contains('e-headercell')) {\n            var colIndex = parseInt(nextElement.getAttribute('data-colindex'), 10);\n            if (e.action === 'shiftTab') {\n                while (colIndex !== -1 && !this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex - 1;\n                }\n                if (colIndex !== -1) {\n                    colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n                }\n                else {\n                    var toolbarItems_1 = document.getElementsByClassName('e-toolbar-item');\n                    for (var i = toolbarItems_1.length - 1; i > 0; i--) {\n                        if (!document.getElementsByClassName('e-toolbar-item')[i].classList.contains('e-hidden')) {\n                            nextElement = document.getElementsByClassName('e-toolbar-item')[i];\n                            this.currentToolbarIndex = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            else {\n                while (!this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex + 1;\n                }\n                colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n            }\n        }\n        if (!nextElement && $target.classList.contains('e-headercell') && e.action === 'tab') {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (!nextElement && ($target.classList.contains('e-headercell') || $target.classList.contains('e-toolbar-item') || $target.classList.contains('e-treegrid') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn')) && this.parent.toolbarModule && this.parent.toolbar.length > 0) {\n            var itemIndex = this.currentToolbarIndex !== -1 ? (e.action === 'tab' ? this.currentToolbarIndex + 1 :\n                this.currentToolbarIndex - 1) : (e.action === 'shiftTab' ? toolbarItems.length - 1 : 1);\n            var isUpdated = false;\n            if (itemIndex !== -1 && (e.action === 'shiftTab' || (e.action === 'tab' && itemIndex < toolbarItems.length))) {\n                do {\n                    if (!toolbarItems[itemIndex].classList.contains('e-hidden')) {\n                        nextElement = toolbarItems[itemIndex];\n                        nextElement.setAttribute('tabindex', '-1');\n                        if (nextElement.querySelector('.e-btn') === $target) {\n                            e.action === 'tab' ? itemIndex++ : itemIndex--;\n                            nextElement = toolbarItems[itemIndex];\n                        }\n                        if (nextElement.querySelector('.e-btn')) {\n                            (nextElement.querySelector('.e-btn')).setAttribute('tabindex', '0');\n                        }\n                        isUpdated = true;\n                        this.currentToolbarIndex = itemIndex;\n                    }\n                    else {\n                        e.action == 'tab' ? itemIndex++ : itemIndex--;\n                    }\n                } while (!isUpdated);\n            }\n        }\n        if (e.action === 'tab' && !nextElement && (this.currentToolbarIndex === toolbarItems.length - 1 &&\n            ($target.classList.contains('e-toolbar-item') || $target.classList.contains('e-input') ||\n                $target.classList.contains('e-btn')))) {\n            for (var i = 0; i < this.parent.treeGrid.columns.length; i++) {\n                if (this.parent.treeGrid.columns[i]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i];\n                    break;\n                }\n            }\n        }\n        if (e.action === 'shiftTab' && !nextElement && !$target.classList.contains('e-headercell')) {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (e.action === 'shiftTab' && $target.classList.contains('e-timeline-header-container')) {\n            for (var i = this.parent.treeGrid.columns.length; i > 0; i--) {\n                if (this.parent.treeGrid.columns[i - 1]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i - 1];\n                    break;\n                }\n            }\n        }\n        this.tempNextElement = nextElement;\n        if (!isNullOrUndefined(nextElement) && !isNullOrUndefined(nextElement['cellIndex'])) {\n            if (this.parent.allowRowDragAndDrop) {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'] - 1;\n            }\n            else {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'];\n            }\n            if (this.nextElementIndex !== -1 && !this.parent.ganttColumns[this.nextElementIndex]['allowEditing'] &&\n                this.parent.ganttColumns[this.nextElementIndex]['field'] !== this.parent.taskFields.id) {\n                this.isEditableElement = true;\n            }\n            else {\n                this.isEditableElement = false;\n            }\n        }\n        if (nextElement === 'noNextRow') {\n            this.manageFocus($target, 'remove', true);\n            return;\n        }\n        if (typeof nextElement !== 'string') {\n            if ($target.classList.contains('e-rowcell') || $target.closest('.e-chart-row-cell') ||\n                $target.classList.contains('e-headercell') || $target.closest('.e-segmented-taskbar') ||\n                $target.classList.contains('e-timeline-header-container')) {\n                e.preventDefault();\n            }\n            if (isTab && $target.classList.contains('e-rowdragdrop')) {\n                this.parent.treeGrid.grid.notify('key-pressed', e);\n                return;\n            }\n            if ($target.classList.contains('e-rowcell') && (nextElement && nextElement.classList.contains('e-rowcell')) ||\n                $target.classList.contains('e-headercell')) { // eslint-disable-line                                                                                                                                                                                                                                    \n                if (isTab) {\n                    if (this.parent.editSettings.allowNextRowEdit) {\n                        var rowData = this.parent.currentViewData[this.focusedRowIndex];\n                        var columnName = this.parent.ganttColumns[nextElement.getAttribute('data-colindex')].field;\n                        if (rowData.hasChildRecords) {\n                            if (columnName === this.parent.taskFields.endDate || columnName ===\n                                this.parent.taskFields.duration || columnName === this.parent.taskFields.dependency ||\n                                columnName === this.parent.taskFields.progress || columnName === this.parent.taskFields.work ||\n                                columnName === this.parent.taskFields.type || columnName === 'taskType') {\n                                this.parent.treeGrid.grid.endEdit();\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else if (columnName === this.parent.taskFields.name || columnName === this.parent.taskFields.startDate) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                                if (isInEditedState) {\n                                    this.parent.treeGrid.editCell(this.focusedRowIndex, columnName); // eslint-disable-line\n                                }\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                    else {\n                        if (!nextElement || (nextElement && !nextElement.classList.contains('e-headercell') && !nextElement.classList.contains('e-timeline-header-container'))) {\n                            if ($target.classList.contains('e-headercell')) {\n                                this.manageFocus($target, 'remove', false);\n                            }\n                            var row = this.parent.flatData[$target.parentElement.rowIndex];\n                            var next = nextElement;\n                            if (row.hasChildRecords &&\n                                (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress ||\n                                    !this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) &&\n                                this.parent.ganttColumns[next.getAttribute('data-colindex')].field !== this.parent.taskFields.id\n                                && $target.classList.contains('e-editedbatchcell')) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                                while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            }\n                            else if (!nextElement || $target.classList.contains('e-editedbatchcell')) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (nextElement && !nextElement.classList.contains('e-headercell') && nextElement.classList.contains('e-rowcell')\n                        && !nextElement.classList.contains('e-toolbar-item')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var row = this.parent.flatData[$target.parentElement.rowIndex];\n                        var next = nextElement;\n                        if (row.hasChildRecords &&\n                            (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress ||\n                                !this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) &&\n                            this.parent.ganttColumns[next.getAttribute('data-colindex')].field !== this.parent.taskFields.id\n                            && $target.classList.contains('e-editedbatchcell')) {\n                            var currentColumn = void 0;\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                next = this.getNextElement(next, isTab, isInEditedState);\n                            }\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                        }\n                        else if (parseInt(next.parentElement.getAttribute('data-rowindex')) !== 0 &&\n                            parseInt(next.getAttribute('data-colindex')) === 0 &&\n                            this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.id &&\n                            $target.classList.contains('e-editedbatchcell')) {\n                            var rowIndex = $target.parentElement.rowIndex;\n                            var rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                            next = this.getChildElement(rowElement, isTab);\n                            var rowData = this.parent.flatData[parseInt(rowElement.getAttribute('data-rowindex'))];\n                            if (rowData.hasChildRecords && this.parent.ganttColumns[next.getAttribute('data-colindex')].field ===\n                                this.parent.taskFields.progress) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                                while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                }\n            }\n            if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n                this.manageFocus(this.parent.element.querySelectorAll('.e-focused')[0], 'remove', false);\n            }\n            if (!(this.parent.editModule && this.parent.editModule.cellEditModule\n                && !isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn))) {\n                if (nextElement) {\n                    if ($target.classList.contains('e-rowcell')) {\n                        this.manageFocus($target, 'remove', false);\n                    }\n                    else {\n                        this.manageFocus($target, 'remove', true);\n                    }\n                    if ((nextElement.classList.contains('e-rowcell') && $target.nextElementSibling && !$target.classList.contains('e-timeline-header-container'))\n                        || $target.classList.contains('e-right-label-container')) {\n                        if (!$target.classList.contains('e-rowcell')) {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                            var fmodule = getValue('focusModule', this.parent.treeGrid.grid);\n                            fmodule.currentInfo.element = nextElement;\n                            fmodule.currentInfo.elementToFocus = nextElement;\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            fmodule.content.matrix.current = [nextElement.parentElement.rowIndex, nextElement.cellIndex];\n                        }\n                        this.manageFocus(nextElement, 'add', false);\n                    }\n                    else {\n                        if (nextElement && (nextElement.classList.contains('e-toolbar-item') || nextElement.classList.contains('e-headercell')\n                            || nextElement.classList.contains('e-rowcell'))) {\n                            this.manageFocus($target, 'remove', false);\n                            if (!nextElement.classList.contains('e-toolbar-item')) {\n                                this.manageFocus(nextElement, 'add', false);\n                            }\n                            if ($target.classList.contains('e-treegrid')) {\n                                e.preventDefault();\n                            }\n                        }\n                        else {\n                            this.manageFocus(nextElement, 'add', true);\n                        }\n                    }\n                    this.parent.focusModule.setActiveElement(nextElement);\n                }\n            }\n        }\n    };\n    /**\n     * Get next/previous sibling element.\n     *\n     * @param {Element} $target .\n     * @param {boolean} isTab .\n     * @param {boolean} isInEditedState .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getNextElement = function ($target, isTab, isInEditedState) {\n        if ($target.classList.contains(\"e-timeline-header-container\") && isTab) {\n            var rowElement = this.getNextRowElement(-1, isTab, true);\n            return this.getChildElement(rowElement, isTab);\n        }\n        var nextElement = isTab ? $target.nextElementSibling : $target.previousElementSibling;\n        while (nextElement && nextElement.parentElement.classList.contains('e-row')) {\n            if (!nextElement.matches('.e-hide') && !nextElement.matches('.e-rowdragdrop')) {\n                return nextElement;\n            }\n            nextElement = isTab ? nextElement.nextElementSibling : nextElement.previousElementSibling;\n        }\n        if (!isNullOrUndefined(nextElement) && (nextElement.classList.contains('e-taskbar-main-container')\n            || nextElement.classList.contains('e-right-connectorpoint-outer-div'))) {\n            var record = this.parent.currentViewData[this.focusedRowIndex];\n            if (!isNullOrUndefined(record.ganttProperties.segments) && record.ganttProperties.segments.length > 0) {\n                nextElement = nextElement.classList.contains('e-right-connectorpoint-outer-div')\n                    ? nextElement.parentElement.nextElementSibling\n                    : nextElement.getElementsByClassName('e-gantt-child-taskbar-inner-div')[0];\n            }\n        }\n        if (this.validateNextElement(nextElement)) {\n            return nextElement;\n        }\n        else {\n            var rowIndex = -1;\n            var rowElement = null;\n            var childElement = void 0;\n            if ($target.classList.contains('e-rowcell') && isInEditedState && this.parent.editSettings.allowNextRowEdit) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                childElement = this.getChildElement(rowElement, isTab);\n                return childElement;\n            }\n            else if ($target.classList.contains('e-rowcell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                if (isTab) {\n                    rowElement = this.parent.getRowByIndex(rowIndex);\n                    if (this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                        rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                        var childElement_1 = this.getChildElement(rowElement, isTab);\n                        return childElement_1;\n                    }\n                    else {\n                        if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                            return rowElement.getElementsByClassName('e-left-label-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                            return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                            return rowElement.getElementsByClassName('e-right-label-container')[0];\n                        }\n                    }\n                }\n                else {\n                    rowElement = this.getNextRowElement(rowIndex, isTab, false);\n                    if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                        return rowElement.getElementsByClassName('e-right-label-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                        return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                        return rowElement.getElementsByClassName('e-left-label-container')[0];\n                    }\n                }\n            }\n            else if ($target.parentElement.classList.contains('e-chart-row-cell') ||\n                $target.parentElement.parentElement.classList.contains('e-chart-row-cell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = closest($target, '.e-chart-row').rowIndex;\n                if (isTab) {\n                    rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                }\n                else {\n                    rowElement = this.parent.treeGrid.grid.getRowByIndex(rowIndex);\n                }\n                var childElement_2 = this.getChildElement(rowElement, isTab);\n                return childElement_2;\n            }\n            nextElement = $target;\n        }\n        return null;\n    };\n    /**\n     * Get next/previous row element.\n     *\n     * @param {number} rowIndex .\n     * @param {boolean} isTab .\n     * @param {boolean} isChartRow .\n     * @returns {Element} .\n     */\n    GanttChart.prototype.getNextRowElement = function (rowIndex, isTab, isChartRow) {\n        var expandedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var currentItem = this.parent.currentViewData[rowIndex];\n        var expandedRecordIndex = expandedRecords.indexOf(currentItem);\n        var nextRecord = isTab ? expandedRecords[expandedRecordIndex + 1] : expandedRecords[expandedRecordIndex - 1];\n        var nextRowIndex = this.parent.currentViewData.indexOf(nextRecord);\n        if (nextRecord) {\n            return isChartRow ? this.parent.treeGrid.grid.getRowByIndex(nextRowIndex) : this.parent.getRowByIndex(nextRowIndex);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Validate next/previous sibling element haschilds.\n     *\n     * @param {Element} $target .\n     * @param {string} className .\n     * @returns {boolean} .\n     */\n    GanttChart.prototype.validateNextElement = function ($target, className) {\n        if ($target && $target.classList.contains('e-rowcell')) {\n            return true;\n        }\n        if ($target && className) {\n            var elementByClass = $target.getElementsByClassName(className)[0];\n            return (elementByClass && elementByClass.hasChildNodes()) ? true : false;\n        }\n        else if ($target) {\n            return (!isNullOrUndefined($target) && $target.hasChildNodes()) ? true : false;\n        }\n        return false;\n    };\n    /**\n     * Getting child element based on row element.\n     *\n     * @param {Element} rowElement .\n     * @param {boolean} isTab .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getChildElement = function (rowElement, isTab) {\n        var childElement;\n        if (rowElement) {\n            childElement = isTab ? rowElement.children[0] : rowElement.children[rowElement.children.length - 1];\n            while (childElement) {\n                if (!childElement.matches('.e-hide') && !childElement.matches('.e-rowdragdrop')) {\n                    return childElement;\n                }\n                childElement = isTab ? childElement.nextElementSibling : childElement.previousElementSibling;\n            }\n        }\n        else {\n            return 'noNextRow';\n        }\n        return childElement;\n    };\n    /**\n     * Add/Remove active element.\n     *\n     * @private\n     * @param {HTMLElement} element .\n     * @param {string} focus .\n     * @param {boolean} isChartElement .\n     * @param {string} keyAction .\n     * @returns {void} .\n     */\n    GanttChart.prototype.manageFocus = function (element, focus, isChartElement, keyAction) {\n        if (isChartElement) {\n            var childElement = null;\n            if (element.classList.contains('e-left-label-container') ||\n                element.classList.contains('e-right-label-container')) {\n                childElement = element.getElementsByTagName('span')[0];\n            }\n            else if (element.classList.contains('e-taskbar-main-container')\n                || element.classList.contains('e-gantt-child-taskbar-inner-div')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var rowIndex = closest(element, '.e-chart-row').rowIndex;\n                var data = this.parent.currentViewData[rowIndex];\n                var className = data.hasChildRecords ? data.ganttProperties.isAutoSchedule ? 'e-gantt-parent-taskbar' :\n                    'e-manualparent-main-container' :\n                    data.ganttProperties.isMilestone ? 'e-gantt-milestone' : !isNullOrUndefined(data.ganttProperties.segments)\n                        && data.ganttProperties.segments.length > 0 ? 'e-segmented-taskbar' : 'e-gantt-child-taskbar';\n                childElement = element.getElementsByClassName(className)[0];\n                if (isNullOrUndefined(childElement)) {\n                    childElement = element;\n                }\n            }\n            if (element.classList.contains('e-right-label-temp-container') || element.classList.contains('e-left-label-temp-container') || element.classList.contains('e-indicator-span') || element.classList.contains('e-timeline-header-container')) {\n                if (focus === 'add') {\n                    element.setAttribute('tabIndex', '0');\n                    addClass([element], 'e-active-container');\n                    element.focus();\n                }\n                else {\n                    if (keyAction !== 'downArrow' && keyAction !== 'upArrow') {\n                        removeClass([element], 'e-active-container');\n                        element.setAttribute('tabIndex', '-1');\n                        element.blur();\n                    }\n                }\n            }\n            if (focus === 'add' && !isNullOrUndefined(childElement)) {\n                element.setAttribute('tabIndex', '0');\n                addClass([childElement], 'e-active-container');\n                element.focus();\n                this.focusedElement = childElement;\n            }\n            else if (!isNullOrUndefined(childElement) && (keyAction !== 'downArrow' && keyAction !== 'upArrow')) {\n                removeClass([childElement], 'e-active-container');\n                element.setAttribute('tabIndex', '-1');\n                element.blur();\n            }\n        }\n        else {\n            if (focus === 'add') {\n                element.setAttribute('tabIndex', '0');\n                addClass([element], ['e-focused', 'e-focus']);\n                element.focus();\n            }\n            else {\n                element.setAttribute('tabIndex', '-1');\n                removeClass([element], ['e-focused', 'e-focus']);\n                element.blur();\n            }\n        }\n    };\n    /**\n     * To get index by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {number} .\n     * @private\n     */\n    GanttChart.prototype.getIndexByTaskBar = function (target) {\n        var row;\n        var recordIndex;\n        if (!target.classList.contains(cls.taskBarMainContainer)) {\n            row = closest(target, 'div.' + cls.taskBarMainContainer);\n        }\n        else {\n            row = target;\n        }\n        if (isNullOrUndefined(row)) {\n            row = closest(target, 'tr.' + cls.chartRow);\n            recordIndex = [].slice.call(this.parent.chartRowsModule.ganttChartTableBody.childNodes).indexOf(row);\n        }\n        else {\n            var id = row.getAttribute('rowUniqueId');\n            var record = this.parent.getRecordByID(id);\n            if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n                recordIndex = this.parent.flatData.indexOf(record);\n            }\n            else {\n                if (this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth\n                    && this.parent.pdfExportModule.isPdfExport) {\n                    recordIndex = this.parent.ids.indexOf(record.ganttProperties.taskId.toString());\n                }\n                else {\n                    recordIndex = this.parent.currentViewData.indexOf(record);\n                }\n            }\n        }\n        return recordIndex;\n    };\n    GanttChart.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        this.rangeViewContainer = null;\n        this.chartBodyContent = null;\n        this.scrollElement = null;\n        this.chartTimelineContainer = null;\n        this.chartBodyContainer = null;\n        if (!isNullOrUndefined(this.scrollObject)) {\n            this.scrollObject.destroy();\n            this.scrollObject = null;\n        }\n    };\n    return GanttChart;\n}());\nexport { GanttChart };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { createElement, isNullOrUndefined, getValue, addClass, removeClass, extend, append } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * Configures the `Timeline` of the gantt.\n */\nvar Timeline = /** @class */ (function () {\n    function Timeline(ganttObj) {\n        this.isZoomIn = false;\n        this.isZooming = false;\n        this.isZoomToFit = false;\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        this.pdfExportTopTierCollection = [];\n        this.pdfExportBottomTierCollection = [];\n        this.restrictRender = true;\n        this.performedTimeSpanAction = false;\n        this.isZoomedToFit = false;\n        this.parent = ganttObj;\n        this.initProperties();\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.initProperties = function () {\n        this.timelineStartDate = null;\n        this.timelineEndDate = null;\n        this.totalTimelineWidth = 0;\n        this.customTimelineSettings = null;\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        if (this.parent.enablePersistence && this.parent.isLoad) {\n            this.parent.timelineSettings = this.parent.currentZoomingLevel;\n        }\n    };\n    /**\n     * To render timeline header series.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.validateTimelineProp = function () {\n        this.roundOffDays();\n        this.processTimelineProperty();\n        this.timelineWidthCalculation();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimeline = function () {\n        this.initProperties();\n        this.processTimelineUnit();\n        this.parent.dataOperation.calculateProjectDates();\n        if (!this.parent.isFromOnPropertyChange) {\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        }\n        var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        this.parent.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimelineByTimeSpan = function () {\n        this.validateTimelineProp();\n        if (!this.parent.pdfExportModule || (this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport) ||\n            (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport &&\n                this.parent.pdfExportModule.helper.exportProps &&\n                !this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.parent.ganttChartModule.chartTimelineContainer.innerHTML = '';\n        }\n        this.createTimelineSeries();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateChartByNewTimeline = function () {\n        this.parent.chartRowsModule.refreshChartByTimeline();\n        var currentScrollLeft = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n        this.parent.element.getElementsByClassName('e-timeline-header-container')[0].scrollLeft = currentScrollLeft;\n        this.parent.notify('refreshDayMarkers', {});\n    };\n    /**\n     * Function used to perform Zoomin and Zoomout actions in Gantt control.\n     *\n     * @param {boolean} isZoomIn .\n     * @private\n     * @returns {void}\n     */\n    Timeline.prototype.processZooming = function (isZoomIn) {\n        this.isZoomToFit = false;\n        this.isZoomedToFit = false;\n        var action = isZoomIn ? 'ZoomIn' : 'ZoomOut';\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent'](action)) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var previousTimeline = {};\n            previousTimeline['action'] = action;\n            previousTimeline['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n        if (!this.parent['isProjectDateUpdated']) {\n            this.parent.dateValidationModule.calculateProjectDates();\n        }\n        if (!isNullOrUndefined(this.parent.zoomingProjectStartDate)) {\n            this.parent.cloneProjectStartDate = this.parent.zoomingProjectStartDate;\n            this.parent.cloneProjectEndDate = this.parent.zoomingProjectEndDate;\n        }\n        this.parent.zoomingProjectStartDate = null;\n        this.parent.zoomingProjectEndDate = null;\n        var currentZoomingLevel = this.checkCurrentZoomingLevel();\n        this.isZoomIn = isZoomIn;\n        this.isZooming = true;\n        var currentLevel;\n        var level = isZoomIn ? currentZoomingLevel + 1 : currentZoomingLevel - 1;\n        var foundLevel = this.parent.zoomingLevels.find(function (tempLevel) { return tempLevel.level === level; });\n        if (foundLevel) {\n            currentLevel = level;\n        }\n        else {\n            currentLevel = currentZoomingLevel;\n        }\n        if (this.parent.toolbarModule) {\n            if (isZoomIn) {\n                if (currentLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true); // disable toolbar items.\n                }\n            }\n            else {\n                if (currentLevel === this.parent.zoomingLevels[0].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true); // enable toolbar items.\n                }\n            }\n        }\n        currentLevel = this.parent.zoomingLevels.findIndex(function (tempLevel) {\n            return tempLevel.level === currentLevel;\n        });\n        var newTimeline = this.parent.zoomingLevels[currentLevel];\n        var args = {\n            requestType: isZoomIn ? 'beforeZoomIn' : 'beforeZoomOut',\n            timeline: newTimeline,\n            cancel: false\n        };\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        if (!args.cancel) {\n            newTimeline = args.timeline;\n            this.changeTimelineSettings(newTimeline);\n        }\n    };\n    /**\n     * To change the timeline settings property values based upon the Zooming levels.\n     *\n     * @param {ZoomTimelineSettings} newTimeline .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.changeTimelineSettings = function (newTimeline) {\n        var _this = this;\n        if (this.isZoomToFit) {\n            this.isSingleTier = this.customTimelineSettings.topTier.unit === 'None' || this.customTimelineSettings.bottomTier.unit === 'None' ? true : false;\n        }\n        else if (!this.isZoomIn) {\n            this.isSingleTier = newTimeline.topTier.unit === 'None' || newTimeline.bottomTier.unit === 'None' ? true : false;\n        }\n        var skipProperty = this.isSingleTier ?\n            this.customTimelineSettings.topTier.unit === 'None' ?\n                'topTier' : 'bottomTier' : null;\n        Object.keys(this.customTimelineSettings).forEach(function (property) {\n            if (property !== skipProperty) {\n                _this.customTimelineSettings[property] = (typeof newTimeline[property] === 'object'\n                    && !isNullOrUndefined(newTimeline[property])) ? __assign({}, newTimeline[property]) : newTimeline[property];\n            }\n            else {\n                var value = property === 'topTier' ? 'bottomTier' : 'topTier';\n                var assignValue = 'bottomTier';\n                if (newTimeline[\"\" + assignValue].unit !== 'None') {\n                    _this.customTimelineSettings[value] = __assign({}, newTimeline[assignValue]);\n                }\n            }\n        });\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.processTimelineUnit();\n        this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (this.isZooming || this.isZoomToFit) {\n            var args = {\n                requestType: this.isZoomIn ? 'AfterZoomIn' : this.isZoomToFit ? 'AfterZoomToProject' : 'AfterZoomOut',\n                timeline: this.parent.currentZoomingLevel\n            };\n            this.parent.trigger('actionComplete', args);\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        if (this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule || this.parent.pdfExportModule\n            && !this.parent.pdfExportModule.isPdfExport)) {\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n            this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n            this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n            this.parent.ganttChartModule.updateWidthAndHeight();\n        }\n    };\n    /**\n     * To perform the zoom to fit operation in Gantt.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processZoomToFit = function () {\n        this.isZoomToFit = true;\n        this.isZooming = false;\n        this.isZoomedToFit = true;\n        var previousTimeline = {};\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('ZoomToFit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            previousTimeline['action'] = 'ZoomToFit';\n            previousTimeline['previousTimelineStartDate'] = extend([], [], [this.parent.cloneProjectStartDate], true)[0];\n            previousTimeline['previousTimelineEndDate'] = extend([], [], [this.parent.cloneProjectEndDate], true)[0];\n            previousTimeline['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartWidth = this.parent.ganttChartModule.chartElement.offsetWidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.roundOffDateToZoom(this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.roundOffDateToZoom(this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.calculateNumberOfTimelineCells(newTimeline);\n        var scrollHeight = this.parent.ganttChartModule.scrollElement.offsetHeight - 17; //17 is horizontal scrollbar width\n        var contentHeight = this.parent.ganttChartModule.chartBodyContent.offsetHeight;\n        var emptySpace = contentHeight <= scrollHeight ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        var args = {\n            requestType: 'beforeZoomToProject',\n            timeline: newTimeline\n        };\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin', this.parent.controlId + '_zoomout'], true);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        this.changeTimelineSettings(newTimeline);\n        this.parent.isTimelineRoundOff = isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.isZoomToFit = false;\n    };\n    Timeline.prototype.bottomTierCellWidthCalc = function (mode, zoomLevel, date) {\n        var convertedMilliSeconds;\n        switch (mode) {\n            case 'Minutes':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 1000);\n                break;\n            case 'Hour':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 1000);\n                break;\n            case 'Week':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (7 * 24 * 60 * 60 * 1000);\n                break;\n            case 'Day':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (24 * 60 * 60 * 1000);\n                break;\n            case 'Month':\n                {\n                    var daysInMonth = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInMonth * 1000);\n                    break;\n                }\n            case 'Year':\n                {\n                    var daysInYear = (date.getFullYear() % 400 === 0 ||\n                        (date.getFullYear() % 100 !== 0 && date.getFullYear() % 4 === 0)) ? 366 : 365;\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInYear * 1000);\n                    break;\n                }\n        }\n        return convertedMilliSeconds;\n    };\n    Timeline.prototype.roundOffDateToZoom = function (date, isStartDate, perDayWidth, tierMode, zoomingLevel) {\n        var roundOffTime = this.bottomTierCellWidthCalc(tierMode, zoomingLevel, date);\n        if (isStartDate) {\n            date.setTime(date.getTime() - roundOffTime);\n        }\n        else {\n            date.setTime(date.getTime() + roundOffTime);\n        }\n    };\n    Timeline.prototype.calculateNumberOfTimelineCells = function (newTimeline) {\n        var sDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var eDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var numberOfDays = Math.abs((eDate.getTime() - sDate.getTime()) / (24 * 60 * 60 * 1000));\n        var count = newTimeline.bottomTier.count;\n        var unit = newTimeline.bottomTier.unit;\n        if (unit === 'Day') {\n            return numberOfDays / count;\n        }\n        else if (unit === 'Week') {\n            return (numberOfDays / count) / 7;\n        }\n        else if (unit === 'Month') {\n            return (numberOfDays / count) / 28;\n        }\n        else if (unit === 'Year') {\n            return (numberOfDays / count) / (12 * 28);\n        }\n        else if (unit === 'Hour') {\n            return numberOfDays * (24 / count);\n        }\n        else {\n            return numberOfDays * ((60 * 24) / count);\n        }\n    };\n    /**\n     * To validate time line unit.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineUnit = function () {\n        var directProperty = ['timelineViewMode', 'timelineUnitSize', 'weekStartDay', 'weekendBackground'];\n        var innerProperty = {\n            'topTier': ['unit', 'format', 'count', 'formatter'],\n            'bottomTier': ['unit', 'format', 'count', 'formatter']\n        };\n        var tierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        this.customTimelineSettings = this.customTimelineSettings ? this.customTimelineSettings :\n            this.extendFunction(this.parent.timelineSettings, directProperty, innerProperty);\n        if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1) &&\n            (tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1)) {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.timelineViewMode) !== -1 ?\n                this.customTimelineSettings.timelineViewMode : 'Week';\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== 5 ?\n                tierUnits[tierUnits.indexOf(this.customTimelineSettings.topTier.unit) + 1] : 'None';\n        }\n        else if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== -1 &&\n            tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) !== -1)\n            && (tierUnits.indexOf(this.customTimelineSettings.topTier.unit) >\n                tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit))) {\n            this.customTimelineSettings.bottomTier.unit = this.customTimelineSettings.topTier.unit;\n        }\n        else {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.topTier.unit;\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.bottomTier.unit;\n        }\n        this.topTier = this.customTimelineSettings.topTier.unit;\n        this.bottomTier = this.customTimelineSettings.bottomTier.unit;\n        this.previousIsSingleTier = this.isSingleTier;\n        this.isSingleTier = this.topTier === 'None' || this.bottomTier === 'None' ? true : false;\n    };\n    /**\n     * To validate timeline properties.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineProperty = function () {\n        this.customTimelineSettings.topTier.count = (this.topTier === 'None') ?\n            1 : this.validateCount(this.customTimelineSettings.topTier.unit, this.customTimelineSettings.topTier.count, 'topTier');\n        this.customTimelineSettings.bottomTier.count = this.customTimelineSettings.bottomTier.unit === 'None' ?\n            1 : this.validateCount(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.count, 'bottomTier');\n        this.customTimelineSettings.bottomTier.format = this.validateFormat(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.format);\n        this.customTimelineSettings.topTier.format = this.validateFormat(this.topTier, this.customTimelineSettings.topTier.format);\n        this.customTimelineSettings.weekStartDay = this.customTimelineSettings.weekStartDay >= 0 &&\n            this.customTimelineSettings.weekStartDay <= 6 ? this.customTimelineSettings.weekStartDay : 0;\n        if (!(this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.checkCurrentZoomingLevel();\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.calculateZoomingLevelsPerDayWidth = function () {\n        var collections = this.parent.zoomingLevels;\n        for (var i = 0; i < collections.length; i++) {\n            var perDayWidth = this.getPerDayWidth(collections[i].timelineUnitSize, collections[i].bottomTier.count, collections[i].bottomTier.unit);\n            collections[i].perDayWidth = perDayWidth;\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.checkCurrentZoomingLevel = function () {\n        var count = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.count : this.customTimelineSettings.topTier.count;\n        var unit = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.unit : this.customTimelineSettings.topTier.unit;\n        var tier = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            'bottomTier' : 'topTier';\n        var zoomLevel = this.getCurrentZoomingLevel(unit, count, tier);\n        if (this.parent.toolbarModule) {\n            if (zoomLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else if (zoomLevel === this.parent.zoomingLevels[0].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        this.parent.currentZoomingLevel = this.parent.zoomingLevels[zoomLevel];\n        return zoomLevel;\n    };\n    /**\n     * @param {string} unit .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getCurrentZoomingLevel = function (unit, count, tier) {\n        var level;\n        var currentZoomCollection;\n        var checkSameCountLevels;\n        var secondValue;\n        var firstValue;\n        if (!this.parent.zoomingLevels.length) {\n            this.parent.zoomingLevels = this.parent.getZoomingLevels();\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            if (tier === 'bottomTier') {\n                return tempLevel.bottomTier.unit === unit;\n            }\n            else {\n                return tempLevel.topTier.unit === unit;\n            }\n        });\n        if (sameUnitLevels.length === 0) {\n            var closestUnit_1 = this.getClosestUnit(unit, '', false);\n            sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n                if (tier === 'bottomTier') {\n                    return tempLevel.bottomTier.unit === closestUnit_1;\n                }\n                else {\n                    return tempLevel.topTier.unit === closestUnit_1;\n                }\n            });\n        }\n        var sortedUnitLevels = sameUnitLevels.sort(function (a, b) {\n            if (tier === 'bottomTier') {\n                return (!a.bottomTier.count || !b.bottomTier.count) ? 0 : ((a.bottomTier.count < b.bottomTier.count) ? 1 : -1);\n            }\n            else {\n                return (!a.topTier.count || !b.topTier.count) ? 0 : ((a.topTier.count < b.topTier.count) ? 1 : -1);\n            }\n        });\n        for (var i = 0; i < sortedUnitLevels.length; i++) {\n            firstValue = sortedUnitLevels[i];\n            if (i === sortedUnitLevels.length - 1) {\n                level = sortedUnitLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedUnitLevels[i + 1];\n            }\n            if (count >= firstValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n            else if (count < firstValue[\"\" + tier].count && count > secondValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i + 1];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * Getting closest zooimg level.\n     *\n     * @param {string} unit .\n     * @param {string} closetUnit .\n     * @param {boolean} isCont .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.getClosestUnit = function (unit, closetUnit, isCont) {\n        var bottomTierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        var index = bottomTierUnits.indexOf(unit);\n        if (index === 0) {\n            isCont = true;\n        }\n        if (this.isZoomIn || isCont) {\n            unit = bottomTierUnits[index + 1];\n        }\n        else {\n            unit = bottomTierUnits[index - 1];\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            return tempLevel.bottomTier.unit === unit;\n        });\n        if (sameUnitLevels.length === 0) {\n            if (unit === 'Year') {\n                isCont = true;\n            }\n            closetUnit = unit;\n            return this.getClosestUnit(unit, closetUnit, isCont);\n        }\n        else {\n            return unit;\n        }\n    };\n    Timeline.prototype.checkCollectionsWidth = function (checkSameLevels) {\n        var zoomLevels = checkSameLevels;\n        var width = this.customTimelineSettings.timelineUnitSize;\n        var level;\n        var secondValue;\n        var firstValue;\n        var sortedZoomLevels = zoomLevels.sort(function (a, b) {\n            return (a.timelineUnitSize < b.timelineUnitSize) ? 1 : -1;\n        });\n        for (var i = 0; i < sortedZoomLevels.length; i++) {\n            firstValue = sortedZoomLevels[i];\n            if (i === sortedZoomLevels.length - 1) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedZoomLevels[i + 1];\n            }\n            if (width >= firstValue.timelineUnitSize) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else if (width < firstValue.timelineUnitSize && width > secondValue.timelineUnitSize) {\n                level = sortedZoomLevels[i + 1].level;\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateTimelineHeaderHeight = function () {\n        if (this.parent.timelineModule.isSingleTier) {\n            addClass([this.parent.ganttChartModule.chartTimelineContainer], cls.timelineSingleHeaderOuterDiv);\n            if (this.parent.treeGrid.element) {\n                addClass(this.parent.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                addClass(this.parent.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n            }\n        }\n        else {\n            removeClass([this.parent.ganttChartModule.chartTimelineContainer], cls.timelineSingleHeaderOuterDiv);\n            if (this.parent.treeGrid.element) {\n                removeClass(this.parent.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                removeClass(this.parent.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n            }\n        }\n        if (this.previousIsSingleTier !== this.isSingleTier) {\n            var toolbarHeight = 0;\n            if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n                toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n            }\n            this.parent.ganttChartModule.scrollObject.\n                setHeight(this.parent.ganttHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n            this.parent.treeGrid.height = this.parent.ganttHeight - toolbarHeight -\n                this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        }\n    };\n    Timeline.prototype.dateByLeftValue = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            pStartDate.setDate(pStartDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            }\n        }\n        return pStartDate;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.createTimelineSeries = function () {\n        var tr;\n        var td;\n        var div;\n        var table;\n        var thead;\n        var virtualTableDiv;\n        var virtualTrackDiv;\n        var loopCount = this.isSingleTier ? 1 : 2;\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        if (this.restrictRender === true) {\n            this.updateTimelineHeaderHeight();\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n        }\n        if (this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3)) {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                virtualTableDiv = createElement('div', { className: cls.virtualTable });\n                virtualTrackDiv = createElement('div', { className: cls.virtualTrack });\n                td.appendChild(div);\n                tr.appendChild(td);\n                virtualTableDiv.appendChild(tr);\n                thead.appendChild(virtualTableDiv);\n                thead.appendChild(virtualTrackDiv);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n                this.restrictRender = false;\n            }\n            if (this.parent.height === 'Auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n            this.timelineVirtualizationStyles();\n        }\n        else {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                td.appendChild(div);\n                tr.appendChild(td);\n                thead.appendChild(tr);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n            }\n            if (this.parent.height === 'Auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n        }\n    };\n    Timeline.prototype.timelineVirtualizationStyles = function () {\n        var translateXValue = 0;\n        var translateYValue = 0;\n        var trackWidth = this.wholeTimelineWidth;\n        if (this.parent.enableTimelineVirtualization) {\n            //e-content styles updating\n            translateXValue = (this.parent.enableTimelineVirtualization &&\n                !isNullOrUndefined(this.parent.ganttChartModule.scrollObject.element.scrollLeft)\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0) ?\n                this.parent.ganttChartModule.scrollObject.getTimelineLeft() : 0;\n            if (this.parent.enableRtl) {\n                translateXValue = -(translateXValue);\n            }\n            var contentVirtualTable = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtable');\n            contentVirtualTable.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n            var contentVirtualTrack = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack');\n            contentVirtualTrack.style.position = 'relative';\n            contentVirtualTrack.style.width = trackWidth + 'px';\n            //timeline styles updating\n            if (this.parent.ganttChartModule.scrollObject['isSetScrollLeft']) {\n                var virtualTableStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtable');\n                var virtualTableStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtable');\n                virtualTableStylesT.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n                virtualTableStylesB.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n            }\n            var virtualTrackStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtrack');\n            var virtualTrackStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtrack');\n            virtualTrackStylesT.style.position = 'relative';\n            virtualTrackStylesB.style.position = 'relative';\n            virtualTrackStylesT.style.width = trackWidth + 'px';\n            virtualTrackStylesB.style.width = trackWidth + 'px';\n            //dependency viewer styles updating\n            var dependencyViewer = this.parent.connectorLineModule.svgObject;\n            dependencyViewer['style'].width = trackWidth + 'px';\n            // timeline header container width updating\n            var timelineHeader = this.parent.element.querySelector('.' + cls.timelineHeaderContainer);\n            timelineHeader['style'].width = 'calc(100% - ' + 17 + 'px)';\n            if (this.parent.timelineModule.isZooming || this.parent.timelineModule.isZoomToFit) {\n                this.parent.ganttChartModule.scrollElement.scrollLeft = 0;\n                this.parent.ganttChartModule.scrollObject.updateChartElementStyles();\n            }\n        }\n    };\n    /**\n     * To validate timeline tier count.\n     *\n     * @param {string} mode .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateCount = function (mode, count, tier) {\n        var tierCount = !isNullOrUndefined(count) && parseInt(count.toString(), 10) > 0 ? parseInt(count.toString(), 10) : 1;\n        var timeDifference = Math.abs(this.timelineRoundOffEndDate.getTime() - this.timelineStartDate.getTime());\n        var difference;\n        switch (mode) {\n            case 'Year':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / (12 * 28));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Month':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 28);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? (difference + 1) : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Week':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 7);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Day':\n                difference = Math.round(timeDifference / (1000 * 3600 * 24));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Hour':\n                difference = Math.round(timeDifference / (1000 * 3600));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Minutes':\n                difference = Math.round(timeDifference / (1000 * 60));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n        }\n        if (count !== tierCount && this.isZooming && this.parent.toolbarModule && (tier === 'bottomTier' || this.isSingleTier)) {\n            if (this.isZoomIn) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        return tierCount;\n    };\n    /**\n     * To validate bottom tier count.\n     *\n     * @param {string} mode .\n     * @param {number} tierCount .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateBottomTierCount = function (mode, tierCount) {\n        var count;\n        switch (mode) {\n            case 'Year':\n                count = tierCount <= this.customTimelineSettings.topTier.count ?\n                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Month':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * 12) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * 12) :\n                    tierCount <= this.customTimelineSettings.topTier.count ?\n                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Week':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 4)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 4)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 4) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 4) :\n                        tierCount <= this.customTimelineSettings.topTier.count ?\n                            tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Day':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 28) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 28) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7) :\n                            tierCount <= this.customTimelineSettings.topTier.count ? tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Hour':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24) :\n                                tierCount <= this.customTimelineSettings.topTier.count ?\n                                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Minutes':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24 * 60) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24 * 60) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24 * 60) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24 * 60) :\n                                this.topTier === 'Hour' ? tierCount <= (this.customTimelineSettings.topTier.count * 60) ?\n                                    tierCount : (this.customTimelineSettings.topTier.count * 60) :\n                                    tierCount <= this.customTimelineSettings.topTier.count ?\n                                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n        }\n        return count;\n    };\n    /**\n     * To validate timeline tier format.\n     *\n     * @param {string} mode .\n     * @param {string} format .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.validateFormat = function (mode, format) {\n        var tierFormat;\n        switch (mode) {\n            case 'Week':\n                tierFormat = !format ? 'MMM dd, yyyy' : format;\n                break;\n            case 'Day':\n            case 'None':\n                tierFormat = !format ? '' : format;\n                break;\n            case 'Hour':\n                tierFormat = !format ? 'H' : format;\n                break;\n            case 'Month':\n                tierFormat = !format ? 'MMM yyyy' : format;\n                break;\n            case 'Year':\n                tierFormat = !format ? 'yyyy' : format;\n                break;\n            case 'Minutes':\n                tierFormat = !format ? 'm' : format;\n                break;\n        }\n        return tierFormat;\n    };\n    /**\n     * To perform extend operation.\n     *\n     * @param {object} cloneObj .\n     * @param {string[]} propertyCollection .\n     * @param {object} innerProperty .\n     * @returns {object} .\n     * @private\n     */\n    Timeline.prototype.extendFunction = function (cloneObj, propertyCollection, innerProperty) {\n        var _this = this;\n        var tempObj = {};\n        for (var index = 0; index < propertyCollection.length; index++) {\n            tempObj[propertyCollection[index]] = cloneObj[propertyCollection[index]];\n        }\n        if (innerProperty) {\n            Object.keys(innerProperty).forEach(function (key) {\n                tempObj[key] = _this.extendFunction(cloneObj[key], innerProperty[key], null);\n            });\n        }\n        return tempObj;\n    };\n    /**\n     * To format date.\n     *\n     * @param {string} dayFormat .\n     * @param {Date} data .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.formatDateHeader = function (dayFormat, data) {\n        var date = new Date(data.getTime());\n        var dateString;\n        if (dayFormat === '') {\n            dateString = this.parent.globalize.formatDate(date, { format: 'E' });\n            if (this.parent.locale === 'zh') {\n                dateString = dateString.slice(1);\n            }\n            else {\n                if (this.parent.locale === 'ar') {\n                    var dateStringValue = dateString;\n                    dateString = dateStringValue;\n                }\n                else {\n                    dateString = dateString.slice(0, 1);\n                }\n            }\n        }\n        else {\n            dateString = this.parent.globalize.formatDate(date, { format: dayFormat });\n        }\n        return dateString;\n    };\n    /**\n     * Custom Formatting.\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @param {string} tier .\n     * @param {string} mode .\n     * @param {string | ITimelineFormatter} formatter .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.customFormat = function (date, format, tier, mode, formatter) {\n        formatter = (typeof formatter === 'string' ? getValue(formatter, window) : formatter);\n        return formatter(date, format, tier, mode);\n    };\n    /**\n     * To create timeline template .\n     *\n     * @param {string} tier .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.createTimelineTemplate = function (tier) {\n        var isFirstCell = false;\n        var parent = this.parent;\n        var parentTh = createElement('th');\n        var parentTr;\n        var mode = tier === 'topTier' ?\n            parent.timelineModule.customTimelineSettings.topTier.unit :\n            parent.timelineModule.customTimelineSettings.bottomTier.unit;\n        var count = tier === 'topTier' ? parent.timelineModule.customTimelineSettings.topTier.count :\n            parent.timelineModule.customTimelineSettings.bottomTier.count;\n        var increment;\n        var newTime;\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.dateByLeftValue(leftValueForStartDate)).toString()) :\n            new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var endDate = new Date(this.timelineRoundOffEndDate.toString());\n        var scheduleDateCollection = [];\n        var width = 0;\n        var WidthForVirtualTable = this.parent.element.offsetWidth * 3;\n        do {\n            // PDf export collection\n            var timelineCell = {};\n            timelineCell.startDate = new Date(startDate.getTime());\n            if ((mode === 'Month' || mode === 'Hour') && tier === 'bottomTier' && (count !== 1) && scheduleDateCollection.length === 0) {\n                isFirstCell = true;\n            }\n            parentTr = this.getHeaterTemplateString(new Date(startDate.toString()), mode, tier, false, count, timelineCell, isFirstCell);\n            scheduleDateCollection.push(new Date(startDate.toString()));\n            if (isFirstCell && mode === 'Month') {\n                newTime = this.calculateQuarterEndDate(startDate, count).getTime();\n            }\n            else {\n                increment = this.getIncrement(startDate, count, mode);\n                newTime = startDate.getTime() + increment;\n            }\n            isFirstCell = false;\n            startDate.setTime(newTime);\n            if (startDate.getHours() === 5 && count === 2 && tier === 'bottomTier' &&\n                this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n                startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n            }\n            if (startDate.getHours() === 8 && count === 12 && tier === 'bottomTier' &&\n                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n                startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 8));\n            }\n            if (startDate >= endDate) {\n                /* eslint-disable-next-line */\n                parentTr = this.getHeaterTemplateString(scheduleDateCollection[scheduleDateCollection.length - 1], mode, tier, true, count, timelineCell);\n            }\n            parentTh.appendChild(parentTr);\n            var tierCollection = tier === 'topTier' ? this.topTierCollection : this.bottomTierCollection;\n            timelineCell.endDate = new Date(startDate.getTime());\n            if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.enableTimelineVirtualization) {\n                if (tier === 'topTier') {\n                    this.pdfExportTopTierCollection.push(timelineCell);\n                }\n                else {\n                    this.pdfExportBottomTierCollection.push(timelineCell);\n                }\n            }\n            else {\n                tierCollection.push(timelineCell);\n            }\n            width += timelineCell.width;\n            this.weekendEndDate = timelineCell.endDate >= endDate ? endDate : timelineCell.endDate;\n        } while ((this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule ||\n            this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport)) ? (width < WidthForVirtualTable) &&\n            (startDate < endDate) : (startDate < endDate));\n        return parentTh;\n    };\n    Timeline.prototype.updateTimelineAfterZooming = function (endDate, resized) {\n        var timeDiff;\n        var perDayWidth;\n        var totWidth;\n        var contentElement = document.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (!isNullOrUndefined(contentElement)) {\n            var contentWidth = contentElement['offsetWidth'];\n            var contentHeight = contentElement['offsetHeight'];\n            var scrollHeight = document.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            timeDiff = Math.abs(this.timelineStartDate.getTime() - endDate.getTime());\n            timeDiff = timeDiff / (1000 * 3600 * 24);\n            if (this.bottomTier === 'None') {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.topTier.count, this.topTier);\n            }\n            else {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.bottomTier.count, this.bottomTier);\n            }\n            if (contentHeight < scrollHeight) {\n                totWidth = (perDayWidth * timeDiff) + 17;\n            }\n            else {\n                totWidth = (perDayWidth * timeDiff);\n            }\n            if (contentWidth >= totWidth) {\n                var widthDiff = contentWidth - totWidth;\n                widthDiff = Math.round(widthDiff / perDayWidth);\n                endDate.setDate(endDate.getDate() + widthDiff);\n                this.parent.timelineModule.timelineEndDate = endDate;\n                if (resized) {\n                    this.parent.updateProjectDates(this.timelineStartDate, this.timelineEndDate, this.parent.isTimelineRoundOff);\n                }\n            }\n        }\n    };\n    Timeline.prototype.getTimelineRoundOffEndDate = function (date) {\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        var endDate = new Date(date.toString());\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Hour') {\n                endDate.setMinutes(60);\n            }\n            else if (tierMode === 'Minutes') {\n                endDate.setSeconds(60);\n            }\n            else {\n                endDate.setHours(24, 0, 0, 0);\n            }\n        }\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.updateTimelineAfterZooming(endDate, false);\n        }\n        return endDate;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {number} count .\n     * @param {string} mode .\n     * @param {boolean} isFirstCell .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getIncrement = function (startDate, count, mode, isFirstCell) {\n        var firstDay = new Date(startDate.getTime());\n        var lastDay = new Date(startDate.getTime());\n        var increment;\n        switch (mode) {\n            case 'Year':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear() + (count - 1), 11, 31);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24);\n                break;\n            case 'Month':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear(), startDate.getMonth() + count, 1);\n                increment = lastDay.getTime() - firstDay.getTime();\n                break;\n            case 'Week':\n                {\n                    var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n                    var dayIntervel = startDate.getDay() < dayIndex ? (dayIndex - startDate.getDay()) :\n                        (6 - startDate.getDay()) + dayIndex;\n                    count = dayIntervel > 0 ? count - 1 : 0;\n                    lastDay.setHours(24, 0, 0, 0);\n                    dayIntervel = startDate.getDay() < dayIndex ? dayIntervel > 0 ?\n                        dayIntervel - 1 : dayIntervel : dayIntervel;\n                    lastDay.setDate(lastDay.getDate() + (dayIntervel + (7 * count)));\n                    increment = lastDay.getTime() - firstDay.getTime();\n                    break;\n                }\n            case 'Day':\n                lastDay.setHours(24, 0, 0, 0);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24 * (count - 1));\n                increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                break;\n            case 'Hour':\n                {\n                    lastDay.setMinutes(60);\n                    lastDay.setSeconds(0);\n                    increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * (count - 1));\n                    var date = new Date(lastDay);\n                    date.setTime(date.getTime() + increment);\n                    if (isFirstCell && count === 12) {\n                        if (firstDay.getHours() !== 0) {\n                            date.setHours(0, 0, 0, 0);\n                            increment = date.getTime() - firstDay.getTime();\n                        }\n                    }\n                    if (isFirstCell && count === 6) {\n                        if (firstDay.getHours() !== 0) {\n                            date.setHours(6, 0, 0, 0);\n                            increment = date.getTime() - firstDay.getTime();\n                        }\n                    }\n                    increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                    break;\n                }\n            case 'Minutes':\n                lastDay.setSeconds(60);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * (count - 1));\n                increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                break;\n        }\n        return increment;\n    };\n    Timeline.prototype.checkDate = function (firstDay, lastDay, increment, count, mode) {\n        var date = new Date(firstDay.getTime());\n        date.setTime(date.getTime() + increment);\n        if (mode === 'Day' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60 * 60 * 24)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60 * 60 * 24);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        else if (mode === 'Hour' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60 * 60)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60 * 60);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        else if (mode === 'Minutes' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        return increment;\n    };\n    /**\n     * Method to find header cell was weekend or not\n     *\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {Date} day .\n     * @returns {boolean} .\n     */\n    Timeline.prototype.isWeekendHeaderCell = function (mode, tier, day) {\n        return (mode === 'Day' || mode === 'Hour' || mode === 'Minutes') && (this.customTimelineSettings[tier].count === 1 ||\n            mode === 'Hour' || mode === 'Minutes') &&\n            this.parent.nonWorkingDayIndex.indexOf(day.getDay()) !== -1;\n    };\n    Timeline.prototype.calculateQuarterEndDate = function (date, count) {\n        var month = date.getMonth();\n        if (count === 3) {\n            if (month >= 0 && month <= 2) {\n                return new Date(date.getFullYear(), 3, 1);\n            }\n            else if (month >= 3 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else if (month >= 6 && month <= 8) {\n                return new Date(date.getFullYear(), 9, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n        else {\n            if (month >= 0 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n    };\n    /**\n     * To construct template string.\n     *\n     * @param {Date} scheduleWeeks .\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {boolean} isLast .\n     * @param {number} count .\n     * @param {TimelineFormat} timelineCell .\n     * @returns {string} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Timeline.prototype.getHeaterTemplateString = function (scheduleWeeks, mode, tier, isLast, count, timelineCell, isFirstCell) {\n        var parentTr = '';\n        var template;\n        var timelineTemplate = null;\n        if (!isNullOrUndefined(this.parent.timelineTemplate)) {\n            timelineTemplate = this.parent.chartRowsModule.templateCompiler(this.parent.timelineTemplate);\n        }\n        var format = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.format :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.format;\n        var formatter = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.formatter :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.formatter;\n        var thWidth;\n        var date = isNullOrUndefined(formatter) ?\n            this.parent.globalize.formatDate(scheduleWeeks, { format: this.parent.getDateFormat() }) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter);\n        thWidth = (this.getIncrement(scheduleWeeks, count, mode, isFirstCell) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n        var newDate = new Date(scheduleWeeks.getTime() + this.getIncrement(scheduleWeeks, count, mode));\n        if ((!this.parent.isInDst(newDate) && this.parent.isInDst(scheduleWeeks)) ||\n            (this.parent.isInDst(newDate) && !this.parent.isInDst(scheduleWeeks))) {\n            var temp = void 0;\n            if ((!this.parent.isInDst(newDate) && this.parent.isInDst(scheduleWeeks))) {\n                temp = this.getIncrement(scheduleWeeks, count, mode) - (1000 * 60 * 60);\n            }\n            else {\n                temp = this.getIncrement(scheduleWeeks, count, mode) + (1000 * 60 * 60);\n            }\n            thWidth = (temp / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n        }\n        var cellWidth = thWidth;\n        thWidth = isLast || (isFirstCell && mode !== 'Hour') ? isLast ? this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.timelineRoundOffEndDate) :\n            this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.calculateQuarterEndDate(scheduleWeeks, count))\n            : thWidth;\n        var isWeekendCell = this.isWeekendHeaderCell(mode, tier, scheduleWeeks);\n        var textClassName = tier === 'topTier' ? ' e-gantt-top-cell-text' : '';\n        if (isFirstCell && scheduleWeeks.getHours() === 20 && count === 12 && tier === 'bottomTier' &&\n            this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n            scheduleWeeks.setTime(scheduleWeeks.getTime() - (1000 * 60 * 60 * 20));\n        }\n        var value = (isNullOrUndefined(formatter) ? this.formatDateHeader(format, scheduleWeeks) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter));\n        if (!isNullOrUndefined(timelineTemplate)) {\n            var args = {\n                date: date,\n                tier: tier,\n                value: value\n            };\n            template = timelineTemplate(extend({}, args), this.parent, 'TimelineTemplate', this.parent.chartRowsModule.getTemplateID('TimelineTemplate'), false, undefined, null, this.parent['root']);\n        }\n        var className = this.parent.timelineModule.isSingleTier ? cls.timelineSingleHeaderCell : cls.timelineTopHeaderCell;\n        var weekendClass = isWeekendCell ? ' ' + cls.weekendHeaderCell : '';\n        var th = createElement('th', {\n            className: \"\" + className + weekendClass,\n            styles: \"width:\" + thWidth + \"px;\" + (isWeekendCell && this.customTimelineSettings.weekendBackground ? 'background-color:' + this.customTimelineSettings.weekendBackground + ';' : '')\n        });\n        th.tabIndex = -1;\n        th.setAttribute('aria-label', this.parent.localeObj.getConstant('timelineCell') + \" \" + date);\n        var div = createElement('div', {\n            className: \"\" + cls.timelineHeaderCellLabel + textClassName,\n            styles: \"width:\" + (thWidth - 1) + \"px;\"\n        });\n        div.title = this.parent.timelineSettings.showTooltip ? date : '';\n        div.textContent = value;\n        if (this.parent.isReact && !isNullOrUndefined(template) && template.length > 0) {\n            template[0]['style'].width = '100%';\n            template[0]['style'].height = '100%';\n        }\n        if (!isNullOrUndefined(timelineTemplate) && !isNullOrUndefined(template) && template.length > 0) {\n            append(template, th);\n        }\n        else {\n            th.append(div);\n        }\n        parentTr += th.outerHTML;\n        if ((this.isSingleTier || tier === 'topTier') && !isLast) {\n            this.totalTimelineWidth = this.totalTimelineWidth + thWidth;\n        }\n        else if ((this.isSingleTier || tier === 'topTier') && isLast) {\n            this.totalTimelineWidth = (this.totalTimelineWidth - cellWidth) + thWidth;\n        }\n        // PDf export collection\n        timelineCell.value = value;\n        timelineCell.isWeekend = isWeekendCell;\n        timelineCell.width = thWidth;\n        return th;\n    };\n    /**\n     * To calculate last 'th' width.\n     *\n     * @param {string} mode .\n     * @param {Date} scheduleWeeks .\n     * @param {Date} endDate .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.calculateWidthBetweenTwoDate = function (mode, scheduleWeeks, endDate) {\n        var sDate = new Date(scheduleWeeks.getTime());\n        var eDate = new Date(endDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var timeDifference = (eDate.getTime() - sDate.getTime());\n        var balanceDay = (timeDifference / (1000 * 60 * 60 * 24));\n        return balanceDay * this.parent.perDayWidth;\n    };\n    /**\n     * To calculate timeline width.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.timelineWidthCalculation = function () {\n        var timelineUnitSize = this.customTimelineSettings.timelineUnitSize;\n        var bottomTierCount = this.customTimelineSettings.bottomTier.count;\n        var topTierCount = this.customTimelineSettings.topTier.count;\n        this.bottomTierCellWidth = timelineUnitSize;\n        if (this.bottomTier === 'None') {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, topTierCount, this.topTier);\n        }\n        else {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, bottomTierCount, this.bottomTier);\n        }\n        this.topTierCellWidth = this.bottomTier !== 'None' ? this.topTier === 'Week' ?\n            this.parent.perDayWidth * 7 : this.topTier === 'Hour' ?\n            this.parent.perDayWidth / 24 : this.topTier === 'Minutes' ?\n            this.parent.perDayWidth / (24 * 60) : this.parent.perDayWidth : timelineUnitSize;\n        this.topTierCellWidth = this.isSingleTier ? this.topTierCellWidth : this.topTierCellWidth * topTierCount;\n    };\n    /**\n     * To validate per day width.\n     *\n     * @param {number} timelineUnitSize .\n     * @param {number} bottomTierCount .\n     * @param {string} mode .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getPerDayWidth = function (timelineUnitSize, bottomTierCount, mode) {\n        var perDayWidth;\n        switch (mode) {\n            case 'Year':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / (12 * 28);\n                break;\n            case 'Month':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 28;\n                break;\n            case 'Week':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 7;\n                break;\n            case 'Day':\n                perDayWidth = timelineUnitSize / bottomTierCount;\n                break;\n            case 'Hour':\n                perDayWidth = (24 / bottomTierCount) * timelineUnitSize;\n                break;\n            case 'Minutes':\n                perDayWidth = ((60 * 24) / bottomTierCount) * timelineUnitSize;\n                break;\n        }\n        return perDayWidth;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.roundOffDays = function () {\n        var startDate = this.parent.cloneProjectStartDate;\n        var endDate = this.parent.cloneProjectEndDate;\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Year') {\n                startDate = new Date(startDate.getFullYear(), 0, 1);\n                endDate = new Date(endDate.getFullYear(), 11, 31);\n            }\n            else if (tierMode === 'Month') {\n                startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 0);\n            }\n            else if (tierMode === 'Week') {\n                var dayIndex = !isNullOrUndefined(this.customTimelineSettings.weekStartDay) ?\n                    this.parent.timelineModule.customTimelineSettings.weekStartDay : 0;\n                var roundOffStartDate = startDate.getDay() < dayIndex ?\n                    (startDate.getDate()) - (7 - dayIndex + startDate.getDay()) :\n                    (startDate.getDate()) - startDate.getDay() + dayIndex;\n                startDate.setDate(roundOffStartDate);\n                var first = endDate.getDate() - endDate.getDay();\n                var last = first + 6 + dayIndex;\n                endDate.setDate(last);\n            }\n            if (tierMode === 'Hour') {\n                startDate.setMinutes(0);\n            }\n            else if (tierMode === 'Minutes') {\n                startDate.setSeconds(0);\n            }\n            else {\n                startDate.setHours(0, 0, 0, 0);\n            }\n        }\n        this.timelineStartDate = startDate;\n        this.timelineEndDate = endDate;\n        this.timelineRoundOffEndDate = this.getTimelineRoundOffEndDate(this.timelineEndDate);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} mode .\n     * @param {string} span .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateScheduleDatesByToolBar = function (mode, span, startDate, endDate) {\n        if (mode === 'Year') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMonth() === 0) {\n                    startDate = new Date(startDate.getFullYear() - 1, 0, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), 0, 1);\n                }\n            }\n            else {\n                if (endDate.getMonth() === 11) {\n                    endDate = new Date(endDate.getFullYear() + 1, 0, 1);\n                }\n                else {\n                    endDate = new Date(endDate.getFullYear(), 12, 1);\n                }\n            }\n        }\n        if (mode === 'Month') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getDate() === 1) {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth() - 1, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                }\n            }\n            else {\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 1);\n            }\n        }\n        if (mode === 'Week') {\n            var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n            var dayIntervel = void 0;\n            if (span === 'prevTimeSpan') {\n                dayIntervel = startDate.getDay() < dayIndex ? 7 - (dayIndex - startDate.getDay()) :\n                    startDate.getDay() - dayIndex;\n                startDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    startDate.setDate(startDate.getDate() - 7);\n                }\n                else {\n                    startDate.setDate(startDate.getDate() - dayIntervel);\n                }\n            }\n            else {\n                dayIntervel = endDate.getDay() < dayIndex ? (dayIndex - endDate.getDay()) :\n                    (7 - endDate.getDay()) + dayIndex;\n                endDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    endDate.setDate(endDate.getDate() + 6);\n                }\n                else {\n                    endDate.setDate(endDate.getDate() + dayIntervel);\n                }\n            }\n        }\n        if (mode === 'Day') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getHours() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 24));\n                }\n                else {\n                    startDate.setHours(0);\n                }\n            }\n            else {\n                if (endDate.getHours() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60 * 24));\n                }\n                else {\n                    endDate.setHours(24);\n                }\n            }\n        }\n        if (mode === 'Hour') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMinutes() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n                }\n                else {\n                    startDate.setMinutes(0);\n                }\n            }\n            else {\n                if (endDate.getMinutes() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60));\n                }\n                else {\n                    endDate.setMinutes(60);\n                }\n            }\n        }\n        if (mode === 'Minutes') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getSeconds() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60));\n                }\n                else {\n                    startDate.setSeconds(0);\n                }\n            }\n            else {\n                if (endDate.getSeconds() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60));\n                }\n                else {\n                    endDate.setSeconds(60);\n                }\n            }\n        }\n        this.parent.cloneProjectStartDate = startDate;\n        this.parent.cloneProjectEndDate = endDate;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {IGanttData[]} tempArray .\n     * @param {string} action .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateTimeLineOnEditing = function (tempArray, action) {\n        if (tempArray[0].length >= 1) {\n            for (var i = 0; i < tempArray.length; i++) {\n                var temp = tempArray[parseInt(i.toString(), 10)];\n                var filteredStartDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.startDate); });\n                var filteredEndDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.endDate); });\n                var minStartDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')) : null;\n                var maxEndDate = filteredEndDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.max(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var validStartDate = new Date(this.parent.dataOperation.checkStartDate(this.timelineStartDate).getTime());\n                var validEndDate = new Date(this.parent.dataOperation.checkEndDate(this.timelineEndDate).getTime());\n                var maxStartLeft = isNullOrUndefined(minStartDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(minStartDate, false);\n                var maxEndLeft = isNullOrUndefined(maxEndDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(maxEndDate, false);\n                var validStartLeft = this.parent.dataOperation.getTaskLeft(validStartDate, false);\n                var validEndLeft = this.parent.dataOperation.getTaskLeft(validEndDate, false);\n                var isChanged = void 0;\n                var taskbarModule = this.parent.editModule.taskbarEditModule;\n                var startDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')).setHours(0, 0, 0, 0) : null;\n                var timelineStartDate = new Date(this.timelineStartDate.getTime()).setHours(0, 0, 0, 0);\n                if (!isNullOrUndefined(maxStartLeft) && (((((!isNullOrUndefined(taskbarModule)) && ((taskbarModule.taskBarEditAction && taskbarModule.taskBarEditAction !== 'RightResizing') || isNullOrUndefined(taskbarModule.taskBarEditAction)))) &&\n                    (startDate <= timelineStartDate))) && (maxStartLeft < this.bottomTierCellWidth || maxStartLeft <= validStartLeft)) {\n                    isChanged = 'prevTimeSpan';\n                    minStartDate = minStartDate > this.timelineStartDate ? this.timelineStartDate : minStartDate;\n                }\n                else {\n                    minStartDate = this.timelineStartDate;\n                }\n                if (!isNullOrUndefined(maxEndLeft) && (maxEndLeft >= ((this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth) - this.bottomTierCellWidth) ||\n                    maxEndLeft > validEndLeft)) {\n                    isChanged = isChanged === 'prevTimeSpan' ? 'both' : 'nextTimeSpan';\n                    maxEndDate = maxEndDate < this.timelineEndDate ? this.timelineEndDate : maxEndDate;\n                }\n                else {\n                    maxEndDate = this.timelineEndDate;\n                }\n                if (isChanged) {\n                    this.performTimeSpanAction(isChanged, action, minStartDate, maxEndDate);\n                }\n                else if (!isNullOrUndefined(temp[0].ganttProperties.segments)) {\n                    this.parent.dataOperation.updateWidthLeft(temp[0]);\n                }\n                break;\n            }\n        }\n    };\n    /**\n     * To validate project start date and end date on editing action\n     *\n     * @param {string} type .\n     * @param {string} isFrom .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} mode .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.performTimeSpanAction = function (type, isFrom, startDate, endDate, mode) {\n        mode = !isNullOrUndefined(mode) ? mode : this.parent.timelineModule.topTier === 'None' ?\n            this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        var projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var projectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        if (isFrom !== 'publicMethod' && type === 'both') {\n            this.updateScheduleDatesByToolBar(mode, 'prevTimeSpan', startDate, endDate);\n            this.updateScheduleDatesByToolBar(mode, 'nextTimeSpan', new Date(this.parent.cloneProjectStartDate.getTime()), endDate);\n        }\n        else {\n            this.updateScheduleDatesByToolBar(mode, type, startDate, endDate);\n        }\n        var args = this.timeSpanActionEvent('actionBegin', type, isFrom);\n        if (!args.cancel) {\n            this.restrictRender = true;\n            this.performedTimeSpanAction = true;\n            var previousScrollLeft = this.parent.ganttChartModule.scrollElement.scrollLeft;\n            this.parent.updateProjectDates(args.projectStartDate, args.ProjectEndDate, args.isTimelineRoundOff, isFrom);\n            if (type === 'prevTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(0);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'TaskbarEditing') {\n                var currentScrollLeft = document.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n                this.parent.element.querySelector('.e-timeline-header-container').scrollLeft = currentScrollLeft;\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            if (isFrom === 'TaskbarEditing' && this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3 || (isNullOrUndefined(this.parent.projectStartDate) && isNullOrUndefined(this.parent.projectEndDate)))) {\n                this.parent.ganttChartModule.scrollObject.setScrollLeft(previousScrollLeft);\n                this.parent.ganttChartModule.scrollObject.updateContent();\n            }\n            this.parent.timelineModule.timeSpanActionEvent('actionComplete', type, isFrom);\n        }\n        else {\n            this.parent.cloneProjectStartDate = projectStartDate;\n            this.parent.cloneProjectEndDate = projectEndDate;\n        }\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} eventType .\n     * @param {string} requestType .\n     * @param {string} isFrom .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.timeSpanActionEvent = function (eventType, requestType, isFrom) {\n        var args = {};\n        args.projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        args.ProjectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        args.requestType = isFrom === 'publicMethod' ? requestType : isFrom === 'beforeAdd' ?\n            'TimelineRefreshOnAdd' : isFrom === 'TaskbarEditing' ? 'TimelineRefreshOnEdit' : requestType;\n        if (eventType === 'actionBegin') {\n            args.isTimelineRoundOff = this.parent.isTimelineRoundOff;\n            args.cancel = false;\n        }\n        args.action = 'TimescaleUpdate';\n        this.parent.trigger(eventType, args);\n        return args;\n    };\n    return Timeline;\n}());\nexport { Timeline };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Configures column collection in Gantt.\n */\nvar Column = /** @class */ (function () {\n    function Column(options) {\n        /**\n         * If `allowEditing` set to false, then it disables editing of a particular column.\n         * By default all columns are editable.\n         *\n         * @default true\n         */\n        this.allowEditing = true;\n        /**\n         * If `allowReordering` set to false, then it disables reorder of a particular column.\n         * By default all columns can be reorder.\n         *\n         * @default true\n         */\n        this.allowReordering = true;\n        /**\n         * If `allowResizing` is set to false, it disables resize option of a particular column.\n         * By default all the columns can be resized.\n         *\n         * @default true\n         */\n        this.allowResizing = true;\n        /**\n         * If `allowSorting` set to false, then it disables sorting option of a particular column.\n         * By default all columns are sortable.\n         *\n         * @default true\n         */\n        this.allowSorting = true;\n        /**\n         * If `allowFiltering` set to false, then it disables filtering option and filter bar element of a particular column.\n         * By default all columns are filterable.\n         *\n         * @default true\n         */\n        this.allowFiltering = true;\n        /**\n         * Defines the `IEditCell` object to customize default edit cell.\n         *\n         * @default {}\n         */\n        this.edit = {};\n        merge(this, options);\n    }\n    return Column;\n}());\nexport { Column };\n","import { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { createElement, isNullOrUndefined, getValue, extend, EventHandler, deleteObject, remove } from '@syncfusion/ej2-base';\nimport { setValue } from '@syncfusion/ej2-base';\nimport { Query } from '@syncfusion/ej2-data';\nimport { Column as GanttColumn } from '../models/column';\nimport { isCountRequired } from './utils';\n/** @hidden */\nvar GanttTreeGrid = /** @class */ (function () {\n    function GanttTreeGrid(parent) {\n        var _this = this;\n        this.isPersist = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.queryCellInfo = function (args) {\n            _this.parent.trigger('queryCellInfo', args);\n        };\n        this.headerCellInfo = function (args) {\n            _this.parent.trigger('headerCellInfo', args);\n        };\n        this.rowDataBound = function (args) {\n            _this.parent.trigger('rowDataBound', args);\n        };\n        this.columnMenuOpen = function (args) {\n            _this.parent.notify('columnMenuOpen', args);\n            _this.parent.trigger('columnMenuOpen', args);\n            document.querySelector('.e-colmenu').addEventListener('mousemove', function () {\n                var filPopOptions = document.querySelector('.e-filter-popup');\n                var filOptions = document.querySelector('.e-filter-item');\n                if (!isNullOrUndefined(filPopOptions)) {\n                    if (!filOptions.classList.contains('e-focused')) {\n                        remove(_this.parent.filterModule.filterMenuElement);\n                    }\n                }\n            });\n        };\n        this.columnMenuClick = function (args) {\n            _this.parent.trigger('columnMenuClick', args);\n        };\n        this.objectEqualityChecker = function (old, current) {\n            if (old) {\n                var keys = Object.keys(old);\n                var isEqual = true;\n                var excludeKeys = ['Children', 'childRecords', 'taskData', 'uniqueID', 'parentItem', 'parentUniqueID', 'ganttProperties'];\n                for (var i = 0; i < keys.length; i++) {\n                    var oldKey = old[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(old[keys[parseInt(i.toString(), 10)]]).getTime() : old[keys[parseInt(i.toString(), 10)]];\n                    var currentKey = current[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(current[keys[parseInt(i.toString(), 10)]]).getTime() : current[keys[parseInt(i.toString(), 10)]];\n                    if (oldKey !== currentKey && excludeKeys.indexOf(keys[i]) === -1) {\n                        _this.parent.modifiedRecords.push(current);\n                        isEqual = false;\n                        break;\n                    }\n                }\n                return isEqual;\n            }\n            else {\n                return false;\n            }\n        };\n        this.parent = parent;\n        this.parent.treeGrid = new TreeGrid();\n        this.parent.treeGrid.allowSelection = false;\n        this.parent.treeGrid.allowKeyboard = this.parent.allowKeyboard;\n        this.parent.treeGrid['${enableHtmlSanitizer}'] = this.parent.enableHtmlSanitizer;\n        this.parent.treeGrid.enableImmutableMode = this.parent.enableImmutableMode;\n        this.treeGridColumns = [];\n        if (!this.parent.isLocaleChanged && this.parent.isLoad) {\n            this.parent.previousGanttColumns = extend([], [], this.parent.columns, true);\n        }\n        this.validateGanttColumns();\n        if (this.parent.isLocaleChanged) {\n            this.parent.isLocaleChanged = false;\n        }\n        this.addEventListener();\n    }\n    GanttTreeGrid.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createContainer, this);\n        this.parent.on('chartScroll', this.updateScrollTop, this);\n        this.parent.on('destroy', this.destroy, this);\n        this.parent.treeGrid.on('renderReactTemplate', this.renderReactTemplate, this);\n    };\n    GanttTreeGrid.prototype.renderReactTemplate = function (args) {\n        var portals = 'portals';\n        for (var _i = 0, args_1 = args; _i < args_1.length; _i++) {\n            var portal = args_1[_i];\n            if (this.parent[portals].indexOf(portal) === -1) {\n                this.parent[portals].push(portal);\n            }\n        }\n        this.parent.renderTemplates();\n    };\n    GanttTreeGrid.prototype.createContainer = function () {\n        //let height: number = this.parent.ganttHeight - this.parent.toolbarModule.element.offsetHeight - 46;\n        this.treeGridElement = createElement('div', {\n            id: 'treeGrid' + this.parent.element.id, className: 'e-gantt-tree-grid'\n            //  styles: 'height:' + height + 'px;'\n        });\n        var tempHeader = createElement('div', { className: 'e-gantt-temp-header' });\n        this.parent.treeGridPane.appendChild(this.treeGridElement);\n        this.treeGridElement.appendChild(tempHeader);\n        this.parent.treeGridPane.classList.add('e-temp-content');\n    };\n    /**\n     * Method to initiate TreeGrid\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.renderTreeGrid = function () {\n        this.composeProperties();\n        this.bindEvents();\n        var root = 'root';\n        this.parent.treeGrid[root] = this.parent[root] ? this.parent[root] : this.parent;\n        setValue('registeredTemplate', this.registeredTemplate, this.parent.treeGrid);\n        var ref = 'viewContainerRef';\n        setValue('viewContainerRef', this.parent[\"\" + ref], this.parent.treeGrid);\n        this.parent.treeGrid.appendTo(this.treeGridElement);\n        if (this.parent.treeGrid.grid && this.parent.toolbarModule && this.parent.isReact) {\n            this.parent.treeGrid.grid.portals = this.parent.portals;\n        }\n        this.wireEvents();\n    };\n    GanttTreeGrid.prototype.composeProperties = function () {\n        this.parent.treeGrid.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        this.parent.treeGrid.hasChildMapping = this.parent.taskFields.hasChildMapping;\n        this.parent.treeGrid.query = this.parent.query;\n        this.parent.treeGrid.loadChildOnDemand = this.parent.loadChildOnDemand;\n        this.parent.treeGrid['isFromGantt'] = true;\n        this.parent.treeGrid.parentIdMapping = this.parent.taskFields.parentID;\n        if (this.parent.taskFields.parentID) {\n            this.parent.treeGrid.idMapping = this.parent.taskFields.id;\n        }\n        this.parent.treeGrid.showColumnMenu = this.parent.showColumnMenu;\n        this.parent.treeGrid.enableCollapseAll = this.parent.collapseAllParentTasks;\n        this.parent.treeGrid.columnMenuItems = this.parent.columnMenuItems;\n        this.parent.treeGrid.enableRtl = this.parent.enableRtl;\n        this.parent.treeGrid.childMapping = isNullOrUndefined(this.parent.taskFields.child) ? '' : this.parent.taskFields.child;\n        this.parent.treeGrid.treeColumnIndex = this.parent.treeColumnIndex;\n        this.parent.treeGrid.columns = this.treeGridColumns;\n        this.parent.treeGrid.loadingIndicator = this.parent.loadingIndicator;\n        this.parent.treeGrid.enableVirtualMaskRow = this.parent.enableVirtualMaskRow;\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n            // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n            this.parent.treeGrid.hasChildMapping = 'isParent';\n            var count = getValue('count', this.parent.dataSource);\n            this.parent.treeGrid.dataSource = { result: this.parent.flatData, count: count };\n        }\n        else {\n            if (!this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                this.parent.autoCalculateDateScheduling = false;\n                this.parent.treeGrid.dataSource = this.parent.dataSource;\n            }\n            else {\n                this.parent.treeGrid.hasChildMapping = null;\n                this.parent.treeGrid.dataSource = this.parent.flatData;\n            }\n        }\n        this.parent.treeGrid.expandStateMapping = this.parent.taskFields.expandState;\n        var isGantt = 'isGantt';\n        this.parent.treeGrid[isGantt] = true;\n        this.parent.treeGrid.rowHeight = this.parent.rowHeight;\n        this.parent.treeGrid.gridLines = this.parent.gridLines;\n        if (this.parent.searchSettings.fields.length !== 0 || this.parent.searchSettings.key !== '') {\n            this.parent.treeGrid.searchSettings = this.parent.searchSettings;\n        }\n        var isJsComponent = 'isJsComponent';\n        this.parent.treeGrid[isJsComponent] = true;\n        this.parent.treeGrid.height =\n            this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['offsetHeight'] - (this.parent.flatData.length === 0 ? 0 : 19);\n    };\n    GanttTreeGrid.prototype.getContentDiv = function () {\n        return this.treeGridElement.querySelector('.e-content');\n    };\n    GanttTreeGrid.prototype.getHeaderDiv = function () {\n        return this.treeGridElement.querySelector('.e-headercontent');\n    };\n    GanttTreeGrid.prototype.getScrollbarWidth = function () {\n        var outer = document.createElement('div');\n        outer.style.visibility = 'hidden';\n        outer.style.overflow = 'scroll';\n        outer.style.msOverflowStyle = 'scrollbar';\n        var inner = document.createElement('div');\n        outer.appendChild(inner);\n        this.parent.element.appendChild(outer);\n        var scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\n        outer.parentNode.removeChild(outer);\n        return scrollbarWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.ensureScrollBar = function () {\n        var content = this.getContentDiv();\n        var headerDiv = this.getHeaderDiv();\n        var scrollWidth = this.getScrollbarWidth();\n        var isMobile = /Android|Mac|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        if (scrollWidth !== 0) {\n            content.style.cssText += 'width: calc(100% + ' + (scrollWidth + 1) + 'px);'; //actual scrollbar width 17 px but here scrollbar width set to 16px hence adding increment of 1\n        }\n        else {\n            content.classList.add('e-gantt-scroll-padding');\n        }\n        if (scrollWidth === 0 && isMobile) {\n            headerDiv.style.cssText += 'width: calc(100% + 17px);';\n        }\n    };\n    GanttTreeGrid.prototype.bindEvents = function () {\n        this.parent.treeGrid.dataBound = this.dataBound.bind(this);\n        this.parent.treeGrid.collapsing = this.collapsing.bind(this);\n        this.parent.treeGrid.collapsed = this.collapsed.bind(this);\n        this.parent.treeGrid.expanding = this.expanding.bind(this);\n        this.parent.treeGrid.expanded = this.expanded.bind(this);\n        this.parent.treeGrid.actionBegin = this.actionBegin.bind(this);\n        this.parent.treeGrid.actionComplete = this.treeActionComplete.bind(this);\n        this.parent.treeGrid.created = this.created.bind(this);\n        this.parent.treeGrid.actionFailure = this.actionFailure.bind(this);\n        this.parent.treeGrid.queryCellInfo = this.queryCellInfo.bind(this);\n        this.parent.treeGrid.headerCellInfo = this.headerCellInfo.bind(this);\n        this.parent.treeGrid.rowDataBound = this.rowDataBound.bind(this);\n        this.parent.treeGrid.columnMenuOpen = this.columnMenuOpen.bind(this);\n        this.parent.treeGrid.columnMenuClick = this.columnMenuClick.bind(this);\n        this.parent.treeGrid.beforeDataBound = this.beforeDataBound.bind(this);\n        this.parent.treeGrid.dataStateChange = this.dataStateChange.bind(this);\n    };\n    GanttTreeGrid.prototype.beforeDataBound = function (args) {\n        if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings && this.parent.selectionSettings.persistSelection && this.parent.selectionModule.getSelectedRowIndexes().length > 0 &&\n            args['actionArgs']['requestType'] === 'sorting') {\n            this.isPersist = true;\n        }\n        this.parent.updatedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : getValue('result', args);\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            this.parent.updateContentHeight(args);\n        }\n        setValue('contentModule.objectEqualityChecker', this.objectEqualityChecker, this.parent.treeGrid.grid);\n    };\n    GanttTreeGrid.prototype.dataBound = function (args) {\n        this.ensureScrollBar();\n        this.parent.treeDataBound(args);\n        if (this.parent.isVirtualScroll) {\n            if ((this.parent.enableVirtualMaskRow && this.parent.enableVirtualization) ||\n                (this.parent.enableVirtualization && !this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Shimmer') ||\n                (this.parent.loadingIndicator.indicatorType === 'Shimmer')) {\n                this.parent.hideMaskRow();\n            }\n            this.parent.isVirtualScroll = false;\n            if (!isNullOrUndefined(this.parent.selectionModule) && !isNullOrUndefined(this.parent.toolbarModule)) {\n                this.parent.toolbarModule.refreshToolbarItems();\n            }\n        }\n        this.prevCurrentView = extend([], [], this.parent.currentViewData, true);\n    };\n    GanttTreeGrid.prototype.dataStateChange = function (args) {\n        if (args.action && args.action.requestType === 'refresh') {\n            this.parent.treeGrid.dataSource = {\n                result: getValue('result', this.parent.treeGrid.dataSource),\n                count: getValue('count', this.parent.treeGrid.dataSource)\n            };\n        }\n        this.parent.trigger('dataStateChange', args);\n    };\n    GanttTreeGrid.prototype.collapsing = function (args) {\n        // Collapsing event\n        var collapsingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                }\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n            else {\n                collapsingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.expanding = function (args) {\n        // Expanding event\n        var expandingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                }\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n            else {\n                expandingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.collapsed = function (args) {\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var collapsedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n                }\n            }\n            else {\n                collapsedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n            }\n            if (!this.parent.allowTaskbarOverlap && !this.parent.ganttChartModule.isCollapseAll && collapsedArgs['gridRow']) {\n                collapsedArgs['gridRow'].style.height = collapsedArgs['chartRow'].style.height;\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.trigger('collapsed', args);\n    };\n    GanttTreeGrid.prototype.expanded = function (args) {\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var expandedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n                }\n            }\n            else {\n                expandedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n            }\n            if (!this.parent.allowTaskbarOverlap && !this.parent.ganttChartModule.isExpandAll && args['row']) {\n                args['row'].style.height = this.parent.rowHeight + 'px';\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.isCollapseAll = false;\n        this.parent.trigger('expanded', args);\n    };\n    GanttTreeGrid.prototype.actionBegin = function (args) {\n        if (this.parent.undoRedoModule && (args.requestType === 'filtering' || args.requestType === 'searching' || args.requestType === 'sorting' || args.requestType === 'filterAfterOpen')) {\n            this.parent.undoRedoModule['canUpdateIndex'] = false;\n        }\n        this.parent.notify('actionBegin', args);\n        var flag = getValue('doubleClickTarget', this.parent.treeGrid.editModule);\n        if (flag !== null) {\n            setValue('doubleClickTarget', null, this.parent.treeGrid.editModule);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (args.requestType !== 'virtualscroll' && args.type !== 'edit' && args.requestType !== 'beginEdit') {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.created = function (args) {\n        this.updateKeyConfigSettings();\n    };\n    GanttTreeGrid.prototype.actionFailure = function (args) {\n        this.parent.trigger('actionFailure', args);\n    };\n    GanttTreeGrid.prototype.createExpandCollapseArgs = function (args, currentRecord) {\n        var chartRow;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!isNullOrUndefined(recordLength)) {\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(currentRecord)];\n            var eventArgs = { data: currentRecord, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n        else {\n            var recordOne = getValue('data', args);\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(recordOne)];\n            var eventArgs = { data: recordOne, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n    };\n    GanttTreeGrid.prototype.treeActionComplete = function (args) {\n        var _this = this;\n        var updatedArgs = extend({}, args);\n        if (getValue('requestType', args) === 'reorder') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnReorder')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = {};\n                record['action'] = 'ColumnReorder';\n                record['fromIndex'] = extend([], [], [args['fromIndex']], true)[0];\n                record['toIndex'] = extend([], [], [args['toIndex']], true)[0];\n                record['toColumn'] = extend([], [], [this.parent.treeGrid.columns[args['toIndex']]['field']], true)[0];\n                record['fromColumn'] = extend([], [], [this.parent.treeGrid.columns[args['fromIndex']]['field']], true)[0];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'columnstate') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnState')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'ColumnState' };\n                record['showhideColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'sorting') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Sorting')) {\n                if (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['sortColumns'].length > 1) {\n                    this.parent.undoRedoModule['sortedColumnsLength']++;\n                }\n                if (!this.parent.undoRedoModule['isFromUndoRedo'] && (!this.parent.undoRedoModule['currentAction'] || (this.parent.undoRedoModule['sortedColumnsLength'] !== this.parent.undoRedoModule['currentAction']['sortColumns'].length))) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { action: 'Sorting' };\n                    record['sortColumns'] = [];\n                    record['sortColumns'] = this.parent.undoRedoModule['previousSortedColumns'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['previousSortedColumns'] = this.parent.treeGrid.sortSettings.columns;\n            }\n            this.parent.notify('updateModel', {});\n            deleteObject(updatedArgs, 'isFrozen');\n        }\n        else if (getValue('requestType', args) === 'filtering') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('Filtering')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'Filtering' };\n                record['filteredColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            this.parent.notify('updateModel', {});\n            var focussedElement = this.parent.element.querySelector('.e-treegrid');\n            focussedElement.focus();\n        }\n        else if (getValue('type', args) === 'save') {\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                var data = getValue('data', args);\n                if (!isNullOrUndefined(data) && !isNullOrUndefined(this.parent.getTaskByUniqueID(data.uniqueID))) {\n                    /* eslint-disable-next-line */\n                    this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.duration] = data.taskData[this.parent.taskFields.duration];\n                    if (!isNullOrUndefined(data.taskData[this.parent.taskFields.resourceInfo])) {\n                        /* eslint-disable-next-line */\n                        this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.resourceInfo] = data.taskData[this.parent.taskFields.resourceInfo];\n                    }\n                }\n                this.parent.editModule.cellEditModule.initiateCellEdit(args, this.currentEditRow);\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.currentEditRow = {};\n            }\n        }\n        if (getValue('requestType', args) === 'filterAfterOpen') {\n            this.parent.notify('actionComplete', args);\n        }\n        if (getValue('requestType', args) === 'searching') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Search')) {\n                if (!this.parent.undoRedoModule['isFromUndoRedo']) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { 'action': 'Search' };\n                    record['searchString'] = this.parent.undoRedoModule['searchString'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['searchString'] = this.parent.treeGrid.searchSettings.key;\n            }\n            this.parent.notify('actionComplete', args);\n        }\n        if (!isNullOrUndefined(getValue('batchChanges', args)) && !isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.isCancelled) {\n            setValue('requestType', 'cancel', updatedArgs);\n            setValue('action', 'CellEditing', updatedArgs);\n            this.parent.isCancelled = false;\n        }\n        if (getValue('requestType', args) === 'refresh' && isNullOrUndefined(getValue('type', args)) && this.parent.addDeleteRecord) {\n            if (this.parent.selectedRowIndex !== -1) {\n                if (!isNullOrUndefined(this.parent.selectionModule)) {\n                    var selectedIndexes = this.parent.selectionModule.selectedRowIndexes;\n                    if (selectedIndexes.length > 1 && this.parent.selectionSettings.persistSelection) {\n                        for (var i = 0; i < selectedIndexes.length; i++) {\n                            var records = this.parent.flatData[selectedIndexes[i].toString()];\n                            this.parent.selectRows(records);\n                        }\n                    }\n                }\n                else {\n                    this.parent.selectRow(this.parent.selectedRowIndex);\n                    if (this.parent.selectedRowIndex > this.parent.currentViewData.length - 1) {\n                        this.parent.selectedRowIndex = -1;\n                    }\n                }\n            }\n            else {\n                var indexvalue_1 = 0;\n                this.parent.currentViewData.map(function (data, index) {\n                    if (!isNullOrUndefined(_this.parent.currentSelection)\n                        && (data['ganttProperties'].taskId === _this.parent.currentSelection[_this.parent.taskFields.id])) {\n                        indexvalue_1 = index;\n                    }\n                });\n                this.addedRecord = true;\n                this.parent.selectRow((isNullOrUndefined(indexvalue_1) ? 0 : indexvalue_1));\n            }\n            this.parent.addDeleteRecord = false;\n        }\n        if (this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['isFromUndoRedo'] = false;\n        }\n        this.parent.trigger('actionComplete', updatedArgs);\n        if (!this.parent.allowTaskbarOverlap && this.parent.showOverAllocation) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.currentViewData[i].hasChildRecords && !this.parent.currentViewData[i].expanded) {\n                    this.parent.chartRowsModule.updateDragDropRecords(this.parent.currentViewData[i]);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n    };\n    GanttTreeGrid.prototype.updateKeyConfigSettings = function () {\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.delete;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.insert;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlHome;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlEnd;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.shiftTab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.shiftTab;\n    };\n    /**\n     * Method to bind internal events on TreeGrid element\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.wireEvents = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.add(content, 'scroll', this.scrollHandler, this);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.treeGridPane, 'click', this.treeGridClickHandler, this);\n        }\n    };\n    GanttTreeGrid.prototype.unWireEvents = function () {\n        var content = this.parent.treeGrid.element &&\n            this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.remove(content, 'scroll', this.scrollHandler);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.remove(this.parent.treeGridPane, 'click', this.treeGridClickHandler);\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.scrollHandler = function (e) {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content.scrollTop !== this.previousScroll.top) {\n            this.parent.notify('grid-scroll', { top: content.scrollTop });\n        }\n        this.previousScroll.top = content.scrollTop;\n        if (this.parent.contextMenuModule && this.parent.contextMenuModule.isOpen) {\n            this.parent.contextMenuModule.contextMenu.close();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.validateGanttColumns = function () {\n        var ganttObj = this.parent;\n        var length = ganttObj.columns.length;\n        var tasks = this.parent.taskFields;\n        this.parent.columnMapping = {};\n        this.parent.columnByField = {};\n        this.parent.customColumns = [];\n        var tasksMapping = ['id', 'name', 'startDate', 'endDate', 'duration', 'dependency',\n            'progress', 'baselineStartDate', 'baselineEndDate', 'resourceInfo', 'notes', 'work', 'manual', 'type', 'milestone', 'segments'];\n        var _loop_1 = function (i) {\n            var column = {};\n            if (typeof ganttObj.columns[i] === 'string') {\n                column.field = ganttObj.columns[i];\n            }\n            else {\n                column = ganttObj.columns[i];\n            }\n            var columnName = [];\n            if (tasksMapping.length > 0) {\n                columnName = tasksMapping.filter(function (name) {\n                    return column.field === tasks[name];\n                });\n            }\n            if (columnName.length === 0) {\n                if (column.field === this_1.parent.resourceFields.group) {\n                    return \"continue\";\n                }\n                this_1.parent.customColumns.push(column.field);\n                column.headerText = column.headerText ? column.headerText : column.field;\n                column.width = column.width ? column.width : 150;\n                column.editType = column.editType ? column.editType : 'stringedit';\n                column.type = column.type ? column.type : 'string';\n                this_1.bindTreeGridColumnProperties(column, true);\n                return \"continue\";\n            }\n            else {\n                var index = tasksMapping.indexOf(columnName[0]);\n                tasksMapping.splice(index, 1);\n                this_1.createTreeGridColumn(column, true);\n                this_1.parent.columnMapping[columnName[0]] = column.field;\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_1(i);\n        }\n        /** Create default columns with task settings property */\n        for (var j = 0; j < tasksMapping.length; j++) {\n            var column = {};\n            if (!isNullOrUndefined(tasks[tasksMapping[j]])) {\n                column.field = tasks[tasksMapping[j]];\n                this.createTreeGridColumn(column, length === 0);\n                this.parent.columnMapping[tasksMapping[j]] = column.field;\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var column = {};\n            this.composeUniqueIDColumn(column);\n            this.createTreeGridColumn(column, true);\n        }\n    };\n    /**\n     *\n     * @param {GanttColumnModel} column .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.createTreeGridColumn = function (column, isDefined) {\n        var taskSettings = this.parent.taskFields;\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        column.disableHtmlEncode = !isNullOrUndefined(column.disableHtmlEncode) ? column.disableHtmlEncode : this.parent.disableHtmlEncode;\n        if (taskSettings.id !== column.field) {\n            column.clipMode = column.clipMode ? column.clipMode : 'EllipsisWithTooltip';\n        }\n        if (taskSettings.id === column.field) {\n            /** Id column */\n            this.composeIDColumn(column);\n        }\n        else if (taskSettings.name === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('name');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('name');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.startDate === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.endDate === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.duration === column.field) {\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            column.valueAccessor = column.valueAccessor ?\n                column.valueAccessor : !isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.read) ? null :\n                this.durationValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.progress === column.field) {\n            this.composeProgressColumn(column);\n        }\n        else if (taskSettings.dependency === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = 'string';\n            column.allowFiltering = column.allowFiltering === false ? false : true;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.dependencyValueAccessor.bind(this);\n        }\n        else if (taskSettings.resourceInfo === column.field) {\n            this.composeResourceColumn(column);\n        }\n        else if (taskSettings.notes === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            if (!this.parent.showInlineNotes) {\n                if (!column.template) {\n                    column.template = '<div class=\"e-ganttnotes-info\">' +\n                        '<span class=\"e-icons e-notes-info\"></span></div>';\n                }\n            }\n        }\n        else if (taskSettings.baselineStartDate === column.field ||\n            taskSettings.baselineEndDate === column.field) {\n            var colName = (taskSettings.baselineEndDate === column.field) ? 'baselineEndDate' :\n                'baselineStartDate';\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n        }\n        else if (taskSettings.work === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('work');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('work');\n            }\n            column.width = column.width ? column.width : 150;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.workValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        else if (taskSettings.type === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            column.width = column.width ? column.width : 150;\n            //column.type = 'string';\n            column.editType = 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.taskTypeValueAccessor.bind(this);\n        }\n        else if (taskSettings.manual === column.field && this.parent.taskMode === 'Custom') {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            column.width = column.width ? column.width : 120;\n            column.editType = column.editType ? column.editType : 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.modeValueAccessor.bind(this);\n            column.edit = {\n                params: {\n                    query: new Query(),\n                    dataSource: [\n                        { id: 1, text: this.parent.localeObj.getConstant('manual'), value: true },\n                        { id: 2, text: this.parent.localeObj.getConstant('auto'), value: false }\n                    ],\n                    fields: { text: 'text', value: 'value' }\n                }\n            };\n        }\n        this.bindTreeGridColumnProperties(column, isDefined);\n    };\n    /**\n     * Compose Resource columns\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeResourceColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (this.parent.isLocaleChanged && previousColumn) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        column.width = column.width ? column.width : 150;\n        column.type = 'string';\n        column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.resourceValueAccessor.bind(this);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {object} .\n     * @private\n     */\n    GanttTreeGrid.prototype.getResourceIds = function (data) {\n        var value = getValue(this.parent.taskFields.resourceInfo, data.taskData);\n        var id = [];\n        if (!isNullOrUndefined(value)) {\n            for (var i = 0; i < value.length; i++) {\n                id.push(typeof value[i] === 'object' ? value[i][this.parent.resourceFields.id] : value[i]);\n            }\n            return id;\n        }\n        else {\n            return value;\n        }\n    };\n    /**\n     * Create Id column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeIDColumn = function (column) {\n        var isProjectView = this.parent.viewType === 'ProjectView';\n        var lengthDataSource = this.parent.dataSource ? this.parent.dataSource['length'] : 0;\n        var taskIDName;\n        column.isPrimaryKey = isProjectView ? true : false;\n        if (this.parent.isLocaleChanged) {\n            var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n                return column.field === prevcolumn.field;\n            })[0];\n            if (previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('id');\n            }\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('id');\n        }\n        column.width = column.width ? column.width : 100;\n        for (var i = 0; i < lengthDataSource; i++) {\n            if (!isNullOrUndefined(this.parent.dataSource[i][this.parent.taskFields.id])) {\n                taskIDName = this.parent.dataSource[i][this.parent.taskFields.id];\n                break;\n            }\n        }\n        if (typeof (taskIDName) === 'string' || isNullOrUndefined(taskIDName)) {\n            if (this.parent.viewType === 'ResourceView') {\n                column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            }\n            else {\n                column.allowEditing = column.allowEditing ? column.allowEditing : true;\n            }\n            column.editType = column.editType ? column.editType : 'stringedit';\n        }\n        else {\n            column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        column.valueAccessor = isProjectView ? null : this.idValueAccessor.bind(this);\n    };\n    GanttTreeGrid.prototype.composeUniqueIDColumn = function (column) {\n        column.field = 'rowUniqueID';\n        column.isPrimaryKey = true;\n        column.headerText = 'UniqueID';\n        column.allowEditing = false;\n        column.visible = false;\n    };\n    /**\n     * Create progress column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeProgressColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (this.parent.isLocaleChanged && previousColumn) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        column.width = column.width ? column.width : 150;\n        column.editType = column.editType ? column.editType : 'numericedit';\n    };\n    /**\n     * @param {GanttColumnModel} newGanttColumn .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.bindTreeGridColumnProperties = function (newGanttColumn, isDefined) {\n        var treeGridColumn = {};\n        var ganttColumn = {};\n        for (var _i = 0, _a = Object.keys(newGanttColumn); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            treeGridColumn[prop] = ganttColumn[prop] = newGanttColumn[prop];\n        }\n        this.parent.columnByField[ganttColumn.field] = ganttColumn;\n        this.parent.ganttColumns.push(new GanttColumn(ganttColumn));\n        if (isDefined) {\n            this.treeGridColumns.push(treeGridColumn);\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.durationValueAccessor = function (field, data, column) {\n        if (!isNullOrUndefined(data) && !isNullOrUndefined(data.ganttProperties)) {\n            var ganttProp = data.ganttProperties;\n            return this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n        }\n        else if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            return this.parent.dataOperation.getDurationString(parseInt(data[this.parent.taskFields.duration], 10), this.parent.durationUnit);\n        }\n        return '';\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.dependencyValueAccessor = function (field, data, column) {\n        var _this = this;\n        if (!isNullOrUndefined(data.ganttProperties.predecessorsName)) {\n            var value_1 = \"\";\n            var predecessorsName = data.ganttProperties.predecessorsName;\n            var splitString_1 = predecessorsName.split(\",\");\n            splitString_1.map(function (splitvalue, index) {\n                if (splitvalue.includes(\"FS\")) {\n                    value_1 += splitvalue.replace(\"FS\", _this.parent.localeObj.getConstant(\"FS\"));\n                    value_1 += (splitString_1.length !== index + 1) ? \",\" : \"\";\n                }\n                else if (splitvalue.includes(\"FF\")) {\n                    value_1 += splitvalue.replace(\"FF\", _this.parent.localeObj.getConstant(\"FF\"));\n                    value_1 += (splitString_1.length !== index + 1) ? \",\" : \"\";\n                }\n                else if (splitvalue.includes(\"SS\")) {\n                    value_1 += splitvalue.replace(\"SS\", _this.parent.localeObj.getConstant(\"SS\"));\n                    value_1 += (splitString_1.length !== index + 1) ? \",\" : \"\";\n                }\n                else if (splitvalue.includes(\"SF\")) {\n                    value_1 += splitvalue.replace(\"SF\", _this.parent.localeObj.getConstant(\"SF\"));\n                    value_1 += (splitString_1.length !== index + 1) ? \",\" : \"\";\n                }\n            });\n            return value_1;\n        }\n        return \"\";\n    };\n    GanttTreeGrid.prototype.resourceValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.resourceNames;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.workValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return this.parent.dataOperation.getWorkString(ganttProp.work, ganttProp.workUnit);\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.taskTypeValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.taskType;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.modeValueAccessor = function (field, data, column) {\n        if (data[field]) {\n            return 'Manual';\n        }\n        else {\n            return 'Auto';\n        }\n    };\n    GanttTreeGrid.prototype.idValueAccessor = function (field, data, column) {\n        return data.level === 0 ? 'R-' + data.ganttProperties.taskId : 'T-' + data.ganttProperties.taskId;\n    };\n    GanttTreeGrid.prototype.updateScrollTop = function (args) {\n        var newScrollTop = getValue('top', args);\n        this.treeGridElement.querySelector('.e-content').scrollTop = newScrollTop;\n        this.previousScroll.top = this.treeGridElement.querySelector('.e-content').scrollTop;\n    };\n    GanttTreeGrid.prototype.treeGridClickHandler = function (e) {\n        this.parent.notify('treeGridClick', e);\n    };\n    GanttTreeGrid.prototype.removeEventListener = function () {\n        this.parent.off('renderPanels', this.createContainer);\n        this.parent.off('chartScroll', this.updateScrollTop);\n        this.parent.off('destroy', this.destroy);\n        this.parent.treeGrid.off('reactTemplateRender', this.renderReactTemplate);\n    };\n    GanttTreeGrid.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        if (this.parent.treeGrid.element) {\n            this.parent.treeGrid.destroy();\n        }\n    };\n    return GanttTreeGrid;\n}());\nexport { GanttTreeGrid };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines working time of day in project.\n */\nvar DayWorkingTime = /** @class */ (function (_super) {\n    __extends(DayWorkingTime, _super);\n    function DayWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"to\", void 0);\n    return DayWorkingTime;\n}(ChildProperty));\nexport { DayWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of add dialog.\n */\nvar AddDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(AddDialogFieldSettings, _super);\n    function AddDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], AddDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], AddDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return AddDialogFieldSettings;\n}(ChildProperty));\nexport { AddDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of edit dialog.\n */\nvar EditDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(EditDialogFieldSettings, _super);\n    function EditDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], EditDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], EditDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return EditDialogFieldSettings;\n}(ChildProperty));\nexport { EditDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures edit settings of Gantt.\n */\nvar EditSettings = /** @class */ (function (_super) {\n    __extends(EditSettings, _super);\n    function EditSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowAdding\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowDeleting\", void 0);\n    __decorate([\n        Property('Auto')\n    ], EditSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Top')\n    ], EditSettings.prototype, \"newRowPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"showDeleteConfirmDialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowTaskbarEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowNextRowEdit\", void 0);\n    return EditSettings;\n}(ChildProperty));\nexport { EditSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines event marker collection in Gantt.\n */\nvar EventMarker = /** @class */ (function (_super) {\n    __extends(EventMarker, _super);\n    function EventMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"day\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"cssClass\", void 0);\n    return EventMarker;\n}(ChildProperty));\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { Predicate } from '@syncfusion/ej2-grids';\n/**\n * Configures the filtering behavior of the Gantt.\n */\nvar FilterSettings = /** @class */ (function (_super) {\n    __extends(FilterSettings, _super);\n    function FilterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], Predicate)\n    ], FilterSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('Menu')\n    ], FilterSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"operators\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property('Parent')\n    ], FilterSettings.prototype, \"hierarchyMode\", void 0);\n    return FilterSettings;\n}(ChildProperty));\nexport { FilterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the searching behavior of the Gantt.\n */\nvar SearchSettings = /** @class */ (function (_super) {\n    __extends(SearchSettings, _super);\n    function SearchSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], SearchSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], SearchSettings.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property('contains')\n    ], SearchSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property('')\n    ], SearchSettings.prototype, \"key\", void 0);\n    __decorate([\n        Property('Parent')\n    ], SearchSettings.prototype, \"hierarchyMode\", void 0);\n    return SearchSettings;\n}(ChildProperty));\nexport { SearchSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines holidays of project.\n */\nvar Holiday = /** @class */ (function (_super) {\n    __extends(Holiday, _super);\n    function Holiday() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"to\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"cssClass\", void 0);\n    return Holiday;\n}(ChildProperty));\nexport { Holiday };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines labels for task, this will be placed right, left and inner side of taskbar.\n */\nvar LabelSettings = /** @class */ (function (_super) {\n    __extends(LabelSettings, _super);\n    function LabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"rightLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"leftLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"taskLabel\", void 0);\n    return LabelSettings;\n}(ChildProperty));\nexport { LabelSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the selection behavior of the Gantt.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Row')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Flow')\n    ], SelectionSettings.prototype, \"cellSelectionMode\", void 0);\n    __decorate([\n        Property('Single')\n    ], SelectionSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"persistSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"enableToggle\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures splitter position and splitter bar.\n */\nvar SplitterSettings = /** @class */ (function (_super) {\n    __extends(SplitterSettings, _super);\n    function SplitterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(-1)\n    ], SplitterSettings.prototype, \"columnIndex\", void 0);\n    __decorate([\n        Property(4)\n    ], SplitterSettings.prototype, \"separatorSize\", void 0);\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"minimum\", void 0);\n    __decorate([\n        Property('Default')\n    ], SplitterSettings.prototype, \"view\", void 0);\n    return SplitterSettings;\n}(ChildProperty));\nexport { SplitterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines mapping property to get task details from data source.\n */\nvar TaskFields = /** @class */ (function (_super) {\n    __extends(TaskFields, _super);\n    function TaskFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"hasChildMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"startDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"endDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"dependency\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"progress\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"child\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"milestone\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"duration\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"resourceInfo\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"expandState\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"indicators\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"notes\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"work\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"manual\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segments\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segmentId\", void 0);\n    return TaskFields;\n}(ChildProperty));\nexport { TaskFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\n/**\n * Configures timeline settings of Gantt.\n */\nvar TimelineTierSettings = /** @class */ (function (_super) {\n    __extends(TimelineTierSettings, _super);\n    function TimelineTierSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TimelineTierSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property('None')\n    ], TimelineTierSettings.prototype, \"unit\", void 0);\n    __decorate([\n        Property(1)\n    ], TimelineTierSettings.prototype, \"count\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineTierSettings.prototype, \"formatter\", void 0);\n    return TimelineTierSettings;\n}(ChildProperty));\nexport { TimelineTierSettings };\n/**\n * Configures the timeline settings property in the Gantt.\n */\nvar TimelineSettings = /** @class */ (function (_super) {\n    __extends(TimelineSettings, _super);\n    function TimelineSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Week')\n    ], TimelineSettings.prototype, \"timelineViewMode\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"topTier\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"bottomTier\", void 0);\n    __decorate([\n        Property(33)\n    ], TimelineSettings.prototype, \"timelineUnitSize\", void 0);\n    __decorate([\n        Property(0)\n    ], TimelineSettings.prototype, \"weekStartDay\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineSettings.prototype, \"weekendBackground\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"updateTimescaleView\", void 0);\n    return TimelineSettings;\n}(ChildProperty));\nexport { TimelineSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures tooltip settings for Gantt.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], TooltipSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"taskbar\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"baseline\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"connectorLine\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"editing\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Collection } from '@syncfusion/ej2-base';\n/**\n * Represents the field name and direction of sort column.\n */\nvar SortDescriptor = /** @class */ (function (_super) {\n    __extends(SortDescriptor, _super);\n    function SortDescriptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"direction\", void 0);\n    return SortDescriptor;\n}(ChildProperty));\nexport { SortDescriptor };\n/**\n * Configures the sorting behavior of Gantt.\n */\nvar SortSettings = /** @class */ (function (_super) {\n    __extends(SortSettings, _super);\n    function SortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], SortDescriptor)\n    ], SortSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], SortSettings.prototype, \"allowUnsort\", void 0);\n    return SortSettings;\n}(ChildProperty));\nexport { SortSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines mapping property to get resource details from resource collection.\n */\nvar ResourceFields = /** @class */ (function (_super) {\n    __extends(ResourceFields, _super);\n    function ResourceFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"unit\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"group\", void 0);\n    return ResourceFields;\n}(ChildProperty));\nexport { ResourceFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Configures the Loading Indicator of the Gantt.\n */\nvar LoadingIndicator = /** @class */ (function (_super) {\n    __extends(LoadingIndicator, _super);\n    function LoadingIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Spinner')\n    ], LoadingIndicator.prototype, \"indicatorType\", void 0);\n    return LoadingIndicator;\n}(ChildProperty));\nexport { LoadingIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { DayWorkingTime } from '../models/day-working-time';\n/**\n * Defines working time of day in project.\n */\nvar WeekWorkingTime = /** @class */ (function (_super) {\n    __extends(WeekWorkingTime, _super);\n    function WeekWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], WeekWorkingTime.prototype, \"dayOfWeek\", void 0);\n    __decorate([\n        Collection([], DayWorkingTime)\n    ], WeekWorkingTime.prototype, \"timeRange\", void 0);\n    return WeekWorkingTime;\n}(ChildProperty));\nexport { WeekWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement, isNullOrUndefined, extend, compile, getValue, setValue, SanitizeHtmlHelper, append } from '@syncfusion/ej2-base';\nimport { formatUnit, addClass } from '@syncfusion/ej2-base';\nimport { isScheduledTask, getTaskData } from '../base/utils';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport * as cls from '../base/css-constants';\nimport { DateProcessor } from '../base/date-processor';\n/**\n * To render the chart rows in Gantt\n */\nvar ChartRows = /** @class */ (function (_super) {\n    __extends(ChartRows, _super);\n    function ChartRows(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.taskBarHeight = 0;\n        _this.milestoneHeight = 0;\n        _this.milesStoneRadius = 0;\n        _this.baselineTop = 0;\n        _this.baselineHeight = 8;\n        _this.touchLeftConnectorpoint = '';\n        _this.touchRightConnectorpoint = '';\n        _this.dropSplit = false;\n        _this.refreshedTr = [];\n        _this.refreshedData = [];\n        _this.isUpdated = true;\n        _this.taskBaselineTemplateNode = null;\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initPublicProp = function () {\n        this.ganttChartTableBody = null;\n    };\n    ChartRows.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createChartTable, this);\n        this.parent.on('dataReady', this.initiateTemplates, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    ChartRows.prototype.refreshChartByTimeline = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        var prevDate = getValue('prevProjectStartDate', this.parent.dataOperation);\n        var isUpdated = false;\n        if (prevDate) {\n            isUpdated = prevDate.getTime() === this.parent.cloneProjectStartDate.getTime();\n        }\n        this.isUpdated = this.parent.isFromOnPropertyChange && isUpdated &&\n            getValue('mutableData', this.parent.treeGrid.grid.contentModule) ? true : false;\n        this.refreshGanttRows();\n        this.isUpdated = true;\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createChartTable = function () {\n        this.taskTable = createElement('table', {\n            className: cls.taskTable + ' ' + cls.zeroSpacing, id: 'GanttTaskTable' + this.parent.element.id,\n            styles: 'position: absolute;width:' + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + 'px;',\n            attrs: { cellspacing: '0.25px' }\n        });\n        var colgroup = createElement('colgroup');\n        var column = createElement('col', { styles: 'width:' + this.parent.timelineModule.totalTimelineWidth + 'px;' });\n        colgroup.appendChild(column);\n        this.taskTable.appendChild(colgroup);\n        this.ganttChartTableBody = createElement('tbody', {\n            id: this.parent.element.id + 'GanttTaskTableBody'\n        });\n        this.taskTable.appendChild(this.ganttChartTableBody);\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.taskTable);\n    };\n    ChartRows.prototype.initiateTemplates = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        this.initChartHelperPrivateVariable();\n        this.initializeChartTemplate();\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.renderChartRows = function () {\n        this.createTaskbarTemplate();\n        this.parent.isGanttChartRendered = true;\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {IIndicator} indicator .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorNode = function (indicator) {\n        var templateString = '<label class=\"' + cls.label + ' ' + cls.taskIndicatorDiv + '\"style=\"line-height:'\n            + (this.parent.rowHeight) + 'px;' +\n            (this.parent.enableRtl ? 'right:' : 'left:') + this.getIndicatorleft(indicator.date) + 'px;\"><i class=\"' + indicator.iconClass + '\"></i> </label>';\n        return this.createDivElement(templateString);\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {Date | string} date .\n     * @returns {number} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorleft = function (date) {\n        date = this.parent.dateValidationModule.getDateFromFormat(date);\n        var left = this.parent.dataOperation.getTaskLeft(date, false);\n        return left;\n    };\n    /**\n     * To get child taskbar Node.\n     *\n     *  @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getChildTaskbarNode = function (i, rootElement) {\n        var childTaskbarNode = null;\n        var data = this.templateData;\n        var direction;\n        if (this.parent.enableRtl) {\n            direction = 'right:';\n        }\n        else {\n            direction = 'left:';\n        }\n        if (this.childTaskbarTemplateFunction) {\n            childTaskbarNode = this.childTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'TaskbarTemplate', this.getTemplateID('TaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var taskLabel = '';\n            var taskbarInnerDiv = void 0;\n            var progressDiv = void 0;\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) {\n                taskbarInnerDiv = this.createDivElement('<div class=\"' + cls.childTaskBarInnerDiv + ' ' + cls.traceChildTaskBar +\n                    ' ' + (data.ganttProperties.isAutoSchedule ? '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"width:' + data.ganttProperties.width + 'px;height:' +\n                    (this.taskBarHeight) + 'px; margin-top :-1px\"></div>');\n                progressDiv = this.createDivElement('<div class=\"' + cls.childProgressBarInnerDiv + ' ' +\n                    cls.traceChildProgressBar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildProgressBar) + '\"' +\n                    ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                    'width:' + data.ganttProperties.progressWidth + 'px;height:100%;' +\n                    'border-top-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;' +\n                    'border-bottom-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;\">' +\n                    '</div>');\n            }\n            var tempDiv = createElement('div');\n            if (this.taskLabelTemplateFunction && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                var taskLabelTemplateNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressDiv[0]);\n                if (taskLabelTemplateNode && taskLabelTemplateNode.length > 0) {\n                    append(taskLabelTemplateNode, tempDiv);\n                    labelString = tempDiv.innerHTML;\n                }\n            }\n            else {\n                var field = this.parent.labelSettings.taskLabel;\n                labelString = this.getTaskLabel(field);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' +\n                        'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? ('text-align:' +\n                        (this.parent.enableRtl ? 'right;' : 'left;')) : '') +\n                        +(this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        +(this.parent.viewType === 'ResourceView' ? (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n            }\n            var template = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0 ?\n                this.splitTaskbar(data, labelString) : (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) ? (taskLabel) :\n                (data.ganttProperties.startDate && !data.ganttProperties.endDate && !data.ganttProperties.duration) ? ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                    cls.unscheduledTaskbarLeft + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                    (data.ganttProperties.endDate && !data.ganttProperties.startDate && !data.ganttProperties.duration) ?\n                        ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                            cls.unscheduledTaskbarRight + ' ' + (data.ganttProperties.isAutoSchedule ?\n                            '' : cls.manualChildTaskBar) + '\"' +\n                            'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                        (data.ganttProperties.duration && !data.ganttProperties.startDate && !data.ganttProperties.endDate) ?\n                            ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                                cls.unscheduledTaskbar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                                '' : cls.manualChildTaskBar) + '\"' +\n                                'style=\"' + direction + data.ganttProperties.left + 'px; width:' + data.ganttProperties.width + 'px;' +\n                                ' height:' + this.taskBarHeight + 'px;\"></div>') : '';\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate && data.ganttProperties.duration &&\n                (isNullOrUndefined(data.ganttProperties.segments) || (!isNullOrUndefined(data.ganttProperties.segments) &&\n                    data.ganttProperties.segments.length === 0))) {\n                if (template !== '' && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                    /* eslint-disable-next-line */\n                    var templateElement = this.createDivElement(template)[0];\n                    if (this.parent.disableHtmlEncode) {\n                        templateElement.innerText = labelString;\n                    }\n                    else {\n                        templateElement.innerHTML = labelString;\n                    }\n                    var childLabel = this.parent.labelSettings.taskLabel;\n                    if (childLabel && childLabel['elementRef']) {\n                        templateElement.appendChild(tempDiv);\n                    }\n                    progressDiv[0].appendChild(templateElement);\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                        !this.isTemplate(childLabel) &&\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0]) {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                    }\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                        childLabel && !childLabel['elementRef'] && tempDiv.innerHTML !== '') {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].textContent = childLabel;\n                    }\n                }\n                if (!isNullOrUndefined(taskbarInnerDiv) && taskbarInnerDiv.length > 0) {\n                    taskbarInnerDiv[0].appendChild([].slice.call(progressDiv)[0]);\n                }\n                childTaskbarNode = taskbarInnerDiv;\n            }\n            else {\n                childTaskbarNode = this.createDivElement(template);\n            }\n        }\n        if (this.parent.enableRtl && !isNullOrUndefined(childTaskbarNode) && childTaskbarNode[0] && childTaskbarNode[0].querySelector('.e-task-label')) {\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (childTaskbarNode[0].querySelector('.e-gantt-child-progressbar')) {\n                childTaskbarNode[0].querySelector('.e-gantt-child-progressbar').style.textAlign = 'left';\n            }\n        }\n        return childTaskbarNode;\n    };\n    ChartRows.prototype.splitTaskbar = function (data, labelString) {\n        var splitTasks = '';\n        for (var i = 0; i < data.ganttProperties.segments.length; i++) {\n            var segment = data.ganttProperties.segments[i];\n            var progressBarVisible = void 0;\n            if (!segment.showProgress) {\n                progressBarVisible = 'hidden';\n            }\n            else {\n                progressBarVisible = 'initial';\n            }\n            var segmentPosition = (i === 0) ? 'e-segment-first' : (i === data.ganttProperties.segments.length - 1)\n                ? 'e-segment-last' : 'e-segment-inprogress';\n            splitTasks += (\n            //split taskbar\n            '<div class=\"' + cls.childTaskBarInnerDiv + ' ' + segmentPosition + ' ' + cls.traceChildTaskBar + ' ' +\n                ' e-segmented-taskbar' +\n                '\"style=\"width:' + segment.width + 'px;position: absolute;' + (this.parent.enableRtl ? 'right:' : 'left:') + segment.left + 'px;height:' +\n                (this.taskBarHeight) + 'px; overflow:' + progressBarVisible + ';\" data-segment-index = \"' + i + '\" aria-label = \"' +\n                this.generateSpiltTaskAriaLabel(segment, data.ganttProperties) + '\"> ' +\n                this.getSplitTaskbarLeftResizerNode() +\n                //split progress bar\n                '<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildProgressBar + ' ' +\n                '\" style=\"border-style:' + (segment.progressWidth ? 'solid;' : 'none;') +\n                'display:' + (segment.progressWidth >= 0 ? 'block;' : 'none;') +\n                'width:' + segment.progressWidth + 'px;height:100%;' + 'text-align:' + (this.parent.enableRtl ? 'left;' : 'right;') +\n                'border-top-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;' +\n                'border-bottom-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;\">' +\n                // progress label\n                '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                (this.taskBarHeight - 1) + 'px;display:' + (segment.showProgress ? 'inline;' : 'none;') +\n                'height:' + this.taskBarHeight + 'px;\">' + labelString + '</span>' +\n                '</div>' +\n                this.getSplitTaskbarRightResizerNode(segment) +\n                (segment.showProgress ? this.getSplitProgressResizerNode(segment) : '') +\n                '</div></div>');\n        }\n        return splitTasks;\n    };\n    ChartRows.prototype.getSplitTaskbarLeftResizerNode = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitTaskbarRightResizerNode = function (segment) {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -10;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (segment.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitProgressResizerNode = function (segment) {\n        var width = this.parent.enableRtl ? (segment.progressWidth + 8) : (segment.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return template;\n    };\n    ChartRows.prototype.getSegmentIndex = function (splitStartDate, record) {\n        var segmentIndex = -1;\n        var ganttProp = record.ganttProperties;\n        var segments = ganttProp.segments;\n        if (!isNullOrUndefined(segments)) {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n            var length_1 = segments.length;\n            for (var i = 0; i < length_1; i++) {\n                var segment = segments[i];\n                // To find if user tend to split the start date of a main taskbar\n                // purpose of this to restrict the split action\n                if (splitStartDate.getTime() === ganttProp.startDate.getTime()) {\n                    this.dropSplit = true;\n                    segmentIndex = 0;\n                    // To find the if user tend to split the first date of already segmented task.\n                    // purpose of this to move on day of a segment\n                }\n                else if (splitStartDate.getTime() === segment.startDate.getTime()) {\n                    this.dropSplit = true;\n                    var sDate = segment.startDate;\n                    sDate.setDate(sDate.getDate() + 1);\n                    sDate = segment.startDate = this.parent.dataOperation.checkStartDate(sDate, ganttProp, false);\n                    segment.startDate = sDate;\n                    var eDate = segment.endDate;\n                    eDate = this.parent.dataOperation.getEndDate(sDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    segment.endDate = eDate;\n                    if (i === segments.length - 1) {\n                        this.parent.setRecordValue('endDate', eDate, ganttProp, true);\n                    }\n                    this.incrementSegments(segments, i, record);\n                    segmentIndex = segment.segmentIndex;\n                    // To find if the user tend to split the segment and find the segment index\n                }\n                else {\n                    segment.endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    if (splitStartDate.getTime() >= segment.startDate.getTime() && splitStartDate.getTime() <= segment.endDate.getTime()) {\n                        segmentIndex = segment.segmentIndex;\n                    }\n                }\n                this.parent.setRecordValue('segments', ganttProp.segments, ganttProp, true);\n            }\n        }\n        if (segmentIndex === -1) {\n            this.dropSplit = true;\n        }\n        return segmentIndex;\n    };\n    ChartRows.prototype.mergeTask = function (taskId, segmentIndexes) {\n        var mergeArrayLength = segmentIndexes.length;\n        var taskFields = this.parent.taskFields;\n        var mergeData = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                if (this.parent.editModule && this.parent.editModule.taskbarEditModule['isDragged'] && this.parent.getUndoActions().length > 0) {\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var rec = this.parent.previousFlatData[mergeData.index];\n                details['modifiedRecords'] = extend([], [rec], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var segments = mergeData.ganttProperties.segments;\n        segmentIndexes = segmentIndexes.sort(function (a, b) {\n            return b.firstSegmentIndex - a.firstSegmentIndex;\n        });\n        for (var arrayLength = 0; arrayLength < mergeArrayLength; arrayLength++) {\n            var firstSegment = segments[segmentIndexes[arrayLength].firstSegmentIndex];\n            var secondSegment = segments[segmentIndexes[arrayLength].secondSegmentIndex];\n            var duration = firstSegment.duration + secondSegment.duration;\n            var endDate = this.parent.dataOperation.getEndDate(firstSegment.startDate, duration, mergeData.ganttProperties.durationUnit, mergeData.ganttProperties, false);\n            var segment = {\n                startDate: firstSegment.startDate,\n                endDate: endDate,\n                duration: duration\n            };\n            var insertIndex = segmentIndexes[arrayLength].firstSegmentIndex;\n            segments.splice(insertIndex, 2, segment);\n            this.parent.setRecordValue('segments', segments, mergeData.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            if (segments.length === 1) {\n                this.parent.setRecordValue('endDate', endDate, mergeData.ganttProperties, true);\n                this.parent.setRecordValue('EndDate', endDate, mergeData, true);\n                this.parent.setRecordValue('segments', null, mergeData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            }\n            else if (mergeData.ganttProperties.endDate !== segments[segments.length - 1].endDate) {\n                this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, mergeData.ganttProperties, true);\n            }\n        }\n        var segmentFields;\n        if (!isNullOrUndefined(mergeData[taskFields.segments]) && !isNullOrUndefined(mergeData[taskFields.segments][0])) {\n            segmentFields = Object.keys(mergeData[taskFields.segments][0]);\n        }\n        var modifiedSegments = [];\n        for (var i = 0; i < segments.length; i++) {\n            if (!isNullOrUndefined(segmentFields) && !modifiedSegments[i]) {\n                modifiedSegments[i] = {};\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('StartDate') !== -1) {\n                modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('EndDate') !== -1) {\n                modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('Duration') !== -1) {\n                modifiedSegments[i][taskFields.duration] = segments[i].duration;\n            }\n        }\n        mergeData[taskFields.segments] = modifiedSegments;\n        this.refreshChartAfterSegment(mergeData, 'mergeSegment');\n    };\n    ChartRows.prototype.refreshChartAfterSegment = function (data, requestType) {\n        this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(data, false), data.ganttProperties, true);\n        this.parent.dataOperation.updateMappingData(data, 'segments');\n        this.parent.dataOperation.updateWidthLeft(data);\n        if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n            this.parent.predecessorModule.updatedRecordsDateByPredecessor();\n            this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.flatData);\n            this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.flatData);\n            if (data.parentItem && this.parent.getParentTask(data.parentItem).ganttProperties.isAutoSchedule\n                && this.parent.isInPredecessorValidation) {\n                this.parent.dataOperation.updateParentItems(data.parentItem);\n            }\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        else {\n            this.refreshRow(this.parent.currentViewData.indexOf(data));\n        }\n        var tr = this.ganttChartTableBody.querySelectorAll('tr')[this.parent.currentViewData.indexOf(data)];\n        var args = {\n            requestType: requestType,\n            rowData: data,\n            modifiedRecords: this.parent.editedRecords,\n            modifiedTaskData: getTaskData(this.parent.editedRecords, true)\n        };\n        this.triggerQueryTaskbarInfoByIndex(tr, data);\n        if (this.parent.selectionModule) {\n            this.parent.selectionModule.clearSelection();\n        }\n        var segments = args.rowData.taskData[this.parent.taskFields.segments];\n        if (this.parent.timezone && segments != null) {\n            for (var i = 0; i < segments.length; i++) {\n                segments[i][this.parent.taskFields.startDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].startDate, this.parent.timezone);\n                if (this.parent.taskFields.endDate) {\n                    segments[i][this.parent.taskFields.endDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].endDate, this.parent.timezone);\n                }\n            }\n        }\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        setValue('isEdit', false, this.parent.contextMenuModule);\n        setValue('isEdit', false, this.parent);\n    };\n    /**\n     * public method to split task bar.\n     *\n     * @public\n     */\n    ChartRows.prototype.splitTask = function (taskId, splitDates) {\n        var taskFields = this.parent.taskFields;\n        var splitDate = splitDates;\n        var splitRecord = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                details['modifiedRecords'] = extend([], [splitRecord], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var ganttProp = splitRecord.ganttProperties;\n        this.dropSplit = false;\n        var segmentIndex = -1;\n        var segments = ganttProp.segments;\n        if (isNullOrUndefined(splitDates.length) || splitDates.length < 0) {\n            var splitStartDate = this.parent.dataOperation.checkStartDate(splitDate, ganttProp, false);\n            if (splitStartDate.getTime() !== ganttProp.startDate.getTime()) {\n                if (ganttProp.isAutoSchedule) {\n                    if (!isNullOrUndefined(segments) && segments.length > 0) {\n                        segmentIndex = this.getSegmentIndex(splitStartDate, splitRecord);\n                    }\n                    //check atleast one day difference is there to split\n                    if (this.dropSplit === false && splitDate.getTime() > ganttProp.startDate.getTime() &&\n                        splitDate.getTime() < ganttProp.endDate.getTime()) {\n                        segments = segmentIndex !== -1 ? segments : [];\n                        var startDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].startDate : new Date(ganttProp.startDate.getTime());\n                        var endDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].endDate : new Date(ganttProp.endDate.getTime());\n                        var segmentDuration = this.parent.dataOperation.getDuration(startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                        this.parent.setRecordValue('segments', this.splitSegmentedTaskbar(startDate, endDate, splitDate, segmentIndex, segments, splitRecord, segmentDuration), ganttProp, true);\n                        var modifiedSegments = [];\n                        for (var i = 0; i < segments.length; i++) {\n                            if (!modifiedSegments[i]) {\n                                modifiedSegments[i] = {};\n                            }\n                            modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n                            modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n                            modifiedSegments[i][taskFields.duration] = segments[i].duration;\n                        }\n                        splitRecord[taskFields.segments] = modifiedSegments;\n                        if (segmentIndex !== -1) {\n                            this.incrementSegments(segments, segmentIndex + 1, splitRecord);\n                        }\n                        this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, ganttProp, true);\n                        if (this.parent.taskFields.endDate) {\n                            this.parent.dataOperation.updateMappingData(splitRecord, 'endDate');\n                        }\n                    }\n                    this.refreshChartAfterSegment(splitRecord, 'splitTaskbar');\n                }\n            }\n        }\n        else {\n            splitDates.sort(function (a, b) {\n                return a.getTime() - b.getTime();\n            });\n            this.parent.setRecordValue('segments', this.constructSegments(splitDates, splitRecord.ganttProperties), splitRecord.ganttProperties, true);\n            this.refreshChartAfterSegment(splitRecord, 'splitTask');\n        }\n    };\n    ChartRows.prototype.constructSegments = function (dates, taskData) {\n        var segmentsArray = [];\n        var segment;\n        var startDate = new Date();\n        var endDate;\n        var duration;\n        for (var i = 0; i < dates.length + 1; i++) {\n            startDate = i === 0 ? taskData.startDate : startDate;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, taskData, false);\n            endDate = i !== dates.length ? new Date(dates[i].getTime()) > taskData.endDate ? taskData.endDate\n                : new Date(dates[i].getTime()) : taskData.endDate;\n            endDate = this.parent.dataOperation.checkEndDate(endDate, taskData, false);\n            duration = this.parent.dataOperation.getDuration(startDate, endDate, taskData.durationUnit, taskData.isAutoSchedule, taskData.isMilestone);\n            if (endDate.getTime() >= startDate.getTime()) {\n                segment = {\n                    startDate: startDate,\n                    endDate: endDate,\n                    duration: duration\n                };\n                segmentsArray.push(segment);\n            }\n            if (i === dates.length) {\n                break;\n            }\n            startDate = new Date(dates[i].getTime());\n            startDate.setDate(dates[i].getDate() + 1);\n        }\n        return segmentsArray;\n    };\n    ChartRows.prototype.splitSegmentedTaskbar = function (startDate, endDate, splitDate, segmentIndex, segments, ganttData, segmentDuration) {\n        var ganttProp = ganttData.ganttProperties;\n        var checkClickState;\n        var endDateState;\n        if (this.parent.includeWeekend) {\n            checkClickState = -1;\n        }\n        else {\n            checkClickState = this.parent.nonWorkingDayIndex.indexOf(splitDate.getDay());\n        }\n        var increment = checkClickState === -1 ? 0 : checkClickState === 0 ? 1 : checkClickState === 1 ? 1 : 2;\n        startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n        var segmentEndDate = new Date(splitDate.getTime());\n        segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n        for (var i = 0; i < 2; i++) {\n            if (this.parent.weekWorkingTime.length > 0) {\n                var dayEndTime = this.parent['getCurrentDayEndTime'](segmentEndDate);\n                this.setTime(dayEndTime, segmentEndDate);\n            }\n            var segment = {\n                startDate: startDate,\n                endDate: segmentEndDate,\n                duration: this.parent.dataOperation.getDuration(startDate, segmentEndDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone),\n                offsetDuration: 1\n            };\n            if (this.parent.includeWeekend) {\n                endDateState = -1;\n            }\n            else {\n                endDateState = this.parent.nonWorkingDayIndex.indexOf(segmentEndDate.getDay());\n            }\n            if (segmentIndex !== -1) {\n                segments.splice(segmentIndex, 1);\n                segmentIndex = -1;\n            }\n            segments.push(segment);\n            var mode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n            if (mode === 'Hour' || mode === 'Minutes') {\n                startDate = new Date(splitDate.getTime());\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                var count = this.parent.timelineModule.customTimelineSettings.bottomTier.count;\n                var mode_1 = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n                var timeIncrement = this.parent.timelineModule.getIncrement(startDate, count, mode_1);\n                var newTime = startDate.getTime() + timeIncrement;\n                startDate.setTime(newTime + increment);\n                segmentEndDate = new Date(endDate.getTime());\n                timeIncrement = this.parent.timelineModule.getIncrement(segmentEndDate, count, mode_1);\n                newTime = segmentEndDate.getTime() + timeIncrement;\n                segmentEndDate.setTime(newTime + increment);\n            }\n            else {\n                startDate = new Date(splitDate.getTime());\n                startDate.setDate(startDate.getDate() + 1 + increment);\n                var dayStartTime = this.parent['getCurrentDayStartTime'](startDate);\n                this.setTime(dayStartTime, startDate);\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                if (!this.parent.taskFields.duration && increment <= 0) {\n                    startDate.setDate(startDate.getDate() + 1);\n                }\n                segmentEndDate = new Date(endDate.getTime());\n                if (this.isOnHolidayOrWeekEnd(segmentEndDate, true)) {\n                    do {\n                        segmentEndDate.setDate(segmentEndDate.getDate() + 1);\n                    } while (this.isOnHolidayOrWeekEnd(segmentEndDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    segmentEndDate = this.getNextWorkingDay(segmentEndDate);\n                }\n            }\n            if (endDateState !== -1) {\n                var diff = segmentDuration - segment.duration;\n                segmentEndDate =\n                    this.parent.dataOperation.getEndDate(startDate, diff, ganttProp.durationUnit, ganttProp, false);\n            }\n            else {\n                segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        return segments;\n    };\n    ChartRows.prototype.incrementSegments = function (segments, segmentIndex, ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        for (var i = segmentIndex + 1; i < segments.length; i++) {\n            var segment = segments[i];\n            var startDate = i !== 0 ? new Date(segments[i - 1].endDate.getTime()) : new Date(segment.startDate.getTime());\n            this.parent.dataOperation['fromSegments'] = true;\n            startDate = this.parent.dataOperation.getEndDate(startDate, segment.offsetDuration, ganttProp.durationUnit, ganttProp, false);\n            this.parent.dataOperation['fromSegments'] = false;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n            segment.startDate = startDate;\n            var endDate = segment.endDate = this.parent.dataOperation.getEndDate(startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n            segment.endDate = endDate;\n            if (i === segments.length - 1) {\n                this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                if (this.parent.taskFields.endDate) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n                }\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        this.parent.setRecordValue('segments', segments, ganttProp, true);\n        this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n    };\n    /**\n     * To get milestone node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneNode = function (i, rootElement) {\n        var milestoneNode = null;\n        var data = this.templateData;\n        if (this.milestoneTemplateFunction) {\n            milestoneNode = this.milestoneTemplateFunction(extend({ index: i }, data), this.parent, 'MilestoneTemplate', this.getTemplateID('MilestoneTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var template = '<div class=\"' + cls.traceMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;position:absolute;transform: rotate(45deg);left:' + 1 + 'px;\"> </div>';\n            milestoneNode = this.createDivElement(template);\n        }\n        return milestoneNode;\n    };\n    /**\n     * To get task baseline Node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTaskBaselineNode = function () {\n        var data = this.templateData;\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + data.ganttProperties.baselineLeft + 'px;' +\n            'width:' + data.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.updateTaskBaselineNode = function (childData) {\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + childData.ganttProperties.baselineLeft + 'px;' +\n            'width:' + childData.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get milestone baseline node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneBaselineNode = function () {\n        var data = this.templateData;\n        var baselineMilestoneHeight = this.parent.renderBaseline ? 5 : 2;\n        var template = '<div class=\"' + cls.baselineMilestoneContainer + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;position:absolute;transform:rotate(45deg);' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.parent.enableRtl ? (data.ganttProperties.left -\n            (this.milestoneHeight / 2) + 3) : (data.ganttProperties.baselineLeft - (this.milestoneHeight / 2) + 1)) + 'px;' + (this.baselineColor ?\n            'background-color: ' + this.baselineColor + ';' : '') + 'margin-top:' + ((-Math.floor(this.parent.rowHeight - this.milestoneMarginTop) + baselineMilestoneHeight) + 2) + 'px\"> </div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get left label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getLeftLabelNode = function (i) {\n        var leftLabelNode = this.leftLabelContainer();\n        if (this.generateTaskLabelAriaLabel('left') !== '') {\n            leftLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('left'));\n        }\n        var leftLabelTemplateNode = null;\n        if (this.leftTaskLabelTemplateFunction) {\n            leftLabelTemplateNode = this.leftTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'LeftLabelTemplate', this.getTemplateID('LeftLabelTemplate'), false, undefined, leftLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.leftLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                }\n            }\n        }\n        if (leftLabelTemplateNode && leftLabelTemplateNode.length > 0) {\n            if (leftLabelTemplateNode[0]['data'] === 'null') {\n                leftLabelTemplateNode[0]['data'] = '';\n            }\n            append(leftLabelTemplateNode, leftLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            leftLabelNode[0].style.paddingLeft = '25px';\n            leftLabelNode[0].style.paddingRight = '0px';\n        }\n        return leftLabelNode;\n    };\n    ChartRows.prototype.getLableText = function (labelString, labelDiv) {\n        var leftLabelHeight = this.parent.renderBaseline ?\n            ((this.parent.rowHeight - this.taskBarHeight) / 2) : this.taskBarMarginTop;\n        var templateString = createElement('div', {\n            className: labelDiv, styles: 'height:' + (this.taskBarHeight) + 'px;' +\n                'margin-top:' + leftLabelHeight + 'px;'\n        });\n        var spanElem = createElement('span', { className: cls.label });\n        var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n        spanElem[property] = labelString;\n        templateString.appendChild(spanElem);\n        var div = createElement('div');\n        div.appendChild(templateString);\n        return div.childNodes;\n    };\n    /**\n     * To get right label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getRightLabelNode = function (i) {\n        var rightLabelNode = this.rightLabelContainer();\n        if (this.generateTaskLabelAriaLabel('right') !== '') {\n            rightLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('right'));\n        }\n        var rightLabelTemplateNode = null;\n        if (this.rightTaskLabelTemplateFunction) {\n            rightLabelTemplateNode = this.rightTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'RightLabelTemplate', this.getTemplateID('RightLabelTemplate'), false, undefined, rightLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.rightLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                }\n            }\n        }\n        if (rightLabelTemplateNode && rightLabelTemplateNode.length > 0) {\n            if (rightLabelTemplateNode[0]['data'] === 'null') {\n                rightLabelTemplateNode[0]['data'] = '';\n            }\n            append(rightLabelTemplateNode, rightLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            rightLabelNode[0].style.marginLeft = '0px';\n            rightLabelNode[0].style.paddingRight = '25px';\n        }\n        return rightLabelNode;\n    };\n    ChartRows.prototype.getManualTaskbar = function () {\n        var data = this.templateData;\n        var taskbarHeight = (this.taskBarHeight / 2 - 1);\n        var innerDiv = (data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) ?\n            ('<div class=\"' + cls.manualParentTaskBar + '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight / 5 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') :\n            (!data.ganttProperties.startDate && !data.ganttProperties.endDate && data.ganttProperties.duration) ?\n                ('<div class=\"' + cls.manualParentTaskBar + ' ' + cls.traceManualUnscheduledTask +\n                    '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                    (taskbarHeight / 5 + 1) + 'px;border-left-width:' + taskbarHeight / 5 +\n                    'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') : ('<div class=\"' +\n                cls.manualParentTaskBar + ' ' + (data.ganttProperties.startDate ? cls.unscheduledTaskbarLeft : cls.unscheduledTaskbarRight) +\n                '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight * 2 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>');\n        var template = '<div class=\"' + cls.manualParentMainContainer + '\"' +\n            'style=' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left - data.ganttProperties.autoLeft) + 'px;' +\n            'width:' + data.ganttProperties.width + 'px;' +\n            'height:' + taskbarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;') + '</div>' + innerDiv + ((data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) || data.ganttProperties.duration ? '<div class=\"e-gantt-manualparenttaskbar-left\" style=' +\n            (this.parent.enableRtl ? 'margin-right:0px;' : '') + '\"height:' + ((taskbarHeight / 5) + 8) + 'px;border-left-width:' + taskbarHeight / 5 +\n            'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>' +\n            '<div class=\"e-gantt-manualparenttaskbar-right\" style=' + (this.parent.enableRtl ? 'margin-right:-8px;' : '') +\n            (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.width - Math.floor(((taskbarHeight / 5) + 8) / 5)) + 'px;height:' +\n            ((taskbarHeight / 5) + 8) + 'px;border-right-width:' + taskbarHeight / 5 + 'px;border-bottom:' +\n            taskbarHeight / 5 + 'px solid transparent;>' + '</div></div>' : '');\n        var milestoneTemplate = '<div class=\"' + cls.manualParentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:' + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n        return this.createDivElement((data.ganttProperties.duration !== 0 || data.hasChildRecords) ? template : milestoneTemplate);\n    };\n    /**\n     * To get parent taskbar node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getParentTaskbarNode = function (i, rootElement) {\n        var parentTaskbarNode = null;\n        var data = this.templateData;\n        if (this.parentTaskbarTemplateFunction) {\n            parentTaskbarNode = this.parentTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'ParentTaskbarTemplate', this.getTemplateID('ParentTaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var labelDiv = void 0;\n            var tHeight = this.taskBarHeight / 5;\n            var template = this.createDivElement('<div class=\"' + cls.parentTaskBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentTaskBar + '\"' +\n                ' style=\"width:' + (data.ganttProperties.isAutoSchedule ? data.ganttProperties.width :\n                data.ganttProperties.autoWidth) + 'px;height:' + (data.ganttProperties.isAutoSchedule ? this.taskBarHeight :\n                (tHeight * 3)) + 'px;margin-top:' + (data.ganttProperties.isAutoSchedule ? -1 :\n                (tHeight * 2)) + 'px; \">' +\n                '</div>');\n            var progressBarInnerDiv = this.createDivElement('<div class=\"' + cls.parentProgressBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentProgressBar + '\"' +\n                ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                'width:' + data.ganttProperties.progressWidth + 'px;' +\n                'border-top-right-radius:' + this.getBorderRadius(data) + 'px;' +\n                'border-bottom-right-radius:' + this.getBorderRadius(data) + 'px;height:100%;\"></div>');\n            var div = createElement('div');\n            if (this.taskLabelTemplateFunction) {\n                var parentTaskLabelNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressBarInnerDiv[0]);\n                if (parentTaskLabelNode && parentTaskLabelNode.length > 0) {\n                    append(parentTaskLabelNode, div);\n                    labelString = div.innerHTML;\n                }\n            }\n            else {\n                labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    labelDiv = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (data['isManual'] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) : (this.taskBarHeight - 1)) +\n                        'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' +\n                        'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    labelDiv = '<span class=\"' +\n                        cls.taskLabel + '\" style=\"line-height:' +\n                        (data['isManual'] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) : (this.taskBarHeight - 1)) + 'px;' +\n                        (this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? 'display: inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                var labelElement = this.createDivElement(labelDiv)[0];\n                if (this.parent.disableHtmlEncode) {\n                    labelElement.innerText = labelString;\n                }\n                else {\n                    labelElement.innerHTML = labelString;\n                }\n                var parentLabel = this.parent.labelSettings.taskLabel;\n                if (parentLabel && parentLabel['elementRef']) {\n                    labelElement.appendChild(div);\n                }\n                progressBarInnerDiv[0].appendChild(labelElement);\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                    !this.isTemplate(parentLabel) &&\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0]) {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                }\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                    parentLabel && !parentLabel['elementRef'] && div.innerHTML !== '') {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent = parentLabel;\n                }\n            }\n            var milestoneTemplate = '<div class=\"' + cls.parentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:' + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n            template[0].appendChild([].slice.call(progressBarInnerDiv)[0]);\n            parentTaskbarNode = data.ganttProperties.isMilestone ?\n                this.createDivElement(data.ganttProperties.isAutoSchedule ? milestoneTemplate : '') : template;\n        }\n        if (this.parent.enableRtl && parentTaskbarNode[0] && parentTaskbarNode[0].querySelector('.e-task-label')) {\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar')) {\n                parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar').style.textAlign = 'left';\n            }\n        }\n        return parentTaskbarNode;\n    };\n    /**\n     * To get taskbar row('TR') node\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTableTrNode = function (i) {\n        var _this = this;\n        var table = createElement('table');\n        var className = (this.parent.gridLines === 'Horizontal' || this.parent.gridLines === 'Both') ?\n            'e-chart-row-border' : '';\n        /* eslint-disable-next-line */\n        var activecls;\n        var rows;\n        if (this.parent.treeGridModule.isPersist) {\n            setTimeout(function () {\n                if (!isNullOrUndefined(_this.parent.treeGrid.grid) && !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule) &&\n                    !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule.getRows())) {\n                    rows = _this.parent.treeGrid.grid.contentModule.getRows()[i];\n                    if (rows && rows.isSelected) {\n                        activecls = 'e-active';\n                    }\n                    else {\n                        activecls = '';\n                    }\n                }\n            }, 0);\n        }\n        else {\n            rows = this.parent.treeGrid.grid.contentModule.getRows()[i];\n            if (rows && rows.isSelected) {\n                activecls = 'e-active';\n            }\n            else {\n                activecls = '';\n            }\n        }\n        table.innerHTML = '<tr class=\"' + this.getRowClassName(this.templateData) + ' ' + cls.chartRow + ' ' + (activecls) + '\"' +\n            'style=\"display:' + this.getExpandDisplayProp(this.templateData) + ';height:' +\n            this.parent.rowHeight + 'px;\">' +\n            '<td class=\"' + cls.chartRowCell + ' ' + className\n            + '\"style=\"width:' + this.parent.timelineModule.totalTimelineWidth + 'px;\"></td></tr>';\n        return table.childNodes;\n    };\n    /**\n     * To initialize chart templates.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initializeChartTemplate = function () {\n        if (!isNullOrUndefined(this.parent.parentTaskbarTemplate)) {\n            this.parentTaskbarTemplateFunction = this.templateCompiler(this.parent.parentTaskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.leftLabel) &&\n            this.isTemplate(this.parent.labelSettings.leftLabel)) {\n            this.leftTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.leftLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.rightLabel) &&\n            this.isTemplate(this.parent.labelSettings.rightLabel)) {\n            this.rightTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.rightLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) &&\n            this.isTemplate(this.parent.labelSettings.taskLabel)) {\n            this.taskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.taskLabel);\n        }\n        if (!isNullOrUndefined(this.parent.taskbarTemplate)) {\n            this.childTaskbarTemplateFunction = this.templateCompiler(this.parent.taskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.milestoneTemplate)) {\n            this.milestoneTemplateFunction = this.templateCompiler(this.parent.milestoneTemplate);\n        }\n    };\n    ChartRows.prototype.createDivElement = function (template) {\n        var div = createElement('div');\n        div.innerHTML = template;\n        return div.childNodes;\n    };\n    ChartRows.prototype.isTemplate = function (template) {\n        var result = false;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            if (template === this.parent.ganttColumns[i].field) {\n                result = true;\n                break;\n            }\n        }\n        if (typeof template !== 'string' || template.indexOf('#') === 0 || template.indexOf('<') > -1\n            || template.indexOf('$') > -1 || !result) {\n            result = true;\n        }\n        else {\n            result = false;\n        }\n        return result;\n    };\n    /**\n     * @param {string} templateName .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTemplateID = function (templateName) {\n        var ganttID = this.parent.element.id;\n        return ganttID + templateName;\n    };\n    ChartRows.prototype.leftLabelContainer = function () {\n        var template = '<div class=\"' + ((this.leftTaskLabelTemplateFunction) ? cls.leftLabelTempContainer :\n            cls.leftLabelContainer) + ' ' + '\" tabindex=\"-1\" role=\"term\" style=\"height:' +\n            (this.parent.rowHeight - 2) + 'px;width:' + this.taskNameWidth(this.templateData) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.taskbarContainer = function () {\n        var data = this.templateData;\n        var manualParent = this.parent.editModule && this.parent.editSettings.allowTaskbarEditing &&\n            this.parent.editModule.taskbarEditModule.taskBarEditAction === 'ParentResizing' ?\n            true : false;\n        var template = '<div class=\"' + cls.taskBarMainContainer + ' ' +\n            this.parent.getUnscheduledTaskClass(data.ganttProperties) + ' ' +\n            ((data.ganttProperties.cssClass) ? data.ganttProperties.cssClass : '') + '\" ' +\n            ' tabindex=\"-1\" role=\"term\" style=\"' + ((data.ganttProperties.isMilestone && !manualParent && !(data.hasChildRecords && !data.ganttProperties.isAutoSchedule)) ?\n            ('width:' + this.milestoneHeight + 'px;height:' +\n                this.milestoneHeight + 'px;margin-top:' + this.milestoneMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left -\n                (this.milestoneHeight / 2)) + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;')) : ('width:' + data.ganttProperties.width +\n            'px;margin-top:' + this.taskBarMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (!data.hasChildRecords || data.ganttProperties.isAutoSchedule ?\n            data.ganttProperties.left : data.ganttProperties.autoLeft) + 'px;height:' +\n            this.taskBarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;'))) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.rightLabelContainer = function () {\n        var template = '<div class=\"' + ((this.rightTaskLabelTemplateFunction) ? cls.rightLabelTempContainer :\n            cls.rightLabelContainer) + '\" ' + ' tabindex=\"-1\" role=\"term\" style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + this.getRightLabelLeft(this.templateData) + 'px; height:'\n            + (this.parent.rowHeight - 2) + 'px;\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarLeftResizer = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarRightResizer = function () {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -11;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.templateData.ganttProperties.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarProgressResizer = function () {\n        var width = this.parent.enableRtl ? (this.templateData.ganttProperties.progressWidth + 8) :\n            (this.templateData.ganttProperties.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getLeftPointNode = function () {\n        var data = this.templateData;\n        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n        var mileStoneLeftValue = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 6 : 3;\n        var pointerLeft = -(2 + this.connectorPointWidth + left);\n        var mileStoneLeft = -(this.connectorPointWidth + mileStoneLeftValue);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.leftConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('margin-top:' + pointerTop + 'px;left:' + mileStoneLeft +\n                'px;') : (marginTop + ';left:' + pointerLeft + 'px;')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointLeft : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width: ' + this.connectorPointWidth + 'px;' + (this.parent.enableRtl ? 'margin-right:2px;' : '') +\n            'height: ' + this.connectorPointWidth + 'px;\">' + this.touchLeftConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getRightPointNode = function () {\n        var data = this.templateData;\n        var right = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -12 : 0;\n        var pointerRight = -(3 + right);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.rightConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('left:' + ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.milestoneHeight + 5) : this.milestoneHeight - 2) + 'px;margin-top:' +\n                pointerTop + 'px;') : ('left:' + (data.ganttProperties.width + pointerRight) + 'px;' + marginTop + ';')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointRight : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width:' + this.connectorPointWidth + 'px;height:' + this.connectorPointWidth + 'px;\">' +\n            this.touchRightConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get task label.\n     *\n     * @param {string} field .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTaskLabel = function (field) {\n        var length = this.parent.ganttColumns.length;\n        var resultString = null;\n        if (!isNullOrUndefined(field) && field !== '') {\n            if (field === this.parent.taskFields.resourceInfo) {\n                resultString = this.getResourceName(this.templateData);\n            }\n            else {\n                for (var i = 0; i < length; i++) {\n                    if (field === this.parent.ganttColumns[i].field) {\n                        resultString = this.getFieldValue(this.templateData[field]).toString();\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(resultString)) {\n                    return 'isCustomTemplate';\n                }\n            }\n        }\n        else {\n            resultString = '';\n        }\n        return resultString;\n    };\n    ChartRows.prototype.getExpandDisplayProp = function (data) {\n        data = this.templateData;\n        if (this.parent.getExpandStatus(data)) {\n            return 'table-row';\n        }\n        return 'none';\n    };\n    ChartRows.prototype.getRowClassName = function (data) {\n        data = this.templateData;\n        var rowClass = 'gridrowtaskId';\n        var parentItem = data.parentItem;\n        if (parentItem) {\n            rowClass += parentItem.taskId.toString();\n        }\n        rowClass += 'level';\n        rowClass += data.level.toString();\n        return rowClass;\n    };\n    ChartRows.prototype.getBorderRadius = function (data) {\n        data = this.templateData;\n        var diff = data.ganttProperties.width - data.ganttProperties.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.getSplitTaskBorderRadius = function (data) {\n        var diff = data.width - data.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.taskNameWidth = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            width = (ganttData.ganttProperties.left - (this.parent.getTaskbarHeight() / 2));\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                width = (ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime()) ?\n                    ganttProp.autoLeft : ganttProp.left;\n            }\n            else {\n                width = ganttProp.left < ganttProp.autoLeft ? ganttProp.left : ganttProp.autoLeft;\n            }\n        }\n        else {\n            width = ganttData.ganttProperties.left;\n        }\n        if (width < 0) {\n            width = 0;\n        }\n        return width + 'px';\n    };\n    ChartRows.prototype.getRightLabelLeft = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var left;\n        var endLeft;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            return ganttData.ganttProperties.left + (this.parent.getTaskbarHeight() / 2);\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                left = ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime() ? ganttProp.autoLeft : ganttProp.left;\n                endLeft = ganttProp.autoEndDate.getTime() < ganttProp.endDate.getTime() ?\n                    this.parent.dataOperation.getTaskLeft(ganttProp.endDate, ganttProp.isMilestone) :\n                    this.parent.dataOperation.getTaskLeft(ganttProp.autoEndDate, ganttProp.isMilestone);\n                width = endLeft - left;\n            }\n            else {\n                left = ganttProp.left < ganttProp.autoLeft ? ganttProp.autoLeft : ganttProp.left;\n                width = ganttProp.autoWidth;\n            }\n            return left + width;\n        }\n        else {\n            return ganttData.ganttProperties.left + ganttData.ganttProperties.width;\n        }\n    };\n    ChartRows.prototype.getExpandClass = function (data) {\n        data = this.templateData;\n        if (data.expanded) {\n            return cls.rowExpand;\n        }\n        else if (!data.expanded && data.hasChildRecords) {\n            return cls.rowCollapse;\n        }\n        return '';\n    };\n    ChartRows.prototype.getFieldValue = function (field) {\n        return isNullOrUndefined(field) ? '' : field;\n    };\n    ChartRows.prototype.getResourceName = function (ganttData) {\n        ganttData = this.templateData;\n        var resource = null;\n        if (!isNullOrUndefined(ganttData.ganttProperties.resourceInfo)) {\n            var length_2 = ganttData.ganttProperties.resourceInfo.length;\n            if (length_2 > 0) {\n                for (var i = 0; i < length_2; i++) {\n                    var resourceName = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.name];\n                    var resourceUnit = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resourceName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (isNullOrUndefined(resource)) {\n                        resource = resourceName;\n                    }\n                    else {\n                        resource += ' , ' + resourceName;\n                    }\n                }\n                return resource;\n            }\n            else {\n                return '';\n            }\n        }\n        return '';\n    };\n    /**\n     * To initialize private variable help to render task bars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initChartHelperPrivateVariable = function () {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var taskBarMarginTopValue = this.parent.renderBaseline ? 4 : 2;\n        var milestoneHeightValue = this.parent.renderBaseline ? 1.13 : 0.82;\n        this.parent.rowHeight = isNullOrUndefined(this.parent.rowHeight) ? 36 : this.parent.rowHeight;\n        this.baselineColor = !isNullOrUndefined(this.parent.baselineColor) &&\n            this.parent.baselineColor !== '' ? this.parent.baselineColor : null;\n        this.taskBarHeight = isNullOrUndefined(this.parent.taskbarHeight) || this.parent.taskbarHeight >= this.parent.rowHeight ?\n            Math.floor(this.parent.rowHeight * taskbarHeightValue) : this.parent.taskbarHeight; // 0.62 -- Standard Ratio.\n        if (this.parent.renderBaseline) {\n            var height = void 0;\n            if ((this.taskBarHeight + this.baselineHeight) <= this.parent.rowHeight) {\n                height = this.taskBarHeight;\n            }\n            else {\n                height = this.taskBarHeight - (this.baselineHeight + 1);\n            }\n            this.taskBarHeight = height;\n        }\n        this.milestoneHeight = Math.floor(this.taskBarHeight * milestoneHeightValue); // 0.82 -- Standard Ratio.\n        this.taskBarMarginTop = Math.floor((this.parent.rowHeight - this.taskBarHeight) / taskBarMarginTopValue);\n        this.milestoneMarginTop = Math.floor((this.parent.rowHeight - this.milestoneHeight) / 2);\n        this.milesStoneRadius = Math.floor((this.milestoneHeight) / 2);\n        this.baselineTop = -(Math.floor((this.parent.rowHeight - (this.taskBarHeight + this.taskBarMarginTop))) - 4);\n        this.connectorPointWidth = this.parent.isAdaptive ? Math.round(this.taskBarHeight / 2) : 9;\n        this.connectorPointMargin = Math.floor((this.taskBarHeight / 2) - (this.connectorPointWidth / 1.5));\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.refreshGanttRows = function () {\n        this.parent.currentViewData = this.parent.treeGrid.getCurrentViewRecords().slice();\n        this.createTaskbarTemplate();\n        if (this.parent.showOverAllocation) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var data = this.parent.currentViewData[i];\n                if (data.childRecords.length > 0) {\n                    this.parent.setRecordValue('workTimelineRanges', this.parent.dataOperation.mergeRangeCollections(data.ganttProperties.workTimelineRanges, true), data.ganttProperties, true);\n                    this.parent.dataOperation.calculateRangeLeftWidth(data.ganttProperties.workTimelineRanges);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        this.parent.ganttChartModule.updateLastRowBottomWidth();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createTaskbarTemplate = function () {\n        var _a;\n        var trs = [].slice.call(this.ganttChartTableBody.querySelectorAll('tr'));\n        this.ganttChartTableBody.innerHTML = '';\n        var collapsedResourceRecord = [];\n        var prevCurrentView = this.parent.treeGridModule.prevCurrentView;\n        this.refreshedTr = [];\n        this.refreshedData = [];\n        if (this.parent.enableImmutableMode && prevCurrentView && prevCurrentView.length > 0 && this.isUpdated) {\n            var oldKeys = {};\n            var oldRowElements = [];\n            var key = this.parent.treeGrid.getPrimaryKeyFieldNames()[0];\n            for (var i = 0; i < prevCurrentView.length; i++) {\n                oldRowElements[i] = trs[i];\n                oldKeys[prevCurrentView[i][key]] = i;\n            }\n            for (var index = 0; index < this.parent.currentViewData.length; index++) {\n                var oldIndex = oldKeys[this.parent.currentViewData[index][key]];\n                var modifiedRecIndex = this.parent.modifiedRecords.indexOf(this.parent.currentViewData[index]);\n                if (isNullOrUndefined(oldIndex) || modifiedRecIndex !== -1 || this.parent.isFromRenderBaseline) {\n                    var tRow = this.getGanttChartRow(index, this.parent.currentViewData[index]);\n                    this.ganttChartTableBody.appendChild(tRow);\n                    this.refreshedTr.push(this.ganttChartTableBody.querySelectorAll('tr')[index]);\n                    this.refreshedData.push(this.parent.currentViewData[index]);\n                }\n                else {\n                    this.ganttChartTableBody.appendChild(oldRowElements[oldIndex]);\n                }\n                this.ganttChartTableBody.querySelectorAll('tr')[index].setAttribute('data-rowindex', index.toString());\n            }\n        }\n        else {\n            var dupChartBody = createElement('tbody', {\n                id: this.parent.element.id + 'GanttTaskTableBody'\n            });\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var tempTemplateData = this.parent.currentViewData[i];\n                if (!tempTemplateData.expanded && this.parent.enableMultiTaskbar) {\n                    collapsedResourceRecord.push(tempTemplateData);\n                }\n                var tRow = this.getGanttChartRow(i, tempTemplateData);\n                dupChartBody.appendChild(tRow);\n                if (this.parent.enableImmutableMode) {\n                    this.refreshedTr.push(dupChartBody.querySelectorAll('tr')[i]);\n                    this.refreshedData.push(this.parent.currentViewData[i]);\n                }\n                // To maintain selection when virtualization is enabled\n                if (this.parent.selectionModule && this.parent.allowSelection) {\n                    this.parent.selectionModule.maintainSelectedRecords(parseInt(tRow.getAttribute('data-rowindex'), 10));\n                }\n            }\n            /* eslint-disable-next-line */\n            (_a = this.ganttChartTableBody).replaceChildren.apply(_a, dupChartBody.childNodes);\n            this.parent.initialChartRowElements = this.parent.ganttChartModule.getChartRows();\n        }\n        if (this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            var criticalModule = this.parent.criticalPathModule;\n            if (criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n        }\n        this.parent.renderTemplates();\n        this.triggerQueryTaskbarInfo();\n        this.parent.modifiedRecords = [];\n        if (this.parent.showOverAllocation) {\n            this.updateOverlapped();\n        }\n        if (collapsedResourceRecord.length) {\n            for (var j = 0; j < collapsedResourceRecord.length; j++) {\n                if (collapsedResourceRecord[j].hasChildRecords) {\n                    this.parent.isGanttChartRendered = true;\n                    this.parent.chartRowsModule.refreshRecords([collapsedResourceRecord[j]]);\n                }\n            }\n        }\n        this.parent.isGanttChartRendered = true;\n        this.parent.renderTemplates();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @param {number} i .\n     * @param {IGanttData} tempTemplateData .\n     * @returns {Node} .\n     * @private\n     */\n    ChartRows.prototype.getGanttChartRow = function (i, tempTemplateData) {\n        this.templateData = tempTemplateData;\n        var parentTrNode = this.getTableTrNode(i);\n        var leftLabelNode = this.getLeftLabelNode(i);\n        var taskbarContainerNode = this.taskbarContainer();\n        taskbarContainerNode[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n        taskbarContainerNode[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n        var connectorLineLeftNode;\n        var connectorLineRightNode;\n        connectorLineLeftNode = this.getLeftPointNode();\n        if ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords) {\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n        }\n        if (this.templateData.hasChildRecords) {\n            var parentTaskbarTemplateNode = void 0;\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                parentTaskbarTemplateNode = this.getParentTaskbarNode(i, taskbarContainerNode);\n            }\n            else {\n                taskbarContainerNode = [];\n                for (var j = 0; j < this.templateData.childRecords.length; j++) {\n                    this.templateData = this.templateData.childRecords[j];\n                    var taskbarContainerNode1 = this.taskbarContainer();\n                    taskbarContainerNode1[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n                    taskbarContainerNode1[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n                    if (!this.parent.allowParentDependency) {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                    }\n                    else {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        if ((this.templateData.ganttProperties.isAutoSchedule) || !this.templateData.hasChildRecords) {\n                            taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        }\n                    }\n                    this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode1, connectorLineRightNode, taskbarContainerNode);\n                }\n            }\n            if (!this.templateData.ganttProperties.isAutoSchedule) {\n                var manualTaskbar = this.getManualTaskbar();\n                if (!isNullOrUndefined(manualTaskbar[0])) {\n                    if (this.parent.allowParentDependency) {\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        var connectorLineRightNode_1 = this.getRightPointNode();\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineRightNode_1)[0]);\n                    }\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(manualTaskbar)[0]);\n                }\n            }\n            if ((this.templateData.ganttProperties.autoDuration !== 0) && !this.templateData.ganttProperties.isMilestone &&\n                parentTaskbarTemplateNode && parentTaskbarTemplateNode.length > 0) {\n                append(parentTaskbarTemplateNode, taskbarContainerNode[0]);\n            }\n            else if ((this.templateData.ganttProperties.duration === 0 && this.templateData.ganttProperties.isMilestone &&\n                this.templateData.ganttProperties.isAutoSchedule)) {\n                var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n                if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                    append(milestoneTemplateNode, taskbarContainerNode[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n                else if (!this.parent.allowParentDependency) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n            }\n        }\n        else {\n            this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode, connectorLineRightNode);\n        }\n        var rightLabelNode = this.getRightLabelNode(i);\n        if (this.parent.enableMultiTaskbar && this.templateData.hasChildRecords && !this.templateData.expanded) {\n            var collapseParent = createElement('div', {\n                className: 'e-collapse-parent'\n            });\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild(collapseParent);\n            for (var j = 0; j < taskbarContainerNode.length; j++) {\n                addClass([taskbarContainerNode[j]], 'collpse-parent-border');\n                parentTrNode[0].childNodes[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[j]);\n            }\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n        }\n        else {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n            if (rightLabelNode && rightLabelNode.length > 0) {\n                parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(rightLabelNode)[0]);\n            }\n        }\n        if (!isNullOrUndefined(this.taskBaselineTemplateNode)) {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(this.taskBaselineTemplateNode)[0]);\n        }\n        this.taskBaselineTemplateNode = null;\n        var tRow = parentTrNode[0].childNodes[0];\n        this.setAriaRowIndex(tempTemplateData, tRow);\n        return tRow;\n    };\n    /**\n     * To set data-rowindex for chart rows\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.setAriaRowIndex = function (tempTemplateData, tRow) {\n        var _this = this;\n        var dataSource = this.parent.treeGrid.getCurrentViewRecords();\n        var visualData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : dataSource;\n        var index;\n        if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            /* eslint-disable-next-line */\n            var gridData = this.parent.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.parent.taskFields.id] === tempTemplateData.ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            tRow.setAttribute('data-rowindex', data['index'].toString());\n        }\n        else {\n            index = visualData.indexOf(tempTemplateData);\n            tRow.setAttribute('aria-rowindex', (index + 1).toString());\n            tRow.setAttribute('data-rowindex', index.toString());\n        }\n    };\n    /**\n     * To trigger query taskbar info event.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfo = function () {\n        if (!this.parent.queryTaskbarInfo) {\n            return;\n        }\n        var length = this.parent.enableImmutableMode ?\n            this.refreshedTr.length : this.ganttChartTableBody.querySelectorAll('tr').length;\n        var trElement;\n        var data;\n        for (var index = 0; index < length; index++) {\n            trElement = this.parent.enableImmutableMode ? this.refreshedTr[index] : this.ganttChartTableBody.querySelectorAll('tr')[index];\n            data = this.refreshedData.length > 0 ? this.refreshedData[index] : this.parent.currentViewData[index];\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = trElement.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else if (trElement) {\n                this.triggerQueryTaskbarInfoByIndex(trElement, data);\n            }\n        }\n    };\n    ChartRows.prototype.appendIndicators = function (i, parentTrNode) {\n        var taskIndicatorNode;\n        var taskIndicatorTextFunction;\n        var taskIndicatorTextNode;\n        var indicators = this.templateData.ganttProperties.indicators;\n        for (var indicatorIndex = 0; indicatorIndex < indicators.length; indicatorIndex++) {\n            taskIndicatorNode = this.getIndicatorNode(indicators[indicatorIndex]);\n            taskIndicatorNode[0].setAttribute('aria-label', indicators[indicatorIndex].name);\n            if (indicators[indicatorIndex].name.indexOf('$') > -1 || indicators[indicatorIndex].name.indexOf('#') > -1) {\n                taskIndicatorTextFunction = this.templateCompiler(indicators[indicatorIndex].name);\n                taskIndicatorTextNode = taskIndicatorTextFunction(extend({ index: i }, this.templateData), this.parent, 'indicatorLabelText');\n            }\n            else {\n                var text = createElement('Text');\n                text.innerHTML = indicators[indicatorIndex].name;\n                if (this.parent.enableHtmlSanitizer && typeof (indicators[indicatorIndex].name) === 'string') {\n                    indicators[indicatorIndex].name = SanitizeHtmlHelper.sanitize(indicators[indicatorIndex].name);\n                }\n                taskIndicatorTextNode = text.childNodes;\n            }\n            taskIndicatorNode[0].appendChild([].slice.call(taskIndicatorTextNode)[0]);\n            taskIndicatorNode[0].title =\n                !isNullOrUndefined(indicators[indicatorIndex].tooltip) ? indicators[indicatorIndex].tooltip : '';\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskIndicatorNode)[0]);\n        }\n    };\n    ChartRows.prototype.appendChildTaskbars = function (tempTemplateData, i, taskbarContainerNode, connectorLineRightNode, taskbarCollection) {\n        if (this.templateData.ganttProperties.isMilestone) {\n            var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n            if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                append(milestoneTemplateNode, taskbarContainerNode[0]);\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (taskbarCollection) {\n                /* eslint-disable-next-line */\n                taskbarCollection.push(taskbarContainerNode[0]);\n                this.templateData = tempTemplateData;\n            }\n        }\n        else {\n            var scheduledTask = isScheduledTask(this.templateData.ganttProperties); // eslint-disable-line\n            var childTaskbarProgressResizeNode = null;\n            var childTaskbarRightResizeNode = null;\n            var childTaskbarLeftResizeNode = null;\n            if (!isNullOrUndefined(scheduledTask)) {\n                if (scheduledTask || this.templateData.ganttProperties.duration) {\n                    if (scheduledTask && (isNullOrUndefined(this.templateData.ganttProperties.segments)\n                        || this.templateData.ganttProperties.segments.length <= 0)) {\n                        childTaskbarProgressResizeNode = this.childTaskbarProgressResizer();\n                        childTaskbarLeftResizeNode = this.childTaskbarLeftResizer();\n                        childTaskbarRightResizeNode = this.childTaskbarRightResizer();\n                    }\n                }\n                var childTaskbarTemplateNode = this.getChildTaskbarNode(i, taskbarContainerNode);\n                if (childTaskbarLeftResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarLeftResizeNode)[0]);\n                }\n                if (childTaskbarTemplateNode && childTaskbarTemplateNode.length > 0) {\n                    if (this.templateData.ganttProperties.segments && this.templateData.ganttProperties.segments.length > 0) {\n                        var length_3 = this.templateData.ganttProperties.segments.length;\n                        var connector = ('<div class=\"e-gantt-split-container-line\"></div>');\n                        var segmentConnector = null;\n                        segmentConnector = this.createDivElement(connector);\n                        taskbarContainerNode[0].appendChild([].slice.call(segmentConnector)[0]);\n                        for (var i_1 = 0; i_1 < length_3; i_1++) {\n                            append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                        }\n                    }\n                    else {\n                        append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                    }\n                }\n                if (childTaskbarProgressResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarProgressResizeNode)[0]);\n                }\n                if (childTaskbarRightResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarRightResizeNode)[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n        }\n        if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        else if (!this.parent.allowParentDependency) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        if (taskbarCollection) {\n            /* eslint-disable-next-line */\n            taskbarCollection.push(taskbarContainerNode[0]);\n            this.templateData = tempTemplateData;\n        }\n    };\n    ChartRows.prototype.customizeTaskbars = function (data, trElement, taskbarElement) {\n        var _this = this;\n        var rowElement;\n        var segmentRowElement;\n        if (data.ganttProperties.segments && data.ganttProperties.segments.length > 0 && trElement && trElement.parentElement\n            && trElement.parentElement.parentElement && trElement.parentElement.parentElement.parentElement) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        var triggerTaskbarElement;\n        var args = {\n            data: data,\n            rowElement: trElement,\n            taskbarElement: taskbarElement,\n            taskbarType: data.hasChildRecords ? 'ParentTask' : data.ganttProperties.isMilestone ? 'Milestone' : 'ChildTask'\n        };\n        var classCollections = this.getClassName(args);\n        if (args.taskbarType === 'Milestone') {\n            args.milestoneColor = taskbarElement.querySelector(classCollections[0]) ?\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor : null;\n            args.baselineColor = trElement.querySelector(classCollections[1]) ?\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor :\n                (trElement.querySelector('.' + cls.baselineBar) ? getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null);\n        }\n        else if (taskbarElement) {\n            var childTask = taskbarElement.querySelector(classCollections[0]);\n            var progressTask = taskbarElement.querySelector(classCollections[1]);\n            args.taskbarBgColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor;\n            args.taskbarBorderColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor;\n            args.progressBarBgColor = isNullOrUndefined(progressTask) ? null :\n                taskbarElement.classList.contains(cls.traceChildProgressBar) ?\n                    getComputedStyle(taskbarElement).backgroundColor :\n                    getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor;\n            // args.progressBarBorderColor = taskbarElement.querySelector(progressBarClass) ?\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor : null;\n            if (segmentRowElement) {\n                args.baselineColor = segmentRowElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            else {\n                args.baselineColor = trElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            args.taskLabelColor = taskbarElement.querySelector('.' + cls.taskLabel) ?\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color : null;\n        }\n        if (segmentRowElement) {\n            args.rightLabelColor = segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        else {\n            args.rightLabelColor = trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        this.parent.trigger('queryTaskbarInfo', args, function (taskbarArgs) {\n            _this.updateQueryTaskbarInfoArgs(taskbarArgs, rowElement, triggerTaskbarElement);\n        });\n    };\n    /**\n     *\n     * @param {Element} trElement .\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfoByIndex = function (trElement, data) {\n        // eslint-disable-next-line\n        if (isNullOrUndefined(trElement)) {\n            return;\n        }\n        var taskbarElement;\n        if (!(!isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0)) {\n            var taskbarElements = trElement.querySelectorAll('.' + cls.taskBarMainContainer);\n            var currentData = data;\n            for (var i = 0; i < taskbarElements.length; i++) {\n                taskbarElement = taskbarElements[i];\n                currentData = (!data.expanded && data.hasChildRecords) ? data.childRecords[i] : currentData;\n                var id = this.parent.viewType === 'ResourceView' ?\n                    taskbarElement.getAttribute('rowUniqueId') : currentData.ganttProperties.taskId.toString();\n                trElement = this.parent.getRowByID(id);\n                trElement = trElement ? trElement : (taskbarElement.querySelector('.e-gantt-child-taskbar'));\n                if (trElement) {\n                    this.customizeTaskbars(currentData, trElement, taskbarElement);\n                }\n            }\n        }\n        else {\n            taskbarElement = trElement;\n            if (trElement) {\n                this.customizeTaskbars(data, trElement, taskbarElement);\n            }\n        }\n    };\n    /**\n     * To update query taskbar info args.\n     *\n     * @param {IQueryTaskbarInfoEventArgs} args .\n     * @param {Element} rowElement .\n     * @param {Element} taskBarElement .\n     * @returns {void}\n     * @private\n     */\n    /* eslint-disable-next-line */\n    ChartRows.prototype.updateQueryTaskbarInfoArgs = function (args, rowElement, taskBarElement) {\n        var trElement = args.rowElement;\n        var taskbarElement = this.parent.enableVirtualization ? args.rowElement : args.taskbarElement;\n        var classCollections = this.getClassName(args);\n        var segmentRowElement;\n        if (args.data.ganttProperties.segments && args.data.ganttProperties.segments.length > 0) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        if (args.taskbarType === 'Milestone') {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.milestoneColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.milestoneColor;\n            }\n            if (trElement.querySelector(classCollections[1]) &&\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor !== args.baselineColor) {\n                trElement.querySelector(classCollections[1]).style.backgroundColor = args.baselineColor;\n            }\n            if (trElement.querySelector('.' + cls.baselineBar) &&\n                getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).borderTopColor !== args.baselineColor) {\n                trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n            }\n        }\n        else if (taskbarElement) {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.querySelector(classCollections[0]).style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.querySelector(classCollections[1]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.querySelector(classCollections[1]).style.backgroundColor = args.progressBarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildProgressBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.style.backgroundColor = args.progressBarBgColor;\n            }\n            // if (taskbarElement.querySelector(progressBarClass) &&\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor !== args.progressBarBorderColor) {\n            //     (taskbarElement.querySelector(progressBarClass) as HTMLElement).style.borderColor = args.progressBarBorderColor;\n            // }\n            if (taskbarElement.querySelector('.' + cls.taskLabel) &&\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color !== args.taskLabelColor) {\n                taskbarElement.querySelector('.' + cls.taskLabel).style.color = args.taskLabelColor;\n            }\n            if (segmentRowElement) {\n                if (segmentRowElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    segmentRowElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n            else {\n                if (trElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n        }\n        if (segmentRowElement) {\n            if (segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n        else {\n            if (trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n    };\n    ChartRows.prototype.getClassName = function (args) {\n        var classCollection = [];\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentTaskBar : args.taskbarType === 'ChildTask' ? cls.traceChildTaskBar : cls.traceMilestone));\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentProgressBar : args.taskbarType === 'ChildTask' ? cls.traceChildProgressBar : cls.baselineMilestoneContainer));\n        return classCollection;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string} template .\n     * @returns {Function} .\n     * @private\n     */\n    ChartRows.prototype.templateCompiler = function (template) {\n        if (!isNullOrUndefined(template) && template !== '') {\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim(), this.parent);\n                }\n                else {\n                    return compile(template, this.parent);\n                }\n            }\n            catch (e) {\n                return compile(template, this.parent);\n            }\n        }\n        return null;\n    };\n    // to update the eOverlapped property\n    ChartRows.prototype.updateOverlapped = function () {\n        for (var k = 0; k < this.parent.treeGrid.parentData.length; k++) {\n            var childRecords = this.parent.treeGrid.parentData[k].childRecords;\n            for (var i = 0; i < childRecords.length; i++) {\n                if (childRecords[i + 1]) {\n                    childRecords[i].ganttProperties.eOverlapped = undefined;\n                }\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    childRecords[j].ganttProperties.eOverlapped = undefined;\n                    if (childRecords[i].ganttProperties.startDate.getTime() <\n                        childRecords[j].ganttProperties.endDate.getTime() &&\n                        childRecords[i].ganttProperties.endDate.getTime() >\n                            childRecords[j].ganttProperties.startDate.getTime()) {\n                        childRecords[j].ganttProperties.eOverlapped = true;\n                        childRecords[i].ganttProperties.eOverlapped = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(childRecords[j].ganttProperties.eOverlapped)) {\n                            childRecords[j].ganttProperties.eOverlapped = false;\n                        }\n                        if (isNullOrUndefined(childRecords[i].ganttProperties.eOverlapped)) {\n                            childRecords[i].ganttProperties.eOverlapped = false;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    // To update the row height when allow overallocation set to false\n    ChartRows.prototype.updateDragDropRecords = function (data, tr) {\n        var childRecords = data.childRecords;\n        var rowIndex = this.parent.currentViewData.indexOf(data);\n        var treeGridContentHeight = this.parent.enableRtl ?\n            this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n            this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n        if (!tr) {\n            tr = this.ganttChartTableBody.childNodes[rowIndex];\n        }\n        if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n            tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = this.parent.rowHeight + 'px';\n        }\n        else {\n            tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = this.parent.rowHeight + 'px';\n        }\n        this.parent.contentHeight = treeGridContentHeight;\n        var rowIDs = [];\n        var rowCounts = 0;\n        if (data) {\n            for (var i = 0; i < childRecords.length; i++) {\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    var taskbarContainer = tr.getElementsByClassName('e-taskbar-main-container');\n                    for (var k = 0; k < taskbarContainer.length; k++) {\n                        var rowuniqueid = this.parent.viewType === 'ResourceView' ? childRecords[j]['rowUniqueID'] : childRecords[j].ganttProperties.rowUniqueID;\n                        if (childRecords[i].ganttProperties.startDate.getTime() <\n                            childRecords[j].ganttProperties.endDate.getTime() &&\n                            childRecords[i].ganttProperties.endDate.getTime() >\n                                childRecords[j].ganttProperties.startDate.getTime()) {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1) {\n                                rowIDs.push(rowuniqueid);\n                                rowCounts++;\n                                tr.children[0]['style'].verticalAlign = 'baseline';\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    (rowCounts * this.parent.rowHeight) + this.taskBarMarginTop + 'px';\n                                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                                    tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                                else {\n                                    tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                            }\n                        }\n                        else {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1 && this.parent.rowDragAndDropModule &&\n                                this.parent.rowDragAndDropModule['draggedRecord'] && taskbarContainer[k].getAttribute('rowuniqueid') ===\n                                this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] && this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] ===\n                                childRecords[j]['rowUniqueID']) {\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    this.parent.editModule.taskbarEditModule.draggedRecordMarginTop;\n                            }\n                        }\n                    }\n                }\n            }\n            this.parent.contentHeight = treeGridContentHeight;\n            document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n        }\n    };\n    /**\n     * To refresh edited TR\n     *\n     * @param {number} index .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRow = function (index, isValidateRange, isUndoRedo) {\n        var _this = this;\n        var tr = this.ganttChartTableBody.childNodes[index];\n        var selectedItem;\n        if (isUndoRedo) {\n            selectedItem = this.parent.previousFlatData[index];\n        }\n        else {\n            selectedItem = this.parent.currentViewData[index];\n        }\n        if (index !== -1 && selectedItem) {\n            var data = selectedItem;\n            if (!this.parent.allowTaskbarOverlap && data.expanded) {\n                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                    tr['style'].height = this.parent.treeGrid.getRowByIndex(index)['style'].height = this.parent.rowHeight + 'px';\n                }\n                else {\n                    tr['style'].height = this.parent.treeGrid.getRows()[index]['style'].height = this.parent.rowHeight + 'px';\n                }\n            }\n            if (data.hasChildRecords && !data.expanded && this.parent.enableMultiTaskbar) {\n                tr.replaceChild(this.getGanttChartRow(index, data).childNodes[0], tr.childNodes[0]);\n                if (this.parent.renderBaseline) {\n                    data.childRecords.forEach(function (childRecord) {\n                        if (!isNullOrUndefined(childRecord.ganttProperties.baselineStartDate &&\n                            childRecord.ganttProperties.baselineEndDate)) {\n                            tr.childNodes[0].appendChild((_this.updateTaskBaselineNode(childRecord))[0]);\n                        }\n                    });\n                }\n            }\n            else {\n                if (this.parent.allowTaskbarDragAndDrop && !data.expanded) {\n                    tr.replaceWith(this.getGanttChartRow(index, data));\n                }\n                else {\n                    tr.replaceChild(this.getGanttChartRow(index, data).childNodes[0], tr.childNodes[0]);\n                }\n            }\n            this.parent.renderTemplates();\n            if (data.hasChildRecords && this.parent.showOverAllocation && this.parent.allowTaskbarOverlap) {\n                if (isValidateRange) {\n                    this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                }\n                else {\n                    this.parent.dataOperation.updateOverlappingValues(data);\n                    this.parent.ganttChartModule.renderRangeContainer([data]);\n                }\n            }\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = tr.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else {\n                this.triggerQueryTaskbarInfoByIndex(tr, data);\n            }\n            var dataId = this.parent.viewType === 'ProjectView' ? data.ganttProperties.taskId : data.ganttProperties.rowUniqueID;\n            if (!this.parent.ganttChartModule.isExpandAll && !this.parent.ganttChartModule.isCollapseAll) {\n                this.parent.treeGrid.grid.setRowData(dataId, data);\n            }\n            if (data.hasChildRecords && !data.expanded && this.parent.enableMultiTaskbar && !this.parent.allowTaskbarOverlap) {\n                this.updateDragDropRecords(selectedItem, tr);\n            }\n            if (data.hasChildRecords && this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n                this.parent.dataOperation.updateOverlappingValues(data);\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n            }\n            var nextEditableElement = this.parent.ganttChartModule.tempNextElement;\n            if (this.parent.ganttChartModule.isEditableElement && nextEditableElement) {\n                this.parent.treeGrid.grid.focusModule.focus();\n                addClass([this.parent.treeGrid.getRows()[tr.getAttribute('data-rowindex')].children[this.parent.ganttChartModule.childrenIndex]], 'e-focused');\n                this.parent.ganttChartModule.tempNextElement = null;\n            }\n            var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[index].getAttribute('data-uid'));\n            if (!isNullOrUndefined(row)) {\n                row.data = data;\n            }\n        }\n    };\n    ChartRows.prototype.updateResourceTaskbarElement = function (tRow, parentTr) {\n        var cloneElement = tRow.querySelector('.e-taskbar-main-container');\n        if (this.parent.viewType === 'ProjectView' && tRow.querySelector('.e-collapse-parent')) {\n            cloneElement = tRow.querySelector('.e-collapse-parent');\n        }\n        if (tRow.querySelector('.e-collapse-parent') === null) {\n            addClass([cloneElement], 'collpse-parent-border');\n        }\n        var id = tRow.querySelector('.' + cls.taskBarMainContainer).getAttribute('rowUniqueId');\n        var ganttData = this.parent.getRecordByID(id);\n        if (!(isNullOrUndefined(ganttData)) && ganttData.ganttProperties.segments && ganttData.ganttProperties.segments.length > 0) {\n            var segmentedTasks = cloneElement.getElementsByClassName('e-segmented-taskbar');\n            for (var i = 0; i < segmentedTasks.length; i++) {\n                this.triggerQueryTaskbarInfoByIndex(segmentedTasks[i], ganttData);\n            }\n        }\n        else if (this.parent.queryTaskbarInfo) {\n            var mainTaskbar = (cloneElement.querySelector('.e-gantt-child-taskbar'));\n            if (!isNullOrUndefined(mainTaskbar)) {\n                this.triggerQueryTaskbarInfoByIndex(mainTaskbar, ganttData);\n            }\n        }\n        var zIndex = '';\n        if (ganttData && !isNullOrUndefined(ganttData.ganttProperties.eOverlapIndex)) {\n            zIndex = (ganttData.ganttProperties.eOverlapIndex).toString();\n        }\n        var cloneChildElement = cloneElement.cloneNode(true);\n        cloneChildElement.style.zIndex = zIndex;\n        parentTr[0].childNodes[0].childNodes[0].childNodes[0].appendChild(cloneChildElement);\n    };\n    /**\n     * To refresh all edited records\n     *\n     * @param {IGanttData} items .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRecords = function (items, isValidateRange, isUndoRedo) {\n        if (this.parent.isGanttChartRendered) {\n            this.parent.renderTemplates();\n            if (this.parent.enableMultiTaskbar) {\n                var sortedRecords = [];\n                sortedRecords = new DataManager(items).executeLocal(new Query()\n                    .sortBy('expanded', 'Descending'));\n                items = sortedRecords;\n            }\n            for (var i = 0; i < items.length; i++) {\n                var index = void 0;\n                if (isUndoRedo) {\n                    index = this.parent.ids.indexOf(items[i].ganttProperties.taskId.toString());\n                }\n                else {\n                    index = this.parent.currentViewData.indexOf(items[i]);\n                }\n                if (!this.parent.enableMultiTaskbar ||\n                    (this.parent.enableMultiTaskbar && (items[i].expanded || !this.parent.isLoad))) {\n                    this.refreshRow(index, isValidateRange, isUndoRedo);\n                }\n            }\n            this.parent.ganttChartModule.updateLastRowBottomWidth();\n        }\n    };\n    ChartRows.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('renderPanels', this.createChartTable);\n        this.parent.off('dataReady', this.initiateTemplates);\n        this.parent.off('destroy', this.destroy);\n    };\n    ChartRows.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    ChartRows.prototype.generateAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.startDate;\n        var endDateVal = data.ganttProperties.endDate;\n        var durationVal = data.ganttProperties.duration;\n        if (data.ganttProperties.isMilestone) {\n            defaultValue = nameConstant + ' ' + taskNameVal + ' ' + startDateConstant + ' '\n                + this.parent.getFormatedDate(startDateVal);\n        }\n        else {\n            if (taskNameVal) {\n                defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n            }\n            if (startDateVal) {\n                defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n            }\n            if (endDateVal) {\n                defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n            }\n            if (durationVal) {\n                defaultValue += durationConstant + ' '\n                    + this.parent.getDurationString(durationVal, data.ganttProperties.durationUnit);\n            }\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateBaselineAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.baselineStartDate;\n        var endDateVal = data.ganttProperties.baselineEndDate;\n        defaultValue += 'Baseline' + ' ';\n        defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n        defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        return defaultValue;\n    };\n    ChartRows.prototype.generateSpiltTaskAriaLabel = function (data, ganttProp) {\n        var defaultValue = '';\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var startDateVal = data.startDate;\n        var endDateVal = data.endDate;\n        var durationVal = data.duration;\n        if (startDateVal) {\n            defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        }\n        if (endDateVal) {\n            defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        }\n        if (durationVal) {\n            defaultValue += durationConstant + ' '\n                + this.parent.getDurationString(durationVal, ganttProp.durationUnit);\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateTaskLabelAriaLabel = function (type) {\n        var label = '';\n        if (type === 'left' && this.parent.labelSettings.leftLabel && !this.leftTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('leftTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.leftLabel);\n        }\n        else if (type === 'right' && this.parent.labelSettings.rightLabel && !this.rightTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('rightTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.rightLabel);\n        }\n        return label;\n    };\n    return ChartRows;\n}(DateProcessor));\nexport { ChartRows };\n","import { isScheduledTask } from '../base/utils';\nimport { getValue, isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nvar Dependency = /** @class */ (function () {\n    function Dependency(gantt) {\n        this.parentRecord = [];\n        this.parentIds = [];\n        this.parentPredecessors = [];\n        this.validatedParentIds = [];\n        this.storeId = null;\n        this.isChildRecordValidated = [];\n        this.parent = gantt;\n        this.dateValidateModule = this.parent.dateValidationModule;\n    }\n    /**\n     * Method to populate predecessor collections in records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollection = function () {\n        var predecessorTasks = this.parent.predecessorsCollection;\n        var length = predecessorTasks.length - 1;\n        for (var count = length; count >= 0; count--) {\n            var ganttData = predecessorTasks[count];\n            var ganttProp = ganttData.ganttProperties;\n            if ((!ganttData.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.ensurePredecessorCollectionHelper(ganttData, ganttProp);\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {ITaskData} ganttProp .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollectionHelper = function (ganttData, ganttProp) {\n        var predecessorVal = ganttProp.predecessorsName;\n        if (predecessorVal && (typeof predecessorVal === 'string' || typeof predecessorVal === 'number')) {\n            this.parent.setRecordValue('predecessor', this.calculatePredecessor(predecessorVal, ganttData), ganttProp, true);\n        }\n        else if (predecessorVal && typeof predecessorVal === 'object' && predecessorVal.length) {\n            var preValues = [];\n            for (var c = 0; c < predecessorVal.length; c++) {\n                var predecessorItem = predecessorVal[c];\n                var preValue = {};\n                preValue.from = getValue('from', predecessorItem) ? getValue('from', predecessorItem) : predecessorVal[c];\n                preValue.to = getValue('to', predecessorItem) ? getValue('to', predecessorItem) : ganttProp.rowUniqueID;\n                preValue.type = getValue('type', predecessorItem) ? getValue('type', predecessorItem) : 'FS';\n                var offsetUnits = getValue('offset', predecessorItem);\n                if (isNullOrUndefined(offsetUnits)) {\n                    preValue.offset = 0;\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                else if (typeof offsetUnits === 'string') {\n                    var tempOffsetUnits = this.getOffsetDurationUnit(getValue('offset', predecessorItem));\n                    preValue.offset = tempOffsetUnits.duration;\n                    preValue.offsetUnit = tempOffsetUnits.durationUnit;\n                }\n                else {\n                    preValue.offset = parseFloat(offsetUnits.toString());\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                var isOwnParent = this.checkIsParent(preValue.from.toString());\n                if (!isOwnParent) {\n                    preValues.push(preValue);\n                }\n            }\n            this.parent.setRecordValue('predecessor', preValues, ganttProp, true);\n        }\n        this.parent.setRecordValue('predecessorsName', this.getPredecessorStringValue(ganttData), ganttProp, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n    };\n    /**\n     * To render unscheduled empty task with 1 day duration during predecessor map\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateUnscheduledDependency = function (data) {\n        var task = this.parent.taskFields;\n        var prdList = !isNullOrUndefined(data[task.dependency]) ?\n            data[task.dependency].toString().split(',') : [];\n        for (var i = 0; i < prdList.length; i++) {\n            var predId = parseInt(prdList[i], 10);\n            if (!isNaN(predId)) {\n                var predData = this.parent.getRecordByID(predId.toString());\n                var record = !isNullOrUndefined(predData) ?\n                    extend({}, {}, predData.taskData, true) : null;\n                if (!isNullOrUndefined(record) && isNullOrUndefined(record[task.startDate])\n                    && isNullOrUndefined(record[task.duration]) && isNullOrUndefined(record[task.endDate])) {\n                    record[task.duration] = 1;\n                    record[task.startDate] = this.parent.projectStartDate;\n                    this.parent.updateRecordByID(record);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {string} fromId .\n     * @returns {boolean} .\n     */\n    Dependency.prototype.checkIsParent = function (fromId) {\n        var boolValue = false;\n        var task = this.parent.connectorLineModule.getRecordByID(fromId);\n        if (task.hasChildRecords) {\n            boolValue = true;\n        }\n        return boolValue;\n    };\n    /**\n     * Get predecessor collection object from predecessor string value\n     *\n     * @param {string | number} predecessorValue .\n     * @param {IGanttData} ganttRecord .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.calculatePredecessor = function (predecessorValue, ganttRecord) {\n        var _this = this;\n        var predecessor = predecessorValue.toString();\n        var collection = [];\n        var match;\n        var values = [];\n        var offsetValue;\n        var predecessorText;\n        var parentRecords = [];\n        predecessor.split(',').forEach(function (el) {\n            var isGUId = false;\n            var firstPart;\n            var predecessorName;\n            var isAlpha = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = el.split('-');\n            var id;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = el.substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (el.includes('-')) {\n                var lastIndex = el.lastIndexOf('-');\n                var lastPart = el.substring(lastIndex + 1);\n                var lengthToSlice = void 0;\n                if (el.includes('days')) {\n                    lengthToSlice = lastPart.includes('.') ? 11 : 9;\n                }\n                else if (el.includes('day')) {\n                    lengthToSlice = lastPart.includes('.') ? 10 : 8;\n                }\n                else {\n                    lengthToSlice = 2;\n                }\n                predecessorName = el.slice(-lengthToSlice).toString();\n                if (el.includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = el.indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = el.substring(0, indexFS);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = el;\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = el.slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                offsetValue = '+';\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = el;\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = el.slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                    offsetValue = '-';\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = el.split('+');\n                    offsetValue = '+';\n                    if (el.indexOf('-') >= 0) {\n                        values = el.split('-');\n                        offsetValue = '-';\n                    }\n                }\n            }\n            match = [];\n            var ids = _this.parent.viewType === 'ResourceView' ? _this.parent.getTaskIds() : _this.parent.ids;\n            var isExist1 = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + values[0]) : ids.indexOf(values[0]);\n            if (isExist1 !== -1) {\n                match[0] = values[0];\n            }\n            else {\n                if (ids.indexOf(values[0]) === -1) {\n                    match = values[0].split(' ');\n                    if (match.length === 1) {\n                        if (match[0].indexOf(' ') !== -1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        else {\n                            match[0] = values[0].slice(0, -2);\n                            match[1] = values[0].slice(-2);\n                        }\n                    }\n                }\n                else {\n                    match[0] = values[0];\n                }\n            }\n            var isExist = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + match[0]) : ids.indexOf(match[0]);\n            /*Validate for appropriate predecessor*/\n            if (match[0] && isExist !== -1) {\n                if (match.length > 1) {\n                    var type = match[1].toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        var e = \"The provided dependency type, \" + type + \", is invalid. Please ensure that the Dependency Type is FS or FF or SS or SF\";\n                        _this.parent.trigger('actionFailure', { error: e });\n                        predecessorText = 'FS';\n                    }\n                }\n                else if (el.includes('-') && /[A-Za-z]/.test(predecessorName) && firstPart.includes('-')) {\n                    var type = el.slice(-2).toString();\n                    type.toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        predecessorText = 'FS';\n                    }\n                }\n                else {\n                    predecessorText = 'FS';\n                }\n            }\n            else {\n                return; // exit current loop for invalid id (match[0])\n            }\n            var tempOffset = values.length > 1 ? offsetValue + '' + values[1] : '0';\n            var offsetUnits = _this.getOffsetDurationUnit(tempOffset);\n            var obj = {\n                from: match[0],\n                type: predecessorText,\n                isDrawn: false,\n                to: _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                    : ganttRecord.ganttProperties.rowUniqueID.toString(),\n                offsetUnit: offsetUnits.durationUnit,\n                offset: offsetUnits.duration\n            };\n            var isOwnParent = _this.checkIsParent(match[0]);\n            if (!_this.parent.allowParentDependency) {\n                if (!isOwnParent) {\n                    collection.push(obj);\n                }\n            }\n            else {\n                var fromData = _this.parent.connectorLineModule.getRecordByID(obj.to);\n                var toData = _this.parent.connectorLineModule.getRecordByID(obj.from);\n                var isValid = void 0;\n                if (_this.parent.connectorLineEditModule && toData && fromData) {\n                    isValid = _this.parent.connectorLineEditModule.validateParentPredecessor(toData, fromData);\n                    if (isValid) {\n                        collection.push(obj);\n                        if (parentRecords.indexOf(toData) === -1 && toData.hasChildRecords && _this.parent.editModule.cellEditModule &&\n                            _this.parent.editModule.cellEditModule.isCellEdit) {\n                            parentRecords.push(extend([], [], [toData], true)[0]);\n                        }\n                    }\n                }\n                else {\n                    collection.push(obj);\n                }\n                match.splice(0);\n            }\n        });\n        if (parentRecords.length > 0 && this.parent.undoRedoModule && this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit) {\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecords;\n        }\n        var creatCollection = [];\n        collection.map(function (data) {\n            var from = data.from;\n            var to = data.to;\n            var checkColloction = [];\n            checkColloction = collection.filter(function (fdata) { return fdata.from === from && fdata.to === to; });\n            if (creatCollection.indexOf(checkColloction[checkColloction.length - 1]) === -1) {\n                creatCollection.push(checkColloction[checkColloction.length - 1]);\n            }\n        });\n        return creatCollection;\n    };\n    /**\n     * Get predecessor value as string with offset values\n     *\n     * @param {IGanttData} data .\n     * @returns {string} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorStringValue = function (data) {\n        var predecessors = data.ganttProperties.predecessor;\n        var resultString = '';\n        var temp1;\n        var match = [];\n        if (predecessors) {\n            var length_1 = predecessors.length;\n            for (var i = 0; i < length_1; i++) {\n                var currentValue = predecessors[i];\n                var temp = '';\n                var id = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId\n                    : data.ganttProperties.rowUniqueID;\n                if (currentValue.from !== id.toString()) {\n                    temp = currentValue.from + currentValue.type;\n                    if (typeof (data.ganttProperties.taskId) === 'string') {\n                        match[0] = temp.slice(0, -2);\n                        match[1] = temp.slice(-2);\n                        temp1 = match[0] + ' ' + match[1];\n                    }\n                    else {\n                        temp1 = temp;\n                    }\n                    temp = temp1;\n                    if (currentValue.offset !== 0) {\n                        temp += currentValue.offset > 0 ? ('+' + currentValue.offset + ' ') : (currentValue.offset + ' ');\n                        var multiple = currentValue.offset !== 1;\n                        if (currentValue.offsetUnit === 'day') {\n                            temp += multiple ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                        }\n                        else if (currentValue.offsetUnit === 'hour') {\n                            temp += multiple ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                        }\n                        else {\n                            temp += multiple ? this.parent.localeObj.getConstant('minutes') : this.parent.localeObj.getConstant('minute');\n                        }\n                    }\n                    if (resultString.length > 0) {\n                        resultString = resultString + ',' + temp;\n                    }\n                    else {\n                        resultString = temp;\n                    }\n                }\n            }\n        }\n        return resultString;\n    };\n    /*Get duration and duration unit value from tasks*/\n    Dependency.prototype.getOffsetDurationUnit = function (val) {\n        var duration = 0;\n        var durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        var durationUnitLabels = this.parent.durationUnitEditText;\n        if (typeof val === 'string') {\n            var values = val.match(/[^0-9]+|[0-9]+/g);\n            for (var x = 0; x < values.length; x++) {\n                values[x] = (values[x]).trim();\n            }\n            if (values[0] === '-' && values[1]) {\n                values[1] = values[0] + values[1];\n                values.shift();\n            }\n            else if (values[0] === '+') {\n                values.shift();\n            }\n            if (values[1] === '.' && !isNaN(parseInt(values[2], 10))) {\n                values[0] += values[1] + values[2];\n                values.splice(1, 2);\n            }\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0]);\n                durationUnit = values[1] ? (values[1].toLowerCase()).trim() : '';\n                if (getValue('minute', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'day';\n                }\n                else {\n                    durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n            }\n        }\n        else {\n            duration = val;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        if (isNaN(duration)) {\n            var err = 'The provided value for the offset field is invalid.Please ensure the offset field contains only valid numeric values';\n            this.parent.trigger('actionFailure', { error: err });\n            duration = 0;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n    };\n    /**\n     * Update predecessor object in both from and to tasks collection\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessors = function () {\n        var predecessorsCollection = this.parent.predecessorsCollection;\n        var ganttRecord;\n        var length = predecessorsCollection.length;\n        for (var count = 0; count < length; count++) {\n            ganttRecord = predecessorsCollection[count];\n            if ((!ganttRecord.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.updatePredecessorHelper(ganttRecord, predecessorsCollection);\n                if (!ganttRecord.ganttProperties.isAutoSchedule && this.parent.editSettings.allowEditing) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To update predecessor collection to successor tasks\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IGanttData[]} predecessorsCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessorHelper = function (ganttRecord, predecessorsCollection) {\n        var connectorsCollection = ganttRecord.ganttProperties.predecessor;\n        var successorGanttRecord;\n        var connectorCount = connectorsCollection.length;\n        predecessorsCollection = isNullOrUndefined(predecessorsCollection) ? [] : predecessorsCollection;\n        for (var i = 0; i < connectorCount; i++) {\n            var connector = connectorsCollection[i];\n            successorGanttRecord = this.parent.connectorLineModule.getRecordByID(connector.from);\n            var id = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (connector.from !== id.toString()) {\n                if (successorGanttRecord) {\n                    var predecessorCollection = void 0;\n                    if (successorGanttRecord.ganttProperties.predecessor) {\n                        predecessorCollection = (extend([], successorGanttRecord.ganttProperties.predecessor, [], true));\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        //  successorGanttRecord.ganttProperties.predecessor.push(connector);\n                    }\n                    else {\n                        predecessorCollection = [];\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        // this.parent.setRecordValue('predecessor', [], successorGanttRecord.ganttProperties, true);\n                        // successorGanttRecord.ganttProperties.predecessor.push(connector);\n                        predecessorsCollection.push(successorGanttRecord);\n                    }\n                }\n            }\n        }\n    };\n    Dependency.prototype.traverseParents = function (record) {\n        this.parent.dataOperation.updateParentItems(record);\n    };\n    /**\n     * Method to validate date of tasks with predecessor values for all records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatedRecordsDateByPredecessor = function () {\n        if (!this.parent.autoCalculateDateScheduling) {\n            return;\n        }\n        var flatData = this.parent.flatData;\n        var totLength = this.parent.flatData.length;\n        for (var count = 0; count < totLength; count++) {\n            if (flatData[count].ganttProperties.predecessorsName) {\n                this.validatePredecessorDates(flatData[count]);\n                var predecessorCollection = flatData[count].ganttProperties.predecessor;\n                if (predecessorCollection && predecessorCollection.length > 1) {\n                    for (var i = 0; i < predecessorCollection.length; i++) {\n                        var validateRecord = this.parent.getRecordByID(predecessorCollection[i].to);\n                        if (validateRecord) {\n                            this.validatePredecessorDates(validateRecord);\n                        }\n                    }\n                }\n                if (flatData[count].hasChildRecords && this.parent.editModule &&\n                    flatData[count].ganttProperties.startDate\n                    && this.parent.allowParentDependency) {\n                    this.updateChildItems(flatData[count]);\n                }\n                if (flatData[count].parentItem && !this.parent.isLoad) {\n                    var recordId = flatData[count].parentItem.taskId;\n                    this.traverseParents(this.parent.getRecordByID(recordId));\n                }\n            }\n        }\n    };\n    Dependency.prototype.updateParentPredecessor = function () {\n        if (this.parent.enablePredecessorValidation) {\n            var parentPredecessorLength = this.parentPredecessors.length;\n            for (var i = parentPredecessorLength - 1; i >= 0; i--) {\n                var item = this.parentPredecessors[i];\n                this.validatePredecessorDates(item);\n                if (item.ganttProperties.startDate) {\n                    this.updateChildItems(item);\n                }\n            }\n        }\n    };\n    /**\n     * To validate task date values with dependency\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessorDates = function (ganttRecord) {\n        if (ganttRecord.ganttProperties.predecessor) {\n            var predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            var count = void 0;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var currentTaskId_1 = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                : ganttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_1) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            for (count = 0; count < predecessors.length; count++) {\n                var predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop) {\n                    var index = void 0;\n                    if (isNullOrUndefined(record)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n                        record = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                    else if (isNullOrUndefined(parentGanttRecord)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n                        parentGanttRecord = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                }\n                if (this.parent.allowParentDependency && this.parent.isLoad && this.parentPredecessors.indexOf(ganttRecord) === -1\n                    && (ganttRecord.hasChildRecords || record.hasChildRecords)) {\n                    this.parentPredecessors.push(ganttRecord);\n                }\n                if (record.ganttProperties.isAutoSchedule || this.parent.validateManualTasksOnLinking) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                }\n            }\n        }\n    };\n    /**\n     * Method to validate task with predecessor\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @returns {void} .\n     */\n    Dependency.prototype.validateChildGanttRecord = function (parentGanttRecord, childGanttRecord) {\n        if (this.parent.editedTaskBarItem === childGanttRecord || (parentGanttRecord &&\n            isNullOrUndefined(isScheduledTask(parentGanttRecord.ganttProperties)))\n            || (childGanttRecord && isNullOrUndefined(isScheduledTask(childGanttRecord.ganttProperties)))) {\n            return;\n        }\n        if (this.parent.isInPredecessorValidation && (childGanttRecord.ganttProperties.isAutoSchedule ||\n            this.parent.validateManualTasksOnLinking)) {\n            var childRecordProperty = childGanttRecord.ganttProperties;\n            var currentTaskId_2 = this.parent.viewType === 'ResourceView' ? childRecordProperty.taskId.toString()\n                : childRecordProperty.rowUniqueID.toString();\n            var predecessorsCollection = childRecordProperty.predecessor;\n            var childPredecessor = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_2) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var startDate = this.getPredecessorDate(childGanttRecord, childPredecessor);\n            this.parent.setRecordValue('startDate', startDate, childRecordProperty, true);\n            this.parent.dataOperation.updateMappingData(childGanttRecord, 'startDate');\n            var segments = childGanttRecord.ganttProperties.segments;\n            if (isNullOrUndefined(segments) || !isNullOrUndefined(segments) && segments.length === 0) {\n                this.dateValidateModule.calculateEndDate(childGanttRecord);\n            }\n            this.parent.dataOperation.updateWidthLeft(childGanttRecord);\n            if (!this.parent.isLoad && !this.parent.isFromOnPropertyChange && childGanttRecord.parentItem &&\n                this.parent.isInPredecessorValidation &&\n                this.parent.getParentTask(childGanttRecord.parentItem).ganttProperties.isAutoSchedule) {\n                if (this.parentIds.indexOf(childGanttRecord.parentItem.uniqueID) === -1) {\n                    this.parentIds.push(childGanttRecord.parentItem.uniqueID);\n                    this.parentRecord.push(childGanttRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessorsCollection .\n     * @returns {Date} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorDate = function (ganttRecord, predecessorsCollection) {\n        var _this = this;\n        var maxStartDate;\n        var tempStartDate;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var validatedPredecessor = predecessorsCollection.filter(function (data) {\n            var id = _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (data.to === id.toString()) {\n                return data;\n            }\n            else {\n                return null;\n            }\n        });\n        if (validatedPredecessor) {\n            var length_2 = validatedPredecessor.length;\n            for (var i = 0; i < length_2; i++) {\n                var predecessor = validatedPredecessor[i];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(childGanttRecord) &&\n                    isNullOrUndefined(parentGanttRecord))) {\n                    childGanttRecord = isNullOrUndefined(childGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : childGanttRecord;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : parentGanttRecord;\n                }\n                if (childGanttRecord && parentGanttRecord) {\n                    tempStartDate =\n                        this.getValidatedStartDate(childGanttRecord.ganttProperties, parentGanttRecord.ganttProperties, predecessor);\n                }\n                if (maxStartDate === null || this.dateValidateModule.compareDates(tempStartDate, maxStartDate) === 1) {\n                    maxStartDate = tempStartDate;\n                }\n            }\n        }\n        return maxStartDate;\n    };\n    /**\n     * Get validated start date as per predecessor type\n     *\n     * @param {ITaskData} ganttProperty .\n     * @param {ITaskData} parentRecordProperty .\n     * @param {IPredecessor} predecessor .\n     * @returns {Date} .\n     */\n    Dependency.prototype.getValidatedStartDate = function (ganttProperty, parentRecordProperty, predecessor) {\n        var type = predecessor.type;\n        var offset = predecessor.offset;\n        var tempDate;\n        var returnStartDate;\n        switch (type) {\n            case 'FS':\n                tempDate = this.dateValidateModule.getValidEndDate(parentRecordProperty);\n                if (!ganttProperty.isMilestone || offset !== 0) {\n                    tempDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n            case 'FF':\n            case 'SF':\n                tempDate = type === 'FF' ? this.dateValidateModule.getValidEndDate(parentRecordProperty) :\n                    this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    tempDate = this.dateValidateModule.checkEndDate(tempDate, ganttProperty);\n                }\n                returnStartDate = this.dateValidateModule.getStartDate(tempDate, ganttProperty.duration, ganttProperty.durationUnit, ganttProperty);\n                break;\n            case 'SS':\n                tempDate = this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n        }\n        return returnStartDate;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {IPredecessor} predecessor .\n     * @param {ITaskData} record .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateDateByOffset = function (date, predecessor, record) {\n        var resultDate;\n        var offsetValue = predecessor.offset;\n        var durationUnit = predecessor.offsetUnit;\n        if (offsetValue < 0 && !isNullOrUndefined(date)) {\n            resultDate = this.dateValidateModule.getStartDate(this.dateValidateModule.checkEndDate(date, record), (offsetValue * -1), durationUnit, record, true);\n        }\n        else {\n            if (!isNullOrUndefined(date)) {\n                resultDate = this.dateValidateModule.getEndDate(date, offsetValue, durationUnit, record, false);\n            }\n            if (!record.isMilestone) {\n                resultDate = this.dateValidateModule.checkStartDate(resultDate, record);\n            }\n        }\n        return resultDate;\n    };\n    /**\n     *\n     * @param {IGanttData} records .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.createConnectorLinesCollection = function (records) {\n        var ganttRecords = records ? records : this.parent.currentViewData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth && this.parent.pdfExportModule.isPdfExport) {\n            ganttRecords = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneCurrentViewData'];\n        }\n        var recordLength = ganttRecords.length;\n        var count;\n        var ganttRecord;\n        var predecessorsCollection;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth && this.parent.pdfExportModule.isPdfExport) {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        }\n        for (count = 0; count < recordLength; count++) {\n            if (this.parent.editModule && this.parent.editModule.deletedTaskDetails.length > 0) {\n                if (ganttRecords[count].parentItem) {\n                    var parentItem = this.parent.getRecordByID(ganttRecords[count].parentItem.taskId.toString());\n                    this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), ganttRecords[count]);\n                }\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['canUpdateIndex']) {\n                ganttRecords[count].index = count;\n                if (ganttRecords[count].parentItem && this.parent.getParentTask(ganttRecords[count].parentItem)) {\n                    ganttRecords[count].parentItem.index = this.parent.getParentTask(ganttRecords[count].parentItem).index;\n                }\n            }\n            ganttRecord = ganttRecords[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                this.addPredecessorsCollection(predecessorsCollection);\n            }\n        }\n    };\n    /**\n     *\n     * @param {object[]} predecessorsCollection .\n     * @returns {void} .\n     */\n    Dependency.prototype.addPredecessorsCollection = function (predecessorsCollection) {\n        var predecessorsLength;\n        var predecessorCount;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        if (predecessorsCollection) {\n            predecessorsLength = predecessorsCollection.length;\n            for (predecessorCount = 0; predecessorCount < predecessorsLength; predecessorCount++) {\n                predecessor = predecessorsCollection[predecessorCount];\n                var from = 'from';\n                var to = 'to';\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[from]);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[to]);\n                var isValid = true;\n                if (((parentGanttRecord && parentGanttRecord.hasChildRecords && !parentGanttRecord.expanded) ||\n                    (childGanttRecord && childGanttRecord.hasChildRecords && !childGanttRecord.expanded)) &&\n                    !this.parent.allowTaskbarOverlap && this.parent.viewType === 'ProjectView') {\n                    isValid = false;\n                }\n                if (isValid && this.parent.connectorLineModule.expandedRecords &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(parentGanttRecord) !== -1 &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(childGanttRecord) !== -1) {\n                    this.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                }\n            }\n        }\n    };\n    /**\n     * To refresh connector line object collections\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor} predecessor .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateConnectorLineObject = function (parentGanttRecord, childGanttRecord, predecessor) {\n        var connectorObj = this.parent.connectorLineModule.createConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n        if (connectorObj) {\n            if (childGanttRecord.isCritical && parentGanttRecord.isCritical) {\n                connectorObj.isCritical = true;\n            }\n            if ((this.parent.connectorLineIds.length > 0 && this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) === -1) ||\n                this.parent.connectorLineIds.length === 0) {\n                this.parent.updatedConnectorLineCollection.push(connectorObj);\n                this.parent.connectorLineIds.push(connectorObj.connectorLineId);\n            }\n            else if (this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) !== -1) {\n                var index = this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId);\n                this.parent.updatedConnectorLineCollection[index] = connectorObj;\n            }\n            predecessor.isDrawn = true;\n        }\n        return connectorObj;\n    };\n    /**\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor[]} previousValue .\n     * @param {string} validationOn .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessor = function (childGanttRecord, previousValue, validationOn) {\n        if (!this.parent.isInPredecessorValidation) {\n            return;\n        }\n        if (childGanttRecord.ganttProperties.predecessor) {\n            var taskBarModule = this.parent.editModule.taskbarEditModule;\n            var ganttProp = void 0;\n            if (taskBarModule) {\n                ganttProp = taskBarModule.taskBarEditRecord;\n            }\n            var predecessorsCollection = childGanttRecord.ganttProperties.predecessor;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var predecessor = void 0;\n            var successor = void 0;\n            var currentTaskId_3 = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId.toString()\n                : childGanttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var successors = predecessorsCollection.filter(function (data) {\n                if (data.from === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var parentRec = void 0;\n            for (var count = 0; count < predecessors.length; count++) {\n                predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, predecessor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, predecessor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                var id = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId\n                    : childGanttRecord.ganttProperties.rowUniqueID;\n                if ((id.toString() === predecessor.to\n                    || id.toString() === predecessor.from)\n                    && (!validationOn || validationOn === 'predecessor')) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                        this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                    }\n                }\n            }\n            for (var count = 0; count < successors.length; count++) {\n                successor = successors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(successor.from);\n                record = this.parent.connectorLineModule.getRecordByID(successor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, successor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, successor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                if (validationOn !== 'predecessor' && this.parent.isValidationEnabled) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && record) {\n                        var rootParent = parentGanttRecord.parentItem ?\n                            this.parent.connectorLineEditModule.getRootParent(parentGanttRecord) : null;\n                        if (record.hasChildRecords && (!this.parent.editModule['editedRecord'].hasChildRecords || (!record.parentItem &&\n                            (!rootParent || (rootParent && rootParent.ganttProperties.taskId === this.parent.editModule['editedRecord'].ganttProperties.taskId)))) &&\n                            this.isValidatedParentTaskID !== record.ganttProperties.taskId) {\n                            this.updateChildItems(record);\n                            for (var i = 0; i < record.childRecords.length; i++) {\n                                var ganttProp_1 = record.childRecords[i].ganttProperties;\n                                if (this.isChildRecordValidated.indexOf(ganttProp_1.taskId) !== -1) {\n                                    return;\n                                }\n                                this.isChildRecordValidated.push(ganttProp_1.taskId);\n                                if (ganttProp_1.predecessor && ganttProp_1.predecessor.length > 0) {\n                                    for (var j = 0; j < ganttProp_1.predecessor.length; j++) {\n                                        var childRec = void 0;\n                                        if (ganttProp_1.predecessor[j].to !== record.ganttProperties.taskId.toString()) {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].to)];\n                                        }\n                                        else {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].from)];\n                                        }\n                                        if (childRec) {\n                                            this.validatePredecessor(childRec, [], '');\n                                            if (childRec.hasChildRecords && this.parent.editModule['editedRecord'].hasChildRecords) {\n                                                this.updateChildItems(childRec);\n                                            }\n                                            this.isValidatedParentTaskID = childRec.ganttProperties.taskId;\n                                        }\n                                    }\n                                }\n                            }\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                        if (this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                }\n                else if (!record.ganttProperties.isAutoSchedule && this.parent.updateOffsetOnTaskbarEdit) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](record);\n                }\n                if (parentGanttRecord.expanded === false || record.expanded === false) {\n                    if (record) {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                    continue;\n                }\n                if (record) {\n                    if (this.parent.editModule.isFirstCall) {\n                        this.storeId = JSON.parse(JSON.stringify(this.parent.ids));\n                        this.parent.editModule.isFirstCall = false;\n                    }\n                    if (this.storeId) {\n                        var index = (this.storeId.indexOf(record[this.parent.taskFields.id].toString()) !== -1) ?\n                            this.storeId.indexOf(record[this.parent.taskFields.id].toString()) : -1;\n                        if (index !== -1) {\n                            this.storeId = this.storeId.slice(0, index).concat(this.storeId.slice(index + 1));\n                            this.validatePredecessor(record, undefined, 'successor');\n                        }\n                    }\n                    else {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                }\n            }\n            if (record && !record.hasChildRecords && record.parentItem &&\n                this.validatedParentIds.indexOf(record.parentItem.taskId) === -1) {\n                this.validatedParentIds.push(record.parentItem.taskId);\n            }\n            var validUpdate = true;\n            if (record && record.hasChildRecords && this.validatedParentIds.indexOf(record.ganttProperties.taskId.toString()) !== -1) {\n                validUpdate = false;\n            }\n            if (validUpdate) {\n                if (record && record.ganttProperties.taskId !== this.isValidatedParentTaskID && ganttProp) {\n                    if ((taskBarModule.taskBarEditAction !== 'ParentDrag' && taskBarModule.taskBarEditAction !== 'ChildDrag')) {\n                        if (!ganttProp.hasChildRecords && record.hasChildRecords) {\n                            this.updateChildItems(record);\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                    if (record.parentItem) {\n                        this.parent.dataOperation.updateParentItems(record, true);\n                        var parentData = this.parent.getParentTask(record.parentItem);\n                        var index = (this.storeId && this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) !== -1) ?\n                            this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) : -1;\n                        if (parentData.ganttProperties.predecessor && parentData.ganttProperties.predecessor.length > 0 && index !== -1) {\n                            for (var i = 0; i < parentData.ganttProperties.predecessor.length; i++) {\n                                if (parentData.ganttProperties.predecessor[i].to !==\n                                    parentData.ganttProperties.taskId.toString()) {\n                                    var childRec = this.parent.flatData[this.parent.ids.indexOf(parentData.ganttProperties.predecessor[i].to)];\n                                    if (childRec && childRec.parentItem) {\n                                        this.validateChildGanttRecord(record, childRec);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n                else if (record && record.hasChildRecords && this.isValidatedParentTaskID !== record.ganttProperties.taskId && !ganttProp) {\n                    this.updateChildItems(record);\n                    this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateChildItems = function (ganttRecord) {\n        var _this = this;\n        if (ganttRecord.childRecords.length > 0 && this.validatedChildItems.length > 0) {\n            var isPresent = true;\n            isPresent = !ganttRecord.childRecords.some(function (record) {\n                return _this.validatedChildItems['includes'](record);\n            });\n            if (!isPresent) {\n                return;\n            }\n        }\n        var previousData = this.parent.previousRecords[ganttRecord.uniqueID];\n        var previousStartDate;\n        if (isNullOrUndefined(previousData) ||\n            (isNullOrUndefined(previousData) && !isNullOrUndefined(previousData.ganttProperties))) {\n            previousStartDate = new Date(ganttRecord.ganttProperties.startDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(previousData.ganttProperties.startDate)) {\n                previousStartDate = new Date(previousData.ganttProperties.startDate.getTime());\n            }\n        }\n        var currentStartDate = ganttRecord.ganttProperties.startDate;\n        var childRecords = [];\n        var validStartDate;\n        var validEndDate;\n        var calcEndDate;\n        var isRightMove;\n        var durationDiff;\n        this.getUpdatableChildRecords(ganttRecord, childRecords);\n        if (childRecords.length === 0) {\n            return;\n        }\n        if (!isNullOrUndefined(previousStartDate) && !isNullOrUndefined(currentStartDate) &&\n            previousStartDate.getTime() > currentStartDate.getTime()) {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(currentStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(previousStartDate, ganttRecord.ganttProperties);\n            isRightMove = false;\n        }\n        else {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(previousStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(currentStartDate, ganttRecord.ganttProperties);\n            isRightMove = true;\n        }\n        //Get Duration\n        if (!isNullOrUndefined(validStartDate) && !isNullOrUndefined(validEndDate) && validStartDate.getTime() >= validEndDate.getTime()) {\n            durationDiff = 0;\n        }\n        else {\n            durationDiff = this.parent.dateValidationModule.getDuration(validStartDate, validEndDate, 'minute', true, false);\n        }\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                if (durationDiff > 0) {\n                    var startDate = isScheduledTask(childRecords[i].ganttProperties) ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.startDate ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.endDate ?\n                        childRecords[i].ganttProperties.endDate : new Date(previousStartDate.toString());\n                    if (isRightMove) {\n                        calcEndDate = this.parent.dateValidationModule.getEndDate(this.parent.dateValidationModule.checkStartDate(startDate, childRecords[i].ganttProperties, childRecords[i].ganttProperties.isMilestone), durationDiff, 'minute', childRecords[i].ganttProperties, false);\n                    }\n                    else {\n                        calcEndDate = this.parent.dateValidationModule.getStartDate(this.parent.dateValidationModule.checkEndDate(startDate, childRecords[i].ganttProperties), durationDiff, 'minute', childRecords[i].ganttProperties);\n                    }\n                    this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n                else if (isNullOrUndefined(previousData)) {\n                    calcEndDate = previousStartDate;\n                    this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n            }\n        }\n        if (childRecords.length) {\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n    };\n    /**\n     * To get updated child records.\n     *\n     * @param {IGanttData} parentRecord .\n     * @param {IGanttData} childLists .\n     * @returns {void} .\n     */\n    Dependency.prototype.getUpdatableChildRecords = function (parentRecord, childLists) {\n        var childRecords = parentRecord.childRecords;\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                childLists.push(childRecords[i]);\n                if (childRecords[i].hasChildRecords) {\n                    this.getUpdatableChildRecords(childRecords[i], childLists);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} data .\n     * @param {Date} newStartDate .\n     * @returns {void} .\n     */\n    Dependency.prototype.calculateDateByRoundOffDuration = function (data, newStartDate) {\n        var ganttRecord = data;\n        var taskData = ganttRecord.ganttProperties;\n        var projectStartDate = new Date(newStartDate.getTime());\n        if (!isNullOrUndefined(taskData.endDate) && isNullOrUndefined(taskData.startDate)) {\n            var endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, null);\n            this.parent.setRecordValue('endDate', this.parent.dateValidationModule.checkEndDate(endDate, ganttRecord.ganttProperties), taskData, true);\n        }\n        else {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, false), taskData, true);\n            if (!isNullOrUndefined(taskData.duration)) {\n                this.parent.dateValidationModule.calculateEndDate(ganttRecord);\n            }\n        }\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n    };\n    Dependency.prototype.getRecord = function (parentGanttRecord, record, predecessor) {\n        var index;\n        var data;\n        if (isNullOrUndefined(record)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        else if (isNullOrUndefined(parentGanttRecord)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        return data;\n    };\n    /**\n     * Method to get validate able predecessor alone from record\n     *\n     * @param {IGanttData} record .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.getValidPredecessor = function (record) {\n        var _this = this;\n        var validPredecessor = [];\n        if (!isNullOrUndefined(record)) {\n            var recPredecessor = record.ganttProperties.predecessor;\n            if (recPredecessor && recPredecessor.length > 0) {\n                validPredecessor = recPredecessor.filter(function (value) {\n                    var id = _this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId\n                        : record.ganttProperties.rowUniqueID;\n                    return value.from !== id.toString();\n                });\n            }\n        }\n        return validPredecessor;\n    };\n    return Dependency;\n}());\nexport { Dependency };\n","import { createElement, isNullOrUndefined, isObject, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isScheduledTask } from '../base/utils';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\n/**\n * To render the connector line in Gantt\n */\nvar ConnectorLine = /** @class */ (function () {\n    function ConnectorLine(ganttObj) {\n        this.transform = '';\n        this.connectorLinePath = '';\n        this.arrowPath = '';\n        this.taskLineValue = 0;\n        this.expandedRecords = [];\n        this.parent = ganttObj;\n        this.dependencyViewContainer =\n            createElement('div', {\n                className: cls.dependencyViewContainer\n            });\n        Object.assign(this.dependencyViewContainer.style, {\n            width: '100%',\n            height: '100%',\n            zIndex: 2,\n            position: 'absolute',\n            pointerEvents: 'none'\n        });\n        this.renderer = new SvgRenderer(this.parent.element.id);\n        this.initPublicProp();\n        this.svgObject = this.renderer.createSvg({\n            id: this.parent.element.id + '_svg'\n        });\n        this.svgObject.setAttribute('height', '100%');\n        if (!this.parent.enableTimelineVirtualization) {\n            this.svgObject.setAttribute('width', '100%');\n        }\n    }\n    /**\n     * To get connector line gap.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getconnectorLineGap = function (data) {\n        var width = 0;\n        width = (data.milestoneChild ?\n            ((this.parent.chartRowsModule.milestoneMarginTop / 2) + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            ((this.parent.chartRowsModule.taskBarMarginTop / 2) + (this.parent.chartRowsModule.taskBarHeight / 2)));\n        return width;\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.initPublicProp = function () {\n        this.lineColor = this.parent.connectorLineBackground;\n        this.lineStroke = (this.parent.connectorLineWidth) > 4 ? 4 : this.parent.connectorLineWidth;\n        this.createConnectorLineTooltipTable();\n    };\n    ConnectorLine.prototype.getTaskbarMidpoint = function (isMilestone) {\n        return Math.floor(isMilestone ?\n            (this.parent.chartRowsModule.milestoneMarginTop + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            (this.parent.chartRowsModule.taskBarMarginTop + (this.parent.chartRowsModule.taskBarHeight / 2))) + 1;\n    };\n    /**\n     * To connector line object collection.\n     *\n     * @param {IGanttData} parentGanttData .\n     * @param {IGanttData} childGanttData .\n     * @param {IPredecessor}  predecessor .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineObject = function (parentGanttData, childGanttData, predecessor) {\n        var connectorObj = {};\n        var updatedRecords;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            updatedRecords = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            updatedRecords = this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport ?\n                this.parent.flatData : this.expandedRecords;\n        }\n        var parentIndex;\n        var childIndex;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var parentData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === parentGanttData.ganttProperties.taskId.toString();\n            })[0];\n            var childData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === childGanttData.ganttProperties.taskId.toString();\n            })[0];\n            parentIndex = parentData.index;\n            childIndex = childData.index;\n        }\n        else {\n            parentIndex = updatedRecords.indexOf(parentGanttData);\n            childIndex = updatedRecords.indexOf(childGanttData);\n        }\n        var parentGanttRecord = parentGanttData.ganttProperties;\n        var childGanttRecord = childGanttData.ganttProperties;\n        var currentData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.getExpandedRecords(this.parent.currentViewData);\n        }\n        connectorObj.parentIndexInCurrentView = currentData.indexOf(parentGanttData);\n        connectorObj.childIndexInCurrentView = currentData.indexOf(childGanttData);\n        var isVirtualScroll = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        if ((!isVirtualScroll && (connectorObj.parentIndexInCurrentView === -1 || connectorObj.childIndexInCurrentView === -1)) ||\n            connectorObj.parentIndexInCurrentView === -1 && connectorObj.childIndexInCurrentView === -1) {\n            return null;\n        }\n        else {\n            connectorObj.parentLeft = parentGanttRecord.isMilestone ?\n                parentGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : parentGanttRecord.left;\n            connectorObj.childLeft = childGanttRecord.isMilestone ?\n                childGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : childGanttRecord.left;\n            connectorObj.parentWidth = parentGanttRecord.width === 0 || parentGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : parentGanttRecord.width;\n            connectorObj.childWidth = childGanttRecord.width === 0 || childGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : childGanttRecord.width;\n            connectorObj.parentIndex = parentIndex;\n            connectorObj.childIndex = childIndex;\n            connectorObj.rowHeight = !isNullOrUndefined(this.parent.ganttChartModule.getChartRows()) &&\n                this.parent.ganttChartModule.getChartRows()[0] &&\n                this.parent.ganttChartModule.getChartRows()[0].getBoundingClientRect().height;\n            connectorObj.type = predecessor.type;\n            var parentId = this.parent.viewType === 'ResourceView' ? parentGanttRecord.taskId : parentGanttRecord.rowUniqueID;\n            var childId = this.parent.viewType === 'ResourceView' ? childGanttRecord.taskId : childGanttRecord.rowUniqueID;\n            connectorObj.connectorLineId = 'parent' + parentId + 'child' + childId;\n            connectorObj.milestoneParent = parentGanttRecord.isMilestone ? true : false;\n            connectorObj.milestoneChild = childGanttRecord.isMilestone ? true : false;\n            connectorObj.parentEndPoint = connectorObj.parentLeft + connectorObj.parentWidth;\n            connectorObj.childEndPoint = connectorObj.childLeft + connectorObj.childWidth;\n            if (isNullOrUndefined(isScheduledTask(parentGanttRecord)) || isNullOrUndefined(isScheduledTask(childGanttRecord))) {\n                return null;\n            }\n            else {\n                return connectorObj;\n            }\n        }\n    };\n    /**\n     * To render connector line.\n     *\n     * @param {IConnectorLineObject} connectorLinesCollection .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.renderConnectorLines = function (connectorLinesCollection) {\n        var connectorLine = '';\n        var ariaConnector = [];\n        for (var index = 0; index < connectorLinesCollection.length; index++) {\n            connectorLine = connectorLine + this.getConnectorLineTemplate(connectorLinesCollection[index]);\n            ariaConnector.push(connectorLinesCollection[index]);\n        }\n        this.svgObject.innerHTML = connectorLine;\n        var childNodes = this.parent.connectorLineModule.svgObject.childNodes;\n        for (var i = 0; i < childNodes.length; i++) {\n            var innerChild = childNodes[i].childNodes;\n            for (var j = 0; j < innerChild.length; j++) {\n                var ariaString = 'Connector Line ' + this.parent.connectorLineModule.generateAriaLabel(ariaConnector[i]);\n                innerChild[j].setAttribute('aria-label', ariaString);\n                innerChild[j].setAttribute('role', 'img');\n            }\n        }\n        this.parent.ganttChartModule.chartBodyContent.insertBefore(this.dependencyViewContainer, this.parent.ganttChartModule.chartBodyContent.lastChild);\n        this.dependencyViewContainer.appendChild(this.svgObject);\n        for (var i = 0; i < this.svgObject.children.length; i++) {\n            this.svgObject.children[i].children[0].setAttribute('tabindex', '-1');\n        }\n    };\n    /**\n     * To get parent position.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getParentPosition = function (data) {\n        if (data.parentIndex < data.childIndex) {\n            if (data.type === 'FF') {\n                if ((data.childLeft + data.childWidth) >= (data.parentLeft + data.parentWidth)) {\n                    return 'FFType2';\n                }\n                else {\n                    return 'FFType1';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth + 25))) {\n                if (data.type === 'FS') {\n                    return 'FSType1';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'FF') {\n                    return 'FFType2';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if (data.parentLeft > (data.childLeft + data.childWidth + 25)) {\n                    if (data.type === 'SF') {\n                        return 'SFType2';\n                    }\n                }\n                if (data.parentLeft > data.childLeft) {\n                    if (data.type === 'SS') {\n                        return 'SSType1';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType1';\n                    }\n                    if (data.type === 'FF') {\n                        return 'FFType1';\n                    }\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType2';\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'FF') {\n                    return 'FFType1';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n            else if ((data.parentLeft) < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'FF') {\n                    return 'FFType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n        }\n        else if (data.parentIndex > data.childIndex) {\n            if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth))) {\n                if (data.type === 'FS') {\n                    if (30 >= (data.childLeft - (data.milestoneParent ?\n                        (data.parentLeft + data.parentWidth + 4) : (data.parentLeft + data.parentWidth)))) {\n                        return 'FSType3';\n                    }\n                    else {\n                        return 'FSType4';\n                    }\n                }\n                if (data.parentLeft < data.childLeft || ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth))) {\n                    if (data.type === 'SS') {\n                        return 'SSType4';\n                    }\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                    // eslint-disable-next-line\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if ((data.childLeft + data.childWidth) <= (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType3';\n                    }\n                    if (data.type === 'SF') {\n                        if ((data.childLeft + data.childWidth + 25) < (data.parentLeft)) {\n                            return 'SFType3';\n                        }\n                        else {\n                            return 'SFType4';\n                        }\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n            }\n            else if (data.parentLeft < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n                if (data.type === 'SS') {\n                    return 'SSType4';\n                }\n                if (data.type === 'FF') {\n                    return 'FFType4';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType4';\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * To get line height.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getHeightValue = function (data) {\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            return (data.parentIndex * this.parent.rowHeight) > (data.childIndex * this.parent.rowHeight) ?\n                ((data.parentIndex * this.parent.rowHeight) - (data.childIndex * this.parent.rowHeight)) :\n                ((data.childIndex * this.parent.rowHeight) - (data.parentIndex * this.parent.rowHeight));\n        }\n        else {\n            return (data.parentIndex * data.rowHeight) > (data.childIndex * data.rowHeight) ?\n                ((data.parentIndex * data.rowHeight) - (data.childIndex * data.rowHeight)) :\n                ((data.childIndex * data.rowHeight) - (data.parentIndex * data.rowHeight));\n        }\n    };\n    /**\n     * To get sstype2 inner element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementWidthSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    /**\n     * To get sstype2 inner element left.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementLeftSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return (data.parentLeft - 20);\n        }\n        return (data.parentLeft - 10);\n    };\n    /**\n     * To get sstype2 inner child element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerChildWidthSSType2 = function (data) {\n        if ((data.parentLeft + data.parentWidth) < data.childLeft) {\n            return 10;\n        }\n        if (data.parentLeft === data.childLeft) {\n            return 20;\n        }\n        if ((data.parentLeft + data.parentWidth) >= data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    ConnectorLine.prototype.getBorderStyles = function (cssType, unit) {\n        var borderWidth = 'border-' + cssType + '-width:' + unit + 'px;';\n        var borderStyle = 'border-' + cssType + '-style:solid;';\n        var borderColor = !isNullOrUndefined(this.lineColor) ? 'border-' + cssType + '-color:' + this.lineColor + ';' : '';\n        return (borderWidth + borderStyle + borderColor);\n    };\n    /**\n     * To get connector line template.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTemplate = function (data) {\n        var setInnerChildWidthSSType2 = this.getInnerChildWidthSSType2(data);\n        var setInnerElementWidthSSType2 = this.getInnerElementWidthSSType2(data);\n        var setInnerElementLeftSSType2 = this.getInnerElementLeftSSType2(data);\n        var height = this.getHeightValue(data);\n        var isMilestoneParent = data.milestoneParent ? true : false;\n        var isMilestone = data.milestoneChild ? true : false;\n        var isVirtual = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        var connectorLine = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPosition = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPositionHeight = rowPosition.top;\n        var isMilestoneValue = 0;\n        if (this.parent.renderBaseline) {\n            isMilestoneValue = (data.milestoneParent && data.milestoneChild) ? 0 : data.milestoneParent ? -5 : data.milestoneChild ? 5 : 0;\n        }\n        var heightValue = isVirtual ? connectorLine.height : (height + isMilestoneValue);\n        var borderTopWidth = 0;\n        var addTop = 0;\n        var parentOverlapTopValue = 0;\n        var childOverlapTopValue = 0;\n        var count = 0;\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.getRowByIndex(i).style.display !== 'none') {\n                    if (count < data.parentIndex) {\n                        count++;\n                        parentOverlapTopValue = parentOverlapTopValue + this.parent.getRowByIndex(i).offsetHeight;\n                    }\n                }\n            }\n            count = 0;\n            for (var j = 0; j < this.parent.currentViewData.length; j++) {\n                if (this.parent.getRowByIndex(j).style.display !== 'none') {\n                    if (count < data.childIndex) {\n                        count++;\n                        childOverlapTopValue = childOverlapTopValue + this.parent.getRowByIndex(j).offsetHeight;\n                    }\n                }\n            }\n            if (!this.parent.enableVirtualization) {\n                heightValue = Math.abs(parentOverlapTopValue - childOverlapTopValue);\n            }\n        }\n        if (this.parent.currentViewData[data.parentIndex] && this.parent.currentViewData[data.childIndex] &&\n            this.parent.allowParentDependency) {\n            var fromRecordIsParent = this.parent.currentViewData[data.parentIndex].hasChildRecords;\n            var toRecordIsParent = this.parent.currentViewData[data.childIndex].hasChildRecords;\n            var fromRecordIsManual = this.parent.currentViewData[data.parentIndex].ganttProperties.isAutoSchedule;\n            var toRecordIsManual = this.parent.currentViewData[data.childIndex].ganttProperties.isAutoSchedule;\n            var isValid = true;\n            if (((fromRecordIsParent && fromRecordIsManual) && !toRecordIsParent) || ((toRecordIsParent && toRecordIsManual) &&\n                !fromRecordIsParent) || (fromRecordIsParent && fromRecordIsManual && toRecordIsManual && toRecordIsParent)\n                || (!fromRecordIsParent && !toRecordIsParent)) {\n                isValid = false;\n            }\n            if (isValid) {\n                if (((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    addTop = -11;\n                }\n                else if (!((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    if (data.childIndex > data.parentIndex) {\n                        if (!fromRecordIsParent && toRecordIsParent) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                    else {\n                        if ((fromRecordIsParent && !toRecordIsParent)) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                }\n                if (this.parent.currentViewData[data.parentIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = -11;\n                        borderTopWidth = 12;\n                    }\n                    else if (data.type === 'SS' || data.type === 'FF') {\n                        addTop = -5;\n                    }\n                }\n                else if (this.parent.currentViewData[data.childIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = 5;\n                        borderTopWidth = -10;\n                    }\n                    else if (data.parentIndex < data.childIndex) {\n                        if (data.type === 'SS' || data.type === 'FF') {\n                            addTop = -10;\n                        }\n                    }\n                }\n                else {\n                    if (data.parentIndex < data.childIndex && fromRecordIsManual && !toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                    else if (data.childIndex < data.parentIndex && !fromRecordIsManual && toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                }\n            }\n        }\n        if (this.getParentPosition(data)) {\n            // Create the group element\n            this.transform = this.parent.enableRtl ? \"translate(\" + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + \", 0) scale(-1, 1)\" : '';\n            this.connectorId = 'ConnectorLine' + data.connectorLineId;\n            this.groupObject = this.renderer.createGroup({\n                id: this.connectorId,\n                transform: this.transform,\n                style: 'pointer-events: stroke',\n                class: cls.connectorLineContainer\n            });\n            //  Create the path element for the connector line\n            this.connectorPath = this.renderer.drawPath({\n                class: cls.connectorLineSVG,\n                d: this.connectorLinePath,\n                fill: 'transparent',\n                'stroke-width': 1\n            });\n            // Create the path element for the arrow\n            this.arrowlinePath = this.renderer.drawPath({\n                d: this.arrowPath,\n                class: cls.connectorLineArrow\n            });\n            var outlineColor = (this.lineColor) && !(this.parent.enableCriticalPath) ? this.lineColor : '';\n            this.connectorPath.setAttribute('style', \"stroke: \" + outlineColor);\n            this.arrowlinePath.setAttribute('style', \"fill: \" + outlineColor);\n            // Append the path element to the group element\n            this.groupObject.appendChild(this.connectorPath);\n            this.groupObject.appendChild(this.arrowlinePath);\n            if (this.getParentPosition(data) === 'FSType1') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneParent ? -1 : (data.milestoneChild ? -1 : 0));\n                this.x2 = data.milestoneParent ?\n                    ((((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10) + 1) :\n                    (((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2) + ' ' + (this.y1 + this.y2) +\n                    ' L ' + (this.x1 + this.x2 + 12) + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + (this.x1 + this.x2 + 20) + ' ' + (this.y1 + this.y2) +\n                    ' L ' + (this.x1 + this.x2 + 12) + ' ' + (this.y1 + this.y2 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + this.x2 + 12) + ' ' + (this.y1 + this.y2 + 4) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType2') {\n                this.x1 = data.parentLeft;\n                this.x2 = data.parentWidth + (data.milestoneParent ? -1 : 0);\n                this.x3 = this.x2 + (data.milestoneParent ? 11 : 10);\n                this.x4 = data.parentWidth - ((data.parentEndPoint - data.childLeft) + 20);\n                this.y1 = (this.parent.enableVirtualization ?\n                    rowPositionHeight : ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                    (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.y2 = heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = (!this.parent.allowTaskbarOverlap ? childOverlapTopValue :\n                    (this.y1 + this.y2 - ((this.y1 + this.y2) % data.rowHeight)));\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' ' + ' L ' + (this.x1 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x3) + ' ' + this.y4 +\n                    ' L ' + (this.x1 + this.x4) + ' ' + this.y4 + ' L ' + (this.x1 + this.x4) + ' ' + (this.y1 + this.y2 + this.y3) + ' L ' + (this.x1 + this.x4 + 12) + ' ' + (this.y1 + this.y2 + this.y3);\n                this.arrowPath = 'M ' + (this.x1 + this.x4 + 20) + ' ' + (this.y1 + this.y2 + this.y3) +\n                    ' L ' + (this.x1 + this.x4 + 12) + ' ' + (this.y1 + this.y2 + this.y3 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + this.x4 + 12) + ' ' + (this.y1 + this.y2 + this.y3 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType3') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.point1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? childOverlapTopValue :\n                        (data.childIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x1 = (data.childLeft + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0)) - 20;\n                this.x2 = (data.parentEndPoint - data.childLeft) + 30;\n                this.y1 = this.point1 + (this.parent.renderBaseline ?\n                    (data.milestoneChild && !(data.milestoneParent) ? 11 :\n                        data.milestoneParent && !(data.milestoneChild) ? -12 : 0) : 0);\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke +\n                    this.taskLineValue;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                this.connectorLinePath = 'M ' + (this.x1 + 12) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y4 + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 + this.y3) + ' L ' + (this.x1 + this.x2 - 12) + ' ' + (this.y2 + this.y3);\n                this.arrowPath = 'M ' + (this.x1 + 20) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + 12) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + 12) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType4') {\n                this.point1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0);\n                this.x2 = data.childLeft - data.parentEndPoint - 20;\n                this.y1 = this.point1 + (data.milestoneChild ? -1 : 0);\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.lineStroke + 1 + this.taskLineValue +\n                    (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -12 :\n                        data.milestoneParent && !(data.milestoneChild) ? 11 : 0) : 0);\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 12) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2) + ' ' + this.y2 +\n                    ' L ' + this.x1 + ' ' + this.y2;\n                this.arrowPath = 'M ' + (this.x1 + this.x2 + 20) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + this.x2 + 12) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + this.x2 + 12) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType4') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth;\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x1 = data.parentLeft - 10;\n                this.x2 = data.childLeft - data.parentLeft;\n                this.y1 = this.point2 + (data.milestoneChild ? 1 : 0);\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneParent && !(data.milestoneChild) ? 10 :\n                    data.milestoneChild && !(data.milestoneParent) ? -13 : 0) : 0);\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + this.y2 + ' L ' + (this.x1 + 10) + ' ' + this.y2;\n                this.arrowPath = 'M ' + (this.x1 + this.x2 + 8) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + this.x2) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + this.x2) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType3') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - (this.lineStroke - 1);\n                this.x1 = data.childLeft - 20;\n                this.y1 = (data.milestoneChild ? 1 : 0) + (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -11 :\n                    data.milestoneParent && !(data.milestoneChild) ? 10 : 0) : 0);\n                this.connectorLinePath = 'M ' + (this.x1 + 12) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + this.y2 + ' L ' + (this.x1 + this.x2) + ' ' + this.y2;\n                this.arrowPath = 'M ' + (this.x1 + 20) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + 12) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + 12) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType2') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = setInnerElementLeftSSType2;\n                this.x2 = setInnerChildWidthSSType2 + 1;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + this.y2 +\n                    ' L ' + (this.x1 + setInnerElementWidthSSType2) + ' ' + this.y2;\n                this.arrowPath = 'M ' + (this.x1 + setInnerElementWidthSSType2 + 8) + ' ' + (this.y2) +\n                    ' L ' + (this.x1 + setInnerElementWidthSSType2) + ' ' + (this.y2 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + setInnerElementWidthSSType2) + ' ' + (this.y2 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType1') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = data.childLeft - 20;\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + this.y2 +\n                    ' L ' + (this.x1 + 12) + ' ' + this.y2;\n                this.arrowPath = 'M ' + (this.x1 + 20) + ' ' + (this.y2) +\n                    ' L ' + (this.x1 + 12) + ' ' + (this.y2 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + 12) + ' ' + (this.y2 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType1') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.childEndPoint;\n                this.x2 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.x3 = data.milestoneParent ? 22 : 21;\n                this.x4 = data.milestoneChild ? 4 : 8;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1 + this.y2) +\n                    ' L ' + (this.x1 + this.x4) + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + this.x1 + ' ' + (this.y1 + this.y2) +\n                    ' L ' + (this.x1 + 8) + ' ' + (this.y1 + this.y2 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + 8) + ' ' + (this.y1 + this.y2 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType2') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneParent ? 22 : 21);\n                this.x3 = data.childEndPoint + (data.milestoneChild ? 9 : 8);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(data.milestoneParent) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + (this.y1 + this.y2) +\n                    ' L ' + this.x3 + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + (this.x3 - 8) + ' ' + (this.y1 + this.y2) +\n                    ' L ' + this.x3 + ' ' + (this.y1 + this.y2 - (4 + this.lineStroke)) +\n                    ' L ' + this.x3 + ' ' + (this.y1 + this.y2 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType3') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 4 : 8);\n                this.x3 = data.parentEndPoint - data.childEndPoint + (data.milestoneChild ? 16 : 10);\n                this.x4 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + (this.parent.renderBaseline ?\n                    (data.milestoneParent && !(data.milestoneChild) ? 10 : data.milestoneChild && !(data.milestoneParent) ? -11 : 0) : 0);\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1 + this.y2) +\n                    ' L ' + this.x4 + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + 8) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + 8) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType4') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneChild ? 7 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 12 : 11);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth + (this.parent.renderBaseline ?\n                    (data.milestoneParent && !(data.milestoneChild) ? 10 :\n                        data.milestoneChild && !(data.milestoneParent) ? -12 : 0) : 0) - this.lineStroke + 1;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1 + this.y2) +\n                    ' L ' + this.x1 + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + (this.x2 - 8) + ' ' + (this.y1) +\n                    ' L ' + this.x2 + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + this.x2 + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType4') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? -1 : 0);\n                this.point1 = (this.taskLineValue + heightValue + borderTopWidth - this.getconnectorLineGap(data) - (this.lineStroke - 1));\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x1 = data.parentLeft - 10;\n                this.x2 = this.x1 + ((data.childEndPoint - data.parentLeft) + 18);\n                this.x3 = this.x2 + (data.milestoneChild ? 16 : 11);\n                this.y1 = this.point2 + (data.milestoneChild ? 2 : 0) + (this.parent.renderBaseline ? (data.milestoneParent ? -5 : 0) : 0);\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -9 :\n                    data.milestoneParent && !(data.milestoneChild) ? 9 : 0) : 0);\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + this.y4 + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + this.x1 + ' ' + (this.y2 + this.y3) + ' L ' + (this.x1 + 11) + ' ' + (this.y2 + this.y3);\n                this.arrowPath = 'M ' + (this.x2 - 8) + ' ' + (this.y1) +\n                    ' L ' + this.x2 + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + this.x2 + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType3') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = (data.parentLeft - (data.childEndPoint + (data.milestoneParent ? 23 : 20))) + 1;\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 9 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 17 : 11);\n                this.y1 = this.point2;\n                this.y2 = this.y1 + heightValue + borderTopWidth - (this.lineStroke - 1) + this.taskLineValue +\n                    (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -12 :\n                        data.milestoneParent && !(data.milestoneChild) ? 10 : 0) : 0);\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) +\n                    ' L ' + this.x3 + ' ' + this.y2 + ' L ' + (this.x3 + this.point1) + ' ' + this.y2;\n                this.arrowPath = 'M ' + (this.x2 - 8) + ' ' + (this.y1) +\n                    ' L ' + this.x2 + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + this.x2 + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType1') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + borderTopWidth - this.getconnectorLineGap(data) + this.taskLineValue - this.lineStroke;\n                this.point2 = this.getconnectorLineGap(data);\n                this.x1 = data.parentLeft - 10;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x2 = (data.childEndPoint - data.parentLeft) + 31;\n                this.y2 = this.y1 + this.point1;\n                this.x3 = (data.childEndPoint - data.parentLeft) + 18;\n                this.y3 = this.y2 - (this.y2 % data.rowHeight);\n                this.connectorLinePath = 'M ' + (this.x1 + 11) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + this.y3 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y3 + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 + this.point2) + ' L ' + (this.x1 + this.x3) + ' ' + (this.y2 + this.point2);\n                this.arrowPath = 'M ' + (this.x1 + this.x3 - 8) + ' ' + (this.y2 + this.point2) +\n                    ' L ' + (this.x1 + this.x3) + ' ' + (this.y2 + this.point2 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + this.x3) + ' ' + (this.y2 + this.point2 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType2') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.x2 = (data.parentLeft - data.childEndPoint);\n                this.y2 = this.y1 + heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 1) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2 - 10) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + this.x2 - 10) + ' ' + this.y2 + ' L ' + (this.x1 + 8) + ' ' + this.y2;\n                this.arrowPath = 'M ' + this.x1 + ' ' + (this.y2) +\n                    ' L ' + (this.x1 + 8) + ' ' + (this.y2 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + 8) + ' ' + (this.y2 + 4 + this.lineStroke) + ' Z';\n            }\n            this.connectorPath.setAttribute('d', this.connectorLinePath);\n            this.arrowlinePath.setAttribute('d', this.arrowPath);\n        }\n        return this.groupObject.outerHTML;\n    };\n    /**\n     * @param {IConnectorLineObject} data .\n     * @param {string} type .\n     * @param {number} heightValue .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getPosition = function (data, type, heightValue) {\n        var topPosition = 0;\n        var lineHeight = 0;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var isMilestoneParent = data.milestoneParent ? true : false;\n            var isMilestone = data.milestoneChild ? true : false;\n            var midPointParent = this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1);\n            var midPoint = this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1);\n            var isParentIndex = data.parentIndexInCurrentView !== -1;\n            var isChildIndex = data.childIndexInCurrentView !== -1;\n            var lastRowIndex = this.parent.currentViewData.length - 1;\n            if (type === 'SSType1' || type === 'SSType2' || type === 'FFType1' || type === 'FFType2' || type === 'SFType2') {\n                topPosition = isParentIndex ? (data.parentIndexInCurrentView * data.rowHeight) + midPointParent : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                    (data.childIndexInCurrentView * data.rowHeight) + midPointParent : (lastRowIndex * data.rowHeight) + midPointParent;\n            }\n            else if (type === 'SSType3' || type === 'SSType4' || type === 'FSType4' || type === 'FFType3' ||\n                type === 'FFType4' || type === 'SFType4' || type === 'SFType3') {\n                topPosition = isChildIndex ? (data.childIndexInCurrentView * data.rowHeight) + midPoint : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                    (data.parentIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPoint;\n            }\n            else if (type === 'FSType3') {\n                topPosition = isChildIndex ? (data.childIndexInCurrentView * data.rowHeight) + midPointParent : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                    (data.parentIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPointParent;\n            }\n            else if (type === 'SFType1' || type === 'FSType1' || type === 'FSType2') {\n                topPosition = isParentIndex ? (data.parentIndexInCurrentView * data.rowHeight) + midPoint : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                    (data.childIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPoint;\n            }\n        }\n        return { top: topPosition, height: lineHeight };\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineTooltipTable = function () {\n        this.tooltipTable = createElement('table', { className: '.e-tooltiptable', styles: 'margin-top:0px', attrs: { 'cellspacing': '2px', 'cellpadding': '2px' } });\n        var tooltipBody = createElement('tbody');\n        tooltipBody.innerHTML = '';\n        this.tooltipTable.appendChild(tooltipBody);\n    };\n    /**\n     * @param {string} fromTaskName .\n     * @param {string} fromPredecessorText .\n     * @param {string} toTaskName .\n     * @param {string} toPredecessorText .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTooltipInnerTd = function (fromTaskName, fromPredecessorText, toTaskName, toPredecessorText) {\n        var innerTd = '<tr  id=\"fromPredecessor\"><td style=\"padding: 2px;\">' + this.parent.localeObj.getConstant('from') + '</td><td> ';\n        innerTd = innerTd + fromTaskName + ' </td><td style=\"padding: 2px;\"> ' + this.parent.localeObj.getConstant(fromPredecessorText) + ' </td> </tr>';\n        innerTd = innerTd + '<tr id=\"toPredecessor\"><td style=\"padding: 2px;\">' + this.parent.localeObj.getConstant('to') + '</td><td> ' + toTaskName;\n        innerTd = innerTd + ' </td><td style=\"padding: 2px;\"> ' + this.parent.localeObj.getConstant(toPredecessorText) + ' </td></tr></tbody><table>';\n        return innerTd;\n    };\n    /**\n     * Generate aria-label for connectorline\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.generateAriaLabel = function (data) {\n        var type = data.type;\n        var updatedRecords = this.expandedRecords;\n        var fromName = updatedRecords[data.parentIndex].ganttProperties.taskName;\n        var toName = updatedRecords[data.childIndex].ganttProperties.taskName;\n        var start = this.parent.localeObj.getConstant('start');\n        var finish = this.parent.localeObj.getConstant('finish');\n        var value = '';\n        if (type === 'FS') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + start;\n        }\n        else if (type === 'FF') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + finish;\n        }\n        else if (type === 'SS') {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + start;\n        }\n        else {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + finish;\n        }\n        return value;\n    };\n    /**\n     * To get the record based on the predecessor value\n     *\n     * @param {string} id .\n     * @returns {IGanttData} .\n     * @private\n     */\n    ConnectorLine.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var a = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'].filter(function (data) {\n                return data.ganttProperties.taskId.toString() === id.toString();\n            })[0];\n            return a;\n        }\n        else {\n            return this.parent.viewType === 'ResourceView' ? this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id.toString())] :\n                this.parent.flatData[this.parent.ids.indexOf(id.toString())];\n        }\n    };\n    /**\n     * Method to remove connector line from DOM\n     *\n     * @param {IGanttData[] | object} records .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removePreviousConnectorLines = function (records) {\n        var isObjectType;\n        if (isObject(records) === true) {\n            isObjectType = true;\n        }\n        else {\n            isObjectType = false;\n        }\n        var length = isObjectType ? Object.keys(records).length : records.length;\n        var keys = Object.keys(records);\n        for (var i = 0; i < length; i++) {\n            var data = void 0;\n            if (isObjectType) {\n                var uniqueId = keys[i];\n                data = records[uniqueId];\n            }\n            else {\n                data = records[i];\n            }\n            var predecessors = data.ganttProperties && data.ganttProperties.predecessor;\n            if (predecessors && predecessors.length > 0) {\n                for (var pre = 0; pre < predecessors.length; pre++) {\n                    var lineId = 'parent' + predecessors[pre].from + 'child' + predecessors[pre].to;\n                    this.removeConnectorLineById(lineId);\n                }\n            }\n        }\n    };\n    /**\n     * @param {string} id .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removeConnectorLineById = function (id) {\n        var element = this.parent.connectorLineModule.dependencyViewContainer.querySelector('#ConnectorLine' + id);\n        if (!isNullOrUndefined(element)) {\n            remove(element);\n        }\n    };\n    return ConnectorLine;\n}());\nexport { ConnectorLine };\n","import { createElement, isNullOrUndefined, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { Splitter as SplitterLayout } from '@syncfusion/ej2-layouts';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * Splitter module is used to define the splitter position in Gantt layout.\n */\nvar Splitter = /** @class */ (function () {\n    function Splitter(ganttObj) {\n        this.parent = ganttObj;\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.renderSplitter = function () {\n        var _this = this;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.parent.splitterElement = createElement('div', { className: cls.splitter });\n        this.parent.treeGridPane = createElement('div', { className: cls.treeGridPane });\n        this.parent.chartPane = createElement('div', { className: cls.ganttChartPane });\n        addClass([this.parent.chartPane], 'e-droppable');\n        if (this.parent.enableRtl) {\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n        }\n        else {\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n        }\n        this.splitterObject = new SplitterLayout({\n            height: null,\n            width: this.parent.ganttWidth.toString(),\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl,\n            separatorSize: this.parent.splitterSettings.separatorSize,\n            paneSettings: [\n                {\n                    resizable: true,\n                    size: splitterPosition,\n                    min: this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum)\n                },\n                {\n                    resizable: true\n                }\n            ],\n            orientation: 'Horizontal',\n            resizeStart: function (args) {\n                if (_this.parent.contextMenuModule && _this.parent.contextMenuModule.isOpen) {\n                    _this.parent.contextMenuModule.contextMenu.close();\n                }\n                var leftPane = args.pane[0];\n                var rightPane = args.pane[1];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterPreviousPositionChart = rightPane.scrollWidth + 1 + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResizeStart', args, function (resizeStartArgs) {\n                    callBackPromise.resolve(resizeStartArgs);\n                });\n                return callBackPromise;\n            },\n            resizing: function (args) {\n                _this.parent.trigger('splitterResizing', args);\n                if (_this.parent.timelineModule.isZoomToFit) {\n                    _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                }\n            },\n            resizeStop: function (args) {\n                _this.parent['calculateDimensions']();\n                var leftPane = args.pane[0];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                _this.splitterObject.paneSettings[1].size = (_this.parent.ganttWidth - parseInt(_this.splitterPreviousPositionGrid, 10) - 4) + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResized', args, function (splitterResizedArgs) {\n                    if (splitterResizedArgs.cancel === true) {\n                        _this.splitterObject.paneSettings[0].size = null;\n                        _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                        _this.splitterObject.paneSettings[1].size = null;\n                        _this.splitterObject.paneSettings[1].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionChart);\n                    }\n                    if (isNullOrUndefined(_this.parent.projectEndDate)) {\n                        _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                    }\n                    callBackPromise.resolve(splitterResizedArgs);\n                });\n                return callBackPromise;\n            }\n        });\n        this.parent.element.appendChild(this.parent.splitterElement);\n        this.splitterObject.appendTo(this.parent.splitterElement);\n        var splitterLeftPane = this.splitterObject.element.querySelector('.e-split-bar');\n        if (splitterLeftPane) {\n            var numericValue = parseFloat(splitterPosition.replace('%', ''));\n            var ariaValueNow = Math.min(100, Math.max(0, numericValue));\n            splitterLeftPane.setAttribute('aria-valuenow', ariaValueNow.toString());\n        }\n    };\n    /**\n     * @param {SplitterSettingsModel} splitter .\n     * @returns {string} .\n     * @private\n     */\n    Splitter.prototype.calculateSplitterPosition = function (splitter) {\n        if (!isNullOrUndefined(this.splitterObject) && this.parent.enablePersistence) {\n            return this.splitterObject.paneSettings[0].size;\n        }\n        if (splitter.view === 'Grid') {\n            return this.parent.enableRtl ? '0%' : '100%';\n        }\n        else if (splitter.view === 'Chart') {\n            return this.parent.enableRtl ? '100%' : '0%';\n        }\n        else {\n            if (!isNullOrUndefined(splitter.position) && splitter.position !== '') {\n                return this.getSpliterPositionInPercentage(splitter.position);\n            }\n            else if (!isNullOrUndefined(splitter.columnIndex) && splitter.columnIndex >= 0) {\n                if ((splitter.columnIndex * 150) < this.parent.ganttWidth || !this.parent.element.classList.contains('e-device')) {\n                    return this.getSpliterPositionInPercentage(this.getTotalColumnWidthByIndex(splitter.columnIndex).toString() + 'px');\n                }\n                else {\n                    return this.getSpliterPositionInPercentage((splitter.columnIndex * 130) + 'px');\n                }\n            }\n            else {\n                var ganttWidth = this.parent.ganttWidth;\n                var width = ganttWidth - 250;\n                var widthAsString = width + 'px';\n                return (this.parent.enableRtl) ? this.getSpliterPositionInPercentage(widthAsString) : this.getSpliterPositionInPercentage('250px');\n            }\n        }\n    };\n    /**\n     * @param {string} position .\n     * @returns {string} .\n     */\n    Splitter.prototype.getSpliterPositionInPercentage = function (position) {\n        var value = !isNullOrUndefined(position) && position !== '' ? position : null;\n        if (!isNullOrUndefined(value)) {\n            if (position.indexOf('px') !== -1) {\n                var intValue = parseInt(position, 10);\n                value = (((intValue / this.parent.ganttWidth) * 100) <= 100 ? ((intValue / this.parent.ganttWidth) * 100) + '%' :\n                    '25%');\n            }\n            else {\n                if (this.parent.enableRtl) {\n                    var newPosition = 100 - parseFloat(position);\n                    value = newPosition + '%';\n                }\n                else {\n                    value = position.indexOf('%') === -1 ?\n                        position + '%' : position;\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * @param {number} index .\n     * @returns {number} .\n     */\n    Splitter.prototype.getTotalColumnWidthByIndex = function (index) {\n        var width = 0;\n        var ganttWidth = this.parent.ganttWidth;\n        var originalArray = this.parent.ganttColumns;\n        var newArray = originalArray.filter(function (obj) { return obj.visible === undefined || obj.visible === true; });\n        var deepCopiedArray = newArray.map(function (obj) { return Object.assign({}, obj); });\n        var tr = deepCopiedArray;\n        index = tr.length > index ? index : tr.length;\n        if (this.parent.enableRtl) {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n            width = ganttWidth - width;\n        }\n        else {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n        }\n        return width;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.updateSplitterPosition = function () {\n        this.splitterObject.separatorSize = this.parent.splitterSettings.separatorSize >= 4 ?\n            this.parent.splitterSettings.separatorSize : 4;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.splitterObject.paneSettings[0].min = this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum);\n        this.splitterObject.dataBind();\n        this.splitterObject.paneSettings[0].size = splitterPosition;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.triggerCustomResizedEvent = function () {\n        var pane1 = this.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterObject.element.querySelectorAll('.e-pane')[1];\n        var eventArgs = {\n            event: null,\n            element: this.splitterObject.element,\n            pane: [pane1, pane2],\n            index: [0, 1],\n            separator: this.splitterObject.element.querySelector('.e-split-bar'),\n            paneSize: [pane1.offsetWidth, pane2.offsetWidth]\n        };\n        this.parent.trigger('splitterResized', eventArgs);\n        if (eventArgs.cancel === true) {\n            this.splitterObject.paneSettings[0].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionGrid);\n            this.splitterObject.paneSettings[1].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionChart);\n        }\n    };\n    Splitter.prototype.destroy = function () {\n        this.splitterObject.destroy();\n        this.parent.off('destroy', this.destroy);\n    };\n    return Splitter;\n}());\nexport { Splitter };\n","import { Tooltip as TooltipComponent } from '@syncfusion/ej2-popups';\nimport { parentsUntil } from '../base/utils';\nimport * as cls from '../base/css-constants';\nimport { extend, isNullOrUndefined, getValue, EventHandler, closest, SanitizeHtmlHelper, initializeCSPTemplate, append } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * File for handling tooltip in Gantt.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(gantt) {\n        this.parent = gantt;\n        this.createTooltip();\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * To create tooltip.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function () {\n        this.toolTipObj = new TooltipComponent();\n        this.toolTipObj.target = '.e-header-cell-label, .e-gantt-child-taskbar,' +\n            '.e-gantt-parent-taskbar, .e-gantt-milestone, .e-gantt-unscheduled-taskbar' +\n            '.e-event-markers, .e-baseline-bar, .e-event-markers,' +\n            '.e-connector-line-container, .e-indicator-span, .e-notes-info, .e-gantt-manualparent-milestone,' +\n            '.e-taskbar-left-resizer, .e-taskbar-right-resizer, .e-baseline-gantt-milestone-container, .e-gantt-manualparenttaskbar';\n        this.toolTipObj.position = 'BottomCenter';\n        this.toolTipObj.openDelay = 700;\n        this.toolTipObj.enableRtl = this.parent.enableRtl;\n        this.toolTipObj.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        this.toolTipObj.cssClass = cls.ganttTooltip;\n        this.toolTipObj.animation = { open: { effect: 'None', delay: 0 }, close: { effect: 'None', delay: 0 } };\n        this.toolTipObj.afterOpen = this.updateTooltipPosition.bind(this);\n        this.toolTipObj.showTipPointer = false;\n        this.toolTipObj.beforeRender = this.tooltipBeforeRender.bind(this);\n        this.toolTipObj.afterClose = this.tooltipCloseHandler.bind(this);\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.element);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (args) {\n        var parent = this.parent;\n        if (parent.isOnEdit) {\n            args.cancel = true;\n            return;\n        }\n        var element;\n        var row = closest(args.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            element = args.target;\n        }\n        else {\n            element = parentsUntil(args.target, cls.chartRowCell);\n        }\n        var data;\n        var argsData = {\n            data: {},\n            args: args,\n            cancel: false,\n            content: ''\n        };\n        if (args.target.classList.contains('e-header-cell-label')) {\n            if (parent.timelineSettings.showTooltip) {\n                argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('timeline', data, parent, args);\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        else {\n            if (parent.tooltipSettings.showTooltip) {\n                if (element) {\n                    argsData.data = parent.ganttChartModule.getRecordByTaskBar(element);\n                    data = argsData.data;\n                }\n                if (args.target.classList.contains('e-gantt-child-taskbar') ||\n                    args.target.classList.contains('e-gantt-parent-taskbar') ||\n                    args.target.classList.contains('e-gantt-milestone') ||\n                    args.target.classList.contains('e-gantt-unscheduled-taskbar') ||\n                    args.target.classList.contains('e-taskbar-left-resizer') ||\n                    args.target.classList.contains('e-taskbar-right-resizer') ||\n                    (args.target.classList.contains('e-gantt-manualparenttaskbar') && parent.tooltipSettings.taskbar)) {\n                    var taskbarTemplateNode = void 0;\n                    if (parent.tooltipSettings.taskbar) {\n                        taskbarTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.taskbar, parent, data, 'TooltipTaskbarTemplate');\n                    }\n                    var tooltipTemplate = document.createElement('div');\n                    if (taskbarTemplateNode) {\n                        append(taskbarTemplateNode, tooltipTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = taskbarTemplateNode ? tooltipTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'taskbar'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-baseline-bar') ||\n                    args.target.classList.contains('e-baseline-gantt-milestone-container')) {\n                    var baseLineTemplateNode = void 0;\n                    if ((parent.tooltipSettings.baseline)) {\n                        baseLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.baseline, parent, data, 'TooltipBaselineTemplate');\n                    }\n                    var baselineTemplate = document.createElement('div');\n                    if (baseLineTemplateNode) {\n                        append(baseLineTemplateNode, baselineTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = baseLineTemplateNode ? baselineTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'baseline'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-event-markers')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('marker', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-connector-line-container')) {\n                    var dependencyLineTemplateNode = void 0;\n                    parent.tooltipModule.predecessorTooltipData = parent.tooltipModule.getPredecessorTooltipData(args);\n                    argsData.data = this.predecessorTooltipData;\n                    if ((parent.tooltipSettings.connectorLine)) {\n                        dependencyLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.connectorLine, parent, parent.tooltipModule.predecessorTooltipData, 'TooltipConnectorLineTemplate');\n                    }\n                    argsData.content = this.toolTipObj.content = dependencyLineTemplateNode ?\n                        dependencyLineTemplateNode[0] :\n                        parent.tooltipModule.getTooltipContent('connectorLine', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-indicator-span')) {\n                    argsData.content = this.toolTipObj.content =\n                        parent.tooltipModule.getTooltipContent('indicator', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-notes-info')) {\n                    var ganttData = this.parent.ganttChartModule.getRecordByTarget(args.event);\n                    argsData.content = this.toolTipObj.content = ganttData.ganttProperties.notes;\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparenttaskbar')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualtaskbar', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparent-milestone')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualmilestone', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (args.cancel === false) {\n            var callBackPromise_1 = new Deferred();\n            parent.trigger('beforeTooltipRender', argsData, function (argData) {\n                callBackPromise_1.resolve(argData);\n                if (argData.cancel) {\n                    args.cancel = true;\n                }\n            });\n            this.toolTipObj.content = argsData.content;\n            if (!this.parent.isAdaptive && args.event.type === 'mouseover') {\n                this.currentTarget = args.target;\n                EventHandler.add(this.currentTarget, 'mousemove', this.mouseMoveHandler.bind(this));\n            }\n            this.parent.renderTemplates();\n            return callBackPromise_1;\n        }\n    };\n    // eslint-disable-next-line\n    Tooltip.prototype.tooltipCloseHandler = function (args) {\n        this.tooltipMouseEvent = null;\n        if (!this.parent.isAdaptive && !isNullOrUndefined(this.currentTarget)) {\n            EventHandler.remove(this.currentTarget, 'mousemove', this.mouseMoveHandler);\n        }\n        this.currentTarget = null;\n    };\n    Tooltip.prototype.mouseMoveHandler = function (e) {\n        this.tooltipMouseEvent = e;\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    Tooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            if (isNullOrUndefined(this.tooltipMouseEvent) || args.target.classList.contains('e-notes-info')) {\n                return;\n            }\n            var postion = this.getPointorPosition(this.tooltipMouseEvent);\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var topEnd = containerPosition.top + this.parent.chartPane.offsetHeight;\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = postion.x;\n            var tooltipPositionY = postion.y;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                while (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                    tooltipPositionX = leftEnd - args.element.offsetWidth - 10;\n                    args.element.style.left = tooltipPositionX + 'px';\n                }\n            }\n            else {\n                tooltipPositionX = tooltipPositionX + 10;\n                args.element.style.left = tooltipPositionX + 'px';\n            }\n            if (window.innerHeight < args.element.offsetHeight + tooltipPositionY) {\n                tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n            }\n            if ((topEnd < (tooltipPositionY + args.element.offsetHeight + 20))) {\n                tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n            }\n            else {\n                tooltipPositionY = tooltipPositionY + 10;\n            }\n            args.element.style.top = tooltipPositionY + 'px';\n        }\n    };\n    /**\n     * Method to get mouse pointor position\n     *\n     * @param {Event} e .\n     * @returns {number} .\n     */\n    Tooltip.prototype.getPointorPosition = function (e) {\n        var posX;\n        var posY;\n        if (!isNullOrUndefined(getValue('pageX', e)) || !isNullOrUndefined(getValue('pageY', e))) {\n            posX = getValue('pageX', e);\n            posY = getValue('pageY', e);\n        }\n        else if (!isNullOrUndefined(getValue('clientX', e)) || !isNullOrUndefined(getValue('clientY', e))) {\n            posX = getValue('clientX', e) + document.body.scrollLeft + document.documentElement.scrollLeft;\n            posY = getValue('clientY', e) + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n        return { x: posX, y: posY };\n    };\n    /**\n     *  Getting tooltip content for different elements\n     *\n     * @param {string} elementType .\n     * @param {IGanttData} ganttData .\n     * @param {Gantt} parent .\n     * @param {TooltipEventArgs} args .\n     * @returns {string | Function} .\n     */\n    Tooltip.prototype.getTooltipContent = function (elementType, ganttData, parent, args) {\n        var content;\n        var data;\n        var taskName;\n        if (ganttData) {\n            data = ganttData.ganttProperties;\n            var taskNameValue = data.taskName;\n            if (this.parent.enableHtmlSanitizer && typeof (taskNameValue) === 'string') {\n                taskNameValue = SanitizeHtmlHelper.sanitize(taskNameValue);\n            }\n            taskName = !isNullOrUndefined(taskNameValue) ? '<tr class = \"e-gantt-tooltip-rowcell\"><td colspan=\"3\">' +\n                (this.parent.disableHtmlEncode ? taskNameValue.replace(/</g, '&lt;').replace(/>/g, '&gt;') : taskNameValue) + '</td></tr>' : '';\n        }\n        switch (elementType) {\n            case 'milestone':\n                {\n                    var milestoneStartDate = void 0;\n                    if (args.target.className.includes('e-baseline-gantt-milestone-container') && !isNullOrUndefined(data.baselineStartDate)) {\n                        milestoneStartDate = data.baselineStartDate;\n                    }\n                    else if (!isNullOrUndefined(data.startDate)) {\n                        milestoneStartDate = data.startDate;\n                    }\n                    var sDateValue = this.parent.getFormatedDate(milestoneStartDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer && typeof (sDateValue) === 'string') {\n                        sDateValue = SanitizeHtmlHelper.sanitize(sDateValue);\n                    }\n                    var sDate_1 = !isNullOrUndefined(milestoneStartDate) ? '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        sDateValue + '</td></tr>' : '';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + sDate_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'taskbar':\n                {\n                    var scheduledTask = !ganttData.hasChildRecords || data.isAutoSchedule ? true : false;\n                    var startDateValue = this.parent.getFormatedDate(scheduledTask ? data.startDate : data.autoStartDate, this.parent.getDateFormat());\n                    var endDateValue = this.parent.getFormatedDate(scheduledTask ? data.endDate : data.autoEndDate, this.parent.getDateFormat());\n                    var durationValue = this.parent.getDurationString((scheduledTask ? data.duration : data.autoDuration), data.durationUnit);\n                    var progressValue = data.progress;\n                    if (this.parent.enableHtmlSanitizer) {\n                        startDateValue = typeof (startDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(startDateValue) : startDateValue;\n                        endDateValue = typeof (endDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(endDateValue) : endDateValue;\n                        durationValue = typeof (durationValue) === 'string' ? SanitizeHtmlHelper.sanitize(durationValue) : durationValue;\n                        progressValue = typeof (progressValue) === 'string' ? SanitizeHtmlHelper.sanitize(progressValue) : progressValue;\n                    }\n                    var startDate_1 = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'startDate' : 'subTasksStartDate') +\n                        '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' + startDateValue + '</td></tr>' : '';\n                    var endDate_1 = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'endDate' : 'subTasksEndDate') +\n                        '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\">' + endDateValue + '</td></tr>' : '';\n                    var duration_1 = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td style=\"padding: 2px;\">:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationValue +\n                        '</td></tr>' : '';\n                    var progress_1 = !isNullOrUndefined(data.progress) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('progress') + '</td><td style=\"padding: 2px;\">:</td><td>' + progressValue +\n                        '</td></tr>' : '';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + startDate_1 + endDate_1 + duration_1 + progress_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'baseline':\n                {\n                    var baselineStartDateValue_1 = this.parent.getFormatedDate(data.baselineStartDate, this.parent.getDateFormat());\n                    var baselineEndDateValue_1 = this.parent.getFormatedDate(data.baselineEndDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        baselineStartDateValue_1 = typeof (baselineStartDateValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(baselineStartDateValue_1) : baselineStartDateValue_1;\n                        baselineEndDateValue_1 = typeof (baselineEndDateValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(baselineEndDateValue_1) : baselineEndDateValue_1;\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + '<tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('baselineStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            baselineStartDateValue_1 + '</td></tr><tr>' +\n                            '<td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('baselineEndDate') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            baselineEndDateValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'marker':\n                {\n                    var markerTooltipElement = parent.tooltipModule.getMarkerTooltipData(args);\n                    var markerTooltipElementValue_1 = this.parent.getFormatedDate(this.parent.dateValidationModule.getDateFromFormat(markerTooltipElement.day), this.parent.getDateFormat());\n                    var markerLabel_1 = markerTooltipElement.label ? markerTooltipElement.label : '';\n                    if (this.parent.enableHtmlSanitizer) {\n                        markerLabel_1 = typeof (markerLabel_1) === 'string' ? SanitizeHtmlHelper.sanitize(markerLabel_1) : markerLabel_1;\n                        markerTooltipElementValue_1 = typeof (markerTooltipElementValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(markerTooltipElementValue_1) : markerTooltipElementValue_1;\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td>' +\n                            markerTooltipElementValue_1 + '</td></tr><tr><td>' + (this.parent.disableHtmlEncode ? markerLabel_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : markerLabel_1) + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'connectorLine':\n                {\n                    var fromNameValue_1 = parent.tooltipModule.predecessorTooltipData.fromName;\n                    var fromIdValue_1 = parent.tooltipModule.predecessorTooltipData.fromId;\n                    var toNameValue_1 = parent.tooltipModule.predecessorTooltipData.toName;\n                    var toIdValue_1 = parent.tooltipModule.predecessorTooltipData.toId;\n                    var linkTextValue_1 = parent.tooltipModule.predecessorTooltipData.linkText;\n                    var offsetStringValue_1 = parent.tooltipModule.predecessorTooltipData.offsetString;\n                    if (this.parent.enableHtmlSanitizer) {\n                        fromNameValue_1 = typeof (fromNameValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(fromNameValue_1) : fromNameValue_1;\n                        fromIdValue_1 = typeof (fromIdValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(fromIdValue_1) : fromIdValue_1;\n                        toNameValue_1 = typeof (toNameValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(toNameValue_1) : toNameValue_1;\n                        toIdValue_1 = typeof (toIdValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(toIdValue_1) : toIdValue_1;\n                        linkTextValue_1 = typeof (linkTextValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(linkTextValue_1) : linkTextValue_1;\n                        offsetStringValue_1 = typeof (offsetStringValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(offsetStringValue_1) : offsetStringValue_1;\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('from') + '</td><td>:</td>' +\n                            '<td class = \"e-gantt-tooltip-value\">' + (this.parent.disableHtmlEncode ? fromNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromNameValue_1) + ' (' +\n                            (this.parent.disableHtmlEncode ? (typeof (fromIdValue_1) === 'string' ? fromIdValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromIdValue_1) : fromIdValue_1) + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('to') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            (this.parent.disableHtmlEncode ? toNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : toNameValue_1) + ' (' + toIdValue_1 + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('taskLink') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\"> ' + linkTextValue_1 +\n                            '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('lag') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            offsetStringValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'indicator':\n                if (args.target.title.length) {\n                    var titleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (titleValue_1) === 'string') {\n                        titleValue_1 = SanitizeHtmlHelper.sanitize(titleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + titleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                }\n                break;\n            case 'timeline':\n                {\n                    var timlineTitleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (timlineTitleValue_1) === 'string') {\n                        timlineTitleValue_1 = SanitizeHtmlHelper.sanitize(timlineTitleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + timlineTitleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualtaskbar':\n                {\n                    var autoStartDateValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndDateValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var durationUnitValue = this.parent.getDurationString(data.duration, data.durationUnit);\n                    var manualStartDateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    var manualEndDateValue = this.parent.getFormatedDate(data.endDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartDateValue = typeof (autoStartDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(autoStartDateValue) : autoStartDateValue;\n                        autoEndDateValue = typeof (autoEndDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(autoEndDateValue) : autoEndDateValue;\n                        durationUnitValue = typeof (durationUnitValue) === 'string' ? SanitizeHtmlHelper.sanitize(durationUnitValue) : durationUnitValue;\n                        manualStartDateValue = typeof (manualStartDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(manualStartDateValue) : manualStartDateValue;\n                        manualEndDateValue = typeof (manualEndDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(manualEndDateValue) : manualEndDateValue;\n                    }\n                    var autoStartDate_1 = data.autoStartDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartDateValue + '</td></tr>' : '';\n                    var autoEndDate_1 = data.autoEndDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndDateValue + '</td></tr>' : '';\n                    var durationValue_1 = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationUnitValue +\n                        '</td></tr>' : '';\n                    var manualStartDate_1 = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('startDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        manualStartDateValue + '</td></tr>' : '';\n                    var manualEndDate_1 = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('endDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        manualEndDateValue + '</td></tr>' : '';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + manualStartDate_1 + autoStartDate_1 + manualEndDate_1 + autoEndDate_1 + durationValue_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualmilestone':\n                {\n                    var autoStartValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var dateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartValue = typeof (autoStartValue) === 'string' ? SanitizeHtmlHelper.sanitize(autoStartValue) : autoStartValue;\n                        autoEndValue = typeof (autoEndValue) === 'string' ? SanitizeHtmlHelper.sanitize(autoEndValue) : autoEndValue;\n                        dateValue = typeof (dateValue) === 'string' ? SanitizeHtmlHelper.sanitize(dateValue) : dateValue;\n                    }\n                    var autoStart_1 = data.autoStartDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartValue + '</td></tr>' : '';\n                    var autoEnd_1 = data.autoEndDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndValue + '</td></tr>' : '';\n                    var date_1 = '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        dateValue + '</tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + date_1 + autoStart_1 + autoEnd_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n        }\n        return content;\n    };\n    /**\n     * To get the details of an event marker.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {EventMarkerModel} .\n     * @private\n     */\n    Tooltip.prototype.getMarkerTooltipData = function (args) {\n        var markerTooltipId = (args.target.id).match(/\\d+/g);\n        var markerTooltipElement = this.parent.eventMarkers[Number(markerTooltipId)];\n        return markerTooltipElement;\n    };\n    /**\n     * To get the details of a connector line.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {PredecessorTooltip} .\n     * @private\n     */\n    Tooltip.prototype.getPredecessorTooltipData = function (args) {\n        var predeceesorParent = args.target.id;\n        if (this.parent.enableHtmlSanitizer && typeof (predeceesorParent) === 'string') {\n            predeceesorParent = SanitizeHtmlHelper.sanitize(predeceesorParent);\n        }\n        var taskIds = predeceesorParent.match(/ConnectorLineparent(.*)child(.*)/);\n        taskIds.shift();\n        var fromTask;\n        var toTask;\n        if (this.parent.viewType === 'ResourceView') {\n            fromTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[0])];\n            toTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[1])];\n        }\n        else {\n            fromTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[0])];\n            toTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[1])];\n        }\n        var predecessor = (fromTask.ganttProperties.predecessor).filter(function (pdc) { return pdc.to === taskIds[1]; });\n        var predecessorTooltipData = {\n            fromId: this.parent.viewType === 'ResourceView' ? fromTask.ganttProperties.taskId : fromTask.ganttProperties.rowUniqueID,\n            toId: this.parent.viewType === 'ResourceView' ? toTask.ganttProperties.taskId : toTask.ganttProperties.rowUniqueID,\n            fromName: fromTask.ganttProperties.taskName,\n            toName: toTask.ganttProperties.taskName,\n            linkType: predecessor[0].type,\n            linkText: this.parent.getPredecessorTextValue(predecessor[0].type),\n            offset: predecessor[0].offset,\n            offsetUnit: predecessor[0].offsetUnit,\n            offsetString: this.parent.getDurationString(predecessor[0].offset, predecessor[0].offsetUnit)\n        };\n        return predecessorTooltipData;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string | Function} template .\n     * @param {Gantt} parent .\n     * @param {IGanttData|PredecessorTooltip} data .\n     * @param {string} propName .\n     * @returns {NodeList} .\n     * @private\n     */\n    Tooltip.prototype.templateCompiler = function (template, parent, data, propName) {\n        var tooltipFunction = parent.chartRowsModule.templateCompiler(template);\n        var templateID = parent.chartRowsModule.getTemplateID(propName);\n        var templateNode = tooltipFunction(extend({ index: 0 }, data), parent, propName, templateID, true);\n        return templateNode;\n    };\n    Tooltip.prototype.destroy = function () {\n        this.toolTipObj.destroy();\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n","import { isNullOrUndefined, getValue, removeClass } from '@syncfusion/ej2-base';\n/**\n * Focus module is used to handle certain action on focus elements in keyboard navigations.\n */\nvar FocusModule = /** @class */ (function () {\n    function FocusModule(parent) {\n        this.parent = parent;\n        this.activeElement = null;\n        this.previousActiveElement = null;\n    }\n    FocusModule.prototype.getActiveElement = function (isPreviousActiveElement) {\n        return isPreviousActiveElement ? this.previousActiveElement : this.activeElement;\n    };\n    FocusModule.prototype.setActiveElement = function (element) {\n        this.previousActiveElement = this.activeElement;\n        this.activeElement = element;\n    };\n    /**\n     * To perform key interaction in Gantt\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    FocusModule.prototype.onKeyPress = function (e) {\n        var ganttObj = this.parent;\n        var expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        if (isNullOrUndefined(this.parent.focusModule.getActiveElement()) && (e.action === 'expandAll' || e.action === 'collapseAll')) {\n            var focussedElement = this.parent.element.querySelector('.e-treegrid');\n            focussedElement.focus();\n        }\n        var targetElement = this.parent.focusModule.getActiveElement();\n        if (e.action === 'home' || e.action === 'end' || e.action === 'downArrow' || e.action === 'upArrow' || e.action === 'delete' ||\n            e.action === 'rightArrow' || e.action === 'leftArrow' || e.action === 'focusTask' || e.action === 'focusSearch' ||\n            e.action === 'expandAll' || e.action === 'collapseAll' || e.action === 'undo' || e.action === 'redo' || e.action === 'selectAll') {\n            if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                ganttObj.editModule.cellEditModule.isCellEdit === true) {\n                return;\n            }\n        }\n        if (ganttObj.isAdaptive) {\n            if (e.action === 'addRowDialog' || e.action === 'editRowDialog' || e.action === 'delete'\n                || e.action === 'addRow') {\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.type === 'Multiple') {\n                    ganttObj.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (e.action) {\n            case 'home':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    if (ganttObj.selectedRowIndex === 0) {\n                        return;\n                    }\n                    ganttObj.selectionModule.selectRow(0, false, true);\n                }\n                break;\n            case 'end':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    var currentSelectingRecord = expandedRecords[expandedRecords.length - 1];\n                    if (ganttObj.selectedRowIndex === ganttObj.flatData.indexOf(currentSelectingRecord)) {\n                        return;\n                    }\n                    ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                }\n                break;\n            case 'downArrow':\n            case 'upArrow':\n                {\n                    var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                    if (searchElement && searchElement.parentElement.classList.contains('e-input-focus')) {\n                        ganttObj.selectionModule.clearSelection();\n                    }\n                    if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                        this.upDownKeyNavigate(e);\n                        if (!isNullOrUndefined(targetElement) && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                            ganttObj.ganttChartModule.manageFocus(this.getActiveElement(), 'remove', true, e.action);\n                        }\n                    }\n                    break;\n                }\n            case 'expandAll':\n                ganttObj.ganttChartModule.expandCollapseAll('expand');\n                break;\n            case 'collapseAll':\n                ganttObj.ganttChartModule.expandCollapseAll('collapse');\n                break;\n            case 'expandRow':\n            case 'collapseRow':\n                this.expandCollapseKey(e);\n                break;\n            case 'saveRequest':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                    ganttObj.editModule.cellEditModule.isCellEdit) {\n                    var col = ganttObj.editModule.cellEditModule.editedColumn;\n                    if (col.field === ganttObj.columnMapping.duration && !isNullOrUndefined(col.edit) &&\n                        !isNullOrUndefined(col.edit.read)) {\n                        var textBox = e.target.ej2_instances[0];\n                        var textValue = e.target.value;\n                        var ganttProp = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties;\n                        var tempValue = void 0;\n                        if (col.field === ganttObj.columnMapping.duration) {\n                            tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? col.edit.read() :\n                                // eslint-disable-next-line\n                                !isNullOrUndefined(col.valueAccessor) ? col.valueAccessor(ganttObj.columnMapping.duration, ganttObj.editedRecords, col) :\n                                    ganttObj.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                            if (textValue !== tempValue.toString()) {\n                                textBox.value = textValue;\n                                textBox.dataBind();\n                            }\n                        }\n                    }\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.treeGrid.grid.saveCell();\n                    var focussedElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedElement.focus();\n                }\n                if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isNullOrUndefined(targetElement)\n                    && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                    var target = e.target;\n                    var taskbarElement = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                        '.e-gantt-child-taskbar,.e-gantt-milestone');\n                    if (taskbarElement) {\n                        this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                    }\n                }\n                break;\n            case 'cancelRequest':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule)) {\n                    ganttObj.editModule.cellEditModule.isCellEdit = false;\n                    if (!isNullOrUndefined(ganttObj.toolbarModule)) {\n                        ganttObj.toolbarModule.refreshToolbarItems();\n                    }\n                }\n                break;\n            case 'addRow':\n                {\n                    if (ganttObj.editModule && ganttObj.editModule.cellEditModule && ganttObj.editModule.cellEditModule.isCellEdit) {\n                        e.stopPropagation();\n                    }\n                    else if (isNullOrUndefined(document.getElementById(this.parent.element.id + '_dialog'))) {\n                        e.preventDefault();\n                        ganttObj.addRecord(undefined, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n                        var focussedElement = ganttObj.element;\n                        focussedElement.focus();\n                    }\n                    break;\n                }\n            case 'addRowDialog':\n                e.preventDefault();\n                if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowAdding) {\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.editModule.dialogModule.openAddDialog();\n                }\n                break;\n            case 'editRowDialog':\n                {\n                    e.preventDefault();\n                    var focussedTreeElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedTreeElement.focus();\n                    if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowEditing) {\n                        if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                            return;\n                        }\n                        ganttObj.editModule.dialogModule.openToolbarEditDialog();\n                    }\n                    break;\n                }\n            case 'delete':\n                if (ganttObj.selectionModule && ganttObj.editModule && ganttObj.editModule.dialogModule &&\n                    (!ganttObj.editModule.dialogModule.dialogObj || (ganttObj.editModule.dialogModule.dialogObj &&\n                        !ganttObj.editModule.dialogModule.dialogObj.visible)) && (!ganttObj.editSettings.allowTaskbarEditing\n                    || (ganttObj.editSettings.allowTaskbarEditing && !ganttObj.editModule.taskbarEditModule.touchEdit))) {\n                    if ((ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectionModule.selectedRowIndexes.length)\n                        || (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length)) {\n                        if (!isNullOrUndefined(e.target)) {\n                            if (e.target['tagName'] !== 'INPUT') {\n                                ganttObj.editModule.startDeleteAction();\n                            }\n                        }\n                        else {\n                            ganttObj.editModule.startDeleteAction();\n                        }\n                    }\n                }\n                break;\n            case 'focusTask':\n                {\n                    e.preventDefault();\n                    var selectedId = void 0;\n                    if (ganttObj.selectionModule) {\n                        var currentViewData = ganttObj.currentViewData;\n                        if (ganttObj.selectionSettings.mode !== 'Cell' &&\n                            !isNullOrUndefined(currentViewData[ganttObj.selectedRowIndex])) {\n                            selectedId = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties.rowUniqueID;\n                        }\n                        else if (ganttObj.selectionSettings.mode === 'Cell' &&\n                            ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                            var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                            selectedId = currentViewData[selectCellIndex[selectCellIndex.length - 1].rowIndex].ganttProperties.rowUniqueID;\n                        }\n                    }\n                    if (selectedId) {\n                        ganttObj.scrollToTask(selectedId.toString());\n                    }\n                    break;\n                }\n            case 'focusSearch':\n                {\n                    if (ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar')) {\n                        var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                        searchElement.setAttribute('tabIndex', '-1');\n                        searchElement.focus();\n                    }\n                    break;\n                }\n            case 'tab':\n            case 'shiftTab':\n                if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                    ganttObj.ganttChartModule.onTabAction(e);\n                }\n                break;\n            case 'contextMenu':\n                {\n                    var contextMenu = document.getElementById(this.parent.element.id +\n                        '_contextmenu').ej2_instances[0];\n                    var containerPosition = this.parent.getOffsetRect(e.target);\n                    var top_1 = containerPosition.top + (containerPosition.height / 2);\n                    var left = containerPosition.left + (containerPosition.width / 2);\n                    this.setActiveElement(e.target);\n                    contextMenu.open(top_1, left);\n                    e.preventDefault();\n                    break;\n                }\n            case 'undo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                        this.parent.undo();\n                    }\n                    break;\n                }\n            case 'redo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getRedoCollection'].length > 0) {\n                        this.parent.redo();\n                    }\n                    break;\n                }\n            case 'selectAll':\n                {\n                    e.preventDefault();\n                    var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n                    if (ganttRow.length > 0) {\n                        var firstRowIndex = ganttRow[0].getAttribute('data-rowindex');\n                        var lastRowIndex = ganttRow[ganttRow.length - 1].getAttribute('data-rowindex');\n                        if (!isNullOrUndefined(firstRowIndex)) {\n                            firstRowIndex = Number(firstRowIndex);\n                        }\n                        if (!isNullOrUndefined(lastRowIndex)) {\n                            lastRowIndex = Number(lastRowIndex);\n                        }\n                        if (!isNullOrUndefined(firstRowIndex) && !isNullOrUndefined(lastRowIndex)) {\n                            this.parent.selectionModule.selectRowsByRange(firstRowIndex, lastRowIndex);\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    var eventArgs = {\n                        requestType: 'keyPressed',\n                        action: e.action,\n                        keyEvent: e\n                    };\n                    ganttObj.trigger('actionComplete', eventArgs);\n                    break;\n                }\n        }\n    };\n    FocusModule.prototype.upDownKeyNavigate = function (e) {\n        e.preventDefault();\n        var ganttObj = this.parent;\n        var expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        if (ganttObj.selectionModule) {\n            if (ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectedRowIndex !== -1) {\n                var selectedItem = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n                var focussedElement = ganttObj.element.querySelector('.e-focused');\n                if (focussedElement) {\n                    removeClass([focussedElement], 'e-focused');\n                }\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var activeElement = this.parent['args'];\n                if (document.activeElement !== activeElement) {\n                    ganttObj.selectionModule.selectRow(ganttObj.currentViewData.indexOf(currentSelectingRecord), false, true);\n                }\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                var selectedCellItem = selectCellIndex[selectCellIndex.length - 1];\n                var currentCellIndex = selectedCellItem.cellIndexes[selectedCellItem.cellIndexes.length - 1];\n                var selectedItem = ganttObj.currentViewData[selectedCellItem.rowIndex];\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var cellInfo = {\n                    rowIndex: ganttObj.currentViewData.indexOf(currentSelectingRecord),\n                    cellIndex: currentCellIndex\n                };\n                ganttObj.selectionModule.selectCell(cellInfo);\n            }\n            this.parent.ganttChartModule.focusedRowIndex = this.parent.selectedRowIndex;\n        }\n    };\n    FocusModule.prototype.expandCollapseKey = function (e) {\n        var ganttObj = this.parent;\n        if (ganttObj.selectionModule && ganttObj.selectedRowIndex !== -1) {\n            var selectedRowIndex = void 0;\n            if (ganttObj.selectionSettings.mode !== 'Cell') {\n                selectedRowIndex = ganttObj.selectedRowIndex;\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                selectedRowIndex = selectCellIndex[selectCellIndex.length - 1].rowIndex;\n            }\n            if (e.action === 'expandRow') {\n                ganttObj.expandByIndex(selectedRowIndex);\n            }\n            else {\n                ganttObj.collapseByIndex(selectedRowIndex);\n            }\n        }\n    };\n    return FocusModule;\n}());\nexport { FocusModule };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, createElement, Complex, addClass, removeClass, Event, formatUnit, Browser, closest } from '@syncfusion/ej2-base';\nimport { Internationalization, extend, getValue, isObjectArray, isObject, setValue, isUndefined } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, L10n, EventHandler } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, KeyboardEvents, Collection, append, remove } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { TaskProcessor } from './task-processor';\nimport { GanttChart } from './gantt-chart';\nimport { Timeline } from '../renderer/timeline';\nimport { GanttTreeGrid } from './tree-grid';\nimport { SortSettings } from '../models/models';\nimport { LoadingIndicator } from '../models/models';\nimport { TaskFields, TimelineSettings, Holiday, EventMarker, DayWorkingTime, EditSettings, SelectionSettings } from '../models/models';\nimport { FilterSettings, SplitterSettings, TooltipSettings, LabelSettings } from '../models/models';\nimport { SearchSettings, ResourceFields } from '../models/models';\nimport { DateProcessor } from './date-processor';\nimport { ChartRows } from '../renderer/chart-rows';\nimport { Dependency } from '../actions/dependency';\nimport * as cls from './css-constants';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\nimport { ConnectorLine } from '../renderer/connector-line';\nimport { Splitter } from './splitter';\nimport { Tooltip } from '../renderer/tooltip';\nimport { FocusModule } from '../actions/keyboard';\nimport { isCountRequired } from './utils';\nimport { WeekWorkingTime } from '../models/week-working-time';\n/**\n *\n * Represents the Gantt chart component.\n * ```html\n * <div id='gantt'></div>\n * <script>\n *  var ganttObject = new Gantt({\n *      taskFields: { id: 'taskId', name: 'taskName', startDate: 'startDate', duration: 'duration' }\n *  });\n *  ganttObject.appendTo('#gantt');\n * </script>\n * ```\n */\nvar Gantt = /** @class */ (function (_super) {\n    __extends(Gantt, _super);\n    function Gantt(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isRowSelected = false;\n        _this.showIndicator = true;\n        _this.singleTier = 0;\n        _this.isLocaleChanged = false;\n        _this.totalUndoAction = 0;\n        _this.previousFlatData = [];\n        /** @hidden */\n        _this.isCancelled = false;\n        /** @hidden */\n        _this.isCollapseAll = false;\n        /** @hidden */\n        _this.previousRecords = {};\n        /** @hidden */\n        _this.editedRecords = [];\n        /** @hidden */\n        _this.modifiedRecords = [];\n        /** @hidden */\n        _this.isOnEdit = false;\n        /** @hidden */\n        _this.isOnDelete = false;\n        /** @hidden */\n        _this.isOnAdded = false;\n        /** @hidden */\n        _this.isExpandCollapseLevelMethod = false;\n        /** @hidden */\n        _this.isDynamicData = false;\n        /** @hidden */\n        _this.isConnectorLineUpdate = false;\n        /** @hidden */\n        _this.staticSelectedRowIndex = -1;\n        _this.needsID = true;\n        /** @hidden */\n        _this.showActiveElement = true;\n        /** @hidden */\n        _this.addDeleteRecord = false;\n        /** @hidden */\n        _this.enableHeaderFocus = true;\n        /** @hidden */\n        _this.enableValidation = true;\n        /**\n         * @private\n         */\n        _this.isTreeGridRendered = false;\n        /**\n         * @private\n         */\n        _this.isFromOnPropertyChange = false;\n        /**\n         * @private\n         */\n        _this.isFromRenderBaseline = false;\n        /**\n         * @private\n         */\n        _this.isGanttChartRendered = false;\n        /**\n         * @private\n         */\n        _this.isEdit = false;\n        /**\n         * To get the module name\n         *\n         * @returns {string} .\n         * @private\n         */\n        _this.eventMarkerColloction = [];\n        setValue('mergePersistData', _this.mergePersistGanttData, _this);\n        return _this;\n    }\n    Gantt.prototype.getModuleName = function () {\n        return 'gantt';\n    };\n    /**\n     * For internal use only - Initialize the event handler\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.preRender = function () {\n        this.initProperties();\n    };\n    Gantt.prototype.getCurrentDayStartTime = function (date) {\n        var dayStartTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayStartTime = this['getStartTime'](date);\n        }\n        else {\n            dayStartTime = this.defaultStartTime;\n        }\n        return dayStartTime;\n    };\n    Gantt.prototype.getCurrentDayEndTime = function (date) {\n        var dayEndTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayEndTime = this['getEndTime'](date);\n        }\n        else {\n            dayEndTime = this.defaultEndTime;\n        }\n        return dayEndTime;\n    };\n    Gantt.prototype.getStartTime = function (date) {\n        var day = date.getDay();\n        var startTime;\n        switch (day) {\n            case 0:\n                startTime = this.sundayDefaultStartTime;\n                break;\n            case 1:\n                startTime = this.mondayDefaultStartTime;\n                break;\n            case 2:\n                startTime = this.tuesdayDefaultStartTime;\n                break;\n            case 3:\n                startTime = this.wednesdayDefaultStartTime;\n                break;\n            case 4:\n                startTime = this.thursdayDefaultStartTime;\n                break;\n            case 5:\n                startTime = this.fridayDefaultStartTime;\n                break;\n            case 6:\n                startTime = this.saturdayDefaultStartTime;\n                break;\n            default:\n                startTime = this.defaultStartTime;\n                break;\n        }\n        return startTime;\n    };\n    Gantt.prototype.getEndTime = function (date) {\n        var day = date.getDay();\n        var endTime;\n        switch (day) {\n            case 0:\n                endTime = this.sundayDefaultEndTime;\n                break;\n            case 1:\n                endTime = this.mondayDefaultEndTime;\n                break;\n            case 2:\n                endTime = this.tuesdayDefaultEndTime;\n                break;\n            case 3:\n                endTime = this.wednesdayDefaultEndTime;\n                break;\n            case 4:\n                endTime = this.thursdayDefaultEndTime;\n                break;\n            case 5:\n                endTime = this.fridayDefaultEndTime;\n                break;\n            case 6:\n                endTime = this.saturdayDefaultEndTime;\n                break;\n            default:\n                endTime = this.defaultStartTime;\n                break;\n        }\n        return endTime;\n    };\n    Gantt.prototype.getNonWorkingRange = function (date) {\n        var day = date.getDay();\n        var nonWorkingTimeRange;\n        switch (day) {\n            case 0:\n                nonWorkingTimeRange = this.sundayNonWorkingTimeRanges;\n                break;\n            case 1:\n                nonWorkingTimeRange = this.mondayNonWorkingTimeRanges;\n                break;\n            case 2:\n                nonWorkingTimeRange = this.tuesdayNonWorkingTimeRanges;\n                break;\n            case 3:\n                nonWorkingTimeRange = this.wednesdayNonWorkingTimeRanges;\n                break;\n            case 4:\n                nonWorkingTimeRange = this.thursdayNonWorkingTimeRanges;\n                break;\n            case 5:\n                nonWorkingTimeRange = this.fridayNonWorkingTimeRanges;\n                break;\n            case 6:\n                nonWorkingTimeRange = this.saturdayNonWorkingTimeRanges;\n                break;\n            default:\n                nonWorkingTimeRange = this.nonWorkingTimeRanges;\n                break;\n        }\n        return nonWorkingTimeRange;\n    };\n    Gantt.prototype.getWorkingRange = function (date) {\n        var day = date.getDay();\n        var workingTimeRanges;\n        switch (day) {\n            case 0:\n                workingTimeRanges = this.sundayWorkingTimeRanges;\n                break;\n            case 1:\n                workingTimeRanges = this.mondayWorkingTimeRanges;\n                break;\n            case 2:\n                workingTimeRanges = this.tuesdayWorkingTimeRanges;\n                break;\n            case 3:\n                workingTimeRanges = this.wednesdayWorkingTimeRanges;\n                break;\n            case 4:\n                workingTimeRanges = this.thursdayWorkingTimeRanges;\n                break;\n            case 5:\n                workingTimeRanges = this.fridayWorkingTimeRanges;\n                break;\n            case 6:\n                workingTimeRanges = this.saturdayWorkingTimeRanges;\n                break;\n            default:\n                workingTimeRanges = this.workingTimeRanges;\n                break;\n        }\n        return workingTimeRanges;\n    };\n    Gantt.prototype.getSecondsPerDay = function (date) {\n        var day = date.getDay();\n        var totalSeconds;\n        switch (day) {\n            case 0:\n                totalSeconds = this.sundaySeconds;\n                break;\n            case 1:\n                totalSeconds = this.mondaySeconds;\n                break;\n            case 2:\n                totalSeconds = this.tuesdaySeconds;\n                break;\n            case 3:\n                totalSeconds = this.wednesdaySeconds;\n                break;\n            case 4:\n                totalSeconds = this.thursdaySeconds;\n                break;\n            case 5:\n                totalSeconds = this.fridaySeconds;\n                break;\n            case 6:\n                totalSeconds = this.saturdaySeconds;\n                break;\n            default:\n                totalSeconds = this.secondsPerDay;\n                break;\n        }\n        return totalSeconds;\n    };\n    Gantt.prototype.initProperties = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.isAdaptive = Browser.isDevice;\n        this.flatData = [];\n        this.currentViewData = [];\n        this.updatedRecords = [];\n        this.ids = [];\n        this.ganttColumns = [];\n        this.updateOffsetOnTaskbarEdit = this.UpdateOffsetOnTaskbarEdit === false ?\n            this.UpdateOffsetOnTaskbarEdit : this.updateOffsetOnTaskbarEdit;\n        this.localeObj = new L10n(this.getModuleName(), this.getDefaultLocale(), this.locale);\n        this.dataOperation = new TaskProcessor(this);\n        this.nonWorkingHours = [];\n        this.mondayNonWorkingHours = [];\n        this.tuesdayNonWorkingHours = [];\n        this.wednesdayNonWorkingHours = [];\n        this.thursdayNonWorkingHours = [];\n        this.fridayNonWorkingHours = [];\n        this.saturdayNonWorkingHours = [];\n        this.sundayNonWorkingHours = [];\n        this.nonWorkingTimeRanges = [];\n        this.mondayNonWorkingTimeRanges = [];\n        this.tuesdayNonWorkingTimeRanges = [];\n        this.wednesdayNonWorkingTimeRanges = [];\n        this.thursdayNonWorkingTimeRanges = [];\n        this.fridayNonWorkingTimeRanges = [];\n        this.saturdayNonWorkingTimeRanges = [];\n        this.sundayNonWorkingTimeRanges = [];\n        this.workingTimeRanges = [];\n        this.mondayWorkingTimeRanges = [];\n        this.tuesdayWorkingTimeRanges = [];\n        this.wednesdayWorkingTimeRanges = [];\n        this.thursdayWorkingTimeRanges = [];\n        this.fridayWorkingTimeRanges = [];\n        this.saturdayWorkingTimeRanges = [];\n        this.sundayWorkingTimeRanges = [];\n        this.defaultEndTime = null;\n        this.defaultStartTime = null;\n        this.mondayDefaultStartTime = null;\n        this.mondayDefaultEndTime = null;\n        this.tuesdayDefaultStartTime = null;\n        this.tuesdayDefaultEndTime = null;\n        this.wednesdayDefaultStartTime = null;\n        this.wednesdayDefaultEndTime = null;\n        this.thursdayDefaultStartTime = null;\n        this.thursdayDefaultEndTime = null;\n        this.fridayDefaultStartTime = null;\n        this.fridayDefaultEndTime = null;\n        this.saturdayDefaultStartTime = null;\n        this.saturdayDefaultEndTime = null;\n        this.sundayDefaultStartTime = null;\n        this.sundayDefaultEndTime = null;\n        this.durationUnitTexts = {\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute'\n        };\n        this.durationUnitEditText = {\n            minute: ['m', 'min', 'minute', 'minutes'],\n            hour: ['h', 'hr', 'hour', 'hours'],\n            day: ['d', 'dy', 'day', 'days']\n        };\n        this.perDayWidth = null;\n        this.isMileStoneEdited = false;\n        this.chartVerticalLineContainer = null;\n        this.updatedConnectorLineCollection = [];\n        this.connectorLineIds = [];\n        this.predecessorsCollection = [];\n        this.isInPredecessorValidation = this.enablePredecessorValidation;\n        this.isValidationEnabled = true;\n        this.isLoad = true;\n        this.editedTaskBarItem = null;\n        this.validationDialogElement = null;\n        this.currentEditedArgs = {};\n        this.dialogValidateMode = {\n            respectLink: false,\n            removeLink: false,\n            preserveLinkWithEditing: true\n        };\n        this.secondsPerDay = this.dataOperation.getSecondsPerDay();\n        this.nonWorkingDayIndex = [];\n        this.dataOperation.getNonWorkingDayIndex();\n        this.columnMapping = {};\n        this.controlId = this.element.id;\n        this.cloneProjectStartDate = this.enablePersistence && this.cloneProjectStartDate ?\n            this.cloneProjectStartDate : null;\n        this.cloneProjectEndDate = this.enablePersistence && this.cloneProjectEndDate ?\n            this.cloneProjectEndDate : null;\n        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n        this.ganttChartModule = new GanttChart(this);\n        this.timelineModule = new Timeline(this);\n        this.chartRowsModule = new ChartRows(this);\n        this.treeGridModule = new GanttTreeGrid(this);\n        this.dateValidationModule = new DateProcessor(this);\n        this.predecessorModule = new Dependency(this);\n        this.connectorLineModule = new ConnectorLine(this);\n        this.splitterModule = new Splitter(this);\n        this.tooltipModule = new Tooltip(this);\n        this.keyConfig = {\n            home: 'home',\n            end: 'end',\n            downArrow: 'downarrow',\n            upArrow: 'uparrow',\n            collapseAll: 'ctrl+uparrow',\n            expandAll: 'ctrl+downarrow',\n            collapseRow: 'ctrl+shift+uparrow',\n            expandRow: 'ctrl+shift+downarrow',\n            saveRequest: '13',\n            cancelRequest: '27',\n            addRow: 'insert',\n            addRowDialog: 'ctrl+insert',\n            editRowDialog: 'ctrl+f2',\n            delete: 'delete',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            focusTask: 'shift+f5',\n            indentLevel: 'shift+leftarrow',\n            outdentLevel: 'shift+rightarrow',\n            focusSearch: 'ctrl+shift+70',\n            contextMenu: 'shift+F10',\n            undo: 'ctrl+z',\n            redo: 'ctrl+y',\n            selectAll: 'ctrl+a'\n        };\n        this.focusModule = new FocusModule(this);\n        if (this.zoomingLevels.length === 0) {\n            this.setProperties({ zoomingLevels: this.getZoomingLevels() }, true);\n        }\n        this.resourceFieldsMapping();\n        if (isNullOrUndefined(this.resourceFields.unit)) { //set resourceUnit as unit if not mapping\n            this.setProperties({ resourceFields: { unit: 'unit' } }, true);\n        }\n        this.taskIds = [];\n    };\n    Gantt.prototype.isUndoRedoItemPresent = function (action) {\n        if (this.undoRedoModule && this.undoRedoActions && this.undoRedoActions.indexOf(action) !== -1) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getDateFormat = function () {\n        if (!isNullOrUndefined(this.dateFormat)) {\n            return this.dateFormat;\n        }\n        else {\n            var ganttDateFormat = this.globalize.getDatePattern({ skeleton: 'yMd' });\n            return ganttDateFormat;\n        }\n    };\n    /**\n     * To get timezone offset.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getDefaultTZOffset = function () {\n        var janMonth = new Date(new Date().getFullYear(), 0, 1);\n        var julMonth = new Date(new Date().getFullYear(), 6, 1); //Because there is no reagions DST inbetwwen this range\n        return Math.max(janMonth.getTimezoneOffset(), julMonth.getTimezoneOffset());\n    };\n    /**\n     * To check whether the date is in DST.\n     *\n     * @param {Date} date - Defines the date to check whether it is DST.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isInDst = function (date) {\n        return date.getTimezoneOffset() < this.getDefaultTZOffset();\n    };\n    /**\n     * Method to map resource fields.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.resourceFieldsMapping = function () {\n        var resourceSettings = this.resourceFields;\n        resourceSettings.id = !isNullOrUndefined(resourceSettings.id) ? resourceSettings.id : this.resourceIDMapping;\n        resourceSettings.name = !isNullOrUndefined(resourceSettings.name) ? resourceSettings.name : this.resourceNameMapping;\n    };\n    /**\n     * To validate height and width\n     *\n     * @param {string | number} value .\n     * @returns {string} .\n     */\n    Gantt.prototype.validateDimentionValue = function (value) {\n        if (!isNullOrUndefined(value)) {\n            if (typeof (value) === 'string' && value !== 'auto' && value.indexOf('%') === -1) {\n                return value.indexOf('px') === -1 ? value + 'px' : value;\n            }\n            else if (typeof (value) === 'number') {\n                return value + 'px';\n            }\n            else {\n                return value.toString();\n            }\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To calculate dimensions of Gantt control\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.calculateDimensions = function () {\n        var settingsHeight = this.validateDimentionValue(this.height);\n        var settingsWidth = this.validateDimentionValue(this.width);\n        if (!isNullOrUndefined(this.width) && typeof (this.width) === 'string' && this.width.indexOf('%') !== -1) {\n            settingsWidth = this.width;\n        }\n        var elementStyleHeight = this.element.style.height;\n        var elementStyleWidth = this.element.style.width;\n        if (settingsWidth) {\n            this.element.style.width = settingsWidth;\n        }\n        if (settingsHeight) {\n            this.element.style.height = settingsHeight;\n        }\n        if (!settingsHeight && !elementStyleHeight) {\n            this.element.style.height = 'auto'; // old 450px\n        }\n        if (!settingsWidth && !elementStyleWidth) {\n            this.element.style.width = 'auto';\n        }\n        this.ganttHeight = this.element.offsetHeight;\n        this.ganttWidth = this.element.offsetWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.render = function () {\n        if (this.isReact) {\n            this.treeGrid.isReact = true;\n            this.treeGrid.grid.isReact = true;\n        }\n        if (this.isVue) {\n            this.treeGrid.isVue = true;\n            this.treeGrid.grid.isVue = true;\n            /* eslint-disable-next-line */\n            this.treeGrid.vueInstance = this.vueInstance;\n            /* eslint-disable-next-line */\n            this.treeGrid.grid.vueInstance = this.vueInstance;\n        }\n        this.element.setAttribute('role', 'application');\n        createSpinner({ target: this.element }, this.createElement);\n        this.trigger('load', {});\n        this.element.classList.add(cls.root);\n        var height = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.rowHeight === 36) ? 46 : this.rowHeight : this.rowHeight;\n        this.rowHeight = isNullOrUndefined(this.rowHeight) ? 36 : height;\n        if (this.isAdaptive) {\n            this.element.classList.add(cls.adaptive);\n        }\n        else {\n            this.element.classList.remove(cls.adaptive);\n        }\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.renderToolbar();\n        }\n        this.splitterModule.renderSplitter();\n        this.notify('renderPanels', null);\n        this.actionFailures();\n        if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n            this.showMaskRow();\n        }\n        else {\n            this.showSpinner();\n        }\n        this.dataOperation.checkDataBinding();\n    };\n    Gantt.prototype.actionFailures = function () {\n        var failureCases = [];\n        var lettersRegex = /^[a-zA-Z/]+$/;\n        var allPropertiesNull = true;\n        var fields = this.taskFields['properties'];\n        var shouldBreak = false;\n        Object.keys(fields).forEach(function (key) {\n            if (fields[key] !== null) {\n                allPropertiesNull = false;\n                shouldBreak = true;\n            }\n        });\n        var isPrimary = true;\n        for (var i = 0; i < this.columns.length; i++) {\n            if (this.columns[i]['isPrimaryKey']) {\n                isPrimary = false;\n                break;\n            }\n        }\n        if (allPropertiesNull) {\n            failureCases.push('Gantt Task Fields are not configured properly. The task fields are crucial for both the project and resource views to function properly. Please ensure that the gantt task fields are properly configured!');\n        }\n        if (this.viewType === 'ResourceView') {\n            if (!this.resourceFields.id) {\n                failureCases.push('Gantt Resource Fields are not properly configured, which is crucial for the Resource View. Please ensure that the resource fields are configured correctly!');\n            }\n        }\n        if (this.dataSource instanceof DataManager && isNullOrUndefined(this.taskFields.hasChildMapping)) {\n            failureCases.push('hasChildMapping property is not configured for load-on-demand. Please ensure its properly configured in the Gantt Task Fields!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.topTier.format) && this.timelineSettings.topTier.format !== '' && !lettersRegex.test(this.timelineSettings.topTier.format)) {\n            failureCases.push('The provided top tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.bottomTier.format) && this.timelineSettings.bottomTier.format !== '' && !lettersRegex.test(this.timelineSettings.bottomTier.format)) {\n            failureCases.push('The provided bottom  tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (isPrimary && this.viewType !== 'ResourceView') {\n            failureCases.push('Primarykey is not configured properly. The primarykey is crucial for doing CRUD operations or map taskId in column field of gantt!');\n        }\n        if (this.eventMarkers.length > 0) {\n            this.eventMarkers.forEach(function (markers) {\n                if (!markers.day) {\n                    failureCases.push('Day is not configured properly in event markers.Please ensure that the day in event markers is properly configured!');\n                }\n            });\n        }\n        /* eslint-disable-next-line */\n        function checkModule(moduleName, settings, injectedModules, failureCases) {\n            /* eslint-disable-next-line */\n            var modules;\n            if (!isNullOrUndefined(injectedModules)) {\n                modules = injectedModules.filter(function (e) { return e.prototype.getModuleName() === moduleName; });\n            }\n            if (settings && !isNullOrUndefined(modules) && modules.length === 0) {\n                failureCases.push(\"Module \" + moduleName + \" is not available in Gantt component! You either misspelled the module name or forgot to load it!\");\n            }\n        }\n        checkModule('sort', this.allowSorting, this.injectedModules, failureCases);\n        var editSettings;\n        if (this.editSettings.allowAdding || this.editSettings.allowDeleting || this.editSettings.allowEditing ||\n            this.editSettings.allowNextRowEdit || this.editSettings.allowTaskbarEditing || this.editSettings.mode ||\n            this.editSettings.newRowPosition || this.editSettings.showDeleteConfirmDialog) {\n            editSettings = true;\n        }\n        checkModule('edit', editSettings, this.injectedModules, failureCases);\n        checkModule('reorder', this.allowReordering, this.injectedModules, failureCases);\n        checkModule('excelExport', this.allowExcelExport, this.injectedModules, failureCases);\n        var dragAndDrop;\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            dragAndDrop = true;\n        }\n        checkModule('rowDragAndDrop', dragAndDrop, this.injectedModules, failureCases);\n        checkModule('criticalPath', this.enableCriticalPath, this.injectedModules, failureCases);\n        checkModule('undoRedo', this.enableUndoRedo, this.injectedModules, failureCases);\n        checkModule('resize', this.allowResizing, this.injectedModules, failureCases);\n        var toolbar;\n        if (this.toolbar && this.toolbar.length > 0) {\n            toolbar = true;\n        }\n        checkModule('toolbar', toolbar, this.injectedModules, failureCases);\n        var filter;\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            filter = true;\n        }\n        checkModule('filter', filter, this.injectedModules, failureCases);\n        checkModule('selection', this.allowSelection, this.injectedModules, failureCases);\n        var dayMarkers;\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            dayMarkers = true;\n        }\n        checkModule('dayMarkers', dayMarkers, this.injectedModules, failureCases);\n        checkModule('contextMenu', this.enableContextMenu, this.injectedModules, failureCases);\n        checkModule('columnMenu', this.showColumnMenu, this.injectedModules, failureCases);\n        checkModule('pdfExport', this.allowPdfExport, this.injectedModules, failureCases);\n        checkModule('virtualScroll', this.enableVirtualization, this.injectedModules, failureCases);\n        if (failureCases.length > 0) {\n            /* eslint-disable-next-line */\n            var failureEventArgs_1 = {\n                error: {}\n            };\n            /* eslint-disable-next-line */\n            failureCases.forEach(function (err, index) {\n                failureEventArgs_1.error[parseInt(index, 10)] = err;\n            });\n            this.trigger('actionFailure', failureEventArgs_1);\n        }\n    };\n    Gantt.prototype.hideMaskRow = function () {\n        var isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.contentMaskTable) && (isTablePresent !== 0 || this.contentMaskTable)) {\n            var maskTable = this.contentMaskTable;\n            remove(maskTable);\n            this.contentMaskTable = null;\n        }\n        isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.headerMaskTable) && (isTablePresent !== 0 || this.headerMaskTable)) {\n            var maskTable = this.headerMaskTable;\n            remove(maskTable);\n            this.headerMaskTable = null;\n        }\n        while ((this.element.querySelectorAll('.e-table-background')).length !== 0) {\n            this.element.querySelectorAll('.e-table-background')[0].remove();\n        }\n        while ((this.element.querySelectorAll('.e-temp-timeline')).length !== 0) {\n            this.element.querySelectorAll('.e-temp-timeline')[0].remove();\n        }\n        if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n            for (var i = 0; i < this.singleTier; i++) {\n                if (!isNullOrUndefined(this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)])) {\n                    this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'visible';\n                }\n            }\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.' + cls.timelineHeaderContainer))) {\n            this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'relative';\n        }\n        if (!isNullOrUndefined(this.element.getElementsByClassName(cls.chartBodyContent)[0])) {\n            this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'visible';\n        }\n    };\n    Gantt.prototype.showMaskRow = function () {\n        var ganttHeader = this.chartPane.childNodes[0].childNodes[0];\n        this.scrollLeftValue = this.chartPane.childNodes[0].childNodes[0]['scrollLeft'];\n        var ganttContent = this.chartPane.childNodes[0].childNodes[1];\n        if (this.treeGrid.element) {\n            this.ganttChartModule['setVirtualHeight']();\n        }\n        if (!this.contentMaskTable) {\n            if (ganttContent) {\n                var content = ganttContent;\n                this.renderBackGround(content);\n                if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n                    this.singleTier = this.timelineModule.isSingleTier ? 1 : 2;\n                    for (var i = 0; i < this.singleTier; i++) {\n                        this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'hidden';\n                    }\n                }\n                if (this.singleTier === 0) {\n                    this.singleTier = 2;\n                }\n                this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'hidden';\n                this.contentMaskTable = this.contentMaskTable = this.createMaskTable(content);\n            }\n            if (ganttHeader) {\n                this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'static';\n                var content = ganttHeader;\n                this.renderHeaderBackground(content);\n                this.headerMaskTable = this.headerMaskTable = this.createMaskTable(content);\n            }\n        }\n    };\n    Gantt.prototype.renderHeaderBackground = function (element) {\n        var parentElement = element;\n        // const timelineHeight: any = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        if (header) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= ((160))) + 'px; top:0px;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += ((160))) + 'px; top:0px;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    Gantt.prototype.renderBackGround = function (element) {\n        var parentElement = element;\n        // const timelineHeight: number = element.getBoundingClientRect().height;\n        var content = closest(parentElement, '.' + cls.chartBodyContainer) ? true : false;\n        if (content) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= (160)) + 'px;z-index:1;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += (160)) + 'px;z-index:1;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    /* eslint-disable-next-line */\n    Gantt.prototype.createMaskTable = function (element) {\n        var parentElement = element;\n        var shimmerContainerHeight = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        /* eslint-disable-next-line */\n        var maskTable;\n        if (header) {\n            maskTable = this.createEmptyTimeLineTable(shimmerContainerHeight);\n            maskTable.style.position = 'sticky';\n            maskTable.style.left = 0 + 'px';\n            if (this.enableRtl) {\n                maskTable.style.removeProperty('left');\n            }\n        }\n        else {\n            maskTable = this.createEmptyMaskTable(shimmerContainerHeight);\n            maskTable.style.position = 'absolute';\n            maskTable.style.zIndex = 1;\n        }\n        if (!header) {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            parentElement.insertBefore(maskTable, parentElement.firstChild);\n        }\n        else {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            var div = this.createElement('div', { className: 'e-temp-timeline' });\n            div.style.width = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] + 'px';\n            div.style.position = 'sticky';\n            if (this.enableRtl) {\n                div.style['margin-right'] = Math.abs(this.scrollLeftValue) + 'px';\n            }\n            else {\n                div.style['margin-left'] = this.scrollLeftValue + 'px';\n            }\n            div.appendChild(maskTable);\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n        return maskTable;\n    };\n    Gantt.prototype.createEmptyTimeLineTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', {\n            className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 2 + 'px;'\n            }\n        });\n        for (var i = 0; i < this.singleTier; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        this.topBottomHeader = 0;\n        for (var i = 0; i < row.length; i++) {\n            tbody.appendChild(this.applyTimelineMaskRow(row[parseInt(i.toString(), 10)]));\n            this.topBottomHeader = this.topBottomHeader + 1;\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        return table;\n    };\n    Gantt.prototype.applyTimelineMaskRow = function (row) {\n        var maskRow = row;\n        var num = 4;\n        if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166 > 4) {\n            num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166;\n        }\n        for (var i = 0; i < num; i++) {\n            maskRow.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n        }\n        for (var i = 0; i < maskRow.childNodes.length - 1; i++) {\n            maskRow.childNodes[parseInt(i.toString(), 10)]['style']['width'] = 166 + 'px';\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.topBottomHeader) {\n                case 0:\n                    {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                            maskCell.children[0]['style'].left = -20 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                        }\n                        break;\n                    }\n                case 1:\n                    {\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        var innerMaskCells = [].slice.call(maskCell.childNodes);\n                        for (var i_1 = 0; i_1 < innerMaskCells.length; i_1++) {\n                            var htmlInner = innerMaskCells[parseInt(i_1.toString(), 10)];\n                            if (i_1 === 0) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                    htmlInner.children[0]['style'].left = -14 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                }\n                            }\n                            else if (i_1 === 1) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                    htmlInner.children[0]['style'].left = -30 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                }\n                            }\n                            else {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                    htmlInner.children[0]['style'].left = -60 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                }\n                            }\n                        }\n                        break;\n                    }\n            }\n        }\n        return maskRow;\n    };\n    Gantt.prototype.createEmptyMaskTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', { className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 7 + 'px;'\n            } });\n        this.columnLoop = 0;\n        for (var i = 0; i < 6; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        for (var j = 0; j < row.length; j++) {\n            if (this.columnLoop < 4) {\n                this.columnLoop = this.columnLoop + 1;\n            }\n            else if (this.columnLoop === 4) {\n                this.columnLoop = 1;\n            }\n            tbody.appendChild(this.applyMaskRow(row[parseInt(j.toString(), 10)]));\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        var div = this.createElement('div', { className: 'e-temp-container' });\n        div.style.width = 'calc(100% - ' + 17 + 'px)';\n        div.style.overflow = 'hidden';\n        div.appendChild(table);\n        return div;\n    };\n    Gantt.prototype.applyMaskRow = function (row) {\n        var maskRow = row;\n        if (this.columnLoop < 4) {\n            var num = 2;\n            if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300 > 2) {\n                num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300;\n            }\n            for (var i = 0; i < num; i++) {\n                maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n            }\n        }\n        else {\n            maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.columnLoop) {\n                case 1:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell02\"></span>';\n                    }\n                    break;\n                case 2:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell04\"></span>';\n                    }\n                    break;\n                case 3:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                            maskCell.children[0]['style'].left = -64 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                        }\n                    }\n                    else {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                            maskCell.children[0]['style'].left = -192 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                        }\n                    }\n                    break;\n                case 4:\n                    if (this.enableRtl) {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                        maskCell.children[0]['style'].left = -388 + 'px';\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                    }\n                    break;\n            }\n        }\n        return maskRow;\n    };\n    /**\n     * Method used to show spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.showSpinner = function () {\n        showSpinner(this.element);\n    };\n    /**\n     * Method used to hide spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.hideSpinner = function () {\n        hideSpinner(this.element);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.processTimeline = function () {\n        this.timelineModule.processTimelineUnit();\n        this.timelineModule.calculateZoomingLevelsPerDayWidth(); // To calculate the perDaywidth\n    };\n    /**\n     * @param {boolean} isChange -Defines whether task data is changed.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderGantt = function (isChange) {\n        if (isChange) {\n            this.isFromOnPropertyChange = isChange;\n        }\n        if (this.allowParentDependency) {\n            this.predecessorModule.updateParentPredecessor();\n        }\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.predecessorModule['parentIds'] = [];\n            this.predecessorModule['parentRecord'] = [];\n            this.predecessorModule.updatePredecessors();\n            if (this.isInPredecessorValidation && this.enableValidation && this.autoCalculateDateScheduling) {\n                this.predecessorModule.updatedRecordsDateByPredecessor();\n            }\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n            this.dataOperation.updateGanttData();\n        }\n        if (isChange) {\n            if (this.dataSource instanceof Object && isCountRequired(this)) {\n                var count = getValue('count', this.dataSource);\n                this.treeGrid.dataSource = { result: this.flatData, count: count };\n            }\n            else {\n                this.treeGrid.setProperties({ dataSource: this.flatData }, false);\n            }\n        }\n        else {\n            this.treeGridPane.classList.remove('e-temp-content');\n            remove(this.treeGridPane.querySelector('.e-gantt-temp-header'));\n            this.notify('dataReady', {});\n            if (this.enableContextMenu) {\n                this.notify('initiate-contextMenu', {});\n            }\n            this.renderTreeGrid();\n            this.wireEvents();\n            this.notify('initPredessorDialog', {});\n        }\n        if (!this.isFromOnPropertyChange) {\n            this.splitterModule.updateSplitterPosition();\n        }\n        if ((this.gridLines === 'Vertical' || this.gridLines === 'Both') && (!this.dayMarkersModule)) {\n            this.renderChartVerticalLines();\n        }\n    };\n    Gantt.prototype.removeCriticalPathStyles = function () {\n        var ganttChartElement = this.ganttChartModule.chartElement;\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-progressbar-inner-div'), cls.criticalChildProgressBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-critical-milestone'), cls.criticalMilestone);\n        removeClass(this.element.querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n        removeClass(this.element.querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n    };\n    Gantt.prototype.wireEvents = function () {\n        if (this.allowKeyboard) {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfig,\n                eventName: 'keydown'\n            });\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(document.body, 'keydown', this.keyDownHandler, this);\n    };\n    Gantt.prototype.unwireEvents = function () {\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n            this.keyboardModule = null;\n        }\n        /* eslint-disable-next-line */\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(document.body, 'keydown', this.keyDownHandler);\n    };\n    Gantt.prototype.keyDownHandler = function (e) {\n        if (e.altKey) {\n            if (e.keyCode === 74) { //alt j\n                this.ganttChartModule.manageFocus(this.treeGrid.element.childNodes[1], 'remove', false);\n                this.ganttChartModule.manageFocus(this.element, 'add', false);\n            }\n        }\n    };\n    /**\n     * Method trigger while user perform window resize.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.windowResize = function () {\n        var _this = this;\n        if (!isNullOrUndefined(this.element)) {\n            this.updateContentHeight();\n            this.ganttChartModule.updateWidthAndHeight(); // Updating chart scroll conatiner height for row mismatch\n            this.treeGridModule.ensureScrollBar();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.updateRowHeightInConnectorLine(this.updatedConnectorLineCollection);\n                this.connectorLineModule.renderConnectorLines(this.updatedConnectorLineCollection);\n            }\n            var criticalModule = this.criticalPathModule;\n            if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n            this.calculateDimensions();\n            var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n            var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n            this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n            this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n            this.splitterModule.splitterObject.paneSettings[1].size = (this.ganttWidth - parseInt(this.splitterModule.splitterPreviousPositionGrid, 10) - 4) + 'px';\n            if (this.timelineModule.isZoomToFit) {\n                setTimeout(function () {\n                    _this.timelineModule.processZoomToFit();\n                }, 0);\n            }\n        }\n        if (this.dayMarkersModule && this.dayMarkersModule[\"eventMarkerRender\"]) {\n            this.dayMarkersModule[\"eventMarkerRender\"].updateContainerHeight();\n        }\n    };\n    Gantt.prototype.keyActionHandler = function (e) {\n        if (this.enableContextMenu && this.contextMenuModule && (e.action === 'downArrow' || e.action === 'upArrow') && document.getElementById(this.element.id + '_contextmenu') && this['args']) {\n            var firstMenuItem = this['args'];\n            if (!isNullOrUndefined(firstMenuItem)) {\n                (firstMenuItem).focus();\n            }\n        }\n        if (e.target && (e.action === 'downArrow' || e.action === 'upArrow') && e.target === this.element.querySelector('.e-rowcell')) {\n            this.treeGrid.grid.notify('key-pressed', e);\n        }\n        else {\n            this.focusModule.onKeyPress(e);\n        }\n    };\n    /**\n     * Method for updating row height value in connector line collections\n     *\n     * @param {IConnectorLineObject[]} collection  -Defines the CollectorLine collection.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateRowHeightInConnectorLine = function (collection) {\n        if (collection && collection.length) {\n            var rowHeight = this.ganttChartModule.getChartRows()[0]\n                && this.ganttChartModule.getChartRows()[0].getBoundingClientRect().height;\n            if (rowHeight && !isNaN(rowHeight)) {\n                for (var count = 0; count < collection.length; count++) {\n                    collection[count].rowHeight = rowHeight;\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderToolbar = function () {\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.toolbarModule.renderToolbar();\n            this.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderTreeGrid = function () {\n        this.treeGridModule.renderTreeGrid();\n    };\n    Gantt.prototype.updateCurrentViewData = function () {\n        var _this = this;\n        this.currentViewData = this.treeGrid.getCurrentViewRecords().slice();\n        if (!this.loadChildOnDemand && this.taskFields.hasChildMapping && this.currentViewData.length > 0) {\n            this.autoCalculateDateScheduling = false;\n            this.flatData = [];\n            this.dataOperation.taskIds = [];\n            this.ids = [];\n            this.dataOperation.recordIndex = 0;\n            this.dataOperation.dataArray = this.currentViewData;\n            this.dataOperation.cloneDataSource();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.predecessorModule['parentIds'] = [];\n                this.predecessorModule['parentRecord'] = [];\n                this.predecessorModule.updatePredecessors();\n            }\n            /* eslint-disable-next-line */\n            var gridData = this.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.taskFields.id] === _this.flatData[0].ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            var index = data['index'];\n            for (var i = 0; i < this.flatData.length; i++) {\n                this.flatData[i].index = index;\n                index++;\n            }\n            this.currentViewData = this.flatData;\n            this.treeGrid.grid.currentViewData = this.flatData;\n            if (!isNullOrUndefined(this.treeGrid['virtualScrollModule'])) {\n                this.treeGrid['virtualScrollModule'].visualData = this.flatData;\n                this.updatedRecords = this.flatData;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} records -Defines the delete record collections.\n     * @returns {IGanttData} .\n     * @private\n     */\n    Gantt.prototype.getRecordFromFlatdata = function (records) {\n        var updatedRecord = [];\n        for (var i = 0; i < records.length; i++) {\n            updatedRecord.push(this.getTaskByUniqueID(records[i].uniqueID));\n        }\n        return updatedRecord;\n    };\n    /**\n     * @param {object} args -Update the gantt element content height.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateContentHeight = function (args) {\n        if ((!this.allowTaskbarOverlap && !this.ganttChartModule.isCollapseAll && !this.ganttChartModule.isExpandAll) && !this.isLoad) {\n            return;\n        }\n        else {\n            if (this.virtualScrollModule && this.enableVirtualization && !isNullOrUndefined(args)) {\n                var length_1 = getValue('result.length', args);\n                this.contentHeight = length_1 * this.rowHeight;\n            }\n            else {\n                var expandedRecords = this.virtualScrollModule && this.enableVirtualization ?\n                    this.currentViewData : this.getExpandedRecords(this.currentViewData);\n                var height = void 0;\n                var chartRow = !isNullOrUndefined(this.ganttChartModule.getChartRows()) ?\n                    this.ganttChartModule.getChartRows()[0] : null;\n                if (!isNullOrUndefined(chartRow) && chartRow.getBoundingClientRect().height > 0) {\n                    height = chartRow.getBoundingClientRect().height;\n                }\n                else {\n                    height = this.rowHeight;\n                }\n                this.contentHeight = expandedRecords.length * height;\n            }\n        }\n    };\n    /**\n     * To get expand status.\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.getExpandStatus = function (data) {\n        var parentRecord = this.getParentTask(data.parentItem);\n        if (!isNullOrUndefined(parentRecord)) {\n            if (parentRecord.expanded === false) {\n                return false;\n            }\n            else if (parentRecord.parentItem) {\n                var parentData = this.getParentTask(parentRecord.parentItem);\n                if (parentData.expanded === false) {\n                    return false;\n                }\n                else {\n                    return this.getExpandStatus(this.getParentTask(parentRecord.parentItem));\n                }\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Get expanded records from given record collection.\n     *\n     * @param {IGanttData[]} records - Defines record collection.\n     * @returns {IGanttData[]} .\n     * @deprecated\n     */\n    Gantt.prototype.getExpandedRecords = function (records) {\n        var _this = this;\n        if (isNullOrUndefined(records)) {\n            return [];\n        }\n        var expandedRecords = records.filter(function (record) {\n            return _this.getExpandStatus(record) === true;\n        });\n        return expandedRecords;\n    };\n    /**\n     * Getting the Zooming collections of the Gantt control\n     *\n     * @returns {ZoomTimelineSettings} .\n     * @private\n     */\n    Gantt.prototype.getZoomingLevels = function () {\n        var _WeekStartDay = this.timelineSettings.weekStartDay;\n        var zoomingLevels = [\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 50 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 10 }, timelineUnitSize: 99, level: 0,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 20 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 5 }, timelineUnitSize: 99, level: 1,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 5 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 1 }, timelineUnitSize: 99, level: 2,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 66, level: 3,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 99, level: 4,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 66, level: 5,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 99, level: 6,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: { unit: 'Month', format: 'MMM yyyy', count: 1 }, timelineUnitSize: 99, level: 7,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd', count: 1 }, timelineUnitSize: 33, level: 8,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 66, level: 9,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 99, level: 10,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 33, level: 11,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 66, level: 12,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 99, level: 13,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 66, level: 14,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 99, level: 15,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 66, level: 16,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 99, level: 17,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 66, level: 18,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 99, level: 19,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 66, level: 20,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 99, level: 21,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 30 }, timelineUnitSize: 66, level: 22,\n                timelineViewMode: 'Hour', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 15 }, timelineUnitSize: 66, level: 23,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 1 }, timelineUnitSize: 66, level: 24,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            }\n        ];\n        return zoomingLevels;\n    };\n    Gantt.prototype.displayQuarterValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 2) {\n            return 'Q1';\n        }\n        else if (month >= 3 && month <= 5) {\n            return 'Q2';\n        }\n        else if (month >= 6 && month <= 8) {\n            return 'Q3';\n        }\n        else {\n            return 'Q4';\n        }\n    };\n    Gantt.prototype.displayHalfValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 5) {\n            return 'H1';\n        }\n        else {\n            return 'H2';\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @returns {string} .\n     */\n    Gantt.prototype.getFormatedDate = function (date, format) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        if (isNullOrUndefined(format)) {\n            format = this.getDateFormat();\n        }\n        return this.globalize.formatDate(date, { format: format });\n    };\n    /**\n     * Get duration value as string combined with duration and unit values.\n     *\n     * @param {number} duration - Defines the duration.\n     * @param {string} durationUnit - Defines the duration unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getDurationString = function (duration, durationUnit) {\n        var value = this.dateValidationModule.getDurationString(duration, durationUnit);\n        return value;\n    };\n    /**\n     * Get work value as string combined with work and unit values.\n     *\n     * @param {number} work - Defines the work value.\n     * @param {string} workUnit - Defines the work unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getWorkString = function (work, workUnit) {\n        var value = this.dateValidationModule.getWorkString(work, workUnit);\n        return value;\n    };\n    Gantt.prototype.updateTreeColumns = function () {\n        var temp;\n        // let field: string;\n        var gridColumns = this.treeGrid.grid.getColumns();\n        if (this.treeColumnIndex !== -1 && this.columns[this.treeColumnIndex] &&\n            !isNullOrUndefined(this.columns[this.treeColumnIndex]['template'])) {\n            temp = this.columns[this.treeColumnIndex]['template'];\n            // field = this.columns[this.treeColumnIndex]['field'];\n        }\n        var gridColumn;\n        for (var i = 0; i < gridColumns.length; i++) {\n            gridColumn = {};\n            for (var j = 0; j < this.columns.length; j++) {\n                if (this.columns[j]['field'] === gridColumns[i].field) {\n                    for (var _i = 0, _a = Object.keys(this.columns[j]); _i < _a.length; _i++) {\n                        var prop = _a[_i];\n                        if (!isUndefined(this.columns[j][prop])) {\n                            gridColumn[prop] = gridColumns[i][prop];\n                        }\n                        gridColumn.visible = gridColumns[i].visible;\n                        gridColumn.width = gridColumns[i].width;\n                    }\n                    this.columns[j] = (gridColumn);\n                    if (this.columns[j]['type'] !== 'checkbox' && (!isNullOrUndefined(temp) && temp !== '')) {\n                        this.columns[j]['template'] = temp;\n                    }\n                }\n            }\n        }\n        if (this.columns.length > 0) {\n            this.treeGrid.setProperties({ columns: this.columns }, true);\n        }\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.treeDataBound = function (args) {\n        if (this.isLoad && this.undoRedoModule) {\n            if (this.sortSettings.columns.length > 0) {\n                this.undoRedoModule['previousSortedColumns'] = this.sortSettings.columns;\n            }\n            else if (this.searchSettings.key !== '') {\n                this.undoRedoModule['searchString'] = this.searchSettings.key;\n            }\n        }\n        this.element.getElementsByClassName('e-chart-root-container')[0]['style'].height = '100%';\n        // let gridHeight: string = this.element.getElementsByClassName('e-gridcontent')[0]['style'].height;\n        var gridContent = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0];\n        gridContent.setAttribute('tabindex', '0');\n        var treeGridrole = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0].childNodes[0];\n        treeGridrole.setAttribute('role', 'treegrid');\n        var timelineContainer = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        // gridHeight = 'calc(100% - ' + timelineContainer + 'px)';\n        // this.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        var scrollContainer = this.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        scrollContainer['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        scrollContainer.setAttribute('tabindex', '0');\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.splitterElement.style.height = 'calc(100% - ' + this.toolbarModule.element.offsetHeight + 'px)';\n        }\n        else {\n            this.splitterElement.style.height = '100%';\n        }\n        if (this.isLoad) {\n            if (this.enablePersistence) {\n                this.updateTreeColumns();\n            }\n            this.updateCurrentViewData();\n            if (!this.enableVirtualization) {\n                this.updateContentHeight();\n            }\n            if (!this.isTreeGridRendered) {\n                this.isTreeGridRendered = true;\n                // let toolbarHeight: number = 0;\n                // if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n                //     toolbarHeight = this.toolbarModule.element.offsetHeight;\n                // }\n                if (this.timelineModule.isSingleTier) {\n                    addClass(this.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                    addClass(this.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n                }\n                else {\n                    removeClass(this.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                    removeClass(this.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n                }\n                this.treeGrid.height = '100%';\n                this.notify('tree-grid-created', {});\n                this.createGanttPopUpElement();\n                if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                    this.hideMaskRow();\n                }\n                else {\n                    this.hideSpinner();\n                }\n                setValue('isGanttCreated', true, args);\n                this.renderComplete();\n            }\n        }\n        else {\n            this.getCurrentRecords(args);\n        }\n        if (!this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.updateContentHeight();\n        }\n        if (this.enableCriticalPath && this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n        }\n        this.notify('recordsUpdated', {});\n        for (var i = 0; i < document.getElementsByClassName('e-timeline-header-table-container').length; i++) {\n            for (var j = 0; j < document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children.length; j++) {\n                var childElement = document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children[j].children[0];\n                if (childElement) {\n                    childElement.setAttribute('tabindex', '-1');\n                }\n            }\n        }\n        var criticalModule = this.criticalPathModule;\n        if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        this.initialChartRowElements = this.ganttChartModule.getChartRows();\n        this.isLoad = false;\n        if (!this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.autoCalculateDateScheduling = true;\n        }\n        if (this.undoRedoModule) {\n            this.previousFlatData = extend([], this.flatData, [], true);\n        }\n        this.trigger('dataBound', args);\n    };\n    /**\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.getCurrentRecords = function (args) {\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.connectorLineModule.removePreviousConnectorLines(this.currentViewData);\n        }\n        this.updateCurrentViewData();\n        if (!this.enableVirtualization) {\n            this.updateContentHeight();\n        }\n        // this.chartRowsModule.refreshGanttRows();\n        if (this.virtualScrollModule && this.enableVirtualization) {\n            this.ganttChartModule.virtualRender.adjustTable();\n            this.ganttChartModule.scrollObject.updateTopPosition();\n        }\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @param {GanttModel} newProp - Defines the New GanttModel.\n     * @param {GanttModel} oldProp - Defines the old GanttModel.\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var isRefresh = false;\n        // eslint-disable-next-line\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowSelection':\n                case 'allowRowDragAndDrop':\n                case 'allowFiltering':\n                case 'showColumnMenu':\n                case 'allowResizing':\n                case 'allowReordering':\n                case 'enableImmutableMode':\n                    this.treeGrid[prop] = this[prop];\n                    this.treeGrid.dataBind();\n                    break;\n                case 'workWeek':\n                    this.dataOperation.getNonWorkingDayIndex();\n                    this.dataOperation.reUpdateGanttData();\n                    this.chartRowsModule.initiateTemplates();\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                    }\n                    this.chartRowsModule.refreshGanttRows();\n                    this.treeGrid.refreshColumns();\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'toolbar':\n                    this.notify('ui-toolbarupdate', { module: 'toolbar', properties: newProp });\n                    break;\n                case 'columnMenuItems':\n                    this.treeGrid.grid.columnMenuItems = getActualProperties(this.columnMenuItems);\n                    break;\n                case 'eventMarkers':\n                case 'highlightWeekends':\n                    this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    break;\n                case 'sortSettings':\n                    this.treeGrid.sortSettings = getActualProperties(this.sortSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'timelineSettings':\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'rowHeight':\n                case 'taskbarHeight':\n                    this.treeGrid.rowHeight = this.rowHeight;\n                    this.treeGrid.dataBind();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    if (this.taskFields.dependency) {\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'timezone':\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableCriticalPath':\n                    if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                        this.hideMaskRow();\n                    }\n                    else {\n                        this.hideSpinner();\n                    }\n                    if (this.enableCriticalPath && this.criticalPathModule) {\n                        this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n                        var criticalModule = this.criticalPathModule;\n                        if (criticalModule.criticalPathCollection) {\n                            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                        }\n                    }\n                    else {\n                        this.removeCriticalPathStyles();\n                    }\n                    break;\n                case 'filterSettings':\n                    this.treeGrid.filterSettings = getActualProperties(this.filterSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'gridLines':\n                    this.treeGrid.gridLines = this.gridLines;\n                    this.treeGrid.dataBind();\n                    this.renderChartGridLines();\n                    break;\n                case 'tooltipSettings':\n                    if (this.tooltipModule.toolTipObj) {\n                        this.tooltipModule.toolTipObj.destroy();\n                    }\n                    this.tooltipModule.createTooltip();\n                    break;\n                case 'splitterSettings':\n                    this.splitterModule.updateSplitterPosition();\n                    break;\n                case 'selectionSettings':\n                    this.treeGrid.selectionSettings = getActualProperties(this.selectionSettings);\n                    this.treeGrid.grid.selectionSettings.enableToggle = this.selectionSettings.enableToggle;\n                    this.treeGrid.dataBind();\n                    break;\n                case 'searchSettings':\n                    if (newProp.searchSettings.key !== ('' || undefined)) {\n                        this.treeGrid.grid.searchSettings = getActualProperties(this.searchSettings);\n                        this.treeGrid.grid.dataBind();\n                    }\n                    this.treeGrid.searchSettings = getActualProperties(this.searchSettings);\n                    this.treeGrid.dataBind();\n                    if (this.toolbarModule) {\n                        this.toolbarModule.updateSearchTextBox();\n                    }\n                    break;\n                case 'labelSettings':\n                case 'renderBaseline':\n                case 'baselineColor':\n                    this.isFromRenderBaseline = true;\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isFromRenderBaseline = false;\n                    break;\n                case 'resourceIDMapping':\n                case 'resourceNameMapping':\n                case 'resources':\n                    this.dataOperation.reUpdateResources();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    break;\n                case 'includeWeekend':\n                case 'allowUnscheduledTasks':\n                case 'holidays':\n                    this.isLoad = true;\n                    if (prop === 'holidays') {\n                        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n                        this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    }\n                    this.dataOperation.reUpdateGanttData();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isLoad = false;\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                        this.treeGrid.refreshColumns();\n                        this.chartRowsModule.refreshGanttRows();\n                    }\n                    break;\n                case 'dayWorkingTime':\n                case 'weekWorkingTime':\n                    isRefresh = true;\n                    break;\n                case 'addDialogFields':\n                case 'editDialogFields':\n                    if (this.editModule && this.editModule.dialogModule) {\n                        this.editModule.dialogModule.processDialogFields();\n                    }\n                    break;\n                case 'columns':\n                    this.treeGridModule.treeGridColumns = [];\n                    this.treeGridModule.validateGanttColumns();\n                    this.treeGrid.columns = this.treeGridModule.treeGridColumns;\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    break;\n                case 'width':\n                case 'height':\n                    this.reUpdateDimention(prop);\n                    break;\n                case 'editSettings':\n                    this.treeGrid.editSettings.allowAdding = this.editSettings.allowAdding;\n                    this.treeGrid.editSettings.allowDeleting = this.editSettings.allowDeleting;\n                    this.treeGrid.editSettings.showDeleteConfirmDialog = this.editSettings.showDeleteConfirmDialog;\n                    this.treeGrid.editSettings.allowEditing = this.editSettings.allowEditing;\n                    this.treeGrid.editSettings.allowNextRowEdit = this.editSettings.allowNextRowEdit;\n                    if (!isNullOrUndefined(this.editModule)) {\n                        this.editModule.reUpdateEditModules();\n                    }\n                    if (!isNullOrUndefined(this.toolbarModule)) {\n                        this.toolbarModule.refreshToolbarItems();\n                    }\n                    break;\n                case 'connectorLineBackground':\n                case 'connectorLineWidth':\n                    if (this.taskFields.dependency) {\n                        this.connectorLineModule.initPublicProp();\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'treeColumnIndex':\n                    this.treeGrid.treeColumnIndex = this.treeColumnIndex;\n                    break;\n                case 'projectStartDate':\n                case 'projectEndDate':\n                    this.timelineModule.isZoomToFit = false;\n                    this.dataOperation.calculateProjectDates();\n                    this.updateProjectDates(this.cloneProjectStartDate, this.cloneProjectEndDate, this.isTimelineRoundOff);\n                    break;\n                case 'selectedRowIndex':\n                    if (!isNullOrUndefined(this.selectionModule)) {\n                        this.selectionModule.selectRowByIndex();\n                    }\n                    break;\n                case 'dataSource':\n                    this.closeGanttActions();\n                    if (this.dataSource instanceof Object && isCountRequired(this)) {\n                        // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n                        this.treeGrid.hasChildMapping = 'isParent';\n                        var count = getValue('count', this.dataSource);\n                        this.treeGrid.dataSource = { result: this.flatData, count: count };\n                    }\n                    else {\n                        this.treeGrid.hasChildMapping = null;\n                    }\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableContextMenu':\n                case 'contextMenuItems':\n                    if (this.enableContextMenu || prop === 'contextMenuItems') {\n                        this.notify('reRender-contextMenu', { module: 'contextMenu', enable: this.contextMenuItems });\n                    }\n                    else {\n                        this.treeGrid.contextMenuItems = [];\n                    }\n                    this.treeGrid.dataBind();\n                    break;\n                case 'currencyCode':\n                case 'locale':\n                case 'enableRtl':\n                case 'readOnly':\n                case 'viewType':\n                case 'taskFields':\n                case 'allowTaskbarDragAndDrop':\n                case 'allowTaskbarOverlap':\n                case 'allowParentDependency':\n                case 'enableMultiTaskbar':\n                    if (prop === 'locale') {\n                        this.isLocaleChanged = true;\n                    }\n                    if (prop === 'taskFields') {\n                        if (!isNullOrUndefined(newProp.taskFields.child)) {\n                            return;\n                        }\n                    }\n                    if (prop !== 'allowTaskbarDragAndDrop') {\n                        isRefresh = true;\n                    }\n                    break;\n                case 'validateManualTasksOnLinking':\n                    this.validateManualTasksOnLinking = newProp.validateManualTasksOnLinking;\n                    break;\n                case 'showOverAllocation':\n                    this.updateOverAllocationCotainer();\n                    break;\n            }\n        }\n        if (isRefresh) {\n            if (this.isLoad && this.contentMaskTable) {\n                this.contentMaskTable = null;\n            }\n            this.refresh();\n        }\n    };\n    Gantt.prototype.updateOverAllocationCotainer = function () {\n        if (this.showOverAllocation) {\n            this.ganttChartModule.renderOverAllocationContainer();\n        }\n        else {\n            var rangeContainer = this.element.querySelector('.' + cls.rangeContainer);\n            if (rangeContainer) {\n                rangeContainer.innerHTML = '';\n            }\n        }\n    };\n    /**\n     * Returns the properties to be maintained in persisted state.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getPersistData = function () {\n        var keyEntity = ['sortSettings',\n            'filterSettings', 'columns', 'searchSettings', 'selectedRowIndex', 'treeColumnIndex', 'currentZoomingLevel', 'cloneProjectStartDate', 'cloneProjectEndDate'];\n        var ignoreOnPersist = {\n            filterSettings: ['type', 'mode', 'showFilterBarStatus', 'immediateModeDelay', 'ignoreAccent', 'hierarchyMode'],\n            searchSettings: ['fields', 'operator', 'ignoreCase'],\n            sortSettings: [], columns: [], selectedRowIndex: []\n        };\n        var ignoreOnColumn = ['filter', 'edit', 'filterBarTemplate', 'headerTemplate', 'template',\n            'commandTemplate', 'commands', 'dataSource'];\n        for (var i = 0; i < keyEntity.length; i++) {\n            var currentObject = this[keyEntity[i]];\n            for (var k = 0, val = ignoreOnPersist[keyEntity[i]]; (!isNullOrUndefined(val) && k < val.length); k++) {\n                var objVal = val[k];\n                delete currentObject[objVal];\n            }\n        }\n        this.ignoreInArrays(ignoreOnColumn, this.columns);\n        return this.addOnPersist(keyEntity);\n    };\n    Gantt.prototype.ignoreInArrays = function (ignoreOnColumn, columns) {\n        for (var i = 0; i < columns.length; i++) {\n            this.ignoreInColumn(ignoreOnColumn, columns[i]);\n        }\n    };\n    Gantt.prototype.ignoreInColumn = function (ignoreOnColumn, column) {\n        for (var i = 0; i < ignoreOnColumn.length; i++) {\n            delete column[ignoreOnColumn[i]];\n            column.filter = {};\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.destroy = function () {\n        this.notify('destroy', {});\n        this.unwireEvents();\n        if (!isNullOrUndefined(this.validationDialogElement) && !this.validationDialogElement.isDestroyed) {\n            this.validationDialogElement.destroy();\n        }\n        var modules = ['ganttChartModule', 'timelineModule', 'chartRowsModule',\n            'treeGridModule', 'ganttDataUpdatesModule', 'dateValidationModule', 'tooltipModule'];\n        for (var i = 0; i < modules.length; i++) {\n            if (this[modules[i]]) {\n                this[modules[i]] = null;\n            }\n        }\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n        if (this.editModule && this.editModule.dialogModule) {\n            this.editModule.dialogModule.destroy();\n        }\n        if (this.splitterModule) {\n            this.splitterModule['destroy']();\n        }\n        if (this.toolbarModule) {\n            this.toolbarModule.toolbar.destroy();\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule) && !isNullOrUndefined(this.dayMarkersModule['eventMarkerRender']) && !isNullOrUndefined(this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer)) {\n            this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer = null;\n        }\n        if (this.connectorLineModule) {\n            this.connectorLineModule.dependencyViewContainer = null;\n            this.connectorLineModule.svgObject = null;\n            this.connectorLineModule.renderer = null;\n            this.connectorLineModule.tooltipTable = null;\n        }\n        this.treeGridPane = null;\n        this.initialChartRowElements = null;\n        _super.prototype.destroy.call(this);\n        this.chartVerticalLineContainer = null;\n        this.element.innerHTML = '';\n        removeClass([this.element], cls.root);\n        this.element.innerHTML = '';\n        this.isTreeGridRendered = false;\n        this.resetTemplates();\n    };\n    /**\n     * Method to get taskbarHeight.\n     *\n     * @returns {number} .\n     * @public\n     */\n    Gantt.prototype.getTaskbarHeight = function () {\n        return this.chartRowsModule.taskBarHeight;\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} .\n     * @hidden\n     */\n    Gantt.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.isDestroyed) {\n            return modules;\n        }\n        if (this.allowSorting) {\n            modules.push({\n                member: 'sort',\n                args: [this]\n            });\n        }\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            modules.push({\n                member: 'filter',\n                args: [this]\n            });\n        }\n        if (this.allowReordering) {\n            modules.push({\n                member: 'reorder',\n                args: [this]\n            });\n        }\n        if (this.allowExcelExport) {\n            modules.push({\n                member: 'excelExport',\n                args: [this]\n            });\n        }\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            modules.push({\n                member: 'rowDragAndDrop',\n                args: [this]\n            });\n        }\n        if (this.enableCriticalPath) {\n            modules.push({\n                member: 'criticalPath',\n                args: [this]\n            });\n        }\n        if (this.enableUndoRedo) {\n            modules.push({\n                member: 'undoRedo',\n                args: [this]\n            });\n        }\n        if (this.allowResizing) {\n            modules.push({\n                member: 'resize',\n                args: [this]\n            });\n        }\n        if (this.toolbar && this.toolbar.length > 0) {\n            modules.push({\n                member: 'toolbar',\n                args: [this]\n            });\n        }\n        if (this.editSettings.allowAdding || this.editSettings.allowEditing || this.editSettings.allowDeleting\n            || this.editSettings.allowTaskbarEditing || this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'edit',\n                args: [this]\n            });\n        }\n        if (this.allowSelection) {\n            modules.push({\n                member: 'selection',\n                args: [this]\n            });\n        }\n        if (this.tooltipSettings.showTooltip) {\n            modules.push({\n                member: 'tooltip',\n                args: [this]\n            });\n        }\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            modules.push({\n                member: 'dayMarkers',\n                args: [this]\n            });\n        }\n        if (this.enableContextMenu) {\n            modules.push({\n                member: 'contextMenu',\n                args: [this]\n            });\n        }\n        if (this.showColumnMenu) {\n            modules.push({\n                member: 'columnMenu',\n                args: [this]\n            });\n        }\n        if (this.allowPdfExport) {\n            modules.push({\n                member: 'pdfExport',\n                args: [this]\n            });\n        }\n        if (this.enableVirtualization) {\n            modules.push({\n                member: 'virtualScroll',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * Sorts a column with the given options.\n     *\n     * @param {string} columnName - Defines the column name to be sorted.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previous sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Gantt.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        if (this.sortModule && this.allowSorting) {\n            this.sortModule.sortColumn(columnName, direction, isMultiSort);\n        }\n    };\n    Gantt.prototype.mergePersistGanttData = function () {\n        if (!this.treeGrid) {\n            this.treeGrid = new TreeGrid();\n        }\n        var persist1 = 'mergePersistGridData';\n        this.treeGrid.grid[persist1].apply(this);\n    };\n    Gantt.prototype.mergeColumns = function (storedColumn, columns) {\n        var persist2 = 'mergeColumns';\n        this.treeGrid.grid[persist2].apply(this, [storedColumn, columns]);\n    };\n    Gantt.prototype.setFrozenCount = function () {\n        var persist3 = 'setFrozenCount';\n        this.treeGrid.grid[\"\" + persist3].apply(this);\n    };\n    Gantt.prototype.splitFrozenCount = function (columns) {\n        var persist4 = 'splitFrozenCount';\n        this.treeGrid.grid[\"\" + persist4].apply(this, [columns]);\n    };\n    Gantt.prototype.isFrozenGrid = function () {\n        return this.treeGrid.grid.isFrozenGrid();\n    };\n    /**\n     * Clears all the sorted columns of the Gantt.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSorting = function () {\n        this.sortModule.clearSorting();\n    };\n    /**\n     * To validate and render chart horizontal and vertical lines in the Gantt\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.renderChartGridLines = function () {\n        var className = 'e-chart-row-border';\n        var verticalLines = this.chartVerticalLineContainer;\n        var chartRowsTD = document.getElementById(this.element.id + 'GanttTaskTableBody').querySelectorAll('td');\n        if (this.gridLines === 'Vertical') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (verticalLines.style.display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Horizontal') {\n            if (!isNullOrUndefined(verticalLines)) {\n                verticalLines.style.display = 'none';\n            }\n            if (!chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Both') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (verticalLines.style.display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (!chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'None') {\n            if (!isNullOrUndefined(verticalLines) && verticalLines.style.display !== 'none') {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateGridLineContainerHeight = function () {\n        if (this.chartVerticalLineContainer) {\n            this.chartVerticalLineContainer.style.height = formatUnit(this.getContentHeight());\n        }\n    };\n    /**\n     * To get actual height of grid lines, holidays, weekend and event markers.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getContentHeight = function () {\n        var scrollHeight = this.ganttChartModule.scrollElement.offsetHeight - 16; //16 is horizontal scrollbar height\n        var contentHeight = this.ganttChartModule.chartBodyContent.offsetHeight;\n        var height = contentHeight < scrollHeight ? contentHeight : scrollHeight;\n        return height;\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.reUpdateDimention = function (currentProp) {\n        var toolbarHeight = 0;\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.toolbarModule.toolbar.refresh();\n            this.toolbarModule.refreshToolbarItems();\n            toolbarHeight = this.toolbarModule.element.offsetHeight;\n        }\n        this.treeGrid.height = this.ganttHeight - toolbarHeight -\n            this.treeGrid.grid.getHeaderContent().offsetHeight;\n        this.splitterModule.splitterObject.height = (this.ganttHeight - toolbarHeight).toString();\n        if (!isNullOrUndefined(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer.style.height = this.ganttHeight + 'px';\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (weekendContainer) {\n                weekendContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.height = this.ganttHeight + 'px';\n            }\n        }\n        if (currentProp === \"width\") {\n            this.splitterModule.splitterObject.width = this.ganttWidth.toString();\n        }\n        this.ganttChartModule.scrollObject.\n            setHeight(this.ganttHeight - this.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * To render vertical lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.renderChartVerticalLines = function () {\n        if (!this.element.contains(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer = createElement('div', {\n                id: this.element.id + 'line-container',\n                styles: 'position:absolute;height:100%;'\n            });\n            this.ganttChartModule.chartBodyContent.insertBefore(this.chartVerticalLineContainer, this.ganttChartModule.chartBodyContent.lastChild);\n        }\n        this.chartVerticalLineContainer.innerHTML = '';\n        var headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[1];\n        if (isNullOrUndefined(headerTable)) {\n            headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[0];\n        }\n        var thElements = headerTable.getElementsByTagName('th');\n        var thLength = thElements.length;\n        var thWidth;\n        var leftPos = 0;\n        var containerDiv = createElement('div');\n        for (var n = 0; n < thLength; n++) {\n            leftPos = n === 0 ? -1 : (leftPos + parseFloat(thWidth));\n            thWidth = thElements[n].style.width;\n            var divElement = createElement('div', {\n                className: 'e-line-container-cell',\n                styles: (this.enableRtl ? 'right:' + (leftPos + 1) : 'left:' + leftPos) + 'px'\n            });\n            containerDiv.appendChild(divElement);\n        }\n        this.chartVerticalLineContainer.innerHTML = containerDiv.innerHTML;\n    };\n    /**\n     * Method to get default localized text of the Gantt.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.getDefaultLocale = function () {\n        var ganttLocale = {\n            emptyRecord: 'No records to display',\n            id: 'ID',\n            name: 'Name',\n            startDate: 'Start Date',\n            endDate: 'End Date',\n            duration: 'Duration',\n            progress: 'Progress',\n            dependency: 'Dependency',\n            notes: 'Notes',\n            criticalPath: 'Critical Path',\n            undo: 'Undo',\n            redo: 'Redo',\n            baselineStartDate: 'Baseline Start Date',\n            baselineEndDate: 'Baseline End Date',\n            taskMode: 'Task Mode',\n            changeScheduleMode: 'Change Schedule Mode',\n            subTasksStartDate: 'SubTasks Start Date',\n            subTasksEndDate: 'SubTasks End Date',\n            scheduleStartDate: 'Schedule Start Date',\n            scheduleEndDate: 'Schedule End Date',\n            auto: 'Auto',\n            manual: 'Manual',\n            type: 'Type',\n            offset: 'Offset',\n            resourceName: 'Resources',\n            resourceID: 'Resource ID',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute',\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            generalTab: 'General',\n            customTab: 'Custom Columns',\n            writeNotes: 'Write Notes',\n            addDialogTitle: 'New Task',\n            editDialogTitle: 'Task Information',\n            add: 'Add',\n            edit: 'Edit',\n            update: 'Update',\n            delete: 'Delete',\n            cancel: 'Cancel',\n            search: 'Search',\n            task: ' task',\n            tasks: ' tasks',\n            zoomIn: 'Zoom in',\n            zoomOut: 'Zoom out',\n            zoomToFit: 'Zoom to fit',\n            excelExport: 'Excel export',\n            csvExport: 'CSV export',\n            pdfExport: 'PDF export',\n            expandAll: 'Expand all',\n            collapseAll: 'Collapse all',\n            nextTimeSpan: 'Next timespan',\n            prevTimeSpan: 'Previous timespan',\n            saveButton: 'Save',\n            taskBeforePredecessorFS: 'You moved \"{0}\" to start before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFS: 'You moved \"{0}\" away from \"{1}\" and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSS: 'You moved \"{0}\" to start before \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSS: 'You moved \"{0}\" to start after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorFF: 'You moved \"{0}\" to finish before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFF: 'You moved \"{0}\" to finish after \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSF: 'You moved \"{0}\" away from \"{1}\" to starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSF: 'You moved \"{0}\" to finish after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            okText: 'Ok',\n            confirmDelete: 'Are you sure you want to Delete Record?',\n            from: 'From',\n            to: 'To',\n            taskLink: 'Task Link',\n            lag: 'Lag',\n            start: 'Start',\n            finish: 'Finish',\n            enterValue: 'Enter the value',\n            taskInformation: 'Task Information',\n            deleteTask: 'Delete Task',\n            deleteDependency: 'Delete Dependency',\n            convert: 'Convert',\n            save: 'Save',\n            above: 'Above',\n            below: 'Below',\n            child: 'Child',\n            milestone: 'Milestone',\n            toTask: 'To Task',\n            toMilestone: 'To Milestone',\n            eventMarkers: 'Event markers',\n            leftTaskLabel: 'Left task label',\n            rightTaskLabel: 'Right task label',\n            timelineCell: 'Timeline cell',\n            confirmPredecessorDelete: 'Are you sure you want to remove dependency link?',\n            unit: 'Unit',\n            work: 'Work',\n            taskType: 'Task Type',\n            unassignedTask: 'Unassigned Task',\n            group: 'Group',\n            indent: 'Indent',\n            outdent: 'Outdent',\n            segments: 'Segments',\n            splitTask: 'Split Task',\n            mergeTask: 'Merge Task',\n            left: 'Left',\n            right: 'Right',\n            FF: \"FF\",\n            FS: \"FS\",\n            SF: \"SF\",\n            SS: \"SS\"\n        };\n        return ganttLocale;\n    };\n    /**\n     * To remove sorted records of particular column.\n     *\n     * @param {string} columnName - Defines the sorted column name.\n     * @returns {void} .\n     */\n    Gantt.prototype.removeSortColumn = function (columnName) {\n        this.sortModule.removeSortColumn(columnName);\n    };\n    /**\n     *\n     * @param {object} args -Defines the edited event args.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.actionBeginTask = function (args) {\n        this.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n            this.showMaskRow();\n        }\n        else {\n            this.showSpinner();\n        }\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific date.\n     *\n     * @param  {string} date - Defines the task date of data.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToDate = function (date) {\n        var tempDate = this.dateValidationModule.getDateFromFormat(date);\n        var left = this.dataOperation.getTaskLeft(tempDate, false);\n        this.ganttChartModule.updateScrollLeft(left);\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific task id.\n     *\n     * @param  {string} taskId - Defines the task id of data.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToTask = function (taskId) {\n        if (this.ids.indexOf(taskId) !== -1) {\n            var left = this.flatData[this.ids.indexOf(taskId)].ganttProperties.left;\n            this.ganttChartModule.updateScrollLeft(left);\n        }\n    };\n    /**\n     * To set scroll left and top in chart side.\n     *\n     * @param  {number} left - Defines the scroll left value of chart side.\n     * @param  {number} top - Defines the scroll top value of chart side.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateChartScrollOffset = function (left, top) {\n        if (!isNullOrUndefined(left)) {\n            left = this.ganttChartModule.scrollElement.scrollWidth <= left ?\n                this.ganttChartModule.scrollElement.scrollWidth : left;\n            this.ganttChartModule.scrollObject.setScrollLeft(left, this.enableRtl ? -1 : 0);\n        }\n        if (!isNullOrUndefined(top)) {\n            top = this.ganttChartModule.scrollElement.scrollHeight <= top ? this.ganttChartModule.scrollElement.scrollHeight : top;\n            this.ganttChartModule.scrollObject.setScrollTop(top);\n        }\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IParent} cloneParent - Defines the clone parent item.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getParentTask = function (cloneParent) {\n        if (isNullOrUndefined(cloneParent)) {\n            return null;\n        }\n        if (!this.autoCalculateDateScheduling && this.dataMap && this.dataMap.size > 0 && !this.taskFields.hasChildMapping) {\n            var parent_1 = this.dataMap.get(cloneParent.uniqueID);\n            if (parent_1) {\n                return parent_1;\n            }\n        }\n        else {\n            var parent_2 = this.flatData.find(function (val) { return cloneParent.uniqueID === val.uniqueID; });\n            if (parent_2) {\n                return parent_2;\n            }\n        }\n        return null;\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IGanttData} ganttRecord -Defines the Gantt record.\n     * @param {number} level -Defines the selected record level.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getRootParent = function (ganttRecord, level) {\n        if (ganttRecord.level === level) {\n            return ganttRecord;\n        }\n        return this.getRootParent(this.getParentTask(ganttRecord.parentItem), level);\n    };\n    /**\n     * Filters TreeGrid row by column name with the given options.\n     *\n     * @param  {string} fieldName - Defines the field name of the column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean | number[] | string[] | Date[] | boolean[]} filterValue - Defines the value\n     *  used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query and another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, TreeGrid filters the records with exact match.if false, it filters case\n     * insensitive records (uppercase and lowercase letters treated the same).\n     * @param  {boolean} ignoreAccent - If ignoreAccent set to true,\n     * then filter ignores the diacritic characters or accents while filtering.\n     * @returns {void} .\n     */\n    Gantt.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent) {\n        this.treeGrid.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent);\n    };\n    /**\n     * Export Gantt data to Excel file(.xlsx).\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.excelExport = function (excelExportProperties, isMultipleExport, \n    /* eslint-disable-next-line */\n    workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.excelExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to CSV file.\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.csvExport = function (excelExportProperties, \n    /* eslint-disable-next-line */\n    isMultipleExport, workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.csvExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to PDF document.\n     *\n     * @param  {PdfExportProperties} pdfExportProperties - Defines the export properties of the Gantt.\n     * @param  {isMultipleExport} isMultipleExport - Define to enable multiple export.\n     * @param  {pdfDoc} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n     * @param  {boolean} isBlob - If the 'isBlob' parameter is set to true, the method returns PDF data as a blob instead of exporting it as a down-loadable PDF file. The default value is false.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        if (pdfExportProperties && pdfExportProperties.fitToWidthSettings && pdfExportProperties.fitToWidthSettings.isFitToWidth) {\n            pdfExportProperties.pageOrientation = 'Landscape';\n        }\n        return this.pdfExportModule ? this.pdfExportModule.export(pdfExportProperties, isMultipleExport, pdfDoc, isBlob)\n            : null;\n    };\n    /**\n     * Clears the filtered columns in Gantt.\n     *\n     * Can also be used to clear filtering of a specific column in Gantt.\n     *\n     * @param {string[]} fields - Defines the specific column to remove filter.\n     * @returns {void} .\n     */\n    Gantt.prototype.clearFiltering = function (fields) {\n        this.treeGrid.grid.clearFiltering(fields);\n    };\n    /**\n     * Removes filtered column by field name.\n     *\n     * @param  {string} field - Defines column field name to remove filter.\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.removeFilteredColsByField = function (field) {\n        this.treeGrid.removeFilteredColsByField(field, false);\n    };\n    /**\n     * Method to set holidays and non working days in date time and date picker controls\n     *\n     * @param {RenderDayCellEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderWorkingDayCell = function (args) {\n        var includeWeekend = this.taskMode !== 'Auto' ? true : (this.includeWeekend || !this.autoCalculateDateScheduling) ? true : false;\n        var nonWorkingDays = !includeWeekend ? this.nonWorkingDayIndex : [];\n        var holidays = this.totalHolidayDates;\n        if (nonWorkingDays.length > 0 && nonWorkingDays.indexOf(args.date.getDay()) !== -1) {\n            args.isDisabled = true;\n        }\n        else if (holidays.length > 0) {\n            var tempDate = new Date(args.date.getTime());\n            tempDate.setHours(0, 0, 0);\n            if (holidays.indexOf(tempDate.getTime()) !== -1) {\n                if (!this.autoCalculateDateScheduling) {\n                    args.isDisabled = false;\n                }\n                else {\n                    args.isDisabled = true;\n                }\n            }\n        }\n    };\n    /**\n     * To update timeline at start point with one unit.\n     *\n     * @param {string} mode - Render previous span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.previousTimeSpan = function (mode) {\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('PreviousTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'PreviousTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('prevTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To update timeline at end point with one unit.\n     *\n     * @param {string} mode - Render next span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.nextTimeSpan = function (mode) {\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('NextTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'NextTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('nextTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param  {Date} startDate - Defines start date of project.\n     * @param  {Date} endDate - Defines end date of project.\n     * @param  {boolean} isTimelineRoundOff - Defines project start date and end date need to be round off or not.\n     * @param {string} isFrom .\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateProjectDates = function (startDate, endDate, isTimelineRoundOff, isFrom) {\n        this.timelineModule.totalTimelineWidth = 0;\n        this.cloneProjectStartDate = startDate;\n        this.cloneProjectEndDate = endDate;\n        this.isTimelineRoundOff = isTimelineRoundOff;\n        this.timelineModule.refreshTimelineByTimeSpan();\n        this.dataOperation.reUpdateGanttDataPosition();\n        if (!this.pdfExportModule || (this.pdfExportModule && !this.pdfExportModule.isPdfExport) ||\n            (this.pdfExportModule && this.pdfExportModule.isPdfExport && this.pdfExportModule.helper.exportProps &&\n                this.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n                !this.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.timelineModule.updateChartByNewTimeline();\n            this.ganttChartModule.chartBodyContent.style.width = formatUnit(this.timelineModule.totalTimelineWidth);\n            this.ganttChartModule.updateLastRowBottomWidth();\n            if (this.taskFields.dependency) {\n                this.ganttChartModule.reRenderConnectorLines();\n            }\n            if (isFrom !== 'beforeAdd') {\n                this.notify('selectRowByIndex', {});\n            }\n        }\n    };\n    /**\n     * Split the taskbar into segment by the given date\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} splitDate - Defines in which date the taskbar must be split up.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.splitTask = function (taskId, splitDate) {\n        this.isEdit = true;\n        this.chartRowsModule.splitTask(taskId, splitDate);\n    };\n    /**\n     * merge the split taskbar with the given segment indexes.\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} segmentIndexes - Defines the object array of indexes which must be merged.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.mergeTask = function (taskId, segmentIndexes) {\n        this.chartRowsModule.mergeTask(taskId, segmentIndexes);\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param  {string} fromFName - Defines origin field name.\n     * @param  {string} toFName - Defines destination field name.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.reorderColumns = function (fromFName, toFName) {\n        this.treeGrid.reorderColumns(fromFName, toFName);\n    };\n    /**\n     * Method to clear edited collections in gantt set edit flag value\n     *\n     * @param {boolean} isStart -Defines whether to initiate edit action.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.initiateEditAction = function (isStart) {\n        this.isOnEdit = isStart;\n        this.previousRecords = {};\n        this.editedRecords = [];\n    };\n    /**\n     *\n     * @param {string} field Method to update value in Gantt record and make clone record for this\n     * @param {IGanttData | ITaskData} record .\n     * @param {boolean} isTaskData .\n     * @returns {void} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Gantt.prototype.setRecordValue = function (field, value, record, isTaskData) {\n        value = isUndefined(value) ? null : value;\n        var resultIf = (this.isOnEdit || this.isOnDelete) ? true : false;\n        if (resultIf) {\n            this.makeCloneData(field, record, isTaskData);\n            var ganttData = isTaskData ? record : record.ganttProperties;\n            var id = ganttData.rowUniqueID;\n            var task_1 = this.getRecordByID(id);\n            var isValid = false;\n            isValid = (isNullOrUndefined(value) ||\n                (!isNullOrUndefined(value) && !isNullOrUndefined(record[\"\" + field]) &&\n                    (value instanceof Date ? value.getTime() !== record[\"\" + field].getTime() :\n                        record[\"\" + field] !== value))) ? true : isValid;\n            if (task_1 && ((this.editedRecords.indexOf(task_1) === -1 && isValid) || this.editedRecords.length === 0)) {\n                if (this.editModule['draggedRecord'] && this.editModule['draggedRecord'].ganttProperties.taskId === ganttData.taskId) {\n                    this.editedRecords.splice(0, 0, task_1);\n                }\n                else {\n                    this.editedRecords.push(task_1);\n                }\n                if (this.undoRedoModule) {\n                    if (this.undoRedoModule['changedRecords'].indexOf(task_1) === -1) {\n                        this.undoRedoModule['changedRecords'].push(extend({}, {}, task_1, true));\n                    }\n                    var currentAction = this.undoRedoModule['getUndoCollection'].length > 0 ? this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['action'] : null;\n                    if (this.editModule && this.editSettings.allowEditing && !this.undoRedoModule['isUndoRedoPerformed'] && !this.isOnDelete && !this.isOnAdded && currentAction !== 'outdent' && currentAction !== 'indent' &&\n                        currentAction !== 'RowDragAndDrop' && currentAction !== 'TaskbarDragAndDrop') {\n                        var oldRecord = this.previousFlatData.filter(function (data) {\n                            return data.ganttProperties.taskId === task_1.ganttProperties.taskId;\n                        })[0];\n                        if (oldRecord && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords']) {\n                            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords'].push(oldRecord);\n                        }\n                    }\n                }\n                if (this.enableImmutableMode) {\n                    this.modifiedRecords.push(task_1);\n                }\n            }\n        }\n        setValue(field, value, record);\n    };\n    Gantt.prototype.makeCloneData = function (field, record, isTaskData) {\n        var cloneData;\n        /* eslint-disable-next-line */\n        var value = getValue(field, record);\n        /* eslint-disable-next-line */\n        var prevValue;\n        /* eslint-disable-next-line */\n        var clonedValue;\n        if (isTaskData) {\n            field = 'ganttProperties.' + field;\n        }\n        if (isNullOrUndefined(this.previousRecords[record.uniqueID])) {\n            var tempData = {};\n            this.previousRecords[record.uniqueID] = tempData;\n        }\n        /* eslint-disable-next-line */\n        cloneData = this.previousRecords[record.uniqueID];\n        /* eslint-disable-next-line */\n        prevValue = getValue(field, cloneData);\n        if (isUndefined(prevValue)) {\n            if (value instanceof Date) {\n                clonedValue = new Date(value.getTime());\n            }\n            else if (isObjectArray(value)) {\n                clonedValue = extend([], value, [], true);\n            }\n            else if (isObject(value)) {\n                clonedValue = extend({}, {}, value, true);\n            }\n            else {\n                clonedValue = value;\n            }\n            if (!isUndefined(clonedValue)) {\n                setValue(field, clonedValue, cloneData);\n            }\n            else {\n                setValue(field, null, cloneData);\n            }\n        }\n    };\n    Gantt.prototype.closeGanttActions = function () {\n        if (this.editModule) {\n            if (this.editModule.cellEditModule && this.editModule.cellEditModule.isCellEdit) {\n                this.treeGrid.closeEdit();\n                this.editModule.cellEditModule.isCellEdit = false;\n                if (!isNullOrUndefined(this.toolbarModule)) {\n                    this.toolbarModule.refreshToolbarItems();\n                }\n            }\n            else if (this.editModule.dialogModule && this.editModule.dialogModule.dialogObj &&\n                this.editModule.dialogModule.dialogObj.visible) {\n                this.editModule.dialogModule.dialogObj.hide();\n                this.editModule.dialogModule.dialogClose();\n            }\n        }\n    };\n    /**\n     * Method to get task by uniqueId value.\n     *\n     * @param {string} id - Defines the task id.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getTaskByUniqueID = function (id) {\n        var value = this.flatData.filter(function (val) {\n            return val.uniqueID === id;\n        });\n        if (value.length > 0) {\n            return value[0];\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get record by id value.\n     *\n     * @param {string} id - Defines the id of record.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        return this.flatData[this.ids.indexOf(id.toString())];\n    };\n    /**\n     * Method to set splitter position.\n     *\n     * @param {string|number} value - Define value to splitter settings property.\n     * @param {string} type - Defines name of internal splitter settings property.\n     * @returns {void} .\n     */\n    Gantt.prototype.setSplitterPosition = function (value, type) {\n        var tempSplitterSettings = {};\n        tempSplitterSettings[type] = value;\n        var splitterPosition = this.splitterModule.calculateSplitterPosition(tempSplitterSettings);\n        switch (type) {\n            case 'view':\n                this.splitterSettings.view = tempSplitterSettings[type];\n                break;\n            case 'columnIndex':\n                this.splitterSettings.columnIndex = tempSplitterSettings[type];\n                break;\n            case 'position':\n                this.splitterSettings.position = tempSplitterSettings[type];\n                break;\n            default:\n                break;\n        }\n        var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n        this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterObject.paneSettings[0].size = splitterPosition;\n        this.splitterModule.splitterObject.paneSettings[1].size = (parseFloat('99.75%') - parseFloat(splitterPosition)) + '%';\n        this.splitterModule.triggerCustomResizedEvent();\n    };\n    /**\n     * Expand the records by index value.\n     *\n     * @param {number[] | number} index - Defines the index of rows to be expand.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByIndex = function (index) {\n        if (typeof index === 'number') {\n            var args = this.contructExpandCollapseArgs(null, index);\n            this.ganttChartModule.isExpandCollapseFromChart = true;\n            this.ganttChartModule.expandGanttRow(args);\n        }\n        else {\n            for (var i = 0; i < index.length; i++) {\n                if (typeof index[i] === 'number') {\n                    var ind = index[i];\n                    var args = this.contructExpandCollapseArgs(null, ind);\n                    this.ganttChartModule.isExpandCollapseFromChart = true;\n                    this.ganttChartModule.expandGanttRow(args);\n                }\n            }\n        }\n    };\n    /**\n     * Expand the record by task id.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByID = function (id) {\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.expandGanttRow(args);\n    };\n    /**\n     * Collapse the record by index value.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByIndex = function (index) {\n        var args = this.contructExpandCollapseArgs(null, index);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Collapse the record by id value.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByID = function (id) {\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Method to add record.\n     *\n     * @param {Object[] | IGanttData | Object} data - Defines record to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        if (this.editModule && this.editSettings.allowAdding) {\n            if (this.viewType === 'ResourceView') {\n                this.editModule.addRowPosition = rowPosition;\n                this.editModule.addRowIndex = rowIndex;\n                var resources = void 0;\n                if (!isNullOrUndefined(data)) {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        resources = data.ganttProperties.resourceInfo;\n                    }\n                    else {\n                        resources = data[this.taskFields.resourceInfo];\n                    }\n                }\n                var id = void 0;\n                var parentTask = void 0;\n                if (!isNullOrUndefined(resources) && resources.length) {\n                    for (var i = 0; i < resources.length; i++) {\n                        id = (typeof resources[i] === 'object') ? resources[i][this.resourceFields.id] :\n                            resources[0];\n                        parentTask = this.flatData[this.getTaskIds().indexOf('R' + id)];\n                        if (parentTask) {\n                            break;\n                        }\n                    }\n                    if (parentTask && parentTask.childRecords.length || parentTask.level === 0) {\n                        var dropChildRecord = parentTask.childRecords[rowIndex];\n                        if (this.viewType === 'ResourceView' && this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                            this.editModule.addRecord(data, rowPosition, rowIndex);\n                        }\n                        else if (dropChildRecord) {\n                            var position = rowPosition === 'Above' || rowPosition === 'Below' ? rowPosition :\n                                'Child';\n                            if (position === 'Child') {\n                                this.editModule.addRecord(data, position, this.getTaskIds().indexOf('R' + id));\n                            }\n                            else {\n                                this.editModule.addRecord(data, position, this.flatData.indexOf(dropChildRecord));\n                            }\n                        }\n                        else {\n                            this.editModule.addRecord(data, 'Child', this.getTaskIds().indexOf('R' + id));\n                        }\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                else {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        this.editModule.addRecord(data, rowPosition, rowIndex);\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                this.editModule.addRowPosition = null;\n                this.editModule.addRowIndex = null;\n            }\n            else {\n                this.editModule.addRecord(data, rowPosition, rowIndex);\n                if (rowPosition === 'Bottom') {\n                    this.selectedRowIndex = rowIndex;\n                }\n                if (rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') {\n                    this.currentSelection = !isNullOrUndefined(data) ? data : this.currentSelection;\n                }\n            }\n        }\n    };\n    /**\n     * Method to update record by ID.\n     *\n     * @param  {Object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByID = function (data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.updateRecordByID(data);\n        }\n    };\n    /**\n     * To update existing taskId with new unique Id.\n     *\n     * @param {number | string} currentId - Defines the current Id of the record.\n     * @param {number | string} newId - Defines the new Id of the record.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateTaskId = function (currentId, newId) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.updateTaskId(currentId, newId);\n        }\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    Gantt.prototype.expandAtLevel = function (level) {\n        if (this.enableVirtualization) {\n            this.isExpandCollapseLevelMethod = true;\n        }\n        this.ganttChartModule.expandAtLevel(level);\n    };\n    /**\n     * To indent the level of selected task to the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.indent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.indent();\n        }\n    };\n    /**\n     * To outdent the level of selected task from the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.outdent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.outdent();\n        }\n    };\n    /**\n     * To retrieve the collection of previously recorded actions. This method returns an object as a collection that holds the following details.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     * @public\n     */\n    Gantt.prototype.getUndoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getUndoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * To retrieve the collection of actions to reapply.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     *\n     * @public\n     */\n    Gantt.prototype.getRedoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getRedoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * Clears the stack collection for undo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearUndoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getUndoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     * Clears the stack collection for redo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearRedoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getRedoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_redo'], false);\n            }\n        }\n    };\n    /**\n     * Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.undo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['undoAction']();\n        }\n    };\n    /**\n     * Initiates a redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.redo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['redoAction']();\n        }\n    };\n    /**\n     * To render the critical path tasks in Gantt.\n     *\n     * @returns {void} .\n     * @param {boolean} isCritical - To checks whether to render critical path or not .\n     * @public\n     */\n    Gantt.prototype.showCriticalPath = function (isCritical) {\n        if (this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(isCritical);\n            var criticalModule = this.criticalPathModule;\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To get all the critical tasks in Gantt.\n     *\n     * @returns {IGanttData[]} .\n     * @public\n     */\n    Gantt.prototype.getCriticalTasks = function () {\n        if (!isNullOrUndefined(this.criticalPathModule) && this.enableCriticalPath) {\n            return this.criticalPathModule.getCriticalTasks();\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To perform Zoom in action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomIn = function () {\n        this.timelineModule.processZooming(true);\n    };\n    /**\n     * To perform zoom out action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomOut = function () {\n        this.timelineModule.processZooming(false);\n    };\n    /**\n     * To show all project task in available chart width\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.fitToProject = function () {\n        this.timelineModule.processZoomToFit();\n        this.ganttChartModule.updateScrollLeft(0);\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     *\n     * @param {number[]} fromIndexes - Defines the Dragged record index.\n     * @param {number} toIndex - Defines the Dropped record index.\n     * @param {string} position -Defines the position of the dropped row.\n     * @returns {void} .\n     */\n    Gantt.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        this.rowDragAndDropModule.reorderRows(fromIndexes, toIndex, position);\n    };\n    /**\n     * Method to update record by Index.\n     *\n     * @param  {number} index - Defines the index of data to modify.\n     * @param  {object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByIndex = function (index, data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            var tasks = this.taskFields;\n            var record = this.updatedRecords.length > 0 ?\n                !isNullOrUndefined(this.updatedRecords[index]) ? this.updatedRecords[index] : null : null;\n            if (!isNullOrUndefined(record)) {\n                data[tasks.id] = record[tasks.id];\n                this.editModule.updateRecordByID(data);\n            }\n        }\n    };\n    /**\n     * To add dependency for Task.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to add.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addPredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.addPredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * To remove dependency from task.\n     *\n     * @param  {number} id - Defines the ID of task to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.removePredecessor = function (id) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.removePredecessor(ganttRecord);\n        }\n    };\n    /**\n     * To modify current dependency values of Task by task id.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to update.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updatePredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.updatePredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * Method to open Add dialog.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openAddDialog = function () {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowAdding) {\n            this.editModule.dialogModule.openAddDialog();\n        }\n    };\n    /**\n     * Method to open Edit dialog.\n     *\n     * @param {number } taskId - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openEditDialog = function (taskId) {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowEditing) {\n            this.editModule.dialogModule.openEditDialog(taskId);\n        }\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param {string | number} id .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.contructExpandCollapseArgs = function (id, index) {\n        var chartRow;\n        var record;\n        var rowIndex;\n        if (isNullOrUndefined(index)) {\n            record = this.getRecordByID(id.toString());\n            chartRow = this.getRowByID(id);\n            if (!isNullOrUndefined(chartRow)) {\n                rowIndex = getValue('rowIndex', chartRow);\n            }\n        }\n        else if (!isNullOrUndefined(index)) {\n            chartRow = this.getRowByIndex(index);\n            rowIndex = getValue('rowIndex', chartRow);\n            record = this.currentViewData[rowIndex];\n        }\n        var gridRow = this.treeGrid.getRows()[rowIndex];\n        return { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n    };\n    /**\n     * Method to get chart row value by index.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByIndex = function (index) {\n        try {\n            var gridRows = this.element.querySelectorAll('.e-chart-row');\n            if (!isNullOrUndefined(index)) {\n                return gridRows[index];\n            }\n            else {\n                return null;\n            }\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    /**\n     * Method to get the row element by task id.\n     *\n     * @param {string | number} id - Defines the id of task.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByID = function (id) {\n        var _this = this;\n        var record = this.getRecordByID(id.toString());\n        var index;\n        if (!this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            index = this.updatedRecords.map(function (item) { return item[_this.taskFields.id]; }).indexOf(record.ganttProperties.taskId);\n        }\n        else {\n            index = this.updatedRecords.indexOf(record);\n        }\n        if (index !== -1) {\n            return this.getRowByIndex(index);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp .\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getUnscheduledTaskClass = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp -Defines the Gantt propertie.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isUnscheduledTask = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    Gantt.prototype.createGanttPopUpElement = function () {\n        var popup = this.createElement('div', { className: 'e-ganttpopup', styles: 'display:none;' });\n        var content = this.createElement('div', { className: 'e-content', attrs: { tabIndex: '-1' } });\n        append([content, this.createElement('div', { className: 'e-uptail e-tail' })], popup);\n        content.appendChild(this.createElement('span'));\n        append([content, this.createElement('div', { className: 'e-downtail e-tail' })], popup);\n        document.getElementById(this.element.id + 'GanttChart').appendChild(popup);\n    };\n    /**\n     * Method to get predecessor value as string.\n     *\n     * @param {string} type .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    Gantt.prototype.getPredecessorTextValue = function (type) {\n        var textValue;\n        switch (type) {\n            case 'SS':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('start');\n                break;\n            case 'FF':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'SF':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'FS':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('start');\n                break;\n        }\n        return textValue;\n    };\n    /**\n     * Method to perform search action in Gantt.\n     *\n     * @param {string} keyVal - Defines key value to search.\n     * @returns {void} .\n     */\n    Gantt.prototype.search = function (keyVal) {\n        if (this.filterModule) {\n            this.searchSettings.key = keyVal;\n            this.dataBind();\n        }\n    };\n    /**\n     * Method to get offset rect value\n     *\n     * @param {HTMLElement} element .\n     * @returns {number} .\n     * @hidden\n     */\n    Gantt.prototype.getOffsetRect = function (element) {\n        var box = element.getBoundingClientRect();\n        var scrollTop = window.pageYOffset || document.documentElement.scrollTop\n            || document.body.scrollTop;\n        var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n            document.body.scrollLeft;\n        var clientTop = document.documentElement.clientTop || document.body.clientTop || 0;\n        var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n        var top = box.top + scrollTop - clientTop;\n        var left = this.enableRtl ? box.right + scrollLeft - clientLeft : box.left + scrollLeft - clientLeft;\n        return { top: Math.round(top), left: Math.round(left), width: box.width, height: box.height };\n    };\n    /**\n     * Method to expand all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandAll = function () {\n        this.ganttChartModule.expandCollapseAll('expand');\n    };\n    /**\n     * Method to update data source.\n     *\n     * @returns {void} .\n     * @param {object[]} dataSource - Defines a collection of data.\n     * @param {object} args - Defines the projectStartDate and projectEndDate values.\n     * @public\n     */\n    Gantt.prototype.updateDataSource = function (dataSource, args) {\n        this.isDynamicData = true;\n        if (!isNullOrUndefined(args)) {\n            for (var _i = 0, _a = Object.keys(args); _i < _a.length; _i++) { // eslint-disable-line\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'projectStartDate':\n                        this.setProperties({ projectStartDate: args[prop] }, true);\n                        break;\n                    case 'projectEndDate':\n                        this.setProperties({ projectEndDate: args[prop] }, true);\n                        break;\n                }\n            }\n        }\n        this.dataSource = dataSource;\n    };\n    /**\n     * Method to collapse all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseAll = function () {\n        this.ganttChartModule.expandCollapseAll('collapse');\n    };\n    /**\n     * Gets the columns from the TreeGrid.\n     *\n     * @returns {Column[]} .\n     * @public\n     */\n    Gantt.prototype.getGridColumns = function () {\n        return this.treeGrid.getColumns();\n    };\n    /**\n     * Method to column from given column collection based on field value\n     *\n     * @param {string} field .\n     * @param {ColumnModel[]} columns .\n     * @returns {ColumnModel} .\n     * @private\n     */\n    Gantt.prototype.getColumnByField = function (field, columns) {\n        var column = columns.filter(function (value) {\n            return value.field === field;\n        });\n        return column.length > 0 ? column[0] : null;\n    };\n    /**\n     * Gets the Gantt columns.\n     *\n     * @returns {ColumnModel[]} .\n     * @public\n     */\n    Gantt.prototype.getGanttColumns = function () {\n        return this.ganttColumns;\n    };\n    /**\n     * Shows a column by its column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.showColumn = function (keys, showBy) {\n        this.treeGrid.showColumns(keys, showBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * Hides a column by column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.hideColumn = function (keys, hideBy) {\n        this.treeGrid.hideColumns(keys, hideBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * To set scroll top for chart scroll container.\n     *\n     * @param {number} scrollTop - Defines scroll top value for scroll container.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.setScrollTop = function (scrollTop) {\n        this.ganttChartModule.scrollObject.setScrollTop(scrollTop);\n    };\n    /**\n     * Cancels edited state.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.cancelEdit = function () {\n        this.isCancelled = true;\n        this.closeGanttActions();\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCell = function (cellIndex, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCell(cellIndex, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCells = function (rowCellIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCells(rowCellIndexes);\n        }\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRow = function (index, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRow(index, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRows = function (records) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRows(records);\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string } taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.deleteRecord = function (taskDetail) {\n        if (this.editModule) {\n            this.editModule.deleteRecord(taskDetail);\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     */\n    Gantt.prototype.enableItems = function (items, isEnable) {\n        if (this.toolbarModule) {\n            this.toolbarModule.enableItems(items, isEnable);\n        }\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearSelection();\n        }\n    };\n    /**\n     * @param {ITaskAddedEventArgs | IActionBeginEventArgs} args .\n     * @returns {ITaskAddedEventArgs | IActionBeginEventArgs} .\n     * @hidden\n     */\n    Gantt.prototype.updateDataArgs = function (args) {\n        if (!Array.isArray(args.data)) {\n            var customData = [];\n            customData.push(args.data);\n            setValue('data', customData, args);\n        }\n        return args;\n    };\n    /**\n     * Method to convert task data to milestone data.\n     *\n     * @param {string} id - Defines id of record.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.convertToMilestone = function (id) {\n        var rowData = this.getRecordByID(id);\n        if (!isNullOrUndefined(rowData)) {\n            var data = extend({}, {}, rowData.taskData, true);\n            var taskfields = this.taskFields;\n            if (data[taskfields.startDate]) {\n                this.setRecordValue(taskfields.startDate, rowData.ganttProperties.startDate, data, true);\n            }\n            if (!isNullOrUndefined(taskfields.duration)) {\n                data[taskfields.duration] = 0;\n            }\n            else {\n                data[taskfields.startDate] = new Date(rowData.ganttProperties.startDate);\n                data[taskfields.endDate] = new Date(rowData.ganttProperties.endDate);\n            }\n            if (!isNullOrUndefined(taskfields.milestone)) {\n                if (data[taskfields.milestone] === false) {\n                    data[taskfields.milestone] = true;\n                }\n            }\n            if (!isNullOrUndefined(taskfields.progress)) {\n                data[taskfields.progress] = 0;\n            }\n            if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                data[taskfields.child] = [];\n            }\n            if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                data[taskfields.parentID] = null;\n            }\n            if (!isNullOrUndefined(taskfields.segments)) {\n                data[taskfields.segments] = null;\n            }\n            if (!isNullOrUndefined(this.contextMenuModule) &&\n                this.contextMenuModule.isOpen &&\n                this.contextMenuModule.item === 'Milestone') {\n                if (!isNullOrUndefined(taskfields.dependency)) {\n                    data[taskfields.dependency] = null;\n                }\n                var position = this.editSettings.newRowPosition;\n                this.addRecord(data, position, this.selectedRowIndex);\n            }\n            else {\n                if (!rowData.hasChildRecords && !rowData.ganttProperties.isMilestone) {\n                    this.updateRecordByID(data);\n                }\n            }\n        }\n    };\n    /**\n     * To change the mode of a record.\n     *\n     * @param {object} data - Use to change the TaskMode either manual, auto or custom.\n     * @returns {void} .\n     */\n    Gantt.prototype.changeTaskMode = function (data) {\n        if (this.undoRedoModule && !this.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'TaskMode';\n            details['modifiedRecords'] = extend([], [data], [], true);\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var tasks = this.taskFields;\n        var ganttData = this.getRecordByID(data[tasks.id]);\n        var ganttProp = ganttData.ganttProperties;\n        this.isOnEdit = true;\n        this.setRecordValue('isAutoSchedule', !ganttProp.isAutoSchedule, ganttProp, true);\n        if (!isNullOrUndefined(this.taskFields.manual)) {\n            this.setRecordValue('taskData.' + tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n            this.setRecordValue(tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n        }\n        this.editModule.updateTaskScheduleModes(ganttData);\n        var args = {\n            data: ganttData\n        };\n        this.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * @returns {string[]} .\n     * @private\n     */\n    Gantt.prototype.getTaskIds = function () {\n        return this.taskIds;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.setTaskIds = function (data) {\n        if (this.viewType !== 'ProjectView') {\n            var id = data.ganttProperties.taskId;\n            id = data.level === 0 ? 'R' + id : 'T' + id;\n            this.taskIds.push(id);\n        }\n    };\n    /**\n     * To render the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.renderTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To reset the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.resetTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    };\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableImmutableMode\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowParentDependency\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"disableHtmlEncode\", void 0);\n    __decorate([\n        Complex({}, LoadingIndicator)\n    ], Gantt.prototype, \"loadingIndicator\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableVirtualMaskRow\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"loadChildOnDemand\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"updateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"UpdateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoCalculateDateScheduling\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoFocusTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableAdaptiveUI\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowSorting\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enablePredecessorValidation\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showColumnMenu\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"columnMenuItems\", void 0);\n    __decorate([\n        Property(['Sorting', 'Add', 'ColumnReorder', 'ColumnResize', 'ColumnState', 'Delete', 'Edit', 'Filtering', 'Indent', 'Outdent', 'NextTimeSpan', 'PreviousTimeSpan', 'RowDragAndDrop', 'Search'])\n    ], Gantt.prototype, \"undoRedoActions\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"timezone\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"collapseAllParentTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"highlightWeekends\", void 0);\n    __decorate([\n        Property(0)\n    ], Gantt.prototype, \"treeColumnIndex\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('day')\n    ], Gantt.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"dateFormat\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"renderBaseline\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowTaskbarDragAndDrop\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowTaskbarOverlap\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Gantt.prototype, \"gridLines\", void 0);\n    __decorate([\n        Complex({}, LabelSettings)\n    ], Gantt.prototype, \"labelSettings\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"parentTaskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"timelineTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"milestoneTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"baselineColor\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"width\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableTimelineVirtualization\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property(['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'])\n    ], Gantt.prototype, \"workWeek\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"includeWeekend\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowUnscheduledTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showInlineNotes\", void 0);\n    __decorate([\n        Property(36)\n    ], Gantt.prototype, \"rowHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceIDMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceNameMapping\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"resources\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"segmentData\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"connectorLineBackground\", void 0);\n    __decorate([\n        Property(1)\n    ], Gantt.prototype, \"connectorLineWidth\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"columns\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"addDialogFields\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"editDialogFields\", void 0);\n    __decorate([\n        Property(-1)\n    ], Gantt.prototype, \"selectedRowIndex\", void 0);\n    __decorate([\n        Property('hour')\n    ], Gantt.prototype, \"workUnit\", void 0);\n    __decorate([\n        Property('FixedUnit')\n    ], Gantt.prototype, \"taskType\", void 0);\n    __decorate([\n        Property('ProjectView')\n    ], Gantt.prototype, \"viewType\", void 0);\n    __decorate([\n        Collection([{ from: 8, to: 12 }, { from: 13, to: 17 }], DayWorkingTime)\n    ], Gantt.prototype, \"dayWorkingTime\", void 0);\n    __decorate([\n        Collection([], WeekWorkingTime)\n    ], Gantt.prototype, \"weekWorkingTime\", void 0);\n    __decorate([\n        Collection([], Holiday)\n    ], Gantt.prototype, \"holidays\", void 0);\n    __decorate([\n        Collection([], EventMarker)\n    ], Gantt.prototype, \"eventMarkers\", void 0);\n    __decorate([\n        Complex({}, TaskFields)\n    ], Gantt.prototype, \"taskFields\", void 0);\n    __decorate([\n        Complex({}, ResourceFields)\n    ], Gantt.prototype, \"resourceFields\", void 0);\n    __decorate([\n        Complex({}, TimelineSettings)\n    ], Gantt.prototype, \"timelineSettings\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"zoomingLevels\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], Gantt.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Complex({}, EditSettings)\n    ], Gantt.prototype, \"editSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], Gantt.prototype, \"tooltipSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], Gantt.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowExcelExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowRowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"readOnly\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableContextMenu\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableCriticalPath\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableUndoRedo\", void 0);\n    __decorate([\n        Property(10)\n    ], Gantt.prototype, \"undoRedoStepsCount\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"contextMenuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"validateManualTasksOnLinking\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableMultiTaskbar\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showOverAllocation\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Gantt.prototype, \"taskMode\", void 0);\n    __decorate([\n        Complex({}, FilterSettings)\n    ], Gantt.prototype, \"filterSettings\", void 0);\n    __decorate([\n        Complex({}, SearchSettings)\n    ], Gantt.prototype, \"searchSettings\", void 0);\n    __decorate([\n        Complex({}, SplitterSettings)\n    ], Gantt.prototype, \"splitterSettings\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeExcelExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStartHelper\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEdited\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"endEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEditing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResized\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeTooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onTaskbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"recordDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforePdfExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTimelineCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfColumnHeaderQueryCellInfo\", void 0);\n    Gantt = __decorate([\n        NotifyPropertyChanges\n    ], Gantt);\n    return Gantt;\n}(Component));\nexport { Gantt };\n","/**\n * public Enum for `PdfHorizontalOverflowType`.\n *\n * @private\n */\nexport var PdfHorizontalOverflowType;\n(function (PdfHorizontalOverflowType) {\n    /**\n     * Specifies the type of `NextPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"NextPage\"] = 0] = \"NextPage\";\n    /**\n     * Specifies the type of `LastPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"LastPage\"] = 1] = \"LastPage\";\n})(PdfHorizontalOverflowType || (PdfHorizontalOverflowType = {}));\n","import { isNullOrUndefined as isNOU, getValue, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { TreeGrid, Edit } from '@syncfusion/ej2-treegrid';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * To handle cell edit action on default columns and custom columns\n */\nvar CellEdit = /** @class */ (function () {\n    function CellEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.isCellEdit = false;\n        this.isResourceCellEdited = false;\n        this.parent = ganttObj;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Bind all editing related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    CellEdit.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.editSettings.allowEditing = this.parent.editSettings.allowEditing;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        this.parent.treeGrid.editSettings.mode = 'Cell';\n        this.parent.treeGrid.cellEdit = this.ensureEditCell.bind(this);\n        if (this.parent.editSettings.allowEditing) {\n            TreeGrid.Inject(Edit);\n        }\n    };\n    /**\n     * Ensure current cell was editable or not\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void | Deferred} .\n     */\n    CellEdit.prototype.ensureEditCell = function (args) {\n        var _this = this;\n        var data = args.rowData;\n        var field = args.columnName;\n        this.editedColumn = this.parent.getColumnByField(field, this.parent.ganttColumns);\n        var taskSettings = this.parent.taskFields;\n        if (this.parent.readOnly) {\n            args.cancel = true;\n            return;\n        }\n        if (this.parent.editSettings.mode === 'Dialog') {\n            args.cancel = true;\n            return;\n        }\n        if (data.hasChildRecords && !this.parent.allowParentDependency && ((field === taskSettings.endDate && ((!isNullOrUndefined(data['isManual']) &&\n            data['isManual'] === false) || this.parent.taskMode === 'Auto')) || field === taskSettings.duration\n            || field === taskSettings.dependency || field === taskSettings.progress || field === taskSettings.work ||\n            field === taskSettings.type || field === 'taskType')) {\n            if ((field === taskSettings.dependency && !this.parent.allowParentDependency) || field !== taskSettings.dependency) {\n                args.cancel = true;\n            }\n        }\n        else {\n            var callBackPromise_1 = new Deferred();\n            var parentReference_1 = this.parent;\n            this.parent.trigger('cellEdit', args, function (arg) {\n                if (arg.columnName === parentReference_1.taskFields.progress && arg.rowData.hasChildRecords) {\n                    arg.cancel = true;\n                }\n                if (data.level === 0 && _this.parent.viewType === 'ResourceView') {\n                    arg.cancel = true;\n                }\n                callBackPromise_1.resolve(arg);\n                if (!arg.cancel) {\n                    if (arg.columnName === _this.parent.taskFields.notes) {\n                        _this.openNotesEditor(arg);\n                    }\n                    else {\n                        _this.isCellEdit = true;\n                        if (!isNOU(_this.parent.toolbarModule)) {\n                            _this.parent.toolbarModule.refreshToolbarItems();\n                        }\n                    }\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    /**\n     * To render edit dialog and to focus on notes tab\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.openNotesEditor = function (args) {\n        var taskSettings = this.parent.taskFields;\n        var data = args.rowData;\n        var field = args.columnName;\n        if ((field === taskSettings.notes && !this.parent.showInlineNotes)) {\n            args.cancel = true;\n            var columnTypes = this.parent.editModule.dialogModule.updatedEditFields.map(function (x) { return x.type; });\n            var index = columnTypes.indexOf('Notes');\n            if (index !== -1) {\n                this.parent.editModule.dialogModule.openEditDialog(data.ganttProperties.rowUniqueID);\n                var tabObj = document.getElementById(this.parent.element.id + '_Tab').ej2_instances[0];\n                tabObj.selectedItem = index;\n            }\n        }\n        if (field === taskSettings.notes && this.parent.showInlineNotes === true) {\n            this.isCellEdit = true;\n        }\n    };\n    // private isValueChange(args: Record<string, unknown>, field: string): boolean {\n    //     const data: IGanttData = getValue('data', args);\n    //     const editedValue: Record<string, unknown> = data[`${field}`];\n    //     const previousValue: Record<string, unknown> = getValue('previousData', args);\n    //     if ((isNOU(editedValue) && !isNOU(previousValue)) || (!isNOU(editedValue) && isNOU(previousValue))) {\n    //         return true;\n    //     } else if (!isNOU(editedValue) && !isNOU(previousValue)) {\n    //         if (editedValue instanceof Date) {\n    //             return editedValue.getTime() !== data.taskData[field as string].getTime() ? true : false;\n    //         } else if (field === this.parent.taskFields.resourceInfo) {\n    //             return editedValue !== previousValue ? true : false;\n    //         } else if (editedValue !== data.taskData[field as string]) {\n    //             return true;\n    //         }\n    //     }\n    //     return false;\n    // }\n    /**\n     * Initiate cell save action on Gantt with arguments from TreeGrid\n     *\n     * @param {object} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.initiateCellEdit = function (args, editedObj) {\n        var isValid = true;\n        if (args['name'] === 'actionComplete' && args['previousData'] === args['data'][args['column'].field]) {\n            isValid = false;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (isValid) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'CellEditing';\n                action['editedColumn'] = args['column'].field;\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n            }\n        }\n        var column = getValue('column', args);\n        var data = getValue('data', args);\n        var editedArgs = {};\n        editedArgs.action = 'CellEditing';\n        editedArgs.data = this.parent.getTaskByUniqueID(data.uniqueID);\n        var previousValue = getValue('previousData', args);\n        var editedValue = this.parent.allowUnscheduledTasks ? data[column.field] : ((isNullOrUndefined(data[column.field])\n            || data[column.field] === '') && (this.parent.taskFields.duration === column.field ||\n            this.parent.taskFields.startDate === column.field || this.parent.taskFields.endDate === column.field)) ? previousValue\n            : data[column.field];\n        if (!isNOU(data)) {\n            data[column.field] = previousValue;\n            editedArgs.data[column.field] = previousValue;\n            this.parent.initiateEditAction(true);\n            if (this.parent.weekWorkingTime.length > 0 && editedValue && (column.field === this.parent.taskFields.startDate ||\n                column.field === this.parent.taskFields.baselineStartDate)) {\n                var sDate = column.field === this.parent.taskFields.startDate ? data.ganttProperties.startDate :\n                    data.ganttProperties.baselineStartDate;\n                var prevDay = this.parent['getStartTime'](sDate);\n                if (prevDay / 3600 === sDate.getHours()) {\n                    var dayStartTime = this.parent['getStartTime'](editedValue);\n                    this.parent.dataOperation.setTime(dayStartTime, editedValue);\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n                else {\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n            }\n            else {\n                this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n            }\n            if (column.field === this.parent.taskFields.name) {\n                this.taskNameEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.startDate) {\n                this.startDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.endDate) {\n                this.endDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.duration) {\n                this.durationEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.resourceInfo) {\n                this.resourceEdited(editedArgs, editedObj, data);\n            }\n            else if (column.field === this.parent.taskFields.progress) {\n                this.progressEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.baselineStartDate\n                || column.field === this.parent.taskFields.baselineEndDate) {\n                this.baselineEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.dependency) {\n                this.dependencyEdited(editedArgs, previousValue);\n            }\n            else if (column.field === this.parent.taskFields.notes) {\n                this.notedEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.work) {\n                this.workEdited(editedArgs);\n            }\n            else if ((column.field === this.parent.taskFields.type || column.field === 'taskType') &&\n                !isNOU(this.parent.taskFields.work)) {\n                this.typeEdited(editedArgs, editedObj);\n            }\n            else if (column.field === this.parent.taskFields.manual) {\n                this.taskmodeEdited(editedArgs);\n            }\n            else {\n                this.parent.setRecordValue('taskData.' + column.field, editedArgs.data[column.field], editedArgs.data);\n                this.parent.editModule.initiateSaveAction(editedArgs);\n            }\n        }\n        else {\n            this.parent.editModule.endEditAction(args);\n        }\n        this.isCellEdit = false;\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn)) {\n            this.parent.editModule.cellEditModule.editedColumn = null;\n        }\n        if (!isNOU(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * To update task name cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskNameEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.name, args.data[this.parent.taskFields.name], args.data);\n        this.parent.setRecordValue('taskName', args.data[this.parent.taskFields.name], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task notes cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.notedEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.notes, args.data[this.parent.taskFields.notes], args.data);\n        this.parent.setRecordValue('notes', args.data[this.parent.taskFields.notes], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task schedule mode cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskmodeEdited = function (args) {\n        this.parent.setRecordValue('isAutoSchedule', !args.data[this.parent.taskFields.manual], args.data.ganttProperties, true);\n        this.parent.editModule.updateTaskScheduleModes(args.data);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task start date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.startDateEdited = function (args) {\n        var ganttData = args.data;\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.startDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        currentValue = this.parent.dateValidationModule.checkStartDate(currentValue, ganttData.ganttProperties, ganttData.ganttProperties.isMilestone);\n        if (isNOU(currentValue)) {\n            if (!ganttData.hasChildRecords) {\n                this.parent.setRecordValue('startDate', null, ganttProb, true);\n                if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                    this.parent.setRecordValue('duration', null, ganttProb, true);\n                }\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                // if (this.parent.allowUnscheduledTasks && isNOU(this.parent.taskFields.endDate)) {\n                //     this.parent.setRecordValue('endDate', null, ganttProb, true);\n                // }\n            }\n        }\n        else if (ganttProb.endDate || !isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(ganttData);\n        }\n        else if (isNOU(ganttProb.endDate) && isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n        }\n        this.parent.setRecordValue('isMilestone', ganttProb.duration === 0 ? true : false, ganttProb, true);\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        this.updateEditedRecord(args);\n    };\n    CellEdit.prototype.validateEndDateWithSegments = function (ganttProp) {\n        var ganttSegments = [];\n        var segments = ganttProp.segments;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[parseInt(i.toString(), 10)];\n            var endDate = segment.endDate;\n            endDate = (!isNullOrUndefined(ganttProp.endDate)) && endDate.getTime() <\n                ganttProp.endDate.getTime() && i !== segments.length - 1 ? endDate : ganttProp.endDate;\n            segment.duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n            if (segments.length > 0 && endDate.getTime() < segment.startDate.getTime()\n                && endDate.getTime() <= ganttProp.endDate.getTime()) {\n                segments[i - 1].duration = this.parent.dataOperation.getDuration(segments[i - 1].startDate, ganttProp.endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                continue;\n            }\n            ganttSegments.push(segment);\n        }\n        return ganttSegments;\n    };\n    /**\n     * To update task end date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.endDateEdited = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.endDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        if (isNOU(currentValue)) {\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                this.parent.setRecordValue('duration', null, ganttProb, true);\n            }\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](currentValue);\n            if ((currentValue.getHours() === 0 && dayEndTime !== 86400)) {\n                this.parent.dateValidationModule.setTime(dayEndTime, currentValue);\n            }\n            currentValue = this.parent.dateValidationModule.checkEndDate(currentValue, ganttProb, ganttProb.isMilestone);\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!isNOU(ganttProb.startDate) && isNOU(ganttProb.duration)) {\n                if (this.parent.dateValidationModule.compareDates(ganttProb.endDate, ganttProb.startDate) === -1) {\n                    this.parent.setRecordValue('endDate', new Date(ganttProb.startDate.getTime()), ganttProb, true);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProb.endDate);\n                    this.parent.dateValidationModule.setTime(dayEndTime, ganttProb.endDate);\n                }\n            }\n            else if (!isNOU(ganttProb.duration) && isNOU(ganttProb.startDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(ganttProb.endDate, ganttProb.duration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments)) {\n                ganttProb.segments = this.validateEndDateWithSegments(ganttProb);\n            }\n            if (this.compareDatesFromRecord(ganttProb) === -1) {\n                this.parent.dateValidationModule.calculateDuration(args.data);\n            }\n            else {\n                this.parent.editModule.revertCellEdit(args);\n            }\n            this.updateDates(args);\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            if (ganttProb.isMilestone) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0) {\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), args.data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(args.data, 'segments');\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'endDate');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update duration cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.durationEdited = function (args) {\n        var regex = /^[^\\d.-]+$/;\n        if (regex.test(args.data['Duration'])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.duration + \" field is invalid. Please ensure the \" + this.parent.taskFields.duration + \" field contains only valid numeric values.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        if (parseInt(args.data[this.parent.taskFields.duration], 10) < 0) {\n            args.data[this.parent.taskFields.duration] = 0;\n        }\n        var ganttProb = args.data.ganttProperties;\n        var durationString = args.data[this.parent.taskFields.duration];\n        this.parent.dataOperation.updateDurationValue(durationString, ganttProb);\n        this.updateDates(args);\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'duration');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update start date, end date based on duration\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateDates = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var endDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.endDate);\n        var startDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.startDate);\n        var currentDuration = ganttProb.duration;\n        if (isNOU(currentDuration)) {\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n            if (args.data[this.parent.taskFields.duration] !== null) {\n                this.parent.setRecordValue('endDate', null, ganttProb, true);\n            }\n        }\n        else {\n            if (isNOU(startDate) && !isNOU(endDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(endDate, currentDuration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (currentDuration !== 0 && ganttProb.isMilestone) {\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, false, args.data, true);\n                }\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments) && ganttProb.segments.length > 0) {\n                this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), ganttProb, true);\n                this.parent.dataOperation.updateMappingData(args.data, 'segments');\n            }\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(args.data);\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n    };\n    /**\n     * To update progress cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.progressEdited = function (args) {\n        var ganttRecord = args.data;\n        this.parent.setRecordValue('progress', (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), ganttRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.progress, (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), args.data);\n        if (!ganttRecord.ganttProperties.isAutoSchedule) {\n            this.parent.setRecordValue('autoWidth', this.parent.dataOperation.calculateWidth(ganttRecord, false), ganttRecord.ganttProperties, true);\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.updateSegmentProgress(args.data.ganttProperties);\n        }\n        if (!args.data.hasChildRecords) {\n            var width = ganttRecord.ganttProperties.isAutoSchedule ? ganttRecord.ganttProperties.width :\n                ganttRecord.ganttProperties.autoWidth;\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(width, ganttRecord.ganttProperties.progress), ganttRecord.ganttProperties, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update baselines with new baseline start date and baseline end date\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.baselineEdited = function (args) {\n        var ganttRecord = args.data.ganttProperties;\n        var baseLineStartDate = args.data[this.parent.taskFields.baselineStartDate];\n        var baseLineEndDate = args.data[this.parent.taskFields.baselineEndDate];\n        var dayEndTime = this.parent['getCurrentDayEndTime'](baseLineEndDate);\n        if (baseLineEndDate && baseLineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.parent.dateValidationModule.setTime(dayEndTime, baseLineEndDate);\n        }\n        this.parent.setRecordValue('baselineStartDate', this.parent.dateValidationModule.checkBaselineStartDate(baseLineStartDate, ganttRecord), ganttRecord, true);\n        this.parent.setRecordValue('baselineEndDate', this.parent.dateValidationModule.checkBaselineEndDate(baseLineEndDate), ganttRecord, true);\n        if (ganttRecord.baselineStartDate && ganttRecord.baselineEndDate) {\n            this.parent.setRecordValue('baselineLeft', this.parent.dataOperation.calculateBaselineLeft(ganttRecord), ganttRecord, true);\n            this.parent.setRecordValue('baselineWidth', this.parent.dataOperation.calculateBaselineWidth(ganttRecord), ganttRecord, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task's resource cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @param {IGanttData} previousData .\n     * @returns {void} .\n     */\n    CellEdit.prototype.resourceEdited = function (args, editedObj, previousData) {\n        var resourceSettings = this.parent.resourceFields;\n        var editedResourceId = editedObj[this.parent.taskFields.resourceInfo];\n        if (editedResourceId) {\n            this.isResourceCellEdited = true;\n            var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n            var editedResouceLength = tempResourceInfo.length;\n            var previousResource = previousData.ganttProperties.resourceInfo;\n            var index = void 0;\n            var editedResources = [];\n            var resourceData = this.parent.resources;\n            var newIndex = void 0;\n            var _loop_1 = function (count) {\n                if (previousResource) {\n                    var previousResourceLength = previousResource.length;\n                    for (newIndex = 0; newIndex < previousResourceLength; newIndex++) {\n                        if (previousResource[newIndex][resourceSettings.id] === editedResourceId[count]) {\n                            index = newIndex;\n                            break;\n                        }\n                        else {\n                            index = -1;\n                        }\n                    }\n                }\n                if (!isNOU(index) && index !== -1) {\n                    editedResources.push(previousResource[parseInt(index.toString(), 10)]);\n                }\n                else {\n                    var resource = resourceData.filter(function (resourceInfo) {\n                        return (editedResourceId[count] === resourceInfo[resourceSettings.id]);\n                    });\n                    var ganttDataResource = extend({}, resource[0]);\n                    ganttDataResource[resourceSettings.unit] = 100;\n                    editedResources.push(ganttDataResource);\n                }\n            };\n            for (var count = 0; count < editedResouceLength; count++) {\n                _loop_1(count);\n            }\n            args.data.ganttProperties.resourceInfo = editedResources;\n            this.parent.dataOperation.updateMappingData(args.data, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'resource');\n            if (this.parent.viewType === 'ResourceView') {\n                this.parent.editModule.dialogModule.isResourceUpdate = true;\n                this.parent.editModule.dialogModule.previousResource = previousResource;\n            }\n            this.updateDates(args);\n            this.updateEditedRecord(args);\n        }\n    };\n    /**\n     * To update task's predecessor cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @param {object} cellEditArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.dependencyEdited = function (editedArgs, cellEditArgs) {\n        var specialCharacterPattern = /[!@#$%^&*()_=[\\]{};:<>|./?-]/;\n        if (specialCharacterPattern.test(editedArgs.data['Predecessor'])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.dependency + \" field is invalid. Please ensure that the \" + this.parent.taskFields.dependency + \" field does not contain any special characters.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        this.parent.predecessorModule.updateUnscheduledDependency(editedArgs.data);\n        var FF = this.parent.localeObj.getConstant(\"FF\");\n        var FS = this.parent.localeObj.getConstant(\"FS\");\n        var SS = this.parent.localeObj.getConstant(\"SS\");\n        var SF = this.parent.localeObj.getConstant(\"SF\");\n        var splitString = editedArgs.data[this.parent.taskFields.dependency].split(\",\");\n        var value = \"\";\n        splitString.map(function (splitvalue, index) {\n            if (splitvalue.includes(FF)) {\n                value += splitvalue.replace(FF, \"FF\");\n                value += (splitString.length !== index + 1) ? \",\" : \"\";\n            }\n            else if (splitvalue.includes(FS)) {\n                value += splitvalue.replace(FS, \"FS\");\n                value += (splitString.length !== index + 1) ? \",\" : \"\";\n            }\n            else if (splitvalue.includes(SS)) {\n                value += splitvalue.replace(SS, \"SS\");\n                value += (splitString.length !== index + 1) ? \",\" : \"\";\n            }\n            else if (splitvalue.includes(SF)) {\n                value += splitvalue.replace(SF, \"SF\");\n                value += (splitString.length !== index + 1) ? \",\" : \"\";\n            }\n            else {\n                value += splitvalue;\n                value += (splitString.length !== index + 1) ? \",\" : \"\";\n            }\n        });\n        if (!this.parent.connectorLineEditModule.updatePredecessor(editedArgs.data, value, editedArgs)) {\n            this.parent.editModule.revertCellEdit(cellEditArgs);\n        }\n    };\n    /**\n     * To update task's work cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.workEdited = function (editedArgs) {\n        var ganttProb = editedArgs.data.ganttProperties;\n        if (editedArgs.data[this.parent.taskFields.work] < 0) {\n            editedArgs.data[this.parent.taskFields.work] = 0;\n        }\n        var workValue = editedArgs.data[this.parent.taskFields.work];\n        this.parent.setRecordValue('work', workValue, ganttProb, true);\n        this.parent.editModule.updateResourceRelatedFields(editedArgs.data, 'work');\n        this.updateDates(editedArgs);\n        this.updateEditedRecord(editedArgs);\n    };\n    /**\n     * To update task type cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     */\n    CellEdit.prototype.typeEdited = function (args, editedObj) {\n        var key = this.parent.taskFields.type || 'taskType';\n        var ganttProb = args.data.ganttProperties;\n        var taskType = editedObj[\"\" + key];\n        this.parent.setRecordValue('taskType', taskType, ganttProb, true);\n        //this.parent.dataOperation.updateMappingData(args.data, 'taskType');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To compare start date and end date from Gantt record\n     *\n     * @param {ITaskData} ganttRecord .\n     * @returns {number} .\n     */\n    CellEdit.prototype.compareDatesFromRecord = function (ganttRecord) {\n        var sDate = this.parent.dateValidationModule.getValidStartDate(ganttRecord);\n        var eDate = this.parent.dateValidationModule.getValidEndDate(ganttRecord);\n        return this.parent.dateValidationModule.compareDates(sDate, eDate);\n    };\n    /**\n     * To start method save action with edited cell value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateEditedRecord = function (args) {\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To remove all public private properties\n     *\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.destroy = function () {\n        // Destroy Method\n        this.parent.editModule.cellEditModule = undefined;\n    };\n    return CellEdit;\n}());\nexport { CellEdit };\n","import { getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport * as cls from '../base/css-constants';\n/**\n * File for handling taskbar editing tooltip in Gantt.\n */\nvar EditTooltip = /** @class */ (function () {\n    function EditTooltip(gantt, taskbarEdit) {\n        this.parent = gantt;\n        this.taskbarEdit = taskbarEdit;\n    }\n    /**\n     * To create tooltip.\n     *\n     * @param {string} opensOn .\n     * @param {boolean} mouseTrail .\n     * @param {string} target .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.createTooltip = function (opensOn, mouseTrail, target) {\n        var _this = this;\n        this.toolTipObj = new Tooltip({\n            opensOn: opensOn,\n            position: 'TopRight',\n            enableRtl: this.parent.enableRtl,\n            mouseTrail: mouseTrail,\n            cssClass: cls.ganttTooltip,\n            target: target ? target : null,\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        this.toolTipObj.beforeRender = function (args) {\n            var argsData = {\n                data: _this.taskbarEdit.taskBarEditRecord,\n                args: args,\n                content: _this.toolTipObj.content\n            };\n            _this.parent.trigger('beforeTooltipRender', argsData);\n        };\n        this.toolTipObj.afterOpen = function (args) {\n            _this.updateTooltipPosition(args);\n        };\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.chartPane);\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    EditTooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = args.element.offsetLeft;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth)) {\n                tooltipPositionX += leftEnd - (tooltipPositionX + args.element.offsetWidth);\n            }\n            args.element.style.left = tooltipPositionX + 'px';\n            args.element.style.visibility = 'visible';\n        }\n    };\n    /**\n     * To show/hide taskbar edit tooltip.\n     *\n     * @param {boolean} bool .\n     * @param {number} segmentIndex .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.showHideTaskbarEditTooltip = function (bool, segmentIndex) {\n        if (bool && this.parent.tooltipSettings.showTooltip) {\n            this.createTooltip('Custom', false);\n            this.parent.tooltipModule.toolTipObj.close();\n            this.updateTooltip(segmentIndex);\n            if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointLeft));\n            }\n            else if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointRight));\n            }\n            else {\n                this.toolTipObj.open(this.taskbarEdit.taskBarEditElement);\n            }\n        }\n        else if (!isNullOrUndefined(this.toolTipObj)) {\n            this.toolTipObj.destroy();\n            this.toolTipObj = null;\n        }\n    };\n    /**\n     * To update tooltip content and position.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.updateTooltip = function (segmentIndex) {\n        var ganttProp = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        var taskWidth = segmentIndex === -1 ? ganttProp.width :\n            ganttProp.segments[segmentIndex].width;\n        var progressWidth = segmentIndex === -1 ? ganttProp.progressWidth :\n            ganttProp.segments[segmentIndex].progressWidth;\n        var left = segmentIndex === -1 ? ganttProp.left : ganttProp.left + ganttProp.segments[segmentIndex].left;\n        if (!isNullOrUndefined(this.toolTipObj)) {\n            if (this.taskbarEdit.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskbarEdit.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                this.toolTipObj.offsetY = -3;\n            }\n            else {\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                this.toolTipObj.refresh(this.taskbarEdit.taskBarEditElement);\n                if (this.parent.enableRtl && this.toolTipObj['tooltipEle']) {\n                    this.toolTipObj['tooltipEle'].style.left = this.parent.editModule.taskbarEditModule['tooltipValue'] + 10 + 'px';\n                }\n                if (this.taskbarEdit.taskBarEditAction === 'LeftResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'RightResizing' ||\n                    this.taskbarEdit.taskBarEditAction === 'ParentResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -(progressWidth);\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -(taskWidth - progressWidth);\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'MilestoneDrag') {\n                    this.toolTipObj.offsetX = -(this.parent.chartRowsModule.milestoneHeight / 2);\n                }\n                else if (taskWidth > 5) {\n                    this.toolTipObj.offsetX = -(taskWidth + left - this.taskbarEdit.tooltipPositionX);\n                }\n            }\n        }\n    };\n    /**\n     * To get updated tooltip text.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.getTooltipText = function (segmentIndex) {\n        var tooltipString = '';\n        var instance = this.parent.globalize;\n        var editRecord = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        if (!isNullOrUndefined(editRecord.segments) && editRecord.segments.length > 0 && segmentIndex !== -1\n            && this.taskbarEdit.taskBarEditAction !== 'ProgressResizing') {\n            editRecord = editRecord.segments[segmentIndex];\n        }\n        if (this.parent.tooltipSettings.editing) {\n            var templateNode = this.parent.tooltipModule.templateCompiler(this.parent.tooltipSettings.editing, this.parent, this.taskbarEdit.taskBarEditRecord, 'TooltipEditingTemplate');\n            if (getValue('tooltipEle', this.toolTipObj)) {\n                this.parent.renderTemplates();\n            }\n            tooltipString = templateNode[0];\n        }\n        else {\n            var startDate = void 0;\n            var endDate = void 0;\n            var duration = void 0;\n            if (!isNullOrUndefined(editRecord.startDate)) {\n                startDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('startDate') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.startDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord.endDate)) {\n                endDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('endDate') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.endDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord.duration)) {\n                duration = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('duration') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    this.parent.getDurationString(editRecord.duration, editRecord.durationUnit) + '</td></tr>';\n            }\n            switch (this.taskbarEdit.taskBarEditAction) {\n                case 'ProgressResizing':\n                    {\n                        var progress = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('progress') +\n                            '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' + editRecord.progress + '</td></tr>';\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            progress + '</tbody></table>';\n                        break;\n                    }\n                case 'LeftResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            startDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'RightResizing':\n                case 'ParentResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            endDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'ChildDrag':\n                case 'ParentDrag':\n                case 'MilestoneDrag':\n                case 'ManualParentDrag':\n                    {\n                        var sDate = '';\n                        var eDate = '';\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.startDate)) {\n                            sDate = startDate;\n                        }\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.endDate)) {\n                            eDate = endDate;\n                        }\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' + sDate + eDate + '</tbody></table>';\n                        break;\n                    }\n                case 'ConnectorPointLeftDrag':\n                case 'ConnectorPointRightDrag':\n                    {\n                        tooltipString = this.parent.connectorLineModule.tooltipTable;\n                        if (isNullOrUndefined(this.toolTipObj)) {\n                            this.parent.connectorLineModule.tooltipTable.innerHTML =\n                                this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', '');\n                        }\n                        break;\n                    }\n            }\n        }\n        return tooltipString;\n    };\n    return EditTooltip;\n}());\nexport { EditTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, createElement, extend, addClass, remove, removeClass, closest, merge, classList, getValue } from '@syncfusion/ej2-base';\nimport { parentsUntil } from '../base/utils';\nimport { DateProcessor } from '../base/date-processor';\nimport * as cls from '../base/css-constants';\nimport { EditTooltip } from '../renderer/edit-tooltip';\n/**\n * File for handling taskbar editing operation in Gantt.\n */\nvar TaskbarEdit = /** @class */ (function (_super) {\n    __extends(TaskbarEdit, _super);\n    function TaskbarEdit(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.leftValue = 0;\n        _this.previousLeftValue = 0;\n        _this.isMouseDragged = false;\n        _this.dependencyCancel = false;\n        _this.isDragged = false;\n        _this.editElement = null;\n        _this.elementOffsetLeft = 0;\n        _this.elementOffsetTop = 0;\n        _this.elementOffsetWidth = 0;\n        _this.elementOffsetHeight = 0;\n        _this.segmentIndex = -1;\n        _this.currentItemTop = 0;\n        _this.currentItemPrevTop = 0;\n        _this.topValue = 0;\n        _this.draggedRecordMarginTop = '0px';\n        _this.isClonedElement = false;\n        _this.updatePosition = false;\n        _this.tooltipValue = 0;\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.wireEvents();\n        _this.editTooltip = new EditTooltip(_this.parent, _this);\n        return _this;\n    }\n    TaskbarEdit.prototype.wireEvents = function () {\n        this.parent.on('chartMouseDown', this.mouseDownHandler, this);\n        this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        this.parent.on('chartMouseLeave', this.mouseLeaveHandler, this);\n        this.parent.on('chartMouseMove', this.mouseMoveAction, this);\n        this.parent.on('chartMouseClick', this.mouseClickHandler, this);\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.initPublicProp = function () {\n        this.taskBarEditElement = null;\n        this.taskBarEditRecord = null;\n        this.taskBarEditAction = null;\n        this.connectorSecondElement = null;\n        this.connectorSecondRecord = null;\n        this.connectorSecondAction = null;\n        this.highlightedSecondElement = null;\n        this.fromPredecessorText = null;\n        this.toPredecessorText = null;\n        this.finalPredecessor = null;\n        this.drawPredecessor = false;\n        this.roundOffDuration = true;\n        this.dragMouseLeave = false;\n        this.isMouseDragged = false;\n        this.previousItemProperty = ['left', 'progress', 'duration', 'isMilestone', 'startDate', 'endDate', 'width', 'progressWidth',\n            'autoLeft', 'autoDuration', 'autoStartDate', 'autoEndDate', 'autoWidth', 'segments'];\n        this.tapPointOnFocus = false;\n        this.touchEdit = false;\n    };\n    TaskbarEdit.prototype.mouseDownHandler = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing && !this.parent.readOnly) {\n            this.canDrag = false;\n            if (this.taskBarEditElement) {\n                var targetElement = this.getElementByPosition(e);\n                var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n                if ((element && element.innerHTML === this.taskBarEditElement.innerHTML ||\n                    this.taskBarEditElement.classList.contains('e-segmented-taskbar') || this.taskBarEditElement.classList.contains('collpse-parent-border'))) {\n                    this.updateTaskBarEditElement(e);\n                    this.canDrag = true;\n                    e.preventDefault();\n                }\n            }\n            else if (!this.parent.isAdaptive) {\n                this.updateTaskBarEditElement(e);\n            }\n        }\n    };\n    TaskbarEdit.prototype.mouseClickHandler = function (e) {\n        if (!this.parent.editSettings.allowTaskbarEditing) {\n            return;\n        }\n        var targetElement = this.getElementByPosition(e);\n        var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n        if (this.parent.selectionModule && this.parent.selectionModule.enableSelectMultiTouch) {\n            if (this.tapPointOnFocus) {\n                this.updateTaskBarEditElement(e);\n            }\n            return;\n        }\n        if (this.tapPointOnFocus && !isNullOrUndefined(this.taskBarEditElement) && element &&\n            element.innerHTML !== this.taskBarEditElement.innerHTML) {\n            this.connectorSecondRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondElement = element;\n            this.fromPredecessorText = 'Finish';\n            if (this.validateConnectorPoint()) {\n                this.taskBarEditingAction(e, true);\n            }\n            this.showHideActivePredecessors(false);\n            this.initPublicProp();\n        }\n        else if (targetElement.classList.contains(cls.connectorPointLeftHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else if (targetElement.classList.contains(cls.connectorPointRightHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointRightDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else {\n            if (this.tapPointOnFocus) {\n                this.showHideActivePredecessors(false);\n                this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n            }\n            this.updateTaskBarEditElement(e);\n        }\n    };\n    TaskbarEdit.prototype.showHideActivePredecessors = function (show) {\n        var ganttProp = this.taskBarEditRecord.ganttProperties;\n        var predecessors = ganttProp.predecessor;\n        var id = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n        if (predecessors) {\n            for (var i = 0; i < predecessors.length; i++) {\n                var predecessor = predecessors[i];\n                if (id.toString() === predecessor.from || id.toString() === predecessor.to) {\n                    this.applyActiveColor(predecessor.from, predecessor.to, show);\n                }\n            }\n        }\n        var chartContent = this.parent.ganttChartModule.chartBodyContainer;\n        if (show) {\n            addClass([this.taskBarEditElement], [cls.activeChildTask]);\n            addClass([chartContent], [cls.touchMode]);\n        }\n        else {\n            removeClass([this.taskBarEditElement], [cls.activeChildTask]);\n            removeClass([chartContent], [cls.touchMode]);\n        }\n        this.touchEdit = show;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    TaskbarEdit.prototype.applyActiveColor = function (from, to, enable) {\n        var taskId = this.parent.viewType === 'ProjectView' ? this.taskBarEditRecord.ganttProperties.taskId.toString() :\n            this.taskBarEditRecord.ganttProperties.rowUniqueID.toString();\n        var ganttRecord = (taskId === from) ? this.parent.connectorLineModule.getRecordByID(to) :\n            this.parent.connectorLineModule.getRecordByID(from);\n        var $tr = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(ganttRecord)];\n        if (!isNullOrUndefined($tr)) {\n            var $taskbar = $tr.querySelector('.' + cls.taskBarMainContainer);\n            var $connectorElement = this.parent.element.querySelector('#ConnectorLineparent' + from + 'child' + to);\n            if (enable) {\n                addClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    addClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n            else {\n                removeClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    removeClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.validateConnectorPoint = function () {\n        var parentRecord = this.taskBarEditRecord.ganttProperties;\n        var childRecord = this.connectorSecondRecord.ganttProperties;\n        var isValid = true;\n        var parentId = this.parent.viewType === 'ResourceView' ? parentRecord.taskId : parentRecord.rowUniqueID;\n        var childId = this.parent.viewType === 'ResourceView' ? childRecord.taskId : childRecord.rowUniqueID;\n        if (this.connectorSecondRecord.hasChildRecords) {\n            isValid = false;\n        }\n        else if (childRecord.predecessor) {\n            for (var i = 0; i < childRecord.predecessor.length; i++) {\n                var predecessor = childRecord.predecessor[i];\n                if (predecessor.from === parentId.toString() &&\n                    predecessor.to === childId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.connectorSecondRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n                else if (predecessor.from === childId.toString() &&\n                    predecessor.to === parentId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.taskBarEditRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n            }\n        }\n        return isValid;\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.mouseLeaveHandler = function (e) {\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ProgressResizing' || this.taskBarEditAction === 'LeftResizing' ||\n            this.taskBarEditAction === 'RightResizing') {\n            this.dragMouseLeave = false;\n        }\n        else {\n            this.dragMouseLeave = true;\n        }\n    };\n    /**\n     * To update taskbar edited elements on mouse down action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateTaskBarEditElement = function (e) {\n        var target = this.getElementByPosition(e);\n        var cloneTaskBar;\n        var element;\n        if (target.classList.contains(cls.manualParentRightResizer) || target.classList.contains(cls.manualParentMainContainer)\n            || target.classList.contains(cls.manualParentTaskBar)) {\n            element = parentsUntil(target, cls.manualParentMainContainer);\n        }\n        else if (target.classList.contains(cls.manualParentMilestone)) {\n            element = parentsUntil(target, cls.manualParentMilestone);\n        }\n        else {\n            element = parentsUntil(target, cls.taskBarMainContainer);\n            if (!isNullOrUndefined(element) && !target.classList.contains('e-connectorpoint-left') &&\n                !target.classList.contains('e-connectorpoint-right')) {\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (!isNullOrUndefined(currentRecord.ganttProperties.segments) && currentRecord.ganttProperties.segments.length > 0) {\n                    element = parentsUntil(target, cls.childTaskBarInnerDiv);\n                }\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && element) {\n            this.showHideTaskBarEditingElements(element, this.editElement);\n            this.editElement = element;\n            this.realTaskbarElement = this.editElement;\n            var index = this.editElement.getAttribute('data-segment-index');\n            if (!isNullOrUndefined(index)) {\n                this.segmentIndex = Number(index);\n            }\n            else {\n                this.segmentIndex = -1;\n            }\n            this.taskBarEditRecord = this.parent.ganttChartModule.getRecordByTaskBar(this.editElement);\n            if (e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'click') {\n                this.taskBarEditAction = this.getTaskBarAction(e);\n                var index_1 = this.editElement.getAttribute('data-segment-index');\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                var ganttprop = currentRecord.ganttProperties;\n                var parentleft = this.editElement.parentElement.offsetLeft;\n                this.currentData = currentRecord;\n                var resizeElement = createElement('div', { styles: 'height:100%;border-style:dashed;border-bottom:none;border-top:none;border-width:1px;position:absolute;z-index:10000' });\n                addClass([resizeElement], 'e-taskbar-resize-div');\n                resizeElement.style.setProperty('width', ganttprop.width + 'px');\n                var currentindex = this.editElement.getAttribute('data-segment-index');\n                if (!isNullOrUndefined(ganttprop.segments) && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    resizeElement.style.setProperty('left', ((!isNullOrUndefined(ganttprop.segments) ? parentleft + 'px' : (ganttprop.left) + 'px')));\n                }\n                else {\n                    resizeElement.style.setProperty('left', (((!isNullOrUndefined(ganttprop.segments) && ganttprop.segments.length !== 0) ? parentleft + ganttprop.segments[Number(currentindex)].left + 'px' : (ganttprop.left) + 'px')));\n                }\n                var resizeTable = this.parent.createElement('table');\n                var resizetableBody = this.parent.createElement('tbody');\n                resizetableBody.appendChild(resizeElement);\n                resizeTable.appendChild(resizetableBody);\n                var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar');\n                var createTable = null;\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                }\n                else {\n                    if (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' &&\n                        this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                    }\n                    else {\n                        cloneTaskBar = this.editElement.cloneNode(true);\n                    }\n                }\n                if (!Check) {\n                    addClass([cloneTaskBar], 'e-clone-taskbar');\n                    cloneTaskBar.style.setProperty('position', 'absolute');\n                    if (currentRecord.hasChildRecords && !currentRecord.ganttProperties.isAutoSchedule) {\n                        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n                        var taskbarPosition = this.parent.getOffsetRect(this.editElement);\n                        cloneTaskBar.style.setProperty(this.parent.enableRtl ?\n                            'right' : 'left', Math.abs(taskbarPosition.left - containerPosition.left + Math.abs(this.parent.ganttChartModule.scrollElement.scrollLeft)) + 'px');\n                    }\n                    cloneTaskBar.style.setProperty('top', 0 + 'px');\n                    createTable = this.parent.createElement('table');\n                    var tableBody = this.parent.createElement('tbody');\n                    tableBody.appendChild(cloneTaskBar);\n                    createTable.appendChild(tableBody);\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    var segmentedTasks = cloneTaskBar.getElementsByClassName('e-segmented-taskbar');\n                    this.cloneTaskbarElement = segmentedTasks[Number(index_1)];\n                }\n                else {\n                    this.cloneTaskbarElement = cloneTaskBar;\n                }\n                this.taskBarEditElement = this.cloneTaskbarElement;\n                this.taskbarElement = createTable;\n                this.taskbarResizer = resizeTable;\n                this.currentIndex = index_1;\n                this.roundOffDuration = true;\n                if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') &&\n                    isNullOrUndefined(this.parent.taskFields.dependency)) {\n                    this.taskBarEditAction = null;\n                }\n                this.updateMouseDownProperties(e);\n                if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n                    if (this.taskBarEditRecord.level === 0) {\n                        return;\n                    }\n                    else if (this.parent.enableMultiTaskbar) {\n                        var parentRecord = this.parent.getTaskByUniqueID(this.taskBarEditRecord.parentItem.uniqueID);\n                        if (!isNullOrUndefined(parentRecord) && !parentRecord.expanded) {\n                            this.prevZIndex = (this.taskBarEditElement).style.zIndex;\n                            (this.taskBarEditElement).style.zIndex = '1000';\n                            if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')) {\n                                addClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (this.taskBarEditElement) {\n                    this.showHideTaskBarEditingElements(element, this.editElement);\n                }\n                this.initPublicProp();\n            }\n            else {\n                this.showHideTaskBarEditingElements(element, this.editElement);\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar editing elements.\n     *\n     * @param {Element} element .\n     * @param {Element} secondElement .\n     * @param {boolean} fadeConnectorLine .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.showHideTaskBarEditingElements = function (element, secondElement, fadeConnectorLine) {\n        secondElement = secondElement ? secondElement : this.editElement;\n        var isShowProgressResizer = this.parent.taskFields.progress ? true : false;\n        var isShowConnectorPoints = true;\n        if (this.parent.readOnly) {\n            return;\n        }\n        if (this.parent.enableMultiTaskbar && element) {\n            var record = this.parent.ganttChartModule.getRecordByTaskBar(element);\n            var parentRecord = this.parent.getParentTask(record.parentItem);\n            if (!isNullOrUndefined(parentRecord)) {\n                if (!parentRecord.expanded) {\n                    isShowProgressResizer = false;\n                    isShowConnectorPoints = false;\n                }\n            }\n        }\n        if (element) {\n            if (element.querySelector('.' + cls.taskBarLeftResizer)) {\n                addClass([element.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                addClass([element.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                if (isShowProgressResizer) {\n                    var progressElement = element.querySelector('.' + cls.childProgressResizer);\n                    if (!isNullOrUndefined(progressElement)) {\n                        addClass([progressElement], [cls.progressResizeGripper]);\n                        progressElement.style.top = '3px';\n                    }\n                }\n            }\n            else if (this.parent.isAdaptive && isShowProgressResizer) {\n                var record = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (record.hasChildRecords) {\n                    addClass([element], [cls.activeParentTask]);\n                }\n            }\n            addClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (element.querySelector('.' + cls.connectorPointLeft)\n                    || element.parentElement.querySelector('.' + cls.connectorPointLeft))\n                && isShowConnectorPoints) {\n                var connectorElement = !isNullOrUndefined(element.querySelector('.' + cls.connectorPointLeft)) ?\n                    element : element.parentElement;\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointLeft))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointLeftHover]);\n                }\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointRight))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointRightHover]);\n                }\n            }\n        }\n        else if (!fadeConnectorLine) {\n            removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n        }\n        if (secondElement && element !== secondElement) {\n            if (secondElement.querySelector('.' + cls.taskBarLeftResizer)) {\n                removeClass([secondElement.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                removeClass([secondElement.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                if (secondElement.querySelector('.' + cls.childProgressResizer)) {\n                    removeClass([secondElement.querySelector('.' + cls.childProgressResizer)], [cls.progressResizeGripper]);\n                }\n            }\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (secondElement.querySelector('.' + cls.connectorPointLeft)\n                    || secondElement.parentElement.querySelector('.' + cls.connectorPointLeft))) {\n                var connectorElement = !isNullOrUndefined(secondElement.querySelector('.' + cls.connectorPointLeft)) ?\n                    secondElement : secondElement.parentElement;\n                var leftConnector = connectorElement.querySelector('.' + cls.connectorPointLeft);\n                var rightConnector = connectorElement.querySelector('.' + cls.connectorPointRight);\n                if (leftConnector) {\n                    removeClass([leftConnector], [cls.connectorPointLeftHover]);\n                }\n                if (rightConnector) {\n                    removeClass([rightConnector], [cls.connectorPointRightHover]);\n                }\n            }\n            else if (this.parent.isAdaptive) {\n                var record = this.parent.ganttChartModule.getRecordByTaskBar(secondElement);\n                if (record && record.hasChildRecords) {\n                    removeClass([secondElement], [cls.activeParentTask]);\n                }\n            }\n            this.editElement = null;\n        }\n    };\n    /**\n     * To get taskbar edit actions.\n     *\n     * @param {PointerEvent} e .\n     * @returns {string} .\n     * @private\n     */\n    TaskbarEdit.prototype.getTaskBarAction = function (e) {\n        var mouseDownElement = this.getElementByPosition(e);\n        var data = this.taskBarEditRecord;\n        var action = '';\n        if (mouseDownElement.classList.contains(cls.taskBarLeftResizer)) {\n            action = 'LeftResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.taskBarRightResizer)) {\n            action = 'RightResizing';\n        }\n        else if ((mouseDownElement.classList.contains(cls.childProgressResizer) ||\n            closest(mouseDownElement, '.' + cls.childProgressResizer)) && (this.parent.taskFields.progress)) {\n            action = 'ProgressResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointLeft)) {\n            action = 'ConnectorPointLeftDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointRight)) {\n            action = 'ConnectorPointRightDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentRightResizer)) {\n            action = 'ParentResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentTaskBar) ||\n            mouseDownElement.classList.contains(cls.manualParentMainContainer) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestone)) {\n            action = 'ManualParentDrag';\n        }\n        else if (data) {\n            action = data.hasChildRecords ? 'ParentDrag'\n                : data.ganttProperties.isMilestone ? 'MilestoneDrag' : 'ChildDrag';\n        }\n        return action;\n    };\n    /**\n     * To update property while perform mouse down.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseDownProperties = function (event) {\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n            if (this.parent.enableRtl) {\n                this.mouseDownX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseDownX = (e.pageX - containerPosition.left) +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseDownX;\n            this.mouseDownY = this.dragMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            this.fromPredecessorText = this.taskBarEditAction === 'ConnectorPointLeftDrag' ? 'start' : 'finish';\n            this.parent.connectorLineModule.tooltipTable.innerHTML = this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.taskBarEditRecord.ganttProperties.taskName, this.fromPredecessorText, '', '');\n        }\n    };\n    TaskbarEdit.prototype.isMouseDragCheck = function () {\n        if (!this.isMouseDragged && this.taskBarEditAction && ((this.mouseDownX !== this.mouseMoveX) &&\n            ((this.mouseDownX + 3) < this.mouseMoveX || (this.mouseDownX - 3) > this.mouseMoveX)\n            || (this.mouseDownY !== this.mouseMoveY) &&\n                ((this.mouseDownY + 3) < this.mouseMoveY || (this.mouseDownY - 3) > this.mouseMoveY))) {\n            this.isMouseDragged = true;\n            this.parent.initiateEditAction(true);\n            var item = this.taskBarEditRecord.ganttProperties;\n            this.previousItem = this.parent.timelineModule.extendFunction(item, this.previousItemProperty);\n            if (this.taskBarEditAction !== 'ConnectorPointLeftDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                !(this.parent.viewType === 'ResourceView' && this.taskBarEditAction === 'ParentDrag')) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            this.taskBarEditElement.setAttribute('aria-grabbed', 'true');\n        }\n    };\n    /* eslint-disable-next-line */\n    TaskbarEdit.prototype.removeFirstBorder = function (element) {\n        var canremove = this.parent.rowDragAndDropModule['dropPosition'] === 'bottomSegment';\n        if (this.parent.element.getElementsByClassName('e-firstrow-border').length > 0 && element &&\n            (element.getAttribute('data-rowindex') !== 0 || canremove)) {\n            this.parent.element.getElementsByClassName('e-firstrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removeLastBorder = function (element) {\n        var isEmptyRow = element && (element.classList.contains('e-emptyrow') || element.classList.contains('e-columnheader')\n            || element.classList.contains('e-detailrow'));\n        var islastRowIndex;\n        if (this.parent.enableVirtualization) {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRows()[this.parent.treeGrid.getCurrentViewRecords().length - 1].getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        else {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRowByIndex(this.parent.treeGrid.getCurrentViewRecords().length - 1).getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        var canremove = islastRowIndex || this.parent.rowDragAndDropModule['dropPosition'] === 'topSegment';\n        if (this.parent.element.getElementsByClassName('e-lastrow-border').length > 0 && element && (islastRowIndex || canremove)) {\n            this.parent.element.getElementsByClassName('e-lastrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removetopOrBottomBorder = function () {\n        var border = [].slice.call(this.parent.element.querySelectorAll('.e-dropbottom, .e-droptop'));\n        if (border.length) {\n            this.addRemoveClasses(border, false, 'e-dropbottom');\n            this.addRemoveClasses(border, false, 'e-droptop');\n        }\n    };\n    TaskbarEdit.prototype.topOrBottomBorder = function (target) {\n        var rowElement;\n        if (this.parent.enableVirtualization) {\n            var gridElement = this.parent.treeGrid.getRows().filter(function (data) {\n                return data.getAttribute('data-rowindex') === target.getAttribute('data-rowindex');\n            })[0];\n            var index = this.parent.treeGrid.getRows().indexOf(gridElement);\n            rowElement = this.parent.getRowByIndex(index).children;\n        }\n        else {\n            rowElement = this.parent.getRowByIndex(parseInt(target.getAttribute('data-rowindex'), 10)).children;\n        }\n        if (rowElement) {\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'above') {\n                this.addRemoveClasses(rowElement, true, 'e-droptop');\n                if (this.parent.element.getElementsByClassName('e-lastrow-dragborder').length > 0) {\n                    this.parent.element.getElementsByClassName('e-lastrow-dragborder')[0].remove();\n                }\n            }\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'below') {\n                this.addRemoveClasses(rowElement, true, 'e-dropbottom');\n            }\n        }\n    };\n    TaskbarEdit.prototype.removeChildBorder = function () {\n        var borderElem = [].slice.call(this.parent.element.querySelectorAll('.e-childborder'));\n        if (borderElem.length > 0) {\n            this.addRemoveClasses(borderElem, false, 'e-childborder');\n        }\n    };\n    TaskbarEdit.prototype.addRemoveClasses = function (cells, add, className) {\n        for (var i = 0, len = cells.length; i < len; i++) {\n            if (add) {\n                cells[parseInt(i.toString(), 10)].classList.add(className);\n            }\n            else {\n                cells[parseInt(i.toString(), 10)].classList.remove(className);\n            }\n        }\n    };\n    TaskbarEdit.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-clone-taskbar')[0];\n        var errorelem = document.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            if (this.taskBarEditRecord.ganttProperties.segments && this.taskBarEditRecord.ganttProperties.segments.length > 0) {\n                ele.style.paddingTop = this.parent.taskbarHeight + 'px';\n            }\n            dragelem.appendChild(ele);\n        }\n    };\n    TaskbarEdit.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    TaskbarEdit.prototype.ensurePosition = function (draggedRecords, currentRecord) {\n        var _this = this;\n        draggedRecords.filter(function (draggedRecord) {\n            if (draggedRecord.hasChildRecords && !isNullOrUndefined(draggedRecord.childRecords)) {\n                var valid = draggedRecord.childRecords.indexOf(currentRecord);\n                if (valid === -1) {\n                    _this.ensurePosition(draggedRecord.childRecords, currentRecord);\n                }\n                else {\n                    _this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                    _this.addErrorElem();\n                    return;\n                }\n            }\n        });\n    };\n    /**\n     * To handle mouse move action in chart\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseMoveAction = function (event) {\n        var _this = this;\n        if (this.parent.isAdaptive) {\n            if (!this.canDrag) {\n                return;\n            }\n            else {\n                this.multipleSelectionEnabled();\n            }\n        }\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        if (this.parent.enableRtl) {\n            this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n        }\n        else {\n            this.mouseMoveX = e.pageX - containerPosition.left +\n                this.parent.ganttChartModule.scrollObject.previousScroll.left;\n        }\n        this.mouseMoveY = e.pageY - containerPosition.top +\n            this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.dragMouseLeave = false;\n        var cancel = false;\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag') {\n            var ganttRowElement = void 0;\n            if (this.parent.enableVirtualization) {\n                var index = this.parent.currentViewData.indexOf(this.taskBarEditRecord);\n                ganttRowElement = this.parent.getRowByIndex(index);\n            }\n            else {\n                ganttRowElement = this.parent.getRowByIndex(this.taskBarEditRecord.index);\n            }\n            var eventArgs = {\n                cancel: cancel,\n                cloneElement: this.taskbarElement,\n                data: this.taskBarEditRecord,\n                target: event.target,\n                rows: ganttRowElement\n            };\n            this.parent.trigger('rowDrag', eventArgs);\n            cancel = eventArgs['cancel'];\n        }\n        if (!cancel) {\n            this.isMouseDragCheck();\n        }\n        if (this.isMouseDragged && this.taskBarEditAction) {\n            event.preventDefault();\n            if (!isNullOrUndefined(this.taskbarElement) && !isNullOrUndefined(this.editElement) && (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointLeftDrag') && !(this.parent.viewType === 'ResourceView' && this.currentData.hasChildRecords)) {\n                var currentElement = this.editElement.parentElement;\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') &&\n                    !isNullOrUndefined(this.currentIndex) && !isNullOrUndefined(this.currentIndex) ? Number(this.currentIndex) === 0 : false) {\n                    this.taskbarElement.childNodes[0].childNodes[0].style.setProperty('top', currentElement.parentElement.offsetTop + 'px');\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.parentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                else {\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                if (this.taskBarEditAction !== 'ProgressResizing') {\n                    if (this.parent.enableTimelineVirtualization &&\n                        this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-scroll-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                    else {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-rows-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                }\n            }\n            if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag')) {\n                var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                var xValue = void 0;\n                if (this.parent.enableRtl) {\n                    xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                }\n                else {\n                    xValue = Math.abs(taskbarPosition.left - pointerLeft - 1);\n                }\n                if (!this.isClonedElement && !this.parent.enableRtl) {\n                    xValue = xValue - this.parent.ganttChartModule.scrollElement.scrollLeft;\n                    this.isClonedElement = true;\n                }\n                var rowPositionHeight = 0;\n                this.parent.rowDragAndDropModule['dropPosition'] = undefined;\n                var target = void 0;\n                var yValue = void 0;\n                if (event.type === 'touchmove' || event.type === 'touchstart' || event.type === 'touchend') {\n                    yValue = event['changedTouches'][0].pageY;\n                }\n                else {\n                    yValue = event.y;\n                }\n                if (this.parent.enableRtl) {\n                    target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth, yValue);\n                    if (target.classList.contains('e-taskbar-resize-div')) {\n                        target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth - target['offsetWidth'], yValue);\n                    }\n                }\n                else {\n                    target = document.elementFromPoint(xValue, yValue);\n                }\n                var draggedTreeGridRowElement = void 0;\n                if (this.parent.enableVirtualization) {\n                    if (!this.draggedTreeGridRowElement) {\n                        var currentElement = this.editElement.parentElement;\n                        draggedTreeGridRowElement = currentElement.parentElement;\n                        this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                else {\n                    draggedTreeGridRowElement = this.parent.treeGrid.getRows()[this.parent.flatData.indexOf(this.taskBarEditRecord)];\n                    this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                    if (this.parent.enableMultiTaskbar) {\n                        if (this.taskBarEditRecord.parentItem &&\n                            !isNullOrUndefined(this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId))) {\n                            this.draggedTreeGridRowHeight = this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId).offsetHeight;\n                            if (this.parent.viewType === 'ProjectView' && this.draggedTreeGridRowHeight === 0) {\n                                var nestedParent = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                                while (nestedParent.parentItem) {\n                                    nestedParent = this.parent.getRecordByID(nestedParent.parentItem.taskId);\n                                    this.draggedTreeGridRowHeight = this.parent.getRowByID(nestedParent['TaskID']).offsetHeight;\n                                }\n                            }\n                        }\n                        else {\n                            var currentElement = this.editElement.parentElement;\n                            this.draggedTreeGridRowElement = currentElement.parentElement;\n                            this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                        }\n                    }\n                    else {\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                var chartRowElement_1;\n                if (target) {\n                    chartRowElement_1 = closest(target, 'tr.' + cls.chartRow);\n                }\n                if (chartRowElement_1) {\n                    var droppedTreeGridRowElement = void 0;\n                    if (this.parent.enableVirtualization) {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows().filter(function (data) {\n                            return data.getAttribute('data-rowindex') === chartRowElement_1.getAttribute('data-rowindex');\n                        })[0];\n                    }\n                    else {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows()[parseInt(chartRowElement_1.getAttribute('data-rowindex'), 10)];\n                    }\n                    this.removeFirstBorder(droppedTreeGridRowElement);\n                    this.removeLastBorder(droppedTreeGridRowElement);\n                    if (!isNullOrUndefined(droppedTreeGridRowElement) && droppedTreeGridRowElement.getAttribute('data-uid') === this.draggedTreeGridRowElement.getAttribute('data-uid')\n                        || !parentsUntil(target, 'e-chart-rows-container')) {\n                        this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                        this.addErrorElem();\n                    }\n                    var tObj = this.parent;\n                    var rowTop = 0;\n                    var toolHeight = tObj.toolbarModule ?\n                        this.parent.toolbarModule.element.offsetHeight : 0;\n                    var positionOffSet = this.parent.getOffsetRect(tObj.element);\n                    var contentHeight = tObj.treeGrid.getHeaderContent().offsetHeight + positionOffSet.top + toolHeight;\n                    var scrollTop = tObj.treeGrid.getContent().firstElementChild.scrollTop;\n                    if (!isNullOrUndefined(droppedTreeGridRowElement)) {\n                        rowPositionHeight = droppedTreeGridRowElement.offsetTop - scrollTop;\n                    }\n                    if (this.parent.enableVirtualization) {\n                        rowTop = this.parent.getOffsetRect(droppedTreeGridRowElement).top;\n                    }\n                    else {\n                        rowTop = rowPositionHeight + contentHeight;\n                    }\n                    var rowBottom = rowTop + this.draggedTreeGridRowHeight;\n                    var difference = rowBottom - rowTop;\n                    var divide = difference / 3;\n                    var topRowSegment = rowTop + divide;\n                    var middleRowSegment = topRowSegment + divide;\n                    var bottomRowSegment = middleRowSegment + divide;\n                    var posy = (event.type === 'mousemove') ? event.pageY : ((!isNullOrUndefined(event['changedTouches'])) ? event['changedTouches'][0].pageY : null);\n                    var isTopSegment = posy <= topRowSegment;\n                    var isMiddleRowSegment = (posy > topRowSegment && posy <= middleRowSegment);\n                    var isBottomRowSegment = (posy > middleRowSegment && posy <= bottomRowSegment);\n                    if (isTopSegment || isMiddleRowSegment || isBottomRowSegment) {\n                        var rowElement = void 0;\n                        if (this.parent.enableVirtualization) {\n                            var index = this.parent.treeGrid.getRows().indexOf(droppedTreeGridRowElement);\n                            rowElement = this.parent.getRowByIndex(index);\n                        }\n                        else {\n                            rowElement = this.parent.getRowByIndex(parseInt(droppedTreeGridRowElement.getAttribute('data-rowindex'), 10));\n                        }\n                        var rowIndex = getValue('rowIndex', rowElement);\n                        var droppedTreeGridRecord = this.parent.flatData[rowIndex];\n                        var isValid = true;\n                        if (this.parent.viewType === 'ResourceView' && !this.taskBarEditRecord.hasChildRecords && !droppedTreeGridRecord.hasChildRecords &&\n                            !isNullOrUndefined(droppedTreeGridRecord.parentItem) &&\n                            this.taskBarEditRecord.parentItem.taskId === droppedTreeGridRecord.parentItem.taskId) {\n                            isValid = false;\n                        }\n                        if (droppedTreeGridRecord) {\n                            this.ensurePosition([this.taskBarEditRecord], droppedTreeGridRecord);\n                        }\n                        if (isValid) {\n                            if (isTopSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'above';\n                                this.removeChildBorder();\n                                this.removeErrorElem();\n                                this.removetopOrBottomBorder();\n                                this.topOrBottomBorder(rowElement);\n                            }\n                            if (isMiddleRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'child';\n                                this.removetopOrBottomBorder();\n                                this.addRemoveClasses(rowElement.children, true, 'e-childborder');\n                            }\n                            if (isBottomRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'below';\n                                this.removetopOrBottomBorder();\n                                this.removeErrorElem();\n                                this.removeChildBorder();\n                                this.removeFirstBorder(droppedTreeGridRowElement);\n                                this.topOrBottomBorder(droppedTreeGridRowElement);\n                            }\n                        }\n                    }\n                }\n            }\n            var args_1 = {\n                cancel: false,\n                requestType: 'taskbarediting',\n                taskBarEditAction: this.taskBarEditAction,\n                data: this.taskBarEditRecord\n            };\n            if (this.segmentIndex !== -1) {\n                args_1.requestType = 'mergeSegment';\n            }\n            this.parent.trigger('actionBegin', args_1, function (arg) {\n                if (args_1.taskBarEditAction === 'ConnectorPointRightDrag' || args_1.taskBarEditAction === 'ConnectorPointLeftDrag'\n                    || args_1.taskBarEditAction === 'LeftResizing' || args_1.taskBarEditAction === 'RightResizing'\n                    || args_1.taskBarEditAction === 'ProgressResizing' || args_1.taskBarEditAction === 'ChildDrag' || args_1.taskBarEditAction === 'ParentDrag' ||\n                    args_1.taskBarEditAction === 'MilestoneDrag' || args_1.taskBarEditAction === 'ManualParentDrag') {\n                    _this.parent.showIndicator = false;\n                    if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('Edit')) {\n                        if (_this.parent.undoRedoModule['redoEnabled']) {\n                            _this.parent.undoRedoModule['disableRedo']();\n                        }\n                        var action = {};\n                        if (_this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                        else if (_this.parent.editModule['createArray']) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer' && _this.parent.showIndicator) {\n                    _this.parent.showMaskRow();\n                }\n                else if (_this.parent.showIndicator) {\n                    _this.parent.showSpinner();\n                }\n                if (arg.cancel === false) {\n                    _this.taskBarEditingAction(event, false);\n                }\n            });\n        }\n        else if (!this.parent.isAdaptive && !this.taskBarEditAction) {\n            this.updateTaskBarEditElement(event);\n        }\n    };\n    /**\n     * Method to update taskbar editing action on mous move.\n     *\n     * @param {PointerEvent} e .\n     * @param {boolean} isMouseClick .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditingAction = function (e, isMouseClick) {\n        var _this = this;\n        var args = {};\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        if (this.taskBarEditRecord !== null) {\n            args.editingFields = this.taskBarEditRecord.ganttProperties;\n            args.data = this.taskBarEditRecord;\n            if (this.parent.viewType === 'ResourceView' && args.data.level === 0) {\n                return;\n            }\n            args.recordIndex = recordIndex;\n            args.taskBarEditAction = this.taskBarEditAction;\n            args.roundOffDuration = this.roundOffDuration;\n            args.cancel = false;\n            args.previousData = this.previousItem;\n            args.segmentIndex = this.segmentIndex;\n            this.roundOffDuration = args.roundOffDuration;\n            this.targetElement = args.target = closest(e.target, '.e-gantt-child-taskbar');\n            this.updateMouseMoveProperties(e);\n            if (!this.oldData) {\n                this.oldData = extend([], [], [this.taskBarEditRecord], true)[0];\n            }\n            if (this.taskBarEditAction === 'ProgressResizing') {\n                this.performProgressResize(e);\n            }\n            else if (this.taskBarEditAction === 'LeftResizing') {\n                this.enableLeftResizing(e);\n            }\n            else if (this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ParentResizing') {\n                this.enableRightResizing(e);\n            }\n            else if (this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag') {\n                this.enableDragging(e);\n            }\n            else if (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.updateConnectorLineSecondProperties(e);\n                this.triggerDependencyEvent(e);\n                this.drawFalseLine();\n            }\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                var parentClientRect = this.parent.getOffsetRect(this.parent.chartPane);\n                var coordinates = this.getCoordinate(e);\n                var position = { top: coordinates.pageY, left: coordinates.pageX };\n                var pos = { left: Math.abs(position.left - parentClientRect.left), top: position.top - parentClientRect.top };\n                if (this.parent.viewType === 'ResourceView' && this.parent.enableMultiTaskbar) {\n                    var parentRecord = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                    if (!this.parent.allowTaskbarOverlap && this.taskBarEditRecord.parentItem && !parentRecord.expanded) {\n                        var reduceHeight = 0;\n                        if (parseInt(this.editElement['style'].marginTop, 10) > this.parent.rowHeight) {\n                            for (var i = 0; i < parentRecord.childRecords.length; i++) {\n                                if (parentRecord.childRecords[i].ganttProperties.taskId !==\n                                    this.taskBarEditRecord.ganttProperties.taskId) {\n                                    reduceHeight = reduceHeight + this.parent.rowHeight;\n                                }\n                                else {\n                                    break;\n                                }\n                            }\n                            pos.top = pos.top - reduceHeight;\n                        }\n                    }\n                }\n                this.topValue = pos.top;\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (this.parent.enableRtl) {\n                    this.leftValue = pos.left - Math.abs(xValue - (this.parent.getOffsetRect(this.taskBarEditElement).left)) -\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                else {\n                    this.leftValue = pos.left - (xValue - this.parent.getOffsetRect(this.taskBarEditElement).left) +\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                if (this.previousLeftValue === 0) {\n                    if (!this.parent.enableRtl) {\n                        this.leftValue = this.leftValue - this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                    }\n                    else {\n                        this.leftValue = this.leftValue - (this.parent.ganttChartModule.scrollObject.previousScroll.left);\n                        if (this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                            this.leftValue = this.leftValue - 60;\n                        }\n                    }\n                }\n                this.previousLeftValue = xValue;\n            }\n            else {\n                this.leftValue = this.taskBarEditRecord.ganttProperties.left;\n            }\n            this.setItemPosition();\n            this.updateEditedItem();\n            this.tooltipValue = (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') ? e['changedTouches'][0].pageX : e.pageX;\n            this.editTooltip.updateTooltip(this.segmentIndex);\n            if (isMouseClick) {\n                this.taskBarEditedAction(e);\n            }\n            this.parent.trigger('taskbarEditing', args, function (arg) {\n                if (arg.cancel && _this.taskBarEditRecord !== null) {\n                    _this.tapPointOnFocus = false;\n                    merge(_this.taskBarEditRecord.ganttProperties, arg.previousData);\n                }\n            });\n        }\n    };\n    /**\n     * To update property while perform mouse move.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseMoveProperties = function (event) {\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            if (this.parent.enableRtl) {\n                this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseMoveX = e.pageX - containerPosition.left +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseMoveX;\n            this.mouseMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        var isConnectorLineEdit = (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') ?\n            true : false;\n        if (((this.taskBarEditRecord.ganttProperties.width > 3 || this.taskBarEditRecord.ganttProperties.isMilestone) && !(this.taskBarEditAction === 'ProgressResizing' &&\n            (this.taskBarEditRecord.ganttProperties.progress === 0 || this.taskBarEditRecord.ganttProperties.progress === 100))) ||\n            isConnectorLineEdit) {\n            var mouseX = 0;\n            if (this.parent.enableRtl) {\n                mouseX = Math.abs(Math.abs(this.mouseMoveX) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left) +\n                    containerPosition.left);\n            }\n            else {\n                mouseX = this.mouseMoveX - this.parent.ganttChartModule.scrollObject.previousScroll.left +\n                    containerPosition.left;\n            }\n            var mouseY = this.mouseMoveY - this.parent.ganttChartModule.scrollObject.previousScroll.top +\n                containerPosition.top;\n            if ((mouseX + 20) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX + 40) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth && this.parent.enableRtl &&\n                this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                this.parent.ganttChartModule.scrollObject.previousScroll.left = -1;\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX - 20) < containerPosition.left) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('left');\n            }\n            else if (((mouseY + 80) >\n                containerPosition.top + this.parent.ganttChartModule.chartBodyContainer.offsetHeight)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('bottom');\n            }\n            else if (((mouseY - 20) < containerPosition.top)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('top');\n            }\n            else {\n                this.stopScrollTimer();\n            }\n        }\n        else {\n            this.stopScrollTimer();\n        }\n    };\n    /**\n     * To start the scroll timer.\n     *\n     * @param {string} direction .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.startScrollTimer = function (direction) {\n        var _this = this;\n        this.stopScrollTimer();\n        var leftSign = 0;\n        this.scrollTimer = window.setInterval(function () {\n            if (Math.sign(_this.timerCount) === -1) {\n                leftSign = -1;\n                _this.timerCount = Math.abs(_this.timerCount);\n            }\n            if (direction === 'right') {\n                var timelineWidth = _this.parent.enableTimelineVirtualization ?\n                    _this.parent.timelineModule.wholeTimelineWidth : _this.parent.timelineModule.totalTimelineWidth;\n                _this.timerCount = (_this.timerCount + 1) >= timelineWidth ?\n                    timelineWidth : (_this.timerCount + 1);\n            }\n            else if (direction === 'bottom') {\n                _this.timerCount = _this.timerCount + 1;\n            }\n            else {\n                _this.timerCount = (_this.timerCount - 1) < 0 ? 0 : (_this.timerCount - 1);\n            }\n            if (direction === 'bottom' || direction === 'top') {\n                _this.parent.ganttChartModule.scrollObject.setScrollTop(_this.timerCount);\n            }\n            else {\n                _this.parent.ganttChartModule.scrollObject.setScrollLeft(_this.timerCount, leftSign);\n            }\n            if (_this.taskBarEditAction === 'ConnectorPointLeftDrag'\n                || _this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                _this.drawFalseLine();\n            }\n        }, 0);\n    };\n    /**\n     * To stop the scroll timer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.stopScrollTimer = function () {\n        window.clearInterval(this.scrollTimer);\n        this.scrollTimer = null;\n    };\n    /**\n     * To update left and width while perform taskbar drag operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.enableDragging = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var timelineWidth = this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') &&\n            !this.taskBarEditElement.classList.contains('e-segment-first')) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left - differenceWidth;\n            }\n            else {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left + differenceWidth;\n            }\n            var previousSegment = segments[this.segmentIndex - 1];\n            var nextSegment = segments[this.segmentIndex + 1];\n            var left = void 0;\n            if (this.taskBarEditElement.classList.contains('e-segment-inprogress')) {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    ((segment.width + segment.left) > (nextSegment.left)) ? nextSegment.left - segment.width : segment.left;\n            }\n            else {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    (item.left + segment.width + segment.left) >= timelineWidth ?\n                        (timelineWidth - segment.width) : segment.left;\n            }\n            segment.left = left;\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = this.mouseDownX - this.mouseMoveX;\n                if (differenceWidth > 0) {\n                    this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                }\n            }\n            else {\n                differenceWidth = this.mouseMoveX - this.mouseDownX;\n                this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n            }\n            var left = item.left < 0 ? 0 : (item.left + item.width) >= timelineWidth ?\n                (timelineWidth - item.width) : item.left;\n            this.parent.setRecordValue('left', left, item, true);\n        }\n    };\n    /**\n     * To update left and width while perform progress resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.performProgressResize = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var diffrenceWidth = 0;\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width)) && item.left > 0) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX >= (item.left + item.width)) {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n            }\n        }\n        else {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width))) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX <= item.left) {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n            }\n        }\n        var widthValue = item.progressWidth > item.width ?\n            item.width : item.progressWidth;\n        widthValue = item.progressWidth < 0 ? 0 : item.progressWidth;\n        this.parent.setRecordValue('progressWidth', widthValue, item, true);\n        var diff = item.width - item.progressWidth;\n        if (diff <= 4) {\n            this.progressBorderRadius = 4 - diff;\n        }\n        else {\n            this.progressBorderRadius = 0;\n        }\n    };\n    /**\n     * To update left and width while perform taskbar left resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableLeftResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar')) {\n            this.enableSplitTaskLeftResize(item);\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    if (item.left > 0) {\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                    }\n                }\n                else {\n                    if (this.mouseMoveX > (item.left + item.width)) {\n                        differenceWidth = this.mouseDownX - this.mouseMoveX;\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    if ((item.left) < (item.left + item.width) &&\n                        ((this.previousItem.left + differenceWidth) <= (this.previousItem.left + this.previousItem.width))) {\n                        this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                    }\n                }\n                else {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', 3, item, true);\n                }\n            }\n            this.updateEditPosition(e, item);\n            this.parent.setRecordValue('left', (this.previousItem.left + this.previousItem.width - item.width), item, true);\n        }\n    };\n    TaskbarEdit.prototype.enableSplitTaskLeftResize = function (item) {\n        var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n        var segment = segments[this.segmentIndex];\n        var differenceWidth = 0;\n        //when decrease the left and increase the width\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX < (item.left + segment.width + segment.left)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                // when resize other than 0th segment\n                if (segment.left > 0) {\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = segment.width + differenceWidth;\n                    if (this.segmentIndex !== 0) {\n                        var previousSegment = segments[this.segmentIndex - 1];\n                        if ((item.left + segment.left) < (item.left + previousSegment.left + previousSegment.width)) {\n                            var difference = (item.left + previousSegment.left + previousSegment.width) - (item.left + segment.left);\n                            segment.width -= difference;\n                            segment.left = segment.left + difference;\n                        }\n                    }\n                }\n                else if (segment.left <= 0 && this.segmentIndex === 0) {\n                    this.parent.setRecordValue('left', item.left - differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width + differenceWidth, item, true);\n                    segment.width = segment.width + differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_1 = segments[i];\n                        segment_1.left = segment_1.left + differenceWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > (item.left + segment.width + segment.left)) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = this.parent.perDayWidth;\n                }\n            }\n        }\n        else {\n            // when increase left value and decrease width of segment\n            if (this.mouseMoveX < (item.left + segment.width + segment.left - this.parent.perDayWidth)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                // when decrease the first segment width\n                if (this.segmentIndex === 0 && segment.left <= 0) {\n                    this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                    segment.width = segment.width - differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_2 = segments[i];\n                        segment_2.left = segment_2.left - differenceWidth;\n                    }\n                    // when decrease remaining segments\n                }\n                else if ((segment.left) < (segment.left + segment.width) &&\n                    ((segment.left + differenceWidth) <= (segment.left + segment.width))) {\n                    segment.left = segment.left + differenceWidth;\n                    segment.width = segment.width - differenceWidth;\n                }\n                // when mouse move goes beyond one day width of task bar.\n            }\n            else {\n                if (this.mouseMoveX < (item.left + segment.left + segment.width)) {\n                    if (segment.width > this.parent.perDayWidth) {\n                        differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                            (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                        this.previousMouseMove = this.mouseMoveX;\n                        var singleDayDifference = (segment.width - differenceWidth) < this.parent.perDayWidth ?\n                            this.parent.perDayWidth > segment.width ?\n                                this.parent.perDayWidth - segment.width : segment.width - this.parent.perDayWidth : 0;\n                        differenceWidth -= singleDayDifference;\n                        if (this.segmentIndex === 0) {\n                            this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                            this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                            segment.width = segment.width - differenceWidth;\n                            for (var i = 1; i < item.segments.length; i++) {\n                                var segment_3 = segments[i];\n                                segment_3.left = segment_3.left - differenceWidth;\n                            }\n                        }\n                        else {\n                            segment.left = segment.left + differenceWidth;\n                            segment.width = segment.width - differenceWidth;\n                        }\n                    }\n                }\n            }\n        }\n        this.parent.setRecordValue('segments', segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * Update mouse position and edited item value\n     *\n     * @param {PointerEvent} e .\n     * @param {ITaskData} item .\n     * @returns {void} .\n     */\n    TaskbarEdit.prototype.updateEditPosition = function (e, item) {\n        this.updateIsMilestone(item);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(item.width, item.progress), item, true);\n    };\n    /**\n     *  To update milestone property.\n     *\n     * @param {ITaskData} item .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateIsMilestone = function (item) {\n        if (item.width <= 3) {\n            this.parent.setRecordValue('width', 3, item, true);\n            this.parent.setRecordValue('isMilestone', true, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, this.taskBarEditRecord, true);\n            }\n        }\n        else {\n            this.parent.setRecordValue('width', item.width, item, true);\n            this.parent.setRecordValue('isMilestone', false, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, false, this.taskBarEditRecord, true);\n            }\n        }\n    };\n    /**\n     * To update left and width while perform taskbar right resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableRightResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar')) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > (item.left + segment.left) && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width - differenceWidth;\n                }\n                else {\n                    if (this.mouseMoveX < (item.left + segment.left)) {\n                        var segmentWidth = (this.parent.timelineModule.isSingleTier &&\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Minutes')) ||\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes') ?\n                            this.parent.timelineModule.customTimelineSettings.timelineUnitSize :\n                            this.parent.perDayWidth;\n                        segment.width = segmentWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > segment.left) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width + differenceWidth;\n                }\n            }\n            var width = void 0;\n            var nextSegment = this.segmentIndex !== segments.length - 1 ? segments[this.segmentIndex + 1] : null;\n            if (!isNullOrUndefined(nextSegment)) {\n                if (!this.taskBarEditElement.classList.contains('e-segment-last')) {\n                    width = (segment.left + segment.width) > nextSegment.left ? (nextSegment.left - segment.left) : segment.width;\n                }\n                segment.width = width;\n            }\n            if (this.segmentIndex === item.segments.length - 1) {\n                if (this.segmentIndex === 0) {\n                    this.parent.setRecordValue('width', segment.width, item, true);\n                }\n            }\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > item.left && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                }\n                else {\n                    if (this.mouseMoveX < item.left) {\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > item.left) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                }\n            }\n            this.updateEditPosition(e, item);\n        }\n    };\n    /**\n     * To updated startDate and endDate while perform taskbar edit operation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateEditedItem = function () {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var left;\n        var projectStartDate;\n        var endDate;\n        var startDate;\n        switch (this.taskBarEditAction) {\n            case 'ProgressResizing':\n                this.parent.setRecordValue('progress', this.getProgressPercent(item.width, item.progressWidth), item, true);\n                break;\n            case 'LeftResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n                    projectStartDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.endDate)) {\n                        endDate = this.parent.dateValidationModule.getValidEndDate(item);\n                        this.parent.setRecordValue('endDate', endDate, item, true);\n                    }\n                    startDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                    this.parent.setRecordValue('startDate', new Date(startDate.getTime()), item, true);\n                    if (this.parent.dateValidationModule.compareDates(item.startDate, item.endDate) === 0\n                        && isNullOrUndefined(item.isMilestone) && item.isMilestone === false && item.duration === 0) {\n                        this.parent.setRecordValue('duration', 1, item, true);\n                    }\n                    if (item.isMilestone) {\n                        this.parent.setRecordValue('endDate', new Date(startDate.getTime()), item, true);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitLeftResize(item);\n                }\n                break;\n            case 'RightResizing':\n            case 'ParentResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n                    var tempEndDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.startDate)) {\n                        startDate = this.parent.dateValidationModule.getValidStartDate(item);\n                        this.parent.setRecordValue('startDate', startDate, item, true);\n                    }\n                    var tempdate = isNullOrUndefined(item.startDate) ? startDate : item.startDate;\n                    endDate = item.isMilestone ? tempdate :\n                        this.parent.dateValidationModule.checkEndDate(tempEndDate, this.taskBarEditRecord.ganttProperties);\n                    this.parent.setRecordValue('endDate', new Date(endDate.getTime()), item, true);\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitRightResizing(item);\n                }\n                break;\n            case 'ParentDrag':\n            case 'ChildDrag':\n            case 'MilestoneDrag':\n            case 'ManualParentDrag':\n                if (this.segmentIndex === -1 || this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop)) {\n                    this.updateChildDrag(item);\n                }\n                else {\n                    this.setSplitTaskDrag(item);\n                }\n                break;\n        }\n    };\n    TaskbarEdit.prototype.updateChildDrag = function (item) {\n        var left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left, item.isMilestone, item);\n        var endDate;\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n            item.segments[0].startDate = projectStartDate;\n            item.segments[0].endDate = this.parent.dataOperation.getEndDate(item.segments[0].startDate, item.segments[0].duration, item.durationUnit, item, false);\n            this.parent.setRecordValue('segments', item.segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n            this.parent.chartRowsModule.incrementSegments(item.segments, 0, this.taskBarEditRecord);\n            this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, item.segments, this.taskBarEditRecord, true);\n        }\n        else {\n            if (!isNullOrUndefined(item.endDate) && isNullOrUndefined(item.startDate)) {\n                endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.taskBarEditRecord.ganttProperties);\n                this.parent.setRecordValue('endDate', endDate, item, true);\n            }\n            else {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n                if (!isNullOrUndefined(item.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(this.taskBarEditRecord);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.updateSplitLeftResize = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.segmentIndex === 0 ? this.getRoundOffStartLeft(item, this.roundOffDuration) :\n            this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        var startDate = this.parent.dataOperation.checkStartDate(projectStartDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.startDate = new Date(startDate.getTime());\n        segment.duration = duration;\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', segment.startDate, item, true);\n        }\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var segmentOffsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    TaskbarEdit.prototype.updateSplitRightResizing = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n        var tempEndDate = this.getDateByLeft(left);\n        var endDate = this.parent.dataOperation.checkEndDate(tempEndDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.endDate = new Date(endDate.getTime());\n        segment.duration = duration;\n        // update next segment offset duration\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var segmentOffset = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffset;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n    };\n    TaskbarEdit.prototype.sumOfDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            duration += segment.duration;\n        }\n        return duration;\n    };\n    TaskbarEdit.prototype.setSplitTaskDrag = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        projectStartDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n        segment.startDate = projectStartDate;\n        var segmentDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, item.durationUnit, item, false);\n        if (item.segments[this.segmentIndex + 1] && segmentDate.getTime() > item.segments[this.segmentIndex + 1].startDate.getTime()) {\n            segment.endDate = item.segments[this.segmentIndex + 1].startDate;\n        }\n        else {\n            segment.endDate = segmentDate;\n        }\n        segment.duration = this.parent.dataOperation.getDuration(segment.startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'endDate');\n        }\n        //set offset if previous record present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (segment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            segment.offsetDuration = offsetDuration;\n        }\n        //set next record  offset if present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (nextSegment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            nextSegment.offsetDuration = offsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * To get roundoff enddate.\n     *\n     * @param {ITaskData} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffEndLeft = function (ganttRecord, isRoundOff) {\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var totalLeft = ganttRecord.width + ganttRecord.left;\n        if (this.segmentIndex !== -1) {\n            var segment = ganttRecord.segments[this.segmentIndex];\n            totalLeft = totalLeft - ganttRecord.width + segment.width + segment.left;\n        }\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainingLeft = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var positionValue = remainingLeft / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (positionValue > 0.5) {\n                    totalLeft = totalLeft - remainingLeft + this.parent.perDayWidth;\n                }\n                else if (positionValue < 0.5) {\n                    totalLeft = (totalLeft - remainingLeft) + (this.parent.perDayWidth / 2);\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                var inHour = (this.parent.perDayWidth / 24);\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Hour') / (1000 * 60 * 60)));\n                remainingLeft = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inHour;\n                }\n            }\n            else if (tierMode === 'Minutes') {\n                var inMinutes = (this.parent.perDayWidth / (24 * 60));\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Minutes') / (1000 * 60)));\n                remainingLeft = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inMinutes;\n                }\n            }\n            else {\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + this.parent.perDayWidth;\n                }\n            }\n        }\n        return totalLeft;\n    };\n    /**\n     * To get roundoff startdate.\n     *\n     * @param {ITaskData | ITaskSegment} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffStartLeft = function (ganttRecord, isRoundOff) {\n        var left = isNullOrUndefined(ganttRecord) ? ganttRecord.left\n            : ganttRecord.left;\n        if (this.segmentIndex !== -1 && isNullOrUndefined(ganttRecord.segments)) {\n            left = ganttRecord.left + this.taskBarEditRecord.ganttProperties.left;\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left, isNullOrUndefined(ganttRecord) ? ganttRecord.isMilestone : null, ganttRecord), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainDays = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var remainDaysInDecimal = remainDays / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (remainDaysInDecimal <= 0.5) {\n                    left = left - remainDays;\n                }\n                else if (remainDaysInDecimal > 0.5) {\n                    left = (left - remainDays) + this.parent.perDayWidth / 2;\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Hour') / (1000 * 60 * 60)));\n                remainDays = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                left = left - remainDays;\n            }\n            else if (tierMode === 'Minutes') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Minutes') / (1000 * 60)));\n                remainDays = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                left = left - remainDays;\n            }\n            else {\n                left = left - remainDays;\n            }\n        }\n        return left;\n    };\n    /**\n     * To get date by left value.\n     *\n     * @param {number} left .\n     * @param {boolean} isMilestone .\n     * @param {ITaskData} property .\n     * @returns {Date} .\n     * @private\n     */\n    TaskbarEdit.prototype.getDateByLeft = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            //  pStartDate.setDate(pStartDate.getDate() -1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            // else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) && this.parent.isInDst(pStartDate)) {\n            //     pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            // }\n        }\n        return pStartDate;\n    };\n    /**\n     * To set item position.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.setItemPosition = function () {\n        if (!isNullOrUndefined(this.editElement)) {\n            var currentElement = this.editElement.parentElement;\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction === 'ChildDrag') {\n                currentElement.style.position = null;\n            }\n            else {\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n            }\n        }\n        var item = this.taskBarEditRecord.ganttProperties;\n        var position = this.parent.enableRtl ? 'right' : 'left';\n        var segment = !isNullOrUndefined(item.segments) ? item.segments[this.segmentIndex] : null;\n        var width = this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone ?\n            this.parent.chartRowsModule.milestoneHeight : item.width;\n        var rightResizer = this.parent.isAdaptive ? (width - 2) : (width - 10);\n        if (!isNullOrUndefined(segment)) {\n            rightResizer = this.parent.isAdaptive ? (segment.width - 2) : (segment.width - 10);\n        }\n        this.taskBarEditElement.style.setProperty('opacity', '.75');\n        var taskBarMainContainer;\n        if (this.parent.allowTaskbarDragAndDrop && !item.isAutoSchedule && this.taskBarEditRecord.hasChildRecords) {\n            taskBarMainContainer = this.taskBarEditElement;\n        }\n        else {\n            taskBarMainContainer = (!this.taskBarEditElement.classList.contains(cls.taskBarMainContainer)) ? ((this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'LeftResizing') && this.segmentIndex === 0) ? this.taskBarEditElement.parentElement : closest(this.taskBarEditElement, 'tr.' + cls.chartRow)\n                .querySelector('.' + cls.taskBarMainContainer) : this.taskBarEditElement;\n        }\n        var segmentedTaskBarContainer = (this.taskBarEditElement.classList.contains('e-segmented-taskbar') ||\n            this.taskBarEditElement.querySelector('.e-segmented-taskbar')) ? true : false;\n        var traceChildProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceChildProgressBar);\n        var traceChildTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceChildTaskBar);\n        var childProgressResizer = this.taskBarEditElement.querySelector('.' + cls.childProgressResizer);\n        var taskBarRightResizer = this.taskBarEditElement.querySelector('.' + cls.taskBarRightResizer);\n        var traceParentTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceParentTaskBar);\n        var traceParentProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceParentProgressBar);\n        var traceConnectorPointRight = this.taskBarEditElement.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var segmentConnectorPointRight = taskBarMainContainer.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var manualParentTaskbar = this.taskBarEditElement;\n        var manualTaskbar = this.taskBarEditElement.querySelector('.' + cls.manualParentTaskBar);\n        var manualParentRight = this.taskBarEditElement.querySelector('.' + cls.manualParentRightResizer);\n        var manualParentLeft = this.taskBarEditElement.querySelector('.' + cls.manualParentLeftResizer);\n        var resizeLine = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (this.parent.allowTaskbarDragAndDrop && !this.updatePosition) {\n            this.leftValue = this.leftValue + 30;\n            this.updatePosition = true;\n        }\n        if (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n            this.taskBarEditAction !== 'ConnectorPointLeftDrag') {\n            if (this.taskBarEditAction !== 'ParentResizing' && this.taskBarEditAction !== 'ManualParentDrag') {\n                if (segmentedTaskBarContainer && !isNullOrUndefined(item.segments)\n                    && (this.taskBarEditAction === 'RightResizing' || this.segmentIndex !== 0)) {\n                    if (!isNullOrUndefined(resizeLine)) {\n                        if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag' &&\n                            this.taskBarEditAction !== 'ParentDrag')) {\n                            resizeLine.style.width = (segment.width) + 'px';\n                        }\n                    }\n                    this.taskBarEditElement.style.width = (segment.width) + 'px';\n                    if (this.parent.enableRtl) {\n                        this.taskBarEditElement.style.right = (segment.left) + 'px';\n                    }\n                    else {\n                        this.taskBarEditElement.style.left = (segment.left) + 'px';\n                        if (!isNullOrUndefined(resizeLine)) {\n                            if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag'\n                                && this.taskBarEditAction !== 'ParentDrag')) {\n                                resizeLine.style.left = (segment.left + this.editElement.parentElement.offsetLeft) + 'px';\n                            }\n                        }\n                    }\n                }\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left)) + 'px');\n                taskBarMainContainer.style.width = (width) + 'px';\n                if (segmentedTaskBarContainer && segmentConnectorPointRight) {\n                    segmentConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n                if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'LeftResizing' &&\n                    this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    var addTop = this.parent.taskbarHeight / 2;\n                    taskBarMainContainer.style.setProperty('top', (this.topValue + addTop) + 'px');\n                    taskBarMainContainer.style.zIndex = '4';\n                }\n                if (this.taskBarEditAction === 'LeftResizing' && this.segmentIndex === 0) {\n                    this.taskBarEditElement.style.setProperty('opacity', '.75');\n                    var parent_1 = this.taskBarEditElement.parentElement;\n                    var segmentedTasks = parent_1.getElementsByClassName('e-segmented-taskbar');\n                    for (var i = 0; i < item.segments.length; i++) {\n                        var segment_4 = item.segments[i];\n                        var segmentElement = segmentedTasks[i];\n                        segmentElement.style.width = (segment_4.width) + 'px';\n                        if (i === 0) {\n                            resizeLine.style.width = (segment_4.width) + 'px';\n                            resizeLine.style.setProperty(position, (segment_4.left + item.left) + 'px');\n                        }\n                        if (this.parent.enableRtl) {\n                            segmentElement.style.right = (segment_4.left) + 'px';\n                        }\n                        else {\n                            segmentElement.style.left = (segment_4.left) + 'px';\n                        }\n                    }\n                }\n                if (this.taskBarEditAction === 'ChildDrag' && (this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop))) {\n                    resizeLine.style.width = (width) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    taskBarMainContainer.style.setProperty('opacity', '.75');\n                }\n            }\n            if (traceConnectorPointRight) {\n                if (this.parent.enableRtl) {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width - 2)) + 'px';\n                }\n                else {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'LeftResizing') {\n                traceConnectorPointRight.style.left = (width - 2) + 'px';\n            }\n            if (childProgressResizer && traceChildProgressBar && (this.taskBarEditAction === 'LeftResizing' || this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag')) {\n                childProgressResizer.style.display = 'none';\n                traceChildProgressBar.style.display = 'none';\n            }\n            if (this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone) {\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left - (width / 2))) + 'px');\n                resizeLine.style.setProperty(position, (item.left - (width / 2)) + 'px');\n                resizeLine.style.width = (width) + 'px';\n            }\n            else if (this.taskBarEditAction === 'ProgressResizing') {\n                if (this.segmentIndex === -1) {\n                    traceChildTaskBar.style.setProperty(position, (item.left + item.progressWidth - 10) + 'px');\n                    if (!isNullOrUndefined(traceChildProgressBar)) {\n                        traceChildProgressBar.style.width = item.progressWidth + 'px';\n                        traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                        traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                        var width_1 = this.parent.enableRtl ? item.progressWidth + 8 : item.progressWidth - 8;\n                        childProgressResizer.style.setProperty(position, width_1 + 'px');\n                    }\n                }\n                else {\n                    this.updateSegmentProgress(this.taskBarEditRecord.ganttProperties);\n                    traceChildProgressBar.style.width = item.segments[this.segmentIndex].progressWidth + 'px';\n                    traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                    traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                    var width_2 = this.parent.enableRtl ? item.segments[this.segmentIndex].progressWidth + 8 :\n                        item.segments[this.segmentIndex].progressWidth - 8;\n                    childProgressResizer.style.setProperty(position, width_2 + 'px');\n                }\n            }\n            else if (this.taskBarEditAction === 'RightResizing' && !isNullOrUndefined(traceChildTaskBar)) {\n                resizeLine.style.width = (width) + 'px';\n                traceChildTaskBar.style.width = (width) + 'px';\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentDrag') {\n                resizeLine.style.setProperty(position, item.left + 'px');\n                resizeLine.style.width = (width) + 'px';\n                resizeLine.style.width = (item.width) + 'px';\n                if (!isNullOrUndefined(traceParentTaskBar)) {\n                    traceParentTaskBar.style.width = (width) + 'px';\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceParentProgressBar.style.width = (item.progressWidth) + 'px';\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentResizing') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.width = manualTaskbar.style.width = (item.width) + 'px';\n                manualParentRight.style.setProperty(position, item.width - manualParentLeft.offsetLeft + 'px');\n            }\n            else if (this.taskBarEditAction === 'ManualParentDrag') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.setProperty(position, item.left - item.autoLeft + 'px');\n                if (this.parent.allowTaskbarDragAndDrop) {\n                    manualParentTaskbar.style.setProperty(position, this.leftValue + 'px');\n                    manualParentTaskbar.style.setProperty('top', (this.topValue) + 'px');\n                    manualParentTaskbar.style.zIndex = '4';\n                }\n            }\n            else {\n                if (!isNullOrUndefined(traceChildTaskBar) && !segmentedTaskBarContainer) {\n                    traceChildTaskBar.style.width = (item.width) + 'px';\n                    traceChildTaskBar.style.left = (item.left) + 'px';\n                    this.taskBarEditElement.style.width = (item.width) + 'px';\n                    this.taskBarEditElement.style.left = ((this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left))) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n                if (segmentedTaskBarContainer) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (segment.width) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, segment.width - 10 + 'px');\n                    }\n                }\n            }\n        }\n        if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag')) {\n            var resizeValue = this.parent.enableRtl ? parseInt(resizeLine.style.right, 10) : parseInt(resizeLine.style.left, 10);\n            if (this.parent.enableRtl) {\n                resizeLine.style.right = (resizeValue - 30) + 'px';\n            }\n            else {\n                resizeLine.style.left = (resizeValue + 30) + 'px';\n            }\n        }\n    };\n    /**\n     * To handle mouse up event in chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseUpHandler = function (e) {\n        var mouseDragged = this.isMouseDragged;\n        this.previousMouseMove = null;\n        this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n        if (this.taskBarEditAction && this.isMouseDragged) {\n            if ((!this.dragMouseLeave && this.taskBarEditedAction) || (this.parent.allowTaskbarDragAndDrop)) {\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    var coordinates = this.getCoordinate(e);\n                    this['droppedTarget'] = document.elementFromPoint(coordinates.pageX, coordinates.pageY);\n                }\n                else {\n                    if (this.taskBarEditRecord.hasChildRecords && !this.taskBarEditRecord.ganttProperties.isAutoSchedule) {\n                        var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                        var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                        var xValue = void 0;\n                        if (this.parent.enableRtl) {\n                            xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                        }\n                        else {\n                            xValue = Math.abs(Math.abs(taskbarPosition.left - pointerLeft - 1) -\n                                this.parent.ganttChartModule.scrollElement.scrollLeft);\n                        }\n                        this['droppedTarget'] = document.elementFromPoint(xValue, e.y);\n                    }\n                    else {\n                        this['droppedTarget'] = document.elementFromPoint(e.x, e.y);\n                    }\n                    if (this['droppedTarget'] && this['droppedTarget'].classList.contains('e-span-label')) {\n                        this['droppedTarget'] = document.elementFromPoint(e.x + this['droppedTarget']['offsetWidth'], e.y);\n                    }\n                }\n                this.previousIds = this.parent.ids.slice();\n                this.previousFlatData = this.parent.flatData.slice();\n                this.taskBarEditedAction(e);\n                this.isMouseDragged = false;\n            }\n            else {\n                this.parent.isOnEdit = false;\n                this.cancelTaskbarEditActionInMouseLeave();\n                if (this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n                    var criticalModule = this.parent.criticalPathModule;\n                    criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                }\n            }\n        }\n        if (this.parent.enableMultiTaskbar && !isNullOrUndefined(this.taskBarEditElement)) {\n            if (!isNullOrUndefined(this.taskBarEditElement.querySelector('.e-gantt-child-taskbar'))) {\n                if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar').classList.contains('e-collapsed-taskbar-drag')) {\n                    removeClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                    this.taskBarEditElement.style.zIndex = this.prevZIndex;\n                    this.prevZIndex = '';\n                }\n            }\n        }\n        if (!this.parent.isAdaptive || mouseDragged) {\n            this.initPublicProp();\n        }\n        this.stopScrollTimer();\n    };\n    /**\n     * To perform taskbar edit operation.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditedAction = function (event) {\n        var args = {};\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var item = this.taskBarEditRecord;\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        var x2 = this.mouseMoveX;\n        var e = this.getCoordinate(event);\n        var resMouseY = e.pageY - this.parent.ganttChartModule.chartBodyContainer.offsetTop;\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && !this.drawPredecessor) {\n            this.dependencyCancel = true;\n        }\n        var parentRecord = [];\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && this.drawPredecessor && (!this.connectorSecondRecord.hasChildRecords ||\n            this.connectorSecondRecord.hasChildRecords && this.parent.allowParentDependency)) {\n            parentRecord.push(extend([], [], [this.taskBarEditRecord], true)[0]);\n            if (this.parent.undoRedoModule) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            this.parent.connectorLineEditModule.updatePredecessor(this.connectorSecondRecord, this.finalPredecessor);\n        }\n        else {\n            if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') || (this.oldData && JSON.stringify(item.ganttProperties) === JSON.stringify(this.oldData.ganttProperties))) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent['totalUndoAction']--;\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n                    }\n                }\n            }\n            else {\n                if (this.parent.undoRedoModule && this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            if (x1 !== x2 || (Math.abs(y1 - resMouseY) >= (this.parent.rowHeight - this.parent.taskbarHeight) / 2)) {\n                if (item !== null) {\n                    args.editingFields = item.ganttProperties;\n                    args.data = item;\n                    args.recordIndex = recordIndex;\n                    args.previousData = this.previousItem;\n                    args.taskBarEditAction = this.taskBarEditAction;\n                    args.action = 'TaskbarEditing';\n                    args.roundOffDuration = this.roundOffDuration;\n                    args.target = this.targetElement;\n                    this.taskbarEditedArgs = args;\n                    this.taskbarEdited(args);\n                }\n            }\n        }\n        this.parent['isProjectDateUpdated'] = false;\n    };\n    /**\n     * To cancel the taskbar edt action.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.cancelTaskbarEditActionInMouseLeave = function () {\n        this.parent.editModule.reUpdatePreviousRecords(true);\n    };\n    TaskbarEdit.prototype.updateSegmentProgress = function (taskData) {\n        var segments = taskData.segments;\n        var fixedWidth = true;\n        var totalTaskWidth = this.splitTasksDuration(segments) * this.parent.perDayWidth;\n        var totalProgressWidth = this.parent.dataOperation.getProgressWidth(totalTaskWidth, taskData.progress);\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            delete segment.progressWidth;\n            if (totalProgressWidth > 0 && totalProgressWidth > segment.width) {\n                totalProgressWidth = totalProgressWidth - segment.width;\n                segment.progressWidth = segment.width;\n                segment.showProgress = false;\n            }\n            else if (fixedWidth) {\n                segment.progressWidth = totalProgressWidth;\n                segment.showProgress = true;\n                totalProgressWidth = totalProgressWidth - segment.width;\n                fixedWidth = false;\n            }\n        }\n    };\n    /**\n     * To trigger taskbar edited event.\n     *\n     * @param {ITaskbarEditedEventArgs} arg .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskbarEdited = function (arg) {\n        var args = extend({}, arg);\n        var ganttRecord = args.data;\n        var taskData = ganttRecord.ganttProperties;\n        var draggedRecIndex = this.parent.flatData.indexOf(ganttRecord);\n        if (this.parent.allowTaskbarDragAndDrop && this.dragMoveY > 0 && ((this.parent.viewType === 'ResourceView' &&\n            !ganttRecord.hasChildRecords) || this.parent.viewType === 'ProjectView')) {\n            if (this.parent.rowDragAndDropModule) {\n                var flatRecordCol = this.parent.currentViewData;\n                if (this.taskBarEditRecord.parentItem && flatRecordCol[this.taskBarEditRecord.parentItem.index] &&\n                    ((this.parent.editedRecords.indexOf(flatRecordCol[this.taskBarEditRecord.parentItem.index]) === -1))) {\n                    this.parent.editedRecords.push(flatRecordCol[this.taskBarEditRecord.parentItem.index]);\n                }\n                this.removeChildBorder();\n                this.removeErrorElem();\n                this.removetopOrBottomBorder();\n                var droppedRecord = void 0;\n                this.updatePosition = false;\n                this.draggedRecordMarginTop = this.taskBarEditElement.style.marginTop;\n                var row = closest(this.droppedTarget, 'tr.' + cls.chartRow);\n                if (row) {\n                    var recordIndex = parseInt(row.getAttribute('data-rowindex'), 10);\n                    droppedRecord = this.parent.flatData[recordIndex];\n                    var droppedParentRecordIndex = this.parent.getRootParent(droppedRecord, 0).index;\n                    var draggedParentRecordIndex = this.parent.getRootParent(this.taskBarEditRecord, 0).index;\n                    var e = {\n                        cancel: false,\n                        data: this.taskBarEditRecord,\n                        fromIndex: this.taskBarEditRecord.index,\n                        dropIndex: droppedRecord.index,\n                        dropPosition: this.parent.rowDragAndDropModule['dropPosition'],\n                        dropRecord: droppedRecord\n                    };\n                    this.parent.trigger('rowDrop', e);\n                    if (!e['cancel'] && droppedRecord && recordIndex !== draggedRecIndex && ((droppedParentRecordIndex !== draggedParentRecordIndex ||\n                        (this.taskBarEditRecord.hasChildRecords && droppedRecord.hasChildRecords)) ||\n                        !this.taskBarEditRecord.hasChildRecords)) {\n                        var droppedRecordIndex = this.parent.flatData.indexOf(droppedRecord);\n                        var position = void 0;\n                        if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(this.parent.rowDragAndDropModule['dropPosition'])) {\n                            position = this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        else {\n                            position = (droppedRecord.hasChildRecords || (!droppedRecord.parentItem &&\n                                droppedRecord.childRecords.length === 0)) ? 'child' : this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        if (this.parent.rowDragAndDropModule) {\n                            if (this.parent.viewType === 'ResourceView' && (position === 'child' && !droppedRecord.hasChildRecords) && !isNullOrUndefined(droppedRecord.parentItem)) {\n                                position = 'Invalid';\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                            }\n                            if (position) {\n                                this.parent.rowDragAndDropModule.reorderRows([draggedRecIndex], droppedRecordIndex, position);\n                            }\n                        }\n                        this.dragMoveY = 0;\n                    }\n                }\n                this.isClonedElement = false;\n            }\n            if (this.parent.showOverAllocation) {\n                this.parent.ganttChartModule.renderOverAllocationContainer();\n            }\n        }\n        if (args.taskBarEditAction === 'ProgressResizing') {\n            if (args.previousData.progress !== taskData.progress) {\n                this.parent.setRecordValue('progress', this.getProgressPercent(taskData.width, taskData.progressWidth), taskData, true);\n                if (ganttRecord.parentItem) {\n                    this.parent.editModule.updateParentProgress(ganttRecord.parentItem);\n                }\n                if (!isNullOrUndefined(taskData.segments)) {\n                    this.updateSegmentProgress(taskData);\n                }\n            }\n        }\n        else {\n            var segments = args.data.ganttProperties.segments;\n            if (!isNullOrUndefined(segments) && segments.length > 0\n                && ((this.taskBarEditAction === 'LeftResizing' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'ChildDrag' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'RightResizing'))) {\n                var segment = segments[this.segmentIndex];\n                var ganttProp = this.taskBarEditRecord.ganttProperties;\n                var previousSegment = this.segmentIndex === 0 ? null\n                    : segments[this.segmentIndex - 1];\n                var nextSegment = this.segmentIndex === segments.length - 1 ? null\n                    : segments[this.segmentIndex + 1];\n                var sDate = !isNullOrUndefined(nextSegment) ?\n                    new Date(nextSegment.startDate.getTime()) : this.parent.cloneProjectEndDate;\n                var eDate = !isNullOrUndefined(previousSegment) ?\n                    new Date(previousSegment.endDate.getTime()) : this.parent.cloneProjectStartDate;\n                var cStartDate = new Date(segment.startDate.getTime());\n                var cEndDate = new Date(segment.endDate.getTime());\n                if (this.parent.timelineModule.topTier === 'Day' && this.parent.timelineModule.bottomTier === 'Hour') {\n                    cStartDate.setHours(cStartDate.getHours() - 1);\n                    cEndDate.setHours(cEndDate.getHours() + 1);\n                }\n                else {\n                    cStartDate.setDate(cStartDate.getDate());\n                    cEndDate.setDate(cEndDate.getDate());\n                }\n                if (this.parent.includeWeekend) {\n                    sDate.setHours(0, 0, 0, 0);\n                    eDate.setHours(0, 0, 0, 0);\n                    cStartDate.setDate(cStartDate.getDate() - 1);\n                    cEndDate.setDate(cEndDate.getDate() + 1);\n                    cStartDate.setHours(0, 0, 0, 0);\n                    cEndDate.setHours(0, 0, 0, 0);\n                    if (cStartDate.getTime() <= eDate.getTime() && !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment)) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime() && this.segmentIndex !== segments.length - 1) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime()) {\n                        segment.endDate.setDate(this.parent.cloneProjectEndDate.getDate() - 1);\n                        segment.startDate = this.parent.dataOperation.getStartDate(segment.endDate, segment.duration, ganttProp.durationUnit, ganttProp);\n                        // eslint-disable-next-line\n                        for (var i = segments.length - 2; i >= 0; i++) {\n                            var segment_5 = segments[i];\n                            var eDate_1 = segment_5.endDate;\n                            eDate_1.setDate(eDate_1.getDate() - segment_5.offsetDuration);\n                            segment_5.endDate = eDate_1;\n                            segment_5.startDate = this.parent.dataOperation.getStartDate(segment_5.endDate, segment_5.duration, ganttProp.durationUnit, ganttProp);\n                        }\n                    }\n                }\n                else {\n                    //Hits while dragging taskbar toward right & taskbar rightside resizing:\n                    if (cEndDate.getTime() <= sDate.getTime() && this.segmentIndex !== segments.length - 1 && !this.parent.includeWeekend &&\n                        this.parent.dataOperation.getDuration((this.parent.dataOperation.checkStartDate(cEndDate, taskData, false)), sDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    //Hits while dragging taskbar toward left & taskbar leftside resizing:\n                    else if (cStartDate.getTime() >= eDate.getTime() &&\n                        !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment) &&\n                        !this.parent.includeWeekend && this.parent.dataOperation.getDuration((this.parent.dataOperation.checkEndDate(cStartDate, taskData, false)), eDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                }\n            }\n            this.parent.dataOperation.updateWidthLeft(args.data);\n        }\n        this.isDragged = false;\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To get progress in percentage.\n     *\n     * @param {number} parentwidth .\n     * @param {number} progresswidth .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getProgressPercent = function (parentwidth, progresswidth) {\n        return Math.ceil(((progresswidth / parentwidth) * 100));\n    };\n    /**\n     * false line implementation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.drawFalseLine = function () {\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var x2 = this.mouseMoveX;\n        var y2 = this.mouseMoveY;\n        var length = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n        var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n        var transform = 'rotate(' + (this.parent.enableRtl ? -angle : angle) + 'deg)';\n        var left;\n        var width = 0;\n        if (!isNullOrUndefined(document.querySelectorAll('.e-chart-row')[0])) {\n            width = document.querySelectorAll('.e-chart-row')[0].offsetWidth;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            if (this.parent.enableRtl) {\n                left = ((width - (this.elementOffsetLeft + (this.parent.chartRowsModule.connectorPointWidth / 2)))) -\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft - (this.parent.chartRowsModule.connectorPointWidth / 2)) -\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n        }\n        if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            if (this.parent.enableRtl) {\n                left = (width - (this.elementOffsetLeft + this.elementOffsetWidth +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2))) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft + this.elementOffsetWidth) +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n        }\n        var top = ((this.elementOffsetTop) + (this.elementOffsetHeight / 2) +\n            this.parent.ganttChartModule.chartBodyContainer.offsetTop) - this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.removeFalseLine(false);\n        this.falseLine = createElement('div', {\n            className: cls.falseLine, id: 'ganttfalseline' + this.parent.element.id,\n            styles: 'position: absolute;transform:' + transform + ';' +\n                'border-top-width: 1px;border-top-style: dashed;z-index: 5;width:' + (length - 3) + 'px;' +\n                'top:' + top + 'px;'\n        });\n        if (this.parent.enableRtl) {\n            this.falseLine.style.left = 'auto';\n            this.falseLine.style.right = left + 'px';\n            this.falseLine.style.transformOrigin = '100% 0%';\n        }\n        else {\n            this.falseLine.style.right = 'auto';\n            this.falseLine.style.left = left + 'px';\n            this.falseLine.style.transformOrigin = '0% 100%';\n        }\n        this.parent.ganttChartModule.chartBodyContainer.appendChild(this.falseLine);\n    };\n    /**\n     *\n     * @param {boolean} isRemoveConnectorPointDisplay .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.removeFalseLine = function (isRemoveConnectorPointDisplay) {\n        if (this.falseLine) {\n            remove(this.falseLine);\n            this.falseLine = null;\n            if (isRemoveConnectorPointDisplay) {\n                this.elementOffsetLeft = 0;\n                this.elementOffsetTop = 0;\n                this.elementOffsetWidth = 0;\n                this.elementOffsetHeight = 0;\n                removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateConnectorLineSecondProperties = function (e) {\n        var target = this.getElementByPosition(e);\n        var element = parentsUntil(target, cls.taskBarMainContainer);\n        var isBigger = document.body.className.includes('e-bigger');\n        this.connectorSecondAction = null;\n        var scrollTop = 0;\n        if (parentsUntil(target, cls.connectorPointLeft)) {\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.toPredecessorText = 'Start';\n        }\n        else if (parentsUntil(target, cls.connectorPointRight)) {\n            this.connectorSecondAction = 'ConnectorPointRightDrag';\n            this.toPredecessorText = 'Finish';\n        }\n        else {\n            this.connectorSecondAction = null;\n            this.toPredecessorText = null;\n        }\n        if (this.taskBarEditElement !== element && this.taskBarEditElement !== this.highlightedSecondElement) {\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                var top_1 = this.parent.virtualScrollModule.getTopPosition();\n                scrollTop = top_1;\n            }\n            if ((this.parent.virtualScrollModule && this.parent.enableVirtualization &&\n                !this.elementOffsetLeft) || !this.parent.enableVirtualization) {\n                if (!this.parent.allowParentDependency) {\n                    this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                    this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                        this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                }\n                else {\n                    if (this.taskBarEditElement.children[0].classList.contains('e-manualparent-main-container')) {\n                        this.elementOffsetLeft = this.realTaskbarElement.children[0]['offsetLeft'] +\n                            this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = ((this.realTaskbarElement.parentElement.offsetTop + this.realTaskbarElement.offsetHeight / 3 - 5) + this.taskBarEditElement.children[0]['offsetTop']) + scrollTop;\n                    }\n                    else {\n                        this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                            this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                    }\n                }\n                this.elementOffsetWidth = this.realTaskbarElement.offsetWidth + ((isBigger) ? 20 : 0);\n                this.elementOffsetHeight = this.realTaskbarElement.offsetHeight;\n            }\n            this.showHideTaskBarEditingElements(element, this.highlightedSecondElement, true);\n        }\n        if (isNullOrUndefined(this.connectorSecondAction) && !isNullOrUndefined(this.connectorSecondElement) &&\n            (!this.connectorSecondRecord.hasChildRecords || this.connectorSecondRecord.hasChildRecords &&\n                this.parent.allowParentDependency)) {\n            this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointAllowBlock]);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointAllowBlock]);\n        }\n        this.connectorSecondElement = this.connectorSecondAction ? element : null;\n        this.highlightedSecondElement = element;\n        this.connectorSecondRecord = isNullOrUndefined(this.connectorSecondElement) ?\n            null : this.parent.ganttChartModule.getRecordByTaskBar(this.connectorSecondElement);\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.triggerDependencyEvent = function (e, mouseUp) {\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        var zoomedPageY;\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            zoomedPageY = e.pageY / zoom1;\n        }\n        var fromItem = this.taskBarEditRecord.ganttProperties;\n        var toItem = this.connectorSecondRecord ? this.connectorSecondRecord.ganttProperties : null;\n        var predecessor;\n        var currentTarget;\n        var target = this.getElementByPosition(e);\n        var element = target;\n        var uniqueId = this.parent.viewType === 'ResourceView' ? fromItem.taskId : fromItem.rowUniqueID;\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'F' : 'S');\n        }\n        else if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'S' : 'F');\n        }\n        if (this.connectorSecondAction) {\n            if (this.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                predecessor += this.parent.enableRtl ? 'F' : 'S';\n                currentTarget = this.parent.enableRtl ? 'finish' : 'start';\n            }\n            else if (this.connectorSecondAction === 'ConnectorPointRightDrag') {\n                predecessor += this.parent.enableRtl ? 'S' : 'F';\n                currentTarget = this.parent.enableRtl ? 'start' : 'finish';\n            }\n        }\n        if (isNullOrUndefined(toItem)) {\n            this.drawPredecessor = false;\n            return;\n        }\n        if (toItem.predecessorsName) {\n            this.finalPredecessor = toItem.predecessorsName + ',' + predecessor;\n        }\n        else {\n            this.finalPredecessor = predecessor;\n        }\n        var isValidLink = this.parent.connectorLineEditModule.validatePredecessorRelation(this.connectorSecondRecord, this.finalPredecessor);\n        // eslint-disable-next-line\n        var predecessorArray = this.parent.predecessorModule.calculatePredecessor(predecessor, this.connectorSecondRecord);\n        var args = {};\n        args.fromItem = fromItem;\n        args.toItem = toItem;\n        args.newPredecessorString = this.finalPredecessor;\n        args.predecessor = predecessorArray && predecessorArray[0];\n        args.isValidLink = isValidLink;\n        args.requestType = 'ValidateDependency';\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer' && args.requestType !== 'ValidateDependency') {\n            this.parent.showMaskRow();\n        }\n        else if (args.requestType !== 'ValidateDependency') {\n            this.parent.showSpinner();\n        }\n        args.isValidLink = !isValidLink && args.isValidLink ? false : args.isValidLink;\n        if (args.isValidLink) {\n            if (!this.editTooltip.toolTipObj && !this.parent.isAdaptive) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            if (!isNullOrUndefined(this.editTooltip.toolTipObj)) {\n                this.parent.connectorLineModule.tooltipTable.innerHTML = this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', '');\n                var table = this.parent.connectorLineModule.tooltipTable.querySelector('#toPredecessor').querySelectorAll('td');\n                table[1].innerText = toItem.taskName;\n                table[2].innerText = this.parent.localeObj.getConstant(currentTarget);\n                if (!isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement) &&\n                    !isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement.parentElement)) {\n                    var tooltipElement = this.parent.connectorLineModule.tooltipTable.parentElement.parentElement;\n                    if (tooltipElement.offsetTop + tooltipElement.offsetHeight > zoomedPageY) {\n                        tooltipElement.style.top = (e.pageY - tooltipElement.offsetHeight - 20) + 'px';\n                    }\n                }\n            }\n            this.drawPredecessor = true;\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (target.classList.contains(cls.connectorPointLeft) ||\n                    target.classList.contains(cls.connectorPointRight)) {\n                    this.showHideActivePredecessors(true);\n                }\n            }\n            else {\n                addClass([element], [cls.connectorPointAllowBlock]);\n            }\n            this.drawPredecessor = false;\n        }\n    };\n    // Get XY coordinates for touch and non-touch device\n    TaskbarEdit.prototype.getCoordinate = function (event) {\n        var coordinates = {};\n        var e = event;\n        coordinates.pageX = e.pageX;\n        coordinates.pageY = e.pageY;\n        if (event && event.type !== 'click') {\n            var e_1 = event;\n            if (e_1.type === 'touchmove' || e_1.type === 'touchstart' || e_1.type === 'touchend') {\n                coordinates.pageX = e_1.changedTouches[0].pageX;\n                coordinates.pageY = e_1.changedTouches[0].pageY;\n            }\n        }\n        return coordinates;\n    };\n    // Get current target element by mouse position\n    // window.pageXOffset && window.pageYOffset is used to find the accurate element position in IPad/IPhone\n    TaskbarEdit.prototype.getElementByPosition = function (event) {\n        if (!this.parent.isAdaptive) {\n            return event.target;\n        }\n        else {\n            var e = this.getCoordinate(event);\n            return document.elementFromPoint((e.pageX - window.pageXOffset), (e.pageY - window.pageYOffset));\n        }\n    };\n    TaskbarEdit.prototype.multipleSelectionEnabled = function () {\n        if (this.parent.selectionModule &&\n            this.parent.selectionSettings.mode !== 'Cell'\n            && this.parent.selectionSettings.type === 'Multiple') {\n            this.parent.selectionModule.hidePopUp();\n        }\n    };\n    TaskbarEdit.prototype.unWireEvents = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartMouseDown', this.mouseDownHandler);\n        this.parent.off('chartMouseUp', this.mouseUpHandler);\n        this.parent.off('chartMouseLeave', this.mouseLeaveHandler);\n        this.parent.off('chartMouseMove', this.mouseMoveAction);\n        this.parent.off('chartMouseClick', this.mouseClickHandler);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.destroy = function () {\n        this.unWireEvents();\n        this.stopScrollTimer();\n        this.parent.editModule.taskbarEditModule = undefined;\n    };\n    return TaskbarEdit;\n}(DateProcessor));\nexport { TaskbarEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { remove, extend, isNullOrUndefined, createElement, getValue, setValue, closest, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { Tab } from '@syncfusion/ej2-navigations';\nimport { Grid, Edit, Toolbar as GridToolbar, Page, getObject, Sort, RowDD, Group, Aggregate, ColumnChooser, ContextMenu, ColumnMenu, Resize, Reorder, DetailRow, Search, Print, PdfExport, ExcelExport, Filter } from '@syncfusion/ej2-grids';\nimport { ForeignKey, getActualProperties } from '@syncfusion/ej2-grids';\nimport { RichTextEditor, Toolbar as RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Image, Table, EmojiPicker, FileManager, FormatPainter, MarkdownEditor } from '@syncfusion/ej2-richtexteditor';\nimport { TextBox, NumericTextBox, MaskedTextBox, FormValidator } from '@syncfusion/ej2-inputs';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { DropDownList, ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { isScheduledTask } from '../base/utils';\nimport { TreeGrid, Selection as TreeGridSelection, Filter as TreeGridFilter, Edit as TreeGridEdit, VirtualScroll, Sort as TreeGridSort, Page as TreeGridPage, Aggregate as TreeGridAggregate, Reorder as TreeGridReorder, Resize as TreeGridResize, Toolbar as TreeGridToolbar, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { getUid } from '../base/utils';\n/**\n *\n * @hidden\n */\nvar DialogEdit = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {Gantt} parent .\n     * @returns {void} .\n     */\n    function DialogEdit(parent) {\n        this.taskFieldColumn = [];\n        this.customFieldColumn = [];\n        this.processedId = [];\n        /**\n         * @private\n         */\n        this.updatedEditFields = null;\n        this.updatedAddFields = null;\n        this.addedRecord = null;\n        this.dialogEditValidationFlag = false;\n        this.ganttResources = [];\n        this.isValidData = true;\n        this.isResourceTabUpdated = false;\n        /**\n         * @private\n         */\n        this.previousResource = [];\n        /**\n         * @private\n         */\n        this.isResourceUpdate = false;\n        this.parent = parent;\n        this.localeObj = this.parent.localeObj;\n        this.beforeOpenArgs = { cancel: false };\n        this.types = this.getPredecessorType();\n        this.rowData = {};\n        this.editedRecord = {};\n        this.inputs = {\n            booleanedit: CheckBox,\n            dropdownedit: DropDownList,\n            datepickeredit: DatePicker,\n            datetimepickeredit: DateTimePicker,\n            maskededit: MaskedTextBox,\n            numericedit: NumericTextBox,\n            stringedit: TextBox,\n            defaultedit: TextBox\n        };\n        this.processDialogFields();\n        this.wireEvents();\n    }\n    DialogEdit.prototype.wireEvents = function () {\n        this.parent.on('chartDblClick', this.dblClickHandler, this);\n    };\n    DialogEdit.prototype.dblClickHandler = function (e) {\n        var ganttData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (!isNullOrUndefined(ganttData) && this.parent.editModule && this.parent.editSettings.allowEditing) {\n            this.openEditDialog(ganttData);\n        }\n    };\n    /**\n     * Method to validate add and edit dialog fields property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.processDialogFields = function () {\n        if (isNullOrUndefined(this.parent.editDialogFields) ||\n            this.parent.editDialogFields && this.parent.editDialogFields.length === 0) {\n            this.updatedEditFields = this.getDefaultDialogFields();\n            this.updatedEditFields = this.validateDialogFields(this.updatedEditFields);\n        }\n        else {\n            this.updatedEditFields = this.validateDialogFields(this.parent.editDialogFields);\n        }\n        if (isNullOrUndefined(this.parent.addDialogFields) ||\n            this.parent.addDialogFields && this.parent.addDialogFields.length === 0) {\n            this.updatedAddFields = this.getDefaultDialogFields();\n            this.updatedAddFields = this.validateDialogFields(this.updatedAddFields);\n        }\n        else {\n            this.updatedAddFields = this.validateDialogFields(this.parent.addDialogFields);\n        }\n    };\n    DialogEdit.prototype.validateDialogFields = function (dialogFields) {\n        var newDialogFields = [];\n        var emptyCustomColumn = 0;\n        for (var i = 0; i < dialogFields.length; i++) {\n            var fieldItem = getActualProperties(dialogFields[i]);\n            if (fieldItem.type === 'General' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                fieldItem.fields = this.getGeneralColumnFields();\n            }\n            if (fieldItem.type === 'Dependency' && isNullOrUndefined(this.parent.taskFields.dependency)\n                || fieldItem.type === 'Resources' && isNullOrUndefined(this.parent.taskFields.resourceInfo)\n                || fieldItem.type === 'Notes' && isNullOrUndefined(this.parent.taskFields.notes)) {\n                continue;\n            }\n            if (fieldItem.type === 'Custom' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                emptyCustomColumn += 1;\n                fieldItem.fields = this.getCustomColumnFields();\n            }\n            if (emptyCustomColumn > 1) {\n                continue;\n            }\n            newDialogFields.push(fieldItem);\n        }\n        return newDialogFields;\n    };\n    /**\n     * Method to get general column fields\n     *\n     * @returns {string[]} .\n     */\n    DialogEdit.prototype.getGeneralColumnFields = function () {\n        var fields = [];\n        for (var _i = 0, _a = Object.keys(this.parent.columnMapping); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key === 'dependency' || key === 'resourceInfo' || key === 'notes') {\n                continue;\n            }\n            fields.push(this.parent.columnMapping[key]);\n        }\n        return fields;\n    };\n    /**\n     * Method to get custom column fields\n     *\n     * @returns {void} .\n     */\n    DialogEdit.prototype.getCustomColumnFields = function () {\n        var fields = [];\n        for (var i = 0; i < this.parent.customColumns.length; i++) {\n            fields.push(this.parent.customColumns[i]);\n        }\n        return fields;\n    };\n    /**\n     * Get default dialog fields when fields are not defined for add and edit dialogs\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getDefaultDialogFields = function () {\n        var dialogFields = [];\n        var fieldItem = {};\n        var taskFields = this.parent.taskFields;\n        var columnMapping = this.parent.columnMapping;\n        if (Object.keys(columnMapping).length !== 0) {\n            fieldItem.type = 'General';\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('dependency', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.dependency.valueOf()].visible !== false) {\n                fieldItem.type = 'Dependency';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('resourceInfo', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.resourceInfo.valueOf()].visible !== false) {\n                fieldItem.type = 'Resources';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('notes', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.notes.valueOf()].visible !== false) {\n                fieldItem.type = 'Notes';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('segments', taskFields))) {\n            fieldItem = {};\n            fieldItem.type = 'Segments';\n            dialogFields.push(fieldItem);\n        }\n        if (this.parent.customColumns.length > 0) {\n            fieldItem = {};\n            fieldItem.type = 'Custom';\n            dialogFields.push(fieldItem);\n        }\n        return dialogFields;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openAddDialog = function () {\n        this.isEdit = false;\n        this.editedRecord = this.composeAddRecord();\n        this.isFromAddDialog = true;\n        this.createDialog();\n    };\n    /**\n     *\n     * @returns {Date} .\n     * @private\n     */\n    DialogEdit.prototype.getMinimumStartDate = function () {\n        var minDate = DataUtil.aggregates.min(this.parent.flatData, 'ganttProperties.startDate');\n        if (!isNullOrUndefined(minDate)) {\n            minDate = new Date(minDate.getTime());\n        }\n        else {\n            minDate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        }\n        minDate = this.parent.dateValidationModule.checkStartDate(minDate);\n        return new Date(minDate.getTime());\n    };\n    /**\n     * @returns {IGanttData} .\n     * @private\n     */\n    DialogEdit.prototype.composeAddRecord = function () {\n        var tempData = {};\n        tempData.ganttProperties = {};\n        var columns = this.parent.ganttColumns;\n        var taskSettings = this.parent.taskFields;\n        var id = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < columns.length; i++) {\n            var field = columns[i].field;\n            if (field === taskSettings.id) {\n                tempData[field] = id;\n                tempData.ganttProperties.rowUniqueID = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.startDate) {\n                if (isNullOrUndefined(tempData[taskSettings.endDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.startDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.endDate) {\n                if (isNullOrUndefined(tempData[taskSettings.startDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.endDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.duration) {\n                tempData[field] = 1;\n                tempData.ganttProperties.duration = tempData[field];\n                tempData.ganttProperties.durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n            }\n            else if (columns[i].field === taskSettings.name) {\n                tempData[field] = this.localeObj.getConstant('addDialogTitle') + ' ' + id;\n                tempData.ganttProperties.taskName = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.progress) {\n                tempData[field] = 0;\n                tempData.ganttProperties.progress = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.work) {\n                tempData[field] = 0;\n                tempData.ganttProperties.work = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.type) {\n                tempData[field] = this.parent.taskType;\n                tempData.ganttProperties.taskType = tempData[field];\n            }\n            else {\n                tempData[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        tempData.ganttProperties.isAutoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                tempData[taskSettings.manual] === true ? false : true;\n        return tempData;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openToolbarEditDialog = function () {\n        var gObj = this.parent;\n        if (gObj.editModule && gObj.editSettings.allowEditing) {\n            if (this.parent.ganttChartModule.focusedRowIndex > -1 && gObj.selectionModule) {\n                gObj.selectionModule.selectRow(this.parent.ganttChartModule.focusedRowIndex, false, false);\n            }\n            var selectedRowId = gObj.selectionModule ?\n                (gObj.selectionSettings.mode === 'Row' || gObj.selectionSettings.mode === 'Both') &&\n                    gObj.selectionModule.selectedRowIndexes.length === 1 ?\n                    gObj.updatedRecords[gObj.selectionModule.selectedRowIndexes[0]].ganttProperties.rowUniqueID :\n                    gObj.selectionSettings.mode === 'Cell' &&\n                        gObj.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        gObj.updatedRecords[gObj.selectionModule.getSelectedRowCellIndexes()[0].rowIndex].ganttProperties.rowUniqueID :\n                        null : null;\n            if (!isNullOrUndefined(selectedRowId)) {\n                this.openEditDialog(selectedRowId);\n            }\n        }\n    };\n    /**\n     * @param { number | string | object} taskId .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openEditDialog = function (taskId) {\n        var ganttObj = this.parent;\n        if (!isNullOrUndefined(taskId)) {\n            if (!isNullOrUndefined(taskId['ganttProperties'])) {\n                if (typeof taskId['ganttProperties']['taskId'] === 'string') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n            if (isNullOrUndefined(taskId['ganttProperties']) && !isNullOrUndefined(taskId)) {\n                if (isNaN(Number(taskId)) || this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n        }\n        if (typeof taskId === 'object' && !isNullOrUndefined(taskId)) {\n            this.rowIndex = this.parent.currentViewData.indexOf(taskId);\n            if (this.rowIndex > -1) {\n                this.rowData = taskId;\n            }\n        }\n        else if (!isNullOrUndefined(taskId)) {\n            this.rowIndex = ganttObj.ids.indexOf(taskId.toString());\n            if (this.rowIndex > -1) {\n                this.rowData = ganttObj.flatData[this.rowIndex];\n            }\n        }\n        else if (ganttObj.selectedRowIndex > -1) {\n            this.rowData = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n            this.rowIndex = ganttObj.selectedRowIndex;\n        }\n        this.isEdit = true;\n        if (this.parent.viewType === 'ResourceView' && this.rowData.level === 0) {\n            return;\n        }\n        if (Object.keys(this.rowData).length !== 0) {\n            this.editedRecord = extend({}, {}, this.rowData, true);\n            this.isFromEditDialog = true;\n            this.createDialog();\n        }\n    };\n    DialogEdit.prototype.createDialog = function () {\n        var _this = this;\n        var ganttObj = this.parent;\n        var dialogModel = {};\n        this.beforeOpenArgs.dialogModel = dialogModel;\n        this.beforeOpenArgs.rowData = this.editedRecord;\n        this.beforeOpenArgs.rowIndex = this.rowIndex;\n        var dialogMaxWidth = this.parent.isAdaptive ? '' : '600px';\n        var dialog = this.parent.createElement('div', { id: ganttObj.element.id + '_dialog', styles: 'max-width:' + dialogMaxWidth });\n        dialog.classList.add('e-gantt-dialog');\n        ganttObj.element.appendChild(dialog);\n        dialogModel.animationSettings = { effect: 'None' };\n        dialogModel.header = this.localeObj.getConstant(this.isEdit ? 'editDialogTitle' : 'addDialogTitle');\n        dialogModel.isModal = true;\n        dialogModel.enableRtl = this.parent.enableRtl;\n        dialogModel.allowDragging = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? false : true;\n        dialogModel.showCloseIcon = true;\n        var position = this.parent.isAdaptive ? { X: 'top', Y: 'left' } : { X: 'center', Y: 'center' };\n        dialogModel.position = position;\n        //dialogModel.width = '750px';\n        dialogModel.height = this.parent.isAdaptive ? '100%' : 'auto';\n        dialogModel.target = document.body;\n        dialogModel.close = this.dialogClose.bind(this);\n        dialogModel.closeOnEscape = true;\n        /* eslint-disable-next-line */\n        dialogModel.beforeClose = function (args) {\n            if (args.closedBy === 'escape') {\n                if (args.event.name === 'key-pressed' && args.event.target.nodeName === 'INPUT') {\n                    args.cancel = true;\n                }\n            }\n        };\n        dialogModel.open = function (args) {\n            var dialogElement = getValue('element', args);\n            var generalTabElement = dialogElement.querySelector('#' + _this.parent.element.id + 'GeneralTabContainer');\n            if (generalTabElement && generalTabElement.scrollHeight > generalTabElement.offsetHeight) {\n                generalTabElement.classList.add('e-scroll');\n            }\n            if (_this.tabObj.selectedItem === 0) {\n                _this.tabObj.select(0);\n            }\n            if (_this.parent.isAdaptive) {\n                dialogElement.style.maxHeight = 'none';\n            }\n            if (_this.parent.focusModule) {\n                _this.parent.focusModule.setActiveElement(dialogElement);\n            }\n        };\n        dialogModel.locale = this.parent.locale;\n        dialogModel.buttons = [{\n                buttonModel: {\n                    content: this.localeObj.getConstant('saveButton'), cssClass: 'e-primary'\n                },\n                click: this.buttonClick.bind(this)\n            }, {\n                buttonModel: { cssClass: 'e-flat', content: this.localeObj.getConstant('cancel') },\n                click: this.buttonClick.bind(this)\n            }];\n        this.createTab(dialogModel, dialog);\n    };\n    DialogEdit.prototype.buttonClick = function (e) {\n        var target = e.target;\n        target.style.pointerEvents = 'none';\n        if ((this.localeObj.getConstant('cancel')).toLowerCase() === e.target.innerText.trim().toLowerCase()) {\n            if (this.dialog && !this.dialogObj.isDestroyed) {\n                this.CustomformObj = null;\n                this.formObj = null;\n                this.storeValidTab = null;\n                this.customFieldColumn = [];\n                this.taskFieldColumn = [];\n                this.dialogObj.hide();\n                this.dialogClose();\n            }\n        }\n        else {\n            if (this.CustomformObj) {\n                if (!this.CustomformObj.validate()) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.formObj) {\n                /* eslint-disable-next-line */\n                var formValid = this.formObj.validate();\n                if (!formValid) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.storeDependencyTab || this.firstOccuringTab === 'Dependency') {\n                /* eslint-disable-next-line */\n                var dependencyTab = void 0;\n                if (this.firstOccuringTab === 'Dependency') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    dependencyTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    dependencyTab = this.storeDependencyTab.querySelector('.e-gridform');\n                }\n                if (dependencyTab) {\n                    var dependencyTabValid = dependencyTab['ej2_instances'][0].validate();\n                    if (!dependencyTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            if (this.storeResourceTab || this.firstOccuringTab === 'Resources') {\n                /* eslint-disable-next-line */\n                var resourceTab = void 0;\n                if (this.firstOccuringTab === 'Resources') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    resourceTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    resourceTab = this.storeResourceTab.querySelector('.e-gridform');\n                }\n                if (resourceTab) {\n                    var resourceTabValid = resourceTab['ej2_instances'][0].validate();\n                    if (!resourceTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            this.initiateDialogSave();\n            this.CustomformObj = null;\n            this.formObj = null;\n            this.storeValidTab = null;\n            this.customFieldColumn = [];\n            this.taskFieldColumn = [];\n            target.style.pointerEvents = 'auto';\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.dialogClose = function () {\n        if (this.dialog) {\n            this.resetValues();\n        }\n        if (!isNullOrUndefined(this.parent.focusModule) &&\n            !isNullOrUndefined(this.parent.focusModule.getActiveElement(true))) {\n            this.parent.focusModule.getActiveElement(true).focus();\n        }\n    };\n    DialogEdit.prototype.resetValues = function () {\n        this.isEdit = false;\n        this.isAddNewResource = false;\n        this.editedRecord = {};\n        this.rowData = {};\n        this.rowIndex = -1;\n        this.addedRecord = null;\n        this.ganttResources = [];\n        this.dialogEditValidationFlag = false;\n        if (this.dialog && !this.dialogObj.isDestroyed) {\n            this.destroyDialogInnerElements();\n            this.dialogObj.destroy();\n            remove(this.dialog);\n        }\n    };\n    DialogEdit.prototype.destroyDialogInnerElements = function () {\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.destroyCustomField(element);\n                }\n                else if (id === 'Dependency') {\n                    var gridObj = element.ej2_instances[0];\n                    gridObj.destroy();\n                }\n                else if (id === 'Notes') {\n                    var rte = element.ej2_instances[0];\n                    rte.destroy();\n                }\n                else if (id === 'Resources') {\n                    var treeGridObj = element.ej2_instances[0];\n                    treeGridObj.destroy();\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.destroyCustomField(element);\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.destroyCustomField = function (element) {\n        var childNodes = element.childNodes;\n        var ganttObj = this.parent;\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (!isNullOrUndefined(controlObj)) {\n                    var column = ganttObj.columnByField[fieldName];\n                    if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                        var destroy = column.edit.destroy;\n                        if (typeof destroy === 'string') {\n                            destroy = getObject(destroy, window);\n                            destroy();\n                        }\n                        else {\n                            column.edit.destroy();\n                        }\n                    }\n                    else {\n                        controlObj.destroy();\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.destroy = function () {\n        this.resetValues();\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartDblClick', this.dblClickHandler);\n        this.parent.editModule.dialogModule = undefined;\n    };\n    /**\n     * Method to get current edit dialog fields value\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getEditFields = function () {\n        if (this.isEdit) {\n            return this.updatedEditFields;\n        }\n        else {\n            return this.updatedAddFields;\n        }\n    };\n    DialogEdit.prototype.createTab = function (dialogModel, dialog) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var tabModel = {};\n        var tabItems = [];\n        var dialogSettings = this.getEditFields();\n        var tabElement;\n        var tasks = ganttObj.taskFields;\n        var length = dialogSettings.length;\n        tabModel.items = tabItems;\n        tabModel.locale = this.parent.locale;\n        tabModel.enableRtl = this.parent.enableRtl;\n        this.beforeOpenArgs.tabModel = tabModel;\n        var count = 0;\n        var index = 0;\n        if (length > 0) {\n            for (var i = 0; i < length; i++) {\n                var dialogField = dialogSettings[i];\n                var tabItem = {};\n                if (dialogField.type === 'General') {\n                    if (Object.keys(ganttObj.columnMapping).length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('generalTab');\n                    }\n                    tabItem.content = 'General';\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Segments') {\n                    if (isNullOrUndefined(tasks.segments)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('segments');\n                    }\n                    tabItem.content = 'Segments';\n                    this.beforeOpenArgs[tabItem.content] = this.getSegmentsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Dependency') {\n                    if (isNullOrUndefined(tasks.dependency)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('dependency');\n                    }\n                    tabItem.content = 'Dependency';\n                    this.beforeOpenArgs[tabItem.content] = this.getPredecessorModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Resources') {\n                    if (isNullOrUndefined(tasks.resourceInfo)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('resourceName');\n                    }\n                    tabItem.content = 'Resources';\n                    this.beforeOpenArgs[tabItem.content] = this.getResourcesModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Notes') {\n                    if (isNullOrUndefined(tasks.notes)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('notes');\n                    }\n                    tabItem.content = 'Notes';\n                    this.beforeOpenArgs[tabItem.content] = this.getNotesModel(dialogField.fields);\n                }\n                else {\n                    if (isNullOrUndefined(dialogField.fields) || dialogField.fields.length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('customTab'); // eslint-disable-next-line\n                        count++;\n                    }\n                    tabItem.content = 'Custom' + '' + index++;\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                tabItem.header = { text: dialogField.headerText };\n                tabItems.push(tabItem);\n            }\n        }\n        this.beforeOpenArgs.requestType = this.isEdit ? 'beforeOpenEditDialog' : 'beforeOpenAddDialog';\n        this.parent.trigger('actionBegin', this.beforeOpenArgs, function (arg) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (!arg.cancel) {\n                _this.renderTabItems();\n                tabModel.selected = _this.tabSelectedEvent.bind(_this);\n                tabModel.height = _this.parent.isAdaptive ? '100%' : 'auto';\n                tabModel.overflowMode = 'Scrollable';\n                _this.tabObj = new Tab(tabModel);\n                _this.tabObj.isStringTemplate = true;\n                tabElement = _this.parent.createElement('div', { id: ganttObj.element.id + '_Tab' });\n                _this.tabObj.appendTo(tabElement);\n                dialogModel.content = tabElement;\n                _this.dialog = dialog;\n                _this.dialogObj = new Dialog(dialogModel);\n                _this.dialogObj.isStringTemplate = true;\n                _this.dialogObj.appendTo(_this.dialog);\n                var actionCompleteArgs = {\n                    action: 'OpenDialog',\n                    requestType: _this.isEdit ? 'openEditDialog' : 'openAddDialog',\n                    data: _this.beforeOpenArgs.rowData,\n                    element: _this.dialog,\n                    cancel: false\n                };\n                var columns = _this.parent.treeGrid.grid.getColumns();\n                /* eslint-disable-next-line */\n                var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n                if (isValidateColumn) {\n                    _this.CustomformObj = null;\n                    _this.formObj = null;\n                    _this.storeValidTab = null;\n                    _this.customFieldColumn = [];\n                    _this.taskFieldColumn = [];\n                    _this.changeFormObj(actionCompleteArgs.element);\n                }\n                _this.parent.trigger('actionComplete', actionCompleteArgs, function (actionCompleteArg) {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.hideMaskRow();\n                    }\n                    else {\n                        _this.parent.hideSpinner();\n                    }\n                    if (actionCompleteArg.cancel) {\n                        _this.resetValues();\n                    }\n                });\n            }\n            else {\n                arg.cancel = false;\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.hideMaskRow();\n                }\n                else {\n                    _this.parent.hideSpinner();\n                }\n            }\n        });\n    };\n    // Custom comparator function to sort by type order\n    DialogEdit.prototype.customComparator = function (a, b) {\n        var typeOrder = ['General', 'Resources', 'Dependency', 'Custom'];\n        var typeA = a.type || ''; // Default to empty string if type is missing\n        var typeB = b.type || '';\n        var indexA = typeOrder.indexOf(typeA);\n        var indexB = typeOrder.indexOf(typeB);\n        return indexA - indexB;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.changeFormObj = function (actionCompleteArgs) {\n        if (!this.storeColumn) {\n            this.storeColumn = this.parent.treeGrid.grid.getColumns();\n        }\n        if (!this.taskfields) {\n            this.taskfields = this.parent.taskFields['properties'];\n        }\n        if (!this.storeValidTab) {\n            this.storeValidTab = this.getFilteredDialogFields();\n        }\n        // Sort the array based on the custom comparator\n        if (this.storeValidTab) {\n            this.storeValidTab.sort(this.customComparator);\n        }\n        if (this.customFieldColumn.length === 0 || this.taskFieldColumn.length === 0) {\n            this.validateColumn(this.storeColumn, this.taskfields, this.storeValidTab);\n        }\n        if (this.isFromAddDialog && this.parent.addDialogFields && this.parent.addDialogFields.length > 0) {\n            var firstFieldType = this.parent.addDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        else if (this.isFromEditDialog && this.parent.editDialogFields && this.parent.editDialogFields.length > 0) {\n            var firstFieldType = this.parent.editDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        if (!this.CustomformObj || !this.formObj) {\n            var customFieldColumns = this.customFieldColumn;\n            var taskFieldColumns = this.taskFieldColumn;\n            if (!this.CustomformObj && customFieldColumns && customFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < customFieldColumns.length; i++) {\n                    var customColumn = customFieldColumns[i]; // Rename the variable\n                    if (customColumn.visible && customColumn.validationRules) {\n                        validationRulesArray[customColumn.field] = customColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.CustomformObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'Custom0TabContainer');\n                    if (this.CustomformObj) {\n                        this.CustomformObj = this.createFormObj(this.CustomformObj, validationRulesArray);\n                    }\n                }\n            }\n            if (!this.formObj && taskFieldColumns && taskFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < taskFieldColumns.length; i++) {\n                    var taskColumn = taskFieldColumns[i]; // Rename the variable\n                    if (taskColumn.visible && taskColumn.validationRules) {\n                        validationRulesArray[taskColumn.field] = taskColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.formObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'GeneralTabContainer');\n                    if (this.formObj) {\n                        this.formObj = this.createFormObj(this.formObj, validationRulesArray);\n                    }\n                }\n            }\n        }\n        this.isFromAddDialog = false;\n        this.isFromEditDialog = false;\n    };\n    DialogEdit.prototype.getFilteredDialogFields = function () {\n        var dialogFields = this.isFromAddDialog\n            ? this.parent.addDialogFields\n            : this.parent.editDialogFields;\n        if (dialogFields.length !== 0) {\n            return dialogFields.filter(function (obj) { return obj.type === 'General' || obj.type === 'Custom'; });\n        }\n        return null;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.validateColumn = function (storeColumn, taskfields, storeValidTab) {\n        var _this = this;\n        if (storeValidTab) {\n            storeValidTab.forEach(function (element) {\n                /* eslint-disable-next-line */\n                var targetArray = element.type === 'General' ? _this.taskFieldColumn : _this.customFieldColumn;\n                element.fields.forEach(function (field) {\n                    var columnValue = _this.parent.getColumnByField(field, storeColumn);\n                    if (columnValue !== null) {\n                        targetArray.push(columnValue);\n                    }\n                    else {\n                        targetArray.push(_this.parent.columnByField[field]);\n                    }\n                });\n            });\n        }\n        else {\n            /* eslint-disable-next-line */\n            storeColumn.forEach(function (column) {\n                if (_this.parent.customColumns.indexOf(column.field) !== -1) {\n                    _this.customFieldColumn.push(column);\n                }\n                else {\n                    _this.taskFieldColumn.push(column);\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.createFormObj = function (form, rules) {\n        var _this = this;\n        return new FormValidator(form, {\n            rules: rules,\n            locale: this.parent.locale,\n            validationComplete: function (args) {\n                _this.validationComplete(args);\n            },\n            customPlacement: function (inputElement, error) {\n                var nameAttribute = inputElement.getAttribute('name');\n                if (nameAttribute) {\n                    var columnName = nameAttribute;\n                    _this.valErrorPlacement(inputElement, error, columnName);\n                }\n            }\n        });\n    };\n    DialogEdit.prototype.valErrorPlacement = function (inputElement, error, columnName) {\n        var id = columnName + \"-tooltip\";\n        var elem = this.getElemTable(inputElement);\n        if (!elem) {\n            this.createTooltip(inputElement, error, id);\n        }\n        else {\n            var tooltipContent = elem.querySelector('.e-tip-content');\n            if (tooltipContent) {\n                tooltipContent.innerHTML = error.outerHTML;\n            }\n        }\n    };\n    DialogEdit.prototype.createTooltip = function (inputElement, errorMessage, id, display) {\n        if (display === void 0) { display = 'block'; }\n        var existingTooltip = document.getElementById(id);\n        if (existingTooltip) {\n            existingTooltip.remove();\n        }\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            parentElement.style.position = 'relative';\n        }\n        var tooltipContainer = document.createElement('div');\n        tooltipContainer.className = 'e-tooltip-wrap e-lib e-control e-popup e-griderror';\n        tooltipContainer.style.display = display;\n        tooltipContainer.style.zIndex = '1000';\n        var labelId = id + \"-label\";\n        var tooltipLabel = document.createElement('div');\n        tooltipLabel.id = labelId;\n        tooltipLabel.className = 'sr-only';\n        var tooltipContent = document.createElement('div');\n        tooltipContent.className = 'e-tip-content';\n        var errorMessageElement = document.createElement('div');\n        errorMessageElement.className = 'error-message';\n        errorMessageElement.appendChild(errorMessage.cloneNode(true));\n        var arrow = document.createElement('div');\n        arrow.className = 'e-arrow-tip e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-outer e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-inner e-tip-top';\n        tooltipContainer.setAttribute('aria-labelledby', labelId);\n        tooltipContent.appendChild(errorMessageElement);\n        tooltipContainer.appendChild(tooltipContent);\n        tooltipContainer.appendChild(arrow);\n        tooltipContainer.style.top = '125%';\n        tooltipContainer.style.left = '50%';\n        tooltipContainer.style.transform = 'translateX(-50%)';\n        if (parentElement) {\n            parentElement.appendChild(tooltipLabel);\n            parentElement.appendChild(tooltipContainer);\n        }\n    };\n    DialogEdit.prototype.getElemTable = function (inputElement) {\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            return parentElement.querySelector('.e-tooltip-wrap');\n        }\n        return null;\n    };\n    DialogEdit.prototype.validationComplete = function (args) {\n        var elem = this.getElemTable(args.element);\n        if (elem) {\n            if (args.status === 'failure') {\n                elem.style.display = '';\n            }\n            else {\n                elem.style.display = 'none';\n            }\n        }\n    };\n    DialogEdit.prototype.tabSelectedEvent = function (args) {\n        var ganttObj = this.parent;\n        var id = args.selectedContent.childNodes[0].id;\n        if (id === ganttObj.element.id + 'DependencyTabContainer') {\n            this.storeDependencyTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.storeResourceTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'Custom0TabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (id === ganttObj.element.id + 'GeneralTabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (this.parent.isAdaptive || this.parent.enableAdaptiveUI) {\n            this.responsiveTabContent(id, ganttObj);\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.resourceSelection(id);\n        }\n        else if (id === ganttObj.element.id + 'NotesTabContainer') {\n            document.getElementById(id).ej2_instances[0].refresh();\n            // const notesTabElement: HTMLElement = document.querySelector('#' + this.parent.element.id + 'NotesTabContainer') as HTMLInputElement;\n        }\n        else if (id === ganttObj.element.id + 'SegmentsTabContainer') {\n            if (isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate)) {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], false);\n            }\n            else {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], true);\n            }\n        }\n    };\n    DialogEdit.prototype.responsiveTabContent = function (id, ganttObj) {\n        var dialogContent = document.getElementById(ganttObj.element.id + '_dialog_dialog-content');\n        var dialogContentHeight = dialogContent.clientHeight;\n        dialogContentHeight -= dialogContent.querySelector('.e-tab-header').offsetHeight;\n        var grid = document.querySelector('#' + id);\n        if (grid.classList.contains('e-grid')) {\n            dialogContentHeight -= grid.ej2_instances[0].getHeaderContent().offsetHeight;\n            var toolbar_1 = grid.querySelector('.e-toolbar');\n            if (toolbar_1) {\n                dialogContentHeight -= toolbar_1.offsetHeight;\n            }\n        }\n        grid.parentElement.style.height = dialogContentHeight + 'px';\n    };\n    DialogEdit.prototype.getFieldsModel = function (fields) {\n        var fieldsModel = {};\n        var columnByField = this.parent.columnByField;\n        for (var i = 0; i < fields.length; i++) {\n            if (fields[i] === this.parent.taskFields.dependency ||\n                fields[i] === this.parent.taskFields.resourceInfo ||\n                fields[i] === this.parent.taskFields.notes) {\n                continue;\n            }\n            if (!isNullOrUndefined(columnByField[fields[i]])) {\n                var fieldName = fields[i];\n                this.createInputModel(columnByField[fieldName], fieldsModel);\n            }\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.createInputModel = function (column, fieldsModel) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var locale = this.parent.locale;\n        var taskSettings = this.parent.taskFields;\n        var common = {\n            placeholder: column.headerText,\n            floatLabelType: 'Auto'\n        };\n        if (!isNullOrUndefined(this.parent.taskFields.id) && !isNullOrUndefined(this.parent.columnMapping.id)\n            && !isNullOrUndefined(this.numericOrString)) {\n            if (taskSettings.id === column.field) {\n                column.editType = this.numericOrString;\n            }\n        }\n        switch (column.editType) {\n            case 'booleanedit':\n                {\n                    var checkboxModel = {\n                        label: column.headerText,\n                        locale: locale,\n                        enableRtl: this.parent.enableRtl\n                    };\n                    fieldsModel[column.field] = checkboxModel;\n                    break;\n                }\n            case 'defaultedit':\n            case 'stringedit':\n                {\n                    var textBox = common;\n                    textBox.enableRtl = this.parent.enableRtl;\n                    if (column.field === ganttObj.columnMapping.duration ||\n                        column.field === ganttObj.columnMapping.id || column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        textBox.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = common;\n                    break;\n                }\n            case 'numericedit':\n                {\n                    var numeric = common;\n                    numeric.enableRtl = this.parent.enableRtl;\n                    if (taskSettings.progress === column.field) {\n                        numeric.min = 0;\n                        numeric.max = 100;\n                    }\n                    numeric.change = function (args) {\n                        _this.validateScheduleFields(args, column, ganttObj);\n                    };\n                    fieldsModel[column.field] = numeric;\n                    break;\n                }\n            case 'datepickeredit':\n                {\n                    var datePickerObj = common;\n                    datePickerObj.format = this.parent.getDateFormat();\n                    datePickerObj.enableRtl = this.parent.enableRtl;\n                    datePickerObj.strictMode = true;\n                    datePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        datePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        datePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = datePickerObj;\n                    break;\n                }\n            case 'datetimepickeredit':\n                {\n                    var dateTimePickerObj = common;\n                    dateTimePickerObj.format = this.parent.getDateFormat();\n                    dateTimePickerObj.enableRtl = this.parent.enableRtl;\n                    dateTimePickerObj.strictMode = true;\n                    dateTimePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        dateTimePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        dateTimePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = dateTimePickerObj;\n                    break;\n                }\n            case 'dropdownedit':\n                if (column.field === ganttObj.columnMapping.type || column.field === ganttObj.columnMapping.manual) {\n                    var dataKey = 'dataSource';\n                    var fieldsKey = 'fields';\n                    var types = [\n                        { 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }\n                    ];\n                    common[dataKey] = types;\n                    common[fieldsKey] = { value: 'Value' };\n                    var dropDownListObj = common;\n                    dropDownListObj.enableRtl = this.parent.enableRtl;\n                    dropDownListObj.change = function (args) {\n                        if (column.field === taskSettings.manual) {\n                            _this.editedRecord.ganttProperties.isAutoSchedule = !args.value;\n                        }\n                        _this.validateScheduleFields(args, column, ganttObj);\n                    };\n                }\n                fieldsModel[column.field] = common;\n                break;\n            case 'maskededit':\n                fieldsModel[column.field] = common;\n                break;\n        }\n        if (!isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.params)) {\n            extend(fieldsModel[column.field], column.edit.params);\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.validateScheduleFields = function (args, column, ganttObj) {\n        var _a;\n        var dialog;\n        if (!isNullOrUndefined(ganttObj.editModule.dialogModule.dialog)) {\n            dialog = ganttObj.editModule.dialogModule.dialog;\n        }\n        var targetId = null;\n        var inputElement;\n        var currentData = ganttObj.editModule.dialogModule.editedRecord;\n        var cellValue = null;\n        var colName = null;\n        var formObject;\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var strViewType = this.parent.viewType;\n        if (!isNullOrUndefined(args.element)) {\n            inputElement = args.element;\n            targetId = inputElement.getAttribute('id');\n        }\n        else if (!isNullOrUndefined(args.container)) {\n            inputElement = args.container;\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        else if (!isNullOrUndefined(args.event) && !isNullOrUndefined(args.event.path) &&\n            !isNullOrUndefined(args.event.path)[1]) {\n            inputElement = args.event.path[1];\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        if (isNullOrUndefined(inputElement)) {\n            cellValue = args.value;\n            colName = column.field;\n        }\n        else {\n            cellValue = inputElement.value;\n            colName = targetId.replace(ganttObj.element.id, '');\n            if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                var customFn = function (args) {\n                    if (strViewType === 'ResourceView') {\n                        return ids.indexOf('T' + args['value']) === -1 && ids.indexOf('R' + args['value']) === -1;\n                    }\n                    else {\n                        return ids.indexOf(args['value']) === -1;\n                    }\n                };\n                var options = {\n                    rules: (_a = {},\n                        _a[this.parent.taskFields.id] = { required: true, minLength: [customFn, 'ID is already present, please enter new value'] },\n                        _a)\n                };\n                /* eslint-disable-next-line */\n                formObject = new FormValidator('#' + this.parent.element.id + 'GeneralTabContainer', options);\n            }\n        }\n        if (colName.search('Segments') === 0) {\n            colName = colName.replace('SegmentsTabContainer', '');\n            this.validateSegmentFields(ganttObj, colName, cellValue, args);\n            return true;\n        }\n        else {\n            this.validateScheduleValuesByCurrentField(colName, cellValue, this.editedRecord);\n            var ganttProp = currentData.ganttProperties;\n            var tasks = ganttObj.taskFields;\n            if (!isNullOrUndefined(tasks.startDate) && tasks.startDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'startDate');\n            }\n            if (tasks.endDate === colName && !isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(args.value) &&\n                ganttProp.startDate.getTime() > args.value) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.endDate) && tasks.endDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.duration) && tasks.duration !== colName || ganttProp.duration >= 0) {\n                this.updateScheduleFields(dialog, ganttProp, 'duration');\n            }\n            if (!isNullOrUndefined(tasks.work) && (tasks.work !== colName || ganttProp.taskType !== 'FixedWork')) {\n                this.updateScheduleFields(dialog, ganttProp, 'work');\n            }\n            this.dialogEditValidationFlag = false;\n            return true;\n        }\n    };\n    DialogEdit.prototype.updateScheduleFields = function (dialog, ganttProp, ganttField) {\n        var ganttObj = this.parent;\n        var ganttId = ganttObj.element.id;\n        var columnName = getValue(ganttField, ganttObj.columnMapping);\n        var col = ganttObj.columnByField[columnName];\n        var tempValue;\n        var taskField = this.parent.taskFields;\n        if (col.editType === 'stringedit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var textBox = element.ej2_instances[0];\n                if (textBox) {\n                    tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? col.edit.read() :\n                        !isNullOrUndefined(col.valueAccessor) ?\n                            col.valueAccessor(columnName, ganttObj.editModule.dialogModule.editedRecord, col) :\n                            this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                    if (textBox.value !== tempValue.toString() && taskField.duration === columnName) {\n                        textBox.value = tempValue;\n                        textBox.dataBind();\n                    }\n                    else if (taskField.startDate === columnName || taskField.endDate === columnName) {\n                        textBox.value = taskField.startDate === columnName ? ganttProp.startDate.toString() : ganttProp.endDate.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'datepickeredit' || col.editType === 'datetimepickeredit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var picker = col.editType === 'datepickeredit' ?\n                    element.ej2_instances[0] :\n                    element.ej2_instances[0];\n                if (picker) {\n                    tempValue = ganttProp[ganttField];\n                    if (((isNullOrUndefined(picker.value)) && !isNullOrUndefined(tempValue)) ||\n                        (isNullOrUndefined(tempValue) && !isNullOrUndefined(picker.value)) ||\n                        (picker.value !== tempValue && !isNullOrUndefined(picker.value) && !isNullOrUndefined(tempValue)\n                            && picker.value.toString() !== tempValue.toString())) {\n                        picker.value = tempValue;\n                        picker.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'numericedit') {\n            var numericTextBox = dialog.querySelector('#' + ganttId + columnName).ej2_instances[0];\n            tempValue = ganttProp[ganttField];\n            if (!isNullOrUndefined(tempValue) && numericTextBox.value !== tempValue) {\n                numericTextBox.value = tempValue;\n                numericTextBox.dataBind();\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.validateDuration = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.duration) && !isScheduledTask(ganttProp) && !isNullOrUndefined(ganttProp.startDate)) {\n                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp) || !isNullOrUndefined(ganttProp.startDate)) {\n                if (ganttData.ganttProperties.isMilestone && ganttData.ganttProperties.duration !== 0) {\n                    this.parent.dateValidationModule.checkStartDate(ganttProp.startDate);\n                }\n                this.parent.dateValidationModule.calculateEndDate(ganttData);\n            }\n            else if (!isScheduledTask(ganttProp) && !isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.dateValidationModule.calculateStartDate(ganttData);\n            }\n            var milestone = ganttProp.duration === 0 ? true : false;\n            this.parent.setRecordValue('isMilestone', milestone, ganttProp, true);\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.startDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                if (this.parent.allowUnscheduledTasks && isNullOrUndefined(tasks.endDate)) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                }\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(tasks.endDate)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                else {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.endDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else {\n                    if (!isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 0) {\n                        ganttProp.segments = this.parent.editModule.cellEditModule.validateEndDateWithSegments(ganttProp);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    /**\n     *\n     * @param {string} columnName .\n     * @param {string} value .\n     * @param {IGanttData} currentData .\n     * @returns {boolean} .\n     * @private\n     */\n    DialogEdit.prototype.validateScheduleValuesByCurrentField = function (columnName, value, currentData) {\n        var ganttObj = this.parent;\n        var ganttProp = currentData.ganttProperties;\n        var taskSettings = ganttObj.taskFields;\n        if (taskSettings.duration === columnName) {\n            if (!isNullOrUndefined(value) && value !== '' && (parseInt(value, 10) >= 0 || parseFloat(value) >= 0)) {\n                ganttObj.dataOperation.updateDurationValue(value, ganttProp);\n                this.parent.setRecordValue(taskSettings.duration, value, currentData);\n                this.parent.setRecordValue('taskData.' + taskSettings.duration, ganttProp.duration, currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n                this.validateDuration(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    if ((ganttProp.startDate && ganttProp.endDate && ganttProp.startDate.getTime() > ganttProp.endDate.getTime()) || value.indexOf('-') !== -1) {\n                        this.parent.setRecordValue('duration', 0, ganttProp, true);\n                        if (ganttProp.endDate) {\n                            this.parent.setRecordValue('startDate', ganttProp.endDate, ganttProp, true);\n                        }\n                    }\n                    else {\n                        if (value === '') {\n                            this.parent.setRecordValue('duration', null, ganttProp, true);\n                            if (ganttProp.endDate && ganttProp.startDate) {\n                                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                            }\n                        }\n                        else {\n                            var regex = /^[^\\d.-]+$/;\n                            if (regex.test(value)) {\n                                var err = \"The provided value for the \" + taskSettings.duration + \" field is invalid. Please ensure the \" + taskSettings.duration + \" field contains only valid numeric values.\";\n                                this.parent.trigger('actionFailure', { error: err });\n                            }\n                            this.parent.setRecordValue('duration', ganttProp.duration, ganttProp, true);\n                        }\n                    }\n                }\n            }\n            this.parent.editModule.updateResourceRelatedFields(currentData, 'duration');\n        }\n        if (taskSettings.startDate === columnName) {\n            if (value !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp);\n                this.parent.setRecordValue('startDate', startDate, ganttProp, true);\n                this.validateStartDate(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks && !(currentData.hasChildRecords)) {\n                    this.parent.setRecordValue('startDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.endDate === columnName) {\n            if (value !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                if (!isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(endDate) &&\n                    ganttProp.startDate.getTime() > endDate.getTime()) {\n                    endDate = ganttProp.endDate;\n                }\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, ganttProp);\n                if (isNullOrUndefined(ganttProp.startDate) || endDate.getTime() > (ganttProp.startDate).getTime()) {\n                    this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                }\n                this.validateEndDate(currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.work === columnName) {\n            if (!isNullOrUndefined(value) && value !== '') {\n                this.parent.setRecordValue('work', value, ganttProp, true);\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n                this.validateDuration(currentData);\n            }\n        }\n        if (columnName === taskSettings.type) {\n            this.parent.setRecordValue('taskType', value, ganttProp, true);\n        }\n        if (taskSettings.manual === columnName) {\n            this.parent.editModule.updateTaskScheduleModes(currentData);\n        }\n        return true;\n    };\n    DialogEdit.prototype.getSegmentsModel = function (fields) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [];\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                fields.push(this.parent.taskFields.startDate);\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                fields.push(this.parent.taskFields.endDate);\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                fields.push(this.parent.taskFields.duration);\n            }\n            if (!isNullOrUndefined(taskSettings.id)) {\n                fields.push(this.parent.taskFields.id);\n            }\n        }\n        var segmentInputModel = {};\n        segmentInputModel.editSettings = {\n            allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal', newRowPosition: 'Bottom'\n        };\n        segmentInputModel.locale = this.parent.locale;\n        segmentInputModel.dataSource = [];\n        segmentInputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        segmentInputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var gridColumns = [];\n        var _loop_1 = function (i) {\n            var gridColumn = {};\n            var generalTabString = 'General';\n            switch (fields[i]) {\n                case this_1.parent.taskFields.id:\n                    gridColumn = {\n                        field: fields[i], visible: false, isPrimaryKey: true\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.startDate:\n                case this_1.parent.taskFields.endDate:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant((fields[i] === this_1.parent.taskFields.startDate) ? 'startDate' : 'endDate'), editType: 'stringedit', width: '200px',\n                        edit: {\n                            write: function (args) {\n                                var datePickerModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString])) {\n                                    datePickerModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    datePickerModel = columnModel[fields[i]];\n                                }\n                                var value = args.rowData[args.column.field];\n                                setValue('value', value, datePickerModel);\n                                var datePicker = new _this.inputs[_this.parent.columnByField[fields[i]].editType](datePickerModel);\n                                datePicker.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value;\n                            }\n                        },\n                        format: this_1.parent.getDateFormat()\n                    };\n                    if (fields[i] === 'startDate') {\n                        gridColumn.validationRules = { required: true };\n                    }\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.duration:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant(fields[i].toLocaleLowerCase()), editType: 'stringedit',\n                        width: '100px', edit: {\n                            write: function (args) {\n                                var inputTextModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString])) {\n                                    inputTextModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    inputTextModel = columnModel[fields[i]];\n                                }\n                                inputTextModel.floatLabelType = 'Never';\n                                var value = args.rowData[args.column.field];\n                                if (!isNullOrUndefined(value)) {\n                                    setValue('value', value, inputTextModel);\n                                }\n                                else {\n                                    setValue('value', null, inputTextModel);\n                                }\n                                setValue('value', value, inputTextModel);\n                                var inputModel = new TextBox(inputTextModel);\n                                inputModel.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value.toString();\n                            }\n                        }\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < fields.length; i++) {\n            _loop_1(i);\n        }\n        segmentInputModel.columns = gridColumns;\n        segmentInputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return segmentInputModel;\n    };\n    DialogEdit.prototype.getGridColumnByField = function (fieldName, columns) {\n        var column;\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].field === fieldName) {\n                column = columns[i];\n            }\n        }\n        return column;\n    };\n    DialogEdit.prototype.updateSegmentField = function (columnName, args, segment) {\n        var dialog = this.parent.editModule.dialogModule.dialog;\n        var gridModel = getValue('Segments', this.beforeOpenArgs);\n        var col = this.getGridColumnByField(columnName, gridModel.columns);\n        var ganttId = this.parent.element.id;\n        var tempValue = segment[columnName];\n        var inputValue;\n        if (col.editType === 'stringedit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        else if (col.editType === 'datepickeredit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        if ((!isNullOrUndefined(inputValue.value)) && (!isNullOrUndefined(tempValue)) &&\n            (inputValue.value.toString() !== tempValue.toString())) {\n            inputValue.value = tempValue;\n            inputValue.dataBind();\n        }\n    };\n    DialogEdit.prototype.validateSegmentFields = function (ganttObj, columnName, cellValue, args) {\n        var taskSettings = this.parent.taskFields;\n        if (!isNullOrUndefined(taskSettings.duration) && taskSettings.duration.toLowerCase() === columnName.toLowerCase()) {\n            if (!isNullOrUndefined(cellValue) && cellValue !== '') {\n                this.selectedSegment[taskSettings.duration] = Number(cellValue);\n                var endDate = ganttObj.dataOperation.getEndDate(this.selectedSegment[taskSettings.startDate], Number(cellValue), this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                endDate = ganttObj.dataOperation.checkEndDate(endDate, this.editedRecord.ganttProperties, false);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate) && taskSettings.startDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate);\n                this.selectedSegment[taskSettings.startDate] = startDate;\n                if (!isNullOrUndefined(taskSettings.endDate)) {\n                    this.selectedSegment.endDate = this.parent.dataOperation.getEndDate(startDate, this.selectedSegment[taskSettings.duration], this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                }\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.endDate) && taskSettings.endDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.editedRecord.ganttProperties);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n                this.selectedSegment[taskSettings.duration] = this.parent.dataOperation.getDuration(this.selectedSegment[taskSettings.startDate], this.selectedSegment[taskSettings.endDate], this.editedRecord.ganttProperties.durationUnit, true, false, true);\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            this.updateSegmentField(taskSettings.startDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            this.updateSegmentField(taskSettings.endDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            this.updateSegmentField(taskSettings.duration, args, this.selectedSegment);\n        }\n    };\n    DialogEdit.prototype.getPredecessorModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['ID', 'Name', 'Type', 'Offset', 'UniqueId'];\n        }\n        var inputModel = {};\n        inputModel.editSettings = { allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal' };\n        inputModel.locale = this.parent.locale;\n        inputModel.dataSource = [];\n        inputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        inputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var columns = [];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i].toLowerCase() === 'id') {\n                column = {\n                    field: 'id', headerText: this.localeObj.getConstant('id'), allowEditing: false, width: '70px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'name') {\n                column = {\n                    field: 'name', headerText: this.localeObj.getConstant('name'), editType: 'stringedit', width: '250px',\n                    validationRules: { required: true }\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'type') {\n                column = {\n                    field: 'type', headerText: this.localeObj.getConstant('type'), editType: 'dropdownedit',\n                    dataSource: this.types, foreignKeyField: 'id', foreignKeyValue: 'text',\n                    defaultValue: 'FS', validationRules: { required: true }, width: '150px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'offset') {\n                column = {\n                    field: 'offset', headerText: this.localeObj.getConstant('offset'), editType: 'stringedit',\n                    defaultValue: this.parent.dataOperation.getDurationString(0, this.beforeOpenArgs.rowData.ganttProperties.durationUnit),\n                    validationRules: { required: true }, width: '100px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'uniqueid') {\n                column = {\n                    field: 'uniqueId', isPrimaryKey: true, visible: false, defaultValue: getUid().toString()\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getResourcesModel = function (fields) {\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [resourceSettings.id, resourceSettings.name, resourceSettings.unit, resourceSettings.group];\n        }\n        var inputModel = {\n            allowFiltering: true,\n            treeColumnIndex: -1,\n            childMapping: '',\n            editSettings: { allowEditing: true, mode: 'Cell' },\n            locale: this.parent.locale,\n            allowSelection: true,\n            rowHeight: this.parent.isAdaptive ? 48 : null,\n            filterSettings: { type: 'Menu' },\n            selectionSettings: { checkboxOnly: true, checkboxMode: 'Default', persistSelection: true, type: 'Multiple' }\n        };\n        var columns = [\n            { type: 'checkbox', allowEditing: false, allowSorting: false, allowFiltering: false, width: 60 }\n        ];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i] === resourceSettings.id) {\n                column = {\n                    field: resourceSettings.id,\n                    headerText: this.localeObj.getConstant('id'), isPrimaryKey: true, width: '100px',\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.name) {\n                column = {\n                    field: resourceSettings.name, headerText: this.localeObj.getConstant('name'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.unit) {\n                column = {\n                    field: resourceSettings.unit,\n                    headerText: this.localeObj.getConstant('unit'),\n                    editType: 'numericedit',\n                    edit: { params: { min: 0 } }\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.group && !isNullOrUndefined(resourceSettings.group)) {\n                column = {\n                    field: resourceSettings.group,\n                    headerText: this.localeObj.getConstant('group'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '196px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getNotesModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['Bold', 'Italic', 'Underline', 'StrikeThrough',\n                'FontName', 'FontSize', 'FontColor', 'BackgroundColor',\n                'LowerCase', 'UpperCase', '|',\n                'Alignments', 'OrderedList', 'UnorderedList',\n                'Outdent', 'Indent', '|', 'CreateTable',\n                'CreateLink', '|', 'ClearFormat', 'Print',\n                '|', 'Undo', 'Redo'];\n        }\n        var inputModel = {\n            placeholder: this.localeObj.getConstant('writeNotes'),\n            toolbarSettings: {\n                items: fields\n            },\n            height: (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : 'auto',\n            locale: this.parent.locale\n        };\n        return inputModel;\n    };\n    DialogEdit.prototype.createDivElement = function (className, id) {\n        return createElement('div', { className: className, id: id });\n    };\n    DialogEdit.prototype.createFormElement = function (className, id) {\n        return createElement('form', { className: className, id: id });\n    };\n    DialogEdit.prototype.createInputElement = function (className, id, fieldName, type) {\n        return createElement(type || 'input', {\n            className: className, attrs: {\n                type: 'text', id: id, name: fieldName,\n                title: fieldName\n            }\n        });\n    };\n    DialogEdit.prototype.renderTabItems = function () {\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var isCustomTab = false;\n        var items = tabModel.items;\n        var index = 0;\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            if (item.content instanceof HTMLElement) {\n                continue;\n            }\n            else if (item.content === 'General') {\n                item.content = this.renderGeneralTab(item.content);\n            }\n            else if (item.content === 'Dependency') {\n                if (this.editedRecord.hasChildRecords && !this.parent.allowParentDependency) {\n                    item.disabled = true;\n                }\n                item.content = this.renderPredecessorTab(item.content);\n            }\n            else if (item.content === 'Resources') {\n                item.content = this.renderResourceTab(item.content);\n            }\n            else if (item.content === ('Custom' + '' + index)) {\n                isCustomTab = true;\n                item.content = this.renderCustomTab(item.content, isCustomTab);\n                index++;\n            }\n            else if (item.content === 'Notes') {\n                item.content = this.renderNotesTab(item.content);\n            }\n            else if (item.content === 'Segments') {\n                if (this.editedRecord.hasChildRecords) {\n                    item.disabled = true;\n                }\n                item.content = this.renderSegmentsTab(item.content);\n            }\n        }\n    };\n    DialogEdit.prototype.segmentGridActionBegin = function (args) {\n        var _a, _b;\n        var taskFields = this.parent.taskFields;\n        var itemName = 'Segments';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit' || args.requestType === 'save') {\n            var gridData = gridModel.dataSource;\n            var selectedItem = getValue('rowData', args);\n            var startDate = this.beforeOpenArgs.rowData.ganttProperties.startDate;\n            if (!isNullOrUndefined(startDate)) {\n                if (args.requestType === 'add') {\n                    var arg = {};\n                    var sDate = getValue(this.parent.taskFields.startDate, selectedItem);\n                    var eDate = this.parent.taskFields.endDate ? getValue(this.parent.taskFields.endDate, selectedItem) : null;\n                    var duration = void 0;\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        duration = getValue(this.parent.taskFields.duration, selectedItem);\n                    }\n                    var startDate_1 = !isNullOrUndefined(gridData) && gridData.length > 0 ?\n                        (!isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData[0][taskFields.endDate])) ?\n                            new Date(getValue(taskFields.endDate, gridData[0]).getTime()) :\n                            new Date(getValue(taskFields.startDate, gridData[0]).getTime()) :\n                        !isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate) &&\n                            new Date(this.beforeOpenArgs.rowData.ganttProperties.startDate.getTime());\n                    startDate_1.setHours(0, 0, 0, 0);\n                    if (!isNullOrUndefined(gridData) && gridData.length > 0) {\n                        startDate_1.setDate(startDate_1.getDate() + 2);\n                    }\n                    sDate = this.parent.dataOperation.checkStartDate(startDate_1);\n                    eDate = this.parent.dateValidationModule.getDateFromFormat(sDate);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](eDate);\n                    if (eDate.getHours() === 0 && dayEndTime !== 86400) {\n                        this.parent.dateValidationModule.setTime(dayEndTime, eDate);\n                    }\n                    eDate = !isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData) && gridData.length <= 0 ?\n                        this.beforeOpenArgs.rowData.ganttProperties.endDate : eDate;\n                    var rowData = this.beforeOpenArgs.rowData.ganttProperties;\n                    if (sDate.getTime() === eDate.getTime()) {\n                        duration = 1;\n                    }\n                    else {\n                        duration = this.parent.dataOperation.getDuration(sDate, eDate, rowData.durationUnit, true, false, true);\n                    }\n                    if (!isNullOrUndefined(taskFields['duration'])) {\n                        arg = (_a = {},\n                            _a[taskFields['startDate']] = sDate,\n                            _a[taskFields['endDate']] = eDate,\n                            _a[taskFields['duration']] = duration,\n                            _a);\n                    }\n                    else {\n                        arg = (_b = {},\n                            _b[taskFields['startDate']] = sDate,\n                            _b[taskFields['endDate']] = eDate,\n                            _b);\n                    }\n                    args.rowData = arg;\n                }\n            }\n            this.selectedSegment = args.rowData;\n            // if (args.requestType === 'save') {\n            //     // let duration: string = 'duration';\n            //     // let tempDuration: Object = this.parent.dataOperation.getDurationValue(args.data[duration]);\n            //     // args.data[duration] = getValue('duration', tempDuration);\n            //     this.selectedSegment = !isNullOrUndefined(this.editedRecord.ganttProperties.segments[args.rowIndex]) ?\n            //         this.editedRecord.ganttProperties.segments[args.rowIndex] : !isNullOrUndefined(gridData[args.rowIndex]) ?\n            //             gridData[args.rowIndex] : gridData;\n            // }\n        }\n    };\n    DialogEdit.prototype.getDialogTabIndex = function (tabName) {\n        var indexValue;\n        if (!this.isEdit) {\n            this.parent.addDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        else {\n            this.parent.editDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        return indexValue;\n    };\n    DialogEdit.prototype.renderSegmentsTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        if (this.isEdit) {\n            preData = isNullOrUndefined(ganttData.taskData[this.parent.taskFields['segments']]) ? [] : ganttData.taskData[this.parent.taskFields['segments']];\n        }\n        /* eslint-disable-next-line */\n        preData.map(function (item, index) {\n            if (isNullOrUndefined(item[_this.parent.taskFields['id']])) {\n                item[_this.parent.taskFields['id']] = index;\n            }\n        });\n        gridModel.dataSource = preData;\n        gridModel.actionBegin = this.segmentGridActionBegin.bind(this);\n        var tabIndex = this.getDialogTabIndex('Segments');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        var toolbarCollection = [];\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbar;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            Grid.Inject(Filter);\n                            break;\n                        case 'allowSorting':\n                            Grid.Inject(Sort);\n                            break;\n                        case 'allowPaging':\n                            Grid.Inject(Page);\n                            break;\n                        case 'allowGrouping':\n                            Grid.Inject(Group);\n                            break;\n                        case 'editSettings':\n                            Grid.Inject(Edit);\n                            break;\n                        case 'aggregates':\n                            Grid.Inject(Aggregate);\n                            break;\n                        case 'showColumnChooser':\n                            Grid.Inject(ColumnChooser);\n                            break;\n                        case 'showColumnMenu':\n                            Grid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            Grid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            Grid.Inject(Resize);\n                            break;\n                        case 'allowReordering':\n                            Grid.Inject(Reorder);\n                            break;\n                        case 'detailTemplate':\n                            Grid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            Grid.Inject(RowDD);\n                            break;\n                        case 'searchSettings':\n                            Grid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            Grid.Inject(Selection);\n                            break;\n                        case 'toolbar':\n                            toolbar = allProperty['toolbar'];\n                            toolbar.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        Grid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        Grid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        Grid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        Grid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            toolbarCollection = gridModel.toolbar;\n                            Grid.Inject(GridToolbar);\n                            break;\n                        case 'enableVirtualization':\n                            Grid.Inject(VirtualScroll);\n                            break;\n                        case 'columns':\n                            columnCollection = gridModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = toolbarCollection.concat(gridModel.toolbar);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderGeneralTab = function (itemName, isCustomTab) {\n        var ganttObj = this.parent;\n        /* eslint-disable-next-line */\n        var addFields = [];\n        var divElement;\n        var itemModel = this.beforeOpenArgs[itemName];\n        if (isCustomTab) {\n            divElement = this.createDivElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        else {\n            divElement = this.createFormElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        var table;\n        var tbody;\n        if (this.parent.enableAdaptiveUI) {\n            divElement.style.height = '100%';\n            table = createElement('table', { className: 'e-table' });\n            table.style.width = '100%';\n            tbody = createElement('tbody');\n        }\n        var getId = divElement.id;\n        for (var _i = 0, _a = Object.keys(itemModel); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.parent.columnByField[key].visible === false) {\n                continue;\n            }\n            var column = this.parent.columnByField[key];\n            var inputModel = itemModel[key];\n            if (this.parent.enableAdaptiveUI) {\n                tbody.appendChild(this.renderInputElements(inputModel, column));\n            }\n            else {\n                divElement.appendChild(this.renderInputElements(inputModel, column));\n            }\n            addFields.push(key);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            table.appendChild(tbody);\n            divElement.appendChild(table);\n        }\n        if (getId !== divElement.id) {\n            divElement.id = getId;\n        }\n        var tabIndex = this.getDialogTabIndex('General');\n        var fields = [];\n        if (!this.isEdit && !isNullOrUndefined(this.parent.addDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.addDialogFields[tabIndex].fields)) {\n            fields = this.parent.addDialogFields[tabIndex].fields;\n        }\n        else if (this.isEdit && !isNullOrUndefined(this.parent.editDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.editDialogFields[tabIndex].fields)) {\n            fields = this.parent.editDialogFields[tabIndex].fields;\n        }\n        if (!isNullOrUndefined(fields)) {\n            var templateFields = fields.filter(function (item) { return !addFields.includes(item); });\n            if (!isNullOrUndefined(templateFields)) {\n                var template = templateFields;\n                for (var i = 0; i <= template.length - 1; i++) {\n                    var scriptElement = document.getElementById(template[i]);\n                    if (!isNullOrUndefined(scriptElement)) {\n                        var templateContent = scriptElement.innerHTML;\n                        var div = createElement('div');\n                        div.innerHTML = templateContent;\n                        divElement.appendChild(div.children[0]);\n                    }\n                }\n            }\n        }\n        return divElement;\n    };\n    DialogEdit.prototype.isCheckIsDisabled = function (column) {\n        var disabled = false;\n        var stringOrNumber;\n        if (column.allowEditing === false || column.isPrimaryKey || this.parent.readOnly) {\n            if (this.parent.customColumns.indexOf(column.field) !== -1) {\n                disabled = true;\n            }\n            else {\n                if (column.field === this.parent.taskFields.id || column.field === this.parent.taskFields.name ||\n                    column.field === this.parent.taskFields.duration || column.field === this.parent.taskFields.progress ||\n                    column.field === this.parent.taskFields.startDate || column.field === this.parent.taskFields.endDate ||\n                    column.field === this.parent.taskFields.baselineStartDate || column.field === this.parent.taskFields.baselineEndDate ||\n                    column.field === this.parent.taskFields.work || column.field === this.parent.taskFields.type) {\n                    for (var i = 0; i < this.parent.currentViewData['length']; i++) {\n                        if (!isNullOrUndefined(this.parent.currentViewData[i].ganttProperties.taskId)) {\n                            stringOrNumber = this.parent.currentViewData[i].ganttProperties.taskId;\n                            break;\n                        }\n                    }\n                    if (typeof (stringOrNumber) === 'string') {\n                        disabled = false;\n                    }\n                    else {\n                        disabled = true;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (column.field === this.parent.taskFields.id) {\n                disabled = true;\n            }\n            if (this.editedRecord.hasChildRecords) {\n                if ((column.field === this.parent.taskFields.endDate && ((!isNullOrUndefined(this.editedRecord['isManual']) &&\n                    this.editedRecord['isManual'] === false) || this.parent.taskMode === 'Auto')) || column.field === this.parent.taskFields.duration ||\n                    column.field === this.parent.taskFields.progress || column.field === this.parent.taskFields.work ||\n                    column.field === this.parent.taskFields.type) {\n                    disabled = true;\n                }\n            }\n        }\n        return disabled;\n    };\n    DialogEdit.prototype.isParentValid = function (data) {\n        if (data.length > 0) {\n            for (var i = 0; i < data.length; i++) {\n                if (data[i].uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                    break;\n                }\n                if (data[i].hasChildRecords) {\n                    this.isParentValid(data[i].childRecords);\n                }\n                if (!this.isValidData) {\n                    break;\n                }\n            }\n        }\n        return this.isValidData;\n    };\n    DialogEdit.prototype.renderPredecessorTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        var dependencyColumn = this.parent.columnByField[this.parent.taskFields.dependency];\n        if (dependencyColumn.allowEditing === false || dependencyColumn.isPrimaryKey || this.parent.readOnly) {\n            gridModel.editSettings.allowEditing = false;\n            gridModel.editSettings.allowAdding = false;\n            gridModel.editSettings.allowDeleting = false;\n        }\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        this.taskNameCollection();\n        if (this.isEdit) {\n            preData = this.predecessorEditCollection(ganttData);\n            this.updatePredecessorDropDownData(ganttData);\n        }\n        var predecessorLength;\n        if (ganttData[this.parent.taskFields.dependency]) {\n            predecessorLength = ganttData[this.parent.taskFields.dependency].split(',').length;\n        }\n        if (this.preTableCollection.length === 0 || this.preTableCollection.length === predecessorLength) {\n            gridModel.editSettings.allowAdding = false;\n        }\n        gridModel.actionComplete = this.gridActionComplete.bind(this);\n        gridModel.dataSource = preData;\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        gridModel.actionBegin = this.gridActionBegin.bind(this);\n        var columns = gridModel.columns;\n        columns[1].edit = {\n            write: function (args) {\n                if (getValue('requestType', args) === 'add') {\n                    setValue('rowData.uniqueId', getUid(), args);\n                }\n                var field = 'name';\n                var autoObj = new ComboBox({\n                    dataSource: new DataManager(_this.idCollection),\n                    popupHeight: '180px',\n                    allowCustom: false,\n                    enableRtl: _this.parent.enableRtl,\n                    fields: { value: 'text' },\n                    value: args.rowData[field],\n                    change: function (arg) {\n                        var tr = closest(arg.element, 'tr');\n                        var idInput = tr.querySelector('#' + _this.parent.element.id + 'DependencyTabContainerid');\n                        if (idInput) {\n                            if (!isNullOrUndefined(arg.itemData) && !isNullOrUndefined(arg.item)) {\n                                idInput.value = arg.itemData.id;\n                            }\n                            else {\n                                idInput.value = '';\n                            }\n                        }\n                    },\n                    autofill: true\n                });\n                autoObj.appendTo(args.element);\n            },\n            read: function (args) {\n                var ej2Instance = args.ej2_instances[0];\n                return ej2Instance.value;\n            }\n        };\n        var tabIndex = this.getDialogTabIndex('Dependency');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var toolbarCollection = [];\n        var allProperty;\n        var toolbar;\n        var columnCollection = [];\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            Grid.Inject(Filter);\n                            break;\n                        case 'allowSorting':\n                            Grid.Inject(Sort);\n                            break;\n                        case 'allowPaging':\n                            Grid.Inject(Page);\n                            break;\n                        case 'allowGrouping':\n                            Grid.Inject(Group);\n                            break;\n                        case 'editSettings':\n                            Grid.Inject(Edit);\n                            break;\n                        case 'aggregates':\n                            Grid.Inject(Aggregate);\n                            break;\n                        case 'showColumnChooser':\n                            Grid.Inject(ColumnChooser);\n                            break;\n                        case 'showColumnMenu':\n                            Grid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            Grid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            Grid.Inject(Resize);\n                            break;\n                        case 'allowReordering':\n                            Grid.Inject(Reorder);\n                            break;\n                        case 'detailTemplate':\n                            Grid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            Grid.Inject(RowDD);\n                            break;\n                        case 'searchSettings':\n                            Grid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            Grid.Inject(Selection);\n                            break;\n                        case 'toolbar':\n                            toolbar = allProperty['toolbar'];\n                            toolbar.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        Grid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        Grid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        Grid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        Grid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            toolbarCollection = gridModel.toolbar;\n                            Grid.Inject(GridToolbar);\n                            break;\n                        case 'enableVirtualization':\n                            Grid.Inject(VirtualScroll);\n                            break;\n                        case 'columns':\n                            columnCollection = gridModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = gridModel.toolbar.concat(toolbarCollection);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('e-dependent-div', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.updateColumns = function (existingColumns, newColumns) {\n        var columnMap = {};\n        existingColumns.forEach(function (column) {\n            if (typeof column === 'object') {\n                columnMap[column.field] = column;\n            }\n        });\n        newColumns.forEach(function (newColumn) {\n            if (typeof newColumn === 'object') {\n                var field = newColumn.field;\n                if (columnMap[field]) {\n                    Object.assign(columnMap[field], newColumn);\n                }\n                else {\n                    existingColumns.push(newColumn);\n                }\n            }\n        });\n        return existingColumns;\n    };\n    DialogEdit.prototype.gridActionBegin = function (args) {\n        var _this = this;\n        var itemName = 'Dependency';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit') {\n            var isEdit_1 = args.requestType === 'add' ? false : true;\n            this.idCollection = extend([], [], this.preTableCollection, true);\n            var gridData_1 = gridModel.dataSource;\n            var _loop_2 = function (i) {\n                // eslint-disable-next-line\n                this_2.idCollection.forEach(function (data, index) {\n                    if (data.id === getValue('id', gridData_1[i])) {\n                        var selectedItem = getValue('rowData', args);\n                        if (isEdit_1 && getValue('id', selectedItem) === data.id) {\n                            return;\n                        }\n                        _this.idCollection.splice(_this.idCollection.indexOf(data), 1);\n                    }\n                });\n            };\n            var this_2 = this;\n            for (var i = 0; i <= gridData_1.length; i++) {\n                _loop_2(i);\n            }\n        }\n    };\n    DialogEdit.prototype.gridActionComplete = function (args) {\n        if (args.requestType === 'save') {\n            var dialogElement = this.parent.editModule.dialogModule.dialog.querySelector('#' + this.parent.element.id + 'DependencyTabContainer');\n            if (!isNullOrUndefined(dialogElement)) {\n                if (!isNullOrUndefined(args['rows']) && args['rows'].length === this.preTableCollection.length) {\n                    var gridObj = dialogElement['ej2_instances'][0];\n                    if (gridObj) {\n                        gridObj.editSettings.allowAdding = false;\n                    }\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.updateResourceCollection = function (args, resourceTreeGridId) {\n        if (!isNullOrUndefined(args.data) && Object.keys(args.data).length) {\n            var treeGridId = document.querySelector('#' + resourceTreeGridId);\n            var resourceTreeGrid = treeGridId.ej2_instances[0];\n            if (!isNullOrUndefined(resourceTreeGrid) && resourceTreeGrid.getSelectedRecords().length > 0) {\n                var tempRecords = resourceTreeGrid.getSelectedRecords();\n                var index = void 0;\n                var selectedItems = [];\n                for (index = 0; index < tempRecords.length; index++) {\n                    selectedItems.push(tempRecords[index].taskData);\n                }\n                this.ganttResources = extend([], selectedItems);\n            }\n            else {\n                this.ganttResources = [];\n            }\n        }\n        else {\n            this.ganttResources = [];\n        }\n    };\n    DialogEdit.prototype.renderResourceTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        var ganttData = this.beforeOpenArgs.rowData;\n        if (((this.beforeOpenArgs.requestType === 'beforeOpenEditDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo])) || (this.beforeOpenArgs.requestType === 'beforeOpenAddDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo]))) &&\n            (typeof (this.editedRecord[this.parent.taskFields.resourceInfo]) === 'object')) {\n            this.parent.setRecordValue('resourceInfo', this.parent.dataOperation.setResourceInfo(this.editedRecord), ganttData.ganttProperties, true);\n        }\n        var rowResource = ganttData.ganttProperties.resourceInfo;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var resourceTreeGridId = ganttObj.element.id + '' + itemName + 'TabContainer';\n        var resourceData = [];\n        if (this.parent.viewType === 'ResourceView') {\n            for (var i = 0; i < ganttObj.currentViewData.length; i++) {\n                for (var j = 0; j < ganttObj.resources.length; j++) {\n                    if (ganttObj.currentViewData[i][ganttObj.taskFields.id] ===\n                        ganttObj.resources[j][resourceSettings.id] &&\n                        (ganttObj.currentViewData[i].hasChildRecords ||\n                            isNullOrUndefined(ganttObj.currentViewData[i].parentItem))) {\n                        resourceData.push(ganttObj.resources[j]);\n                    }\n                }\n            }\n        }\n        else {\n            resourceData = extend([], [], ganttObj.resources, true);\n        }\n        this.parent.dataOperation.updateResourceUnit(resourceData);\n        if (!isNullOrUndefined(rowResource)) {\n            var count = void 0;\n            var rowResourceLength = rowResource.length;\n            var index = void 0;\n            var resourceDataLength = resourceData.length;\n            for (count = 0; count < rowResourceLength; count++) {\n                for (index = 0; index < resourceDataLength; index++) {\n                    if (rowResource[count][resourceSettings.id] === resourceData[index][resourceSettings.id]) {\n                        resourceData[index][resourceSettings.unit] = rowResource[count][resourceSettings.unit];\n                    }\n                }\n            }\n        }\n        inputModel.dataSource = resourceData;\n        var resourceInfo = ganttData.ganttProperties.resourceInfo;\n        if (this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        else if (!this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        inputModel.actionBegin = function (args) {\n            if (args.rowData && args.columnName === _this.parent.resourceFields.unit && _this.editedRecord.ganttProperties.resourceInfo) {\n                for (var i = 0; i < _this.editedRecord.ganttProperties.resourceInfo.length; i++) {\n                    if (_this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.id] ===\n                        args.rowData[_this.parent.resourceFields.id]) {\n                        _this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.unit] = args.value;\n                    }\n                }\n            }\n        };\n        inputModel.rowSelected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        inputModel.rowDeselected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        var divElement = this.createDivElement('e-resource-div', resourceTreeGridId);\n        var tabIndex = this.getDialogTabIndex('Resources');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbars;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            TreeGrid.Inject(TreeGridFilter);\n                            break;\n                        case 'allowSorting':\n                            TreeGrid.Inject(TreeGridSort);\n                            break;\n                        case 'allowPaging':\n                            TreeGrid.Inject(TreeGridPage);\n                            break;\n                        case 'editSettings':\n                            TreeGrid.Inject(TreeGridEdit);\n                            break;\n                        case 'aggregates':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnChooser':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnMenu':\n                            TreeGrid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            TreeGrid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            TreeGrid.Inject(TreeGridResize);\n                            break;\n                        case 'allowReordering':\n                            TreeGrid.Inject(TreeGridReorder);\n                            break;\n                        case 'detailTemplate':\n                            TreeGrid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            TreeGrid.Inject(TreeGridRowDD);\n                            break;\n                        case 'searchSettings':\n                            TreeGrid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            TreeGrid.Inject(TreeGridSelection);\n                            break;\n                        case 'toolbar':\n                            toolbars = allProperty['toolbar'];\n                            toolbars.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        TreeGrid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        TreeGrid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        TreeGrid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        TreeGrid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            if (!isNullOrUndefined(toolbars)) {\n                                inputModel.toolbar = [];\n                                inputModel.toolbar = inputModel.toolbar.concat(toolbars);\n                            }\n                            TreeGrid.Inject(TreeGridToolbar);\n                            break;\n                        case 'enableVirtualization':\n                            TreeGrid.Inject(VirtualScroll);\n                            break;\n                        case 'columns':\n                            columnCollection = inputModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        TreeGrid.Inject(TreeGridSelection, TreeGridFilter, TreeGridEdit, VirtualScroll, TreeGridToolbar);\n        inputModel = __assign({}, inputModel, allProperty);\n        var columnCollections = this.updateColumns(columnCollection, inputModel.columns);\n        inputModel.columns = columnCollections;\n        var treeGridObj = new TreeGrid(inputModel);\n        var resourceColumn = this.parent.columnByField[this.parent.taskFields.resourceInfo];\n        if (resourceColumn.allowEditing === false || resourceColumn.isPrimaryKey || this.parent.readOnly) {\n            treeGridObj.allowSelection = false;\n            treeGridObj.allowFiltering = false;\n            treeGridObj.editSettings.allowEditing = false;\n        }\n        treeGridObj.dataBound = function () {\n            if (_this.parent.editDialogFields.length >= 1 && _this.parent.editDialogFields[0].type === 'Resources') {\n                var id = _this.parent.element.id + 'ResourcesTabContainer';\n                _this.resourceSelection(id);\n            }\n        };\n        treeGridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.resourceSelection = function (id) {\n        var _this = this;\n        var resourceTreeGrid = document.querySelector('#' + id).ej2_instances[0];\n        var currentViewData = resourceTreeGrid.getCurrentViewRecords();\n        var resources = this.ganttResources;\n        if (resources && resources.length > 0) {\n            currentViewData.forEach(function (data, index) {\n                for (var i = 0; i < resources.length; i++) {\n                    if (data.taskData[_this.parent.resourceFields.id] === resources[i][_this.parent.resourceFields.id] &&\n                        !isNullOrUndefined(resourceTreeGrid.selectionModule) &&\n                        resourceTreeGrid.getSelectedRowIndexes().indexOf(index) === -1) {\n                        resourceTreeGrid.selectRow(index);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.renderCustomTab = function (itemName, isCustomTab) {\n        return this.renderGeneralTab(itemName, isCustomTab);\n    };\n    DialogEdit.prototype.renderNotesTab = function (itemName) {\n        var ganttObj = this.parent;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        var ganttProp = this.editedRecord.ganttProperties;\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        var tabIndex = this.getDialogTabIndex('Notes');\n        var dialogField;\n        var toolbarCollection = [];\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'toolbarSettings':\n                            for (var key in allProperty['toolbarSettings'].items) {\n                                if (Object.prototype.hasOwnProperty.call(allProperty['toolbarSettings'].items, key)) {\n                                    switch (key) {\n                                        case 'Image':\n                                            RichTextEditor.Inject(Image);\n                                            break;\n                                        case 'CreateTable':\n                                            RichTextEditor.Inject(Table);\n                                            break;\n                                        case 'EmojiPicker':\n                                            RichTextEditor.Inject(EmojiPicker);\n                                            break;\n                                        case 'FileManager':\n                                            RichTextEditor.Inject(FileManager);\n                                            break;\n                                        case 'FormatPainter':\n                                            RichTextEditor.Inject(FormatPainter);\n                                            break;\n                                        default:\n                                            break;\n                                    }\n                                }\n                            }\n                            if (!isNullOrUndefined(allProperty['toolbarSettings'].items)) {\n                                toolbarCollection = inputModel.toolbarSettings.items;\n                            }\n                            RichTextEditor.Inject(RTEToolbar);\n                            break;\n                        case 'editorMode':\n                            RichTextEditor.Inject(MarkdownEditor);\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        RichTextEditor.Inject(RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Table);\n        inputModel.value = ganttProp.notes;\n        var notesColumn = this.parent.columnByField[this.parent.taskFields.notes];\n        if (notesColumn.allowEditing === false || notesColumn.isPrimaryKey || this.parent.readOnly) {\n            inputModel.enabled = false;\n        }\n        inputModel = __assign({}, inputModel, allProperty);\n        inputModel.toolbarSettings.items = toolbarCollection.concat(inputModel.toolbarSettings.items);\n        var rteObj = new RichTextEditor(inputModel);\n        rteObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderInputElements = function (inputModel, column) {\n        var _this = this;\n        var ganttId = this.parent.element.id;\n        var ganttData = this.editedRecord;\n        var divElement = this.createDivElement('e-edit-form-column');\n        var inputElement;\n        var tr;\n        var td;\n        if (this.parent.enableAdaptiveUI) {\n            tr = createElement('tr');\n            td = createElement('td');\n            divElement.style.width = '100%';\n        }\n        var editArgs = { column: column, data: ganttData };\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var create = column.edit.create;\n            if (typeof create === 'string') {\n                create = getObject(create, window);\n                inputElement = create(editArgs);\n            }\n            else {\n                inputElement = column.edit.create(editArgs);\n            }\n            inputElement.className = '';\n            inputElement.setAttribute('type', 'text');\n            inputElement.setAttribute('id', ganttId + '' + column.field);\n            inputElement.setAttribute('name', column.field);\n            inputElement.setAttribute('title', column.field);\n            divElement.appendChild(inputElement);\n        }\n        else {\n            inputElement = this.createInputElement('', ganttId + '' + column.field, column.field);\n            divElement.appendChild(inputElement);\n        }\n        inputModel.enabled = !isNullOrUndefined(inputModel.enabled) ? inputModel.enabled : !this.isCheckIsDisabled(column);\n        if (column.field === this.parent.taskFields.duration) {\n            if (!isNullOrUndefined(column.valueAccessor)) {\n                if (typeof column.valueAccessor === 'string') {\n                    var valueAccessor = getObject(column.valueAccessor, window);\n                    inputModel.value = valueAccessor(column.field, ganttData, column);\n                }\n                else {\n                    inputModel.value = column.valueAccessor(column.field, ganttData, column);\n                }\n            }\n            else if (isNullOrUndefined(column.edit)) {\n                var ganttProp = ganttData.ganttProperties;\n                inputModel.value = this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n            }\n        }\n        else {\n            if (column.editType === 'booleanedit') {\n                if (ganttData[column.field] === true) {\n                    inputModel.checked = true;\n                }\n                else {\n                    inputModel.checked = false;\n                }\n            }\n            else {\n                if (!this.parent.taskFields[column.field] && column.editType === 'numericedit' && (ganttData[column.field] === '' || ganttData[column.field] === 0)) {\n                    inputModel.value = 0;\n                }\n                else {\n                    inputModel.value = ganttData[column.field];\n                }\n            }\n        }\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var write = column.edit.write;\n            var inputObj = void 0;\n            if (typeof write === 'string') {\n                write = getObject(write, window);\n                inputObj = write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            else {\n                inputObj = column.edit.write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            if (column.field === this.parent.taskFields.duration) {\n                inputObj.change = function (args) {\n                    _this.validateScheduleFields(args, column, _this.parent);\n                };\n            }\n        }\n        else {\n            var inputObj = new this.inputs[column.editType](inputModel);\n            inputObj.appendTo(inputElement);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            td.appendChild(divElement);\n            tr.appendChild(td);\n            return tr;\n        }\n        else {\n            return divElement;\n        }\n    };\n    DialogEdit.prototype.taskNameCollection = function () {\n        var flatData = this.parent.flatData;\n        this.preTaskIds = [];\n        this.preTableCollection = [];\n        for (var i = 0; i < flatData.length; i++) {\n            var data = flatData[i];\n            if (this.parent.allowParentDependency) {\n                var currentFlatData = data;\n                if (data.parentUniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                }\n                else {\n                    do {\n                        if (currentFlatData.parentItem) {\n                            currentFlatData = this.parent.flatData[this.parent.ids.indexOf(currentFlatData.parentItem.taskId)];\n                            if (currentFlatData.uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                                this.isValidData = false;\n                                break;\n                            }\n                        }\n                    } while (currentFlatData.parentItem);\n                }\n                if (data.hasChildRecords && this.isValidData) {\n                    this.isValidData = this.isParentValid(data.childRecords);\n                }\n                if (!this.isValidData) {\n                    this.isValidData = true;\n                    continue;\n                }\n            }\n            else {\n                if (data.hasChildRecords) {\n                    continue;\n                }\n            }\n            var taskId = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId.toString()\n                : data.ganttProperties.rowUniqueID.toString();\n            var tempObject = {\n                id: taskId,\n                text: (taskId + '-' + data.ganttProperties.taskName),\n                value: taskId\n            };\n            this.preTaskIds.push(tempObject.id);\n            this.preTableCollection.push(tempObject);\n        }\n    };\n    DialogEdit.prototype.predecessorEditCollection = function (ganttData) {\n        var preDataCollection = [];\n        var ganttProp = ganttData.ganttProperties;\n        if (this.isEdit && !isNullOrUndefined(this.parent.taskFields.dependency) && !isNullOrUndefined(ganttData) &&\n            !isNullOrUndefined(ganttProp.predecessor)) {\n            var predecessor = ganttProp.predecessor;\n            var idCollection = this.preTableCollection;\n            for (var i = 0; i < predecessor.length; i++) {\n                var from = predecessor[i].from.toString();\n                var preData = {};\n                var taskID = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n                if (taskID.toString() !== from) {\n                    preData.id = from;\n                    for (var index = 0; index < idCollection.length; index++) {\n                        if (idCollection[index].value === from) {\n                            preData.name = idCollection[index].text;\n                            break;\n                        }\n                    }\n                    preData.type = predecessor[i].type;\n                    var offset = predecessor[i].offset;\n                    var offsetUnit = predecessor[i].offsetUnit;\n                    preData.offset = this.parent.dataOperation.getDurationString(offset, offsetUnit);\n                    preData.uniqueId = getUid();\n                    preDataCollection.push(preData);\n                }\n            }\n        }\n        return preDataCollection;\n    };\n    DialogEdit.prototype.updatePredecessorDropDownData = function (ganttData) {\n        var index = -1;\n        var id = this.parent.viewType === 'ResourceView' ? ganttData.ganttProperties.taskId.toString()\n            : ganttData.ganttProperties.rowUniqueID.toString();\n        index = this.preTaskIds.indexOf(id);\n        this.preTableCollection.splice(index, 1);\n        this.preTaskIds.splice(index, 1);\n        this.validSuccessorTasks(ganttData, this.preTaskIds, this.preTableCollection);\n    };\n    DialogEdit.prototype.validSuccessorTasks = function (data, ids, idCollection) {\n        var _this = this;\n        var ganttProp = data.ganttProperties;\n        if (ganttProp.predecessor && ganttProp.predecessor.length > 0) {\n            var predecessor = ganttProp.predecessor;\n            var fromId_1 = this.parent.viewType === 'ResourceView' ? ganttProp.taskId.toString() : ganttProp.rowUniqueID.toString();\n            predecessor.forEach(function (item) {\n                if (item.from.toString() === fromId_1) {\n                    var toId = item.to;\n                    var idIndex = -1;\n                    idIndex = ids.indexOf(toId);\n                    if (idIndex > -1) {\n                        ids.splice(idIndex, 1);\n                        idCollection.splice(idIndex, 1);\n                    }\n                    var ganttData = _this.parent.connectorLineModule.getRecordByID(toId);\n                    var isIdInclude = true;\n                    for (var _i = 0, _a = _this.processedId; _i < _a.length; _i++) {\n                        var item_1 = _a[_i];\n                        if (item_1.id === ganttData.ganttProperties.taskId) {\n                            if (Array.isArray(item_1.value) && Array.isArray(ganttData.ganttProperties.predecessor)) {\n                                if (item_1.value.length === ganttData.ganttProperties.predecessor.length) {\n                                    var arraysMatch = true;\n                                    for (var i = 0; i < item_1.value.length; i++) {\n                                        if (item_1.value[i] !== ganttData.ganttProperties.predecessor[i]) {\n                                            arraysMatch = false;\n                                            break;\n                                        }\n                                    }\n                                    if (arraysMatch) {\n                                        isIdInclude = false;\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (isIdInclude) {\n                        _this.processedId.push({ id: ganttData.ganttProperties.taskId, value: ganttData.ganttProperties.predecessor });\n                        _this.validSuccessorTasks(ganttData, ids, idCollection);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.getPredecessorType = function () {\n        var typeText = [this.parent.getPredecessorTextValue('SS'), this.parent.getPredecessorTextValue('SF'),\n            this.parent.getPredecessorTextValue('FS'), this.parent.getPredecessorTextValue('FF')];\n        var types = [\n            { id: 'FS', text: typeText[2], value: typeText[2] },\n            { id: 'FF', text: typeText[3], value: typeText[3] },\n            { id: 'SS', text: typeText[0], value: typeText[0] },\n            { id: 'SF', text: typeText[1], value: typeText[1] }\n        ];\n        return types;\n    };\n    DialogEdit.prototype.initiateDialogSave = function () {\n        if (this.isEdit) {\n            this.parent.initiateEditAction(true);\n        }\n        else {\n            this.addedRecord = {};\n        }\n        if (this.currentResources) {\n            this.currentResources = null;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            if (this.isEdit) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'DialogEdit';\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                if (this.parent.viewType === 'ResourceView') {\n                    var isValid = false;\n                    if (!this.rowData.ganttProperties.resourceInfo) {\n                        if (this.ganttResources.length > 0) {\n                            isValid = true;\n                        }\n                    }\n                    else if (this.ganttResources.length !== this.rowData.ganttProperties.resourceInfo.length) {\n                        isValid = true;\n                    }\n                    else {\n                        for (var i = 0; i < this.rowData.ganttProperties.resourceInfo.length; i++) {\n                            if (this.ganttResources[i][this.parent.resourceFields.id] !==\n                                this.rowData.ganttProperties.resourceInfo[i][this.parent.resourceFields.id]) {\n                                isValid = true;\n                                break;\n                            }\n                        }\n                    }\n                    if (isValid) {\n                        var indexes = {};\n                        indexes['deletedIndexes'] = [];\n                        var id_1 = 'T' + this.rowData.ganttProperties.taskId;\n                        var rowItems_1 = [];\n                        this.parent.taskIds.reduce(function (e, i) {\n                            if (e === id_1) {\n                                if (this.ganttResources.length === 0) {\n                                    rowItems_1.push(this.parent.flatData[i]);\n                                }\n                                else {\n                                    var parent_1 = this.parent.getTaskByUniqueID(this.parent.flatData[i].parentUniqueID);\n                                    for (var j = 0; j < this.ganttResources.length; j++) {\n                                        if (parent_1.ganttProperties.taskId !==\n                                            this.ganttResources[j][this.parent.resourceFields.id] &&\n                                            rowItems_1.indexOf(this.parent.flatData[i]) === -1) {\n                                            rowItems_1.push(this.parent.flatData[i]);\n                                        }\n                                    }\n                                }\n                            }\n                        }.bind(this), []);\n                        this.parent.undoRedoModule['findPosition'](extend([], [], rowItems_1, true), indexes, 'deletedIndexes');\n                        if (this['indexes']) {\n                            this['indexes']['deletedIndexes'][this['indexes']['deletedIndexes'].length] = indexes['deletedIndexes'][0];\n                        }\n                        else {\n                            this['indexes'] = indexes;\n                        }\n                    }\n                }\n            }\n        }\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.updateGeneralTab(element, false);\n                }\n                else if (id === 'Dependency') {\n                    this.updatePredecessorTab(element);\n                }\n                else if (id === 'Notes') {\n                    this.updateNotesTab(element);\n                }\n                else if (id === 'Resources') {\n                    this.updateResourceTab(element);\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.updateCustomTab(element);\n                }\n                else if (id === 'Segments') {\n                    this.updateSegmentsData(element);\n                }\n            }\n        }\n        if (!this.disableUndo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n            if (this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n            this.parent['totalUndoAction']--;\n        }\n        if (this.isEdit) {\n            /**\n             * If any update on edited task do it here\n             */\n            this.parent.editModule['editedRecord'] = this.rowData;\n            this.parent.dataOperation.updateWidthLeft(this.rowData);\n            var editArgs = {\n                data: this.rowData,\n                action: 'DialogEditing'\n            };\n            this.parent.editModule.initiateUpdateAction(editArgs);\n        }\n        else {\n            this.parent.editModule['editedRecord'] = this.addedRecord;\n            if (this.parent.viewType === 'ResourceView') {\n                var newRecords = extend({}, this.addedRecord, true);\n                if (newRecords[this.parent.taskFields.resourceInfo].length) {\n                    for (var i = 0; i < newRecords[this.parent.taskFields.resourceInfo].length; i++) {\n                        var id = newRecords[this.parent.taskFields.resourceInfo][i].toString();\n                        var parentRecordIndex = this.parent.getTaskIds().indexOf('R' + id.toString());\n                        if (parentRecordIndex !== -1) {\n                            this.parent.editModule.addRecord(this.addedRecord, 'Child', parentRecordIndex);\n                            break;\n                        }\n                    }\n                }\n                else {\n                    this.parent.editModule.addRecord(this.addedRecord, 'Bottom');\n                }\n            }\n            else {\n                this.parent.editModule.addRecord(this.addedRecord, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n            }\n        }\n        return true;\n    };\n    DialogEdit.prototype.updateSegmentTaskData = function (dataSource) {\n        var taskSettings = this.parent.taskFields;\n        if (!this.isEdit) {\n            this.addedRecord[taskSettings.segments] = dataSource;\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, dataSource, this.rowData);\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(this.rowData, true), this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(this.rowData, false), this.rowData.ganttProperties, true);\n            if (dataSource.length <= 0) {\n                this.validateDuration(this.rowData);\n            }\n        }\n    };\n    DialogEdit.prototype.updateSegmentsData = function (segmentForm) {\n        var gridObj = segmentForm.ej2_instances[0];\n        var isEdit = gridObj.isEdit;\n        var dataSource;\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        if (isEdit && gridObj.currentViewData.length !== gridObj.dataSource['length']) {\n            dataSource = gridObj.dataSource;\n        }\n        else {\n            dataSource = gridObj.currentViewData;\n        }\n        this.updateSegmentTaskData(dataSource);\n    };\n    DialogEdit.prototype.updateGeneralTab = function (generalForm, isCustom) {\n        var ganttObj = this.parent;\n        var childNodes = generalForm.childNodes;\n        var tasksData = {};\n        if (!this.isEdit) {\n            tasksData = this.addedRecord;\n        }\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]') || div.querySelector('textarea[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit' && fieldName === this.parent.taskFields.id) {\n                    var valueString = controlObj.value.toString();\n                    controlObj.value = valueString;\n                }\n                var column = ganttObj.columnByField[fieldName];\n                if (fieldName === this.parent.taskFields.duration ?\n                    parseInt(this.rowData[fieldName], 10) !== parseInt(controlObj.value, 10) :\n                    this.rowData[fieldName] !== controlObj.value) {\n                    this.disableUndo = true;\n                }\n                if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                    var read = column.edit.read;\n                    if (typeof read === 'string') {\n                        read = getObject(read, window);\n                        tasksData[fieldName] = read(inputElement, controlObj.value);\n                    }\n                    else {\n                        tasksData[fieldName] = column.edit.read(inputElement, controlObj.value);\n                    }\n                }\n                else if (!isNullOrUndefined(column) && column.editType === 'booleanedit') {\n                    if (inputElement instanceof HTMLInputElement && inputElement.checked === true) {\n                        tasksData[fieldName] = true;\n                    }\n                    else {\n                        tasksData[fieldName] = false;\n                    }\n                }\n                else {\n                    if (fieldName === this.parent.taskFields.duration) {\n                        var numericValue = parseFloat(String(controlObj.value));\n                        tasksData[fieldName] = numericValue;\n                    }\n                    else {\n                        if (this.parent.weekWorkingTime.length > 0 && controlObj.value && (fieldName === this.parent.taskFields.startDate ||\n                            fieldName === this.parent.taskFields.baselineStartDate)) {\n                            var sDate = fieldName === this.parent.taskFields.startDate ? this.beforeOpenArgs.rowData['ganttProperties'].startDate : this.beforeOpenArgs.rowData['ganttProperties'].baselineStartDate;\n                            var prevDay = this.parent['getStartTime'](sDate);\n                            if (prevDay / 3600 === sDate.getHours()) {\n                                var dayStartTime = this.parent['getStartTime'](controlObj.value);\n                                this.parent.dataOperation.setTime(dayStartTime, controlObj.value);\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                            else {\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                        }\n                        else {\n                            tasksData[fieldName] = controlObj.value;\n                        }\n                    }\n                    if (this.parent.enableHtmlSanitizer && typeof (controlObj.value) === 'string') {\n                        controlObj.value = SanitizeHtmlHelper.sanitize(controlObj.value);\n                        tasksData[fieldName] = controlObj.value;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (!isCustom) {\n                this.updateScheduleProperties(this.editedRecord, this.rowData);\n            }\n            ganttObj.editModule.validateUpdateValues(tasksData, this.rowData, true);\n        }\n    };\n    DialogEdit.prototype.updateScheduleProperties = function (fromRecord, toRecord) {\n        this.parent.setRecordValue('startDate', fromRecord.ganttProperties.startDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('endDate', fromRecord.ganttProperties.endDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('duration', fromRecord.ganttProperties.duration, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('work', fromRecord.ganttProperties.work, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('type', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskType', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceNames', fromRecord.ganttProperties.resourceNames, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceInfo', fromRecord.ganttProperties.resourceInfo, toRecord.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.startDate);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.endDate);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.duration);\n            this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, this.rowData, true);\n            if (this.rowData.ganttProperties.duration === 0) {\n                this.parent.setRecordValue('isMilestone', true, toRecord.ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('isMilestone', false, this.rowData.ganttProperties, true);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.work)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.work);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.manual)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.manual);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.type)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'type');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.resourceInfo)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'resourceInfo');\n        }\n    };\n    DialogEdit.prototype.updatePredecessorTab = function (preElement) {\n        var gridObj = preElement.ej2_instances[0];\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        var dataSource = gridObj.dataSource;\n        var predecessorName = [];\n        var newValues = [];\n        var predecessorString = '';\n        var ids = [];\n        var parentRecord = [];\n        for (var i = 0; i < dataSource.length; i++) {\n            var preData = dataSource[i];\n            var splitString = preData.name.split(\"-\");\n            if (isNullOrUndefined(preData.id) || preData.id !== splitString[0]) {\n                preData.id = splitString[0];\n            }\n            if (ids.indexOf(preData.id) === -1) {\n                if (this.parent.viewType === 'ProjectView') {\n                    var currentRecord = this.parent.flatData[(this.parent.ids.indexOf(preData.id))];\n                    if (currentRecord.hasChildRecords && parentRecord.indexOf(currentRecord) === -1) {\n                        parentRecord.push(currentRecord);\n                    }\n                }\n                var name_1 = preData.id + preData.type;\n                if (preData.offset && preData.offset.indexOf('-') !== -1) {\n                    name_1 += preData.offset;\n                }\n                else {\n                    name_1 += ('+' + preData.offset);\n                }\n                predecessorName.push(name_1);\n                ids.push(preData.id);\n            }\n        }\n        if (this.isEdit) {\n            if (predecessorName.length > 0) {\n                newValues = this.parent.predecessorModule.calculatePredecessor(predecessorName.join(','), this.rowData);\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = this.parent.predecessorModule.getPredecessorStringValue(this.rowData);\n            }\n            else {\n                newValues = [];\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = '';\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (!this.disableUndo && this.rowData.ganttProperties.predecessorsName !== predecessorString && (!isNullOrUndefined(this.rowData.ganttProperties.predecessorsName) || predecessorString !== '')) {\n                    this.disableUndo = true;\n                }\n            }\n            this.parent.setRecordValue('predecessorsName', predecessorString, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.predecessorModule.updateUnscheduledDependency(this.rowData);\n        }\n        else {\n            this.addedRecord[this.parent.taskFields.dependency] = predecessorName.length > 0 ? predecessorName.join(',') : '';\n        }\n    };\n    DialogEdit.prototype.updateResourceTab = function (resourceElement) {\n        var treeGridObj = resourceElement.ej2_instances[0];\n        if (treeGridObj) {\n            treeGridObj.grid.endEdit();\n        }\n        var selectedItems = this.ganttResources;\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(this.rowData.ganttProperties)) {\n            if (JSON.stringify(this.ganttResources) !== JSON.stringify(this.rowData.ganttProperties.resourceInfo)) {\n                this.isResourceUpdate = true;\n                this.previousResource = !isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) ? this.rowData.ganttProperties.resourceInfo.slice() : [];\n            }\n            else {\n                this.isResourceUpdate = false;\n            }\n        }\n        var idArray = [];\n        if (this.isEdit) {\n            if ((this.rowData.ganttProperties.resourceInfo && selectedItems.length !== this.rowData.ganttProperties.resourceInfo.length) ||\n                (isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) && selectedItems.length > 0)) {\n                this.disableUndo = true;\n            }\n            if (!this.disableUndo) {\n                for (var i = 0; i < selectedItems.length; i++) {\n                    if (JSON.stringify(selectedItems[i]) !==\n                        JSON.stringify(this.rowData.ganttProperties.resourceInfo[i])) {\n                        this.disableUndo = true;\n                        break;\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceInfo', selectedItems, this.editedRecord.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(this.editedRecord, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(this.editedRecord, 'resource');\n            this.validateDuration(this.editedRecord);\n            this.updateScheduleProperties(this.editedRecord, this.rowData);\n        }\n        else {\n            for (var i = 0; i < selectedItems.length; i++) {\n                idArray.push(selectedItems[i][this.parent.resourceFields.id]);\n                this.isAddNewResource = true;\n            }\n            this.addedRecord[this.parent.taskFields.resourceInfo] = idArray;\n        }\n    };\n    DialogEdit.prototype.updateNotesTab = function (notesElement) {\n        var ganttObj = this.parent;\n        var rte = notesElement.ej2_instances[0];\n        if (this.isEdit) {\n            if (ganttObj.columnByField[ganttObj.taskFields.notes].disableHtmlEncode === false) {\n                if (this.rowData.ganttProperties.notes !== rte.getHtml() && (this.rowData.ganttProperties.notes !== null || rte.getHtml() !== '<p><br></p>') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n            }\n            else {\n                if (this.rowData.ganttProperties.notes !== rte.getText() && (this.rowData.ganttProperties.notes !== null || rte.getText() !== '') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                if (rte.getHtml().includes('href')) {\n                    this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n                }\n                else {\n                    this.parent.setRecordValue('notes', rte.getText(), this.rowData.ganttProperties, true);\n                }\n            }\n            ganttObj.dataOperation.updateMappingData(this.rowData, 'notes');\n        }\n        else {\n            this.addedRecord[this.parent.taskFields.notes] = rte.getHtml();\n        }\n    };\n    DialogEdit.prototype.updateCustomTab = function (customElement) {\n        this.updateGeneralTab(customElement, true);\n    };\n    return DialogEdit;\n}());\nexport { DialogEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\nimport { getValue, createElement, extend } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { parentsUntil, formatString, isScheduledTask, getIndex } from '../base/utils';\nimport { Dialog } from '@syncfusion/ej2-popups';\n/**\n * File for handling connector line edit operation in Gantt.\n *\n */\nvar ConnectorLineEdit = /** @class */ (function () {\n    function ConnectorLineEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.validationPredecessor = null;\n        /** @private */\n        this.confirmPredecessorDialog = null;\n        /** @private */\n        this.predecessorIndex = null;\n        /** @private */\n        this.childRecord = null;\n        this.validatedId = [];\n        this.validatedOffsetIds = [];\n        this.parent = ganttObj;\n        this.dateValidateModule = this.parent.dateValidationModule;\n        this.parent.on('initPredessorDialog', this.initPredecessorValidationDialog, this);\n    }\n    /**\n     * To update connector line edit element.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updateConnectorLineEditElement = function (e) {\n        var element = this.getConnectorLineHoverElement(e.target);\n        if (!getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            this.highlightConnectorLineElements(element);\n        }\n    };\n    /**\n     * To get hovered connector line element.\n     *\n     * @param {EventTarget} target .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getConnectorLineHoverElement = function (target) {\n        var isOnLine = parentsUntil(target, cls.connectorLineSVG);\n        var isArrow = parentsUntil(target, cls.connectorLineArrow);\n        var isCriticalLine = parentsUntil(target, cls.criticalConnectorLineSVG);\n        var isCriticalArrow = parentsUntil(target, cls.criticalConnectorArrowSVG);\n        if (isOnLine || isArrow || isCriticalLine || isCriticalArrow) {\n            return parentsUntil(target, cls.connectorLineContainer);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To highlight connector line while hover.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.highlightConnectorLineElements = function (element) {\n        if (element) {\n            if (element !== this.connectorLineElement) {\n                this.removeHighlight();\n                this.addHighlight(element);\n            }\n        }\n        else {\n            this.removeHighlight();\n        }\n    };\n    /**\n     * To add connector line highlight class.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addHighlight = function (element) {\n        this.connectorLineElement = element;\n        var pathElement = element.querySelector('.' + cls.connectorLineSVG);\n        if (pathElement) {\n            pathElement.setAttribute('stroke-width', '2');\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removeHighlight = function () {\n        if (this.connectorLineElement) {\n            var pathElement = this.connectorLineElement.querySelector('.' + cls.connectorLineSVG);\n            if (pathElement) {\n                pathElement.setAttribute('stroke-width', '1');\n            }\n            this.connectorLineElement = null;\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @param {IGanttData[]} records .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getEditedConnectorLineString = function (records) {\n        var ganttRecord;\n        var predecessorsCollection;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var connectorObj;\n        var idArray = [];\n        var lineArray = [];\n        var editedConnectorLineString = '';\n        for (var count = 0; count < records.length; count++) {\n            ganttRecord = records[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                for (var predecessorCount = 0; predecessorCount < predecessorsCollection.length; predecessorCount++) {\n                    predecessor = predecessorsCollection[predecessorCount];\n                    var from = 'from';\n                    var to = 'to';\n                    this.parent.connectorLineModule.removeConnectorLineById('parent' + predecessor[from] + 'child' + predecessor[to]);\n                    parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[\"\" + from]);\n                    childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[\"\" + to]);\n                    if ((!this.parent.allowParentDependency && (parentGanttRecord && parentGanttRecord.expanded === true) ||\n                        (childGanttRecord && childGanttRecord.expanded === true)) || (this.parent.allowParentDependency &&\n                        (parentGanttRecord || childGanttRecord))) {\n                        connectorObj =\n                            this.parent.predecessorModule.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                        if (!isNullOrUndefined(connectorObj)) {\n                            var lineIndex = idArray.indexOf(connectorObj.connectorLineId);\n                            var lineString = this.parent.connectorLineModule.getConnectorLineTemplate(connectorObj);\n                            if (lineIndex !== -1) {\n                                lineArray[lineIndex] = lineString;\n                            }\n                            else {\n                                idArray.push(connectorObj.connectorLineId);\n                                lineArray.push(lineString);\n                            }\n                        }\n                    }\n                }\n                editedConnectorLineString = lineArray.join('');\n            }\n        }\n        return editedConnectorLineString;\n    };\n    /**\n     * Tp refresh connector lines of edited records\n     *\n     * @param {IGanttData[]} editedRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.refreshEditedRecordConnectorLine = function (editedRecord) {\n        this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.previousRecords);\n        this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        var editedConnectorLineString = this.getEditedConnectorLineString(editedRecord);\n        this.parent.connectorLineModule.svgObject.innerHTML =\n            this.parent.connectorLineModule.svgObject.innerHTML + editedConnectorLineString;\n    };\n    ConnectorLineEdit.prototype.idFromPredecessor = function (pre) {\n        var preArray = pre.split(',');\n        var preIdArray = [];\n        var values = [];\n        var match = [];\n        for (var j = 0; j < preArray.length; j++) {\n            var strArray = [];\n            var firstPart = void 0;\n            var isAlpha = false;\n            var predecessorName = void 0;\n            var isGUId = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = preArray[j].split('-');\n            var id = void 0;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = preArray[j].substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (preArray[j].includes('-')) {\n                if (preArray[j].includes('-') && preArray[j].includes('days')) {\n                    predecessorName = preArray[j].slice(-9).toString();\n                }\n                if (preArray[j].includes('-') && preArray[j].includes('day')) {\n                    predecessorName = preArray[j].slice(-8).toString();\n                }\n                else {\n                    predecessorName = preArray[j].slice(-2).toString();\n                }\n                if (preArray[j].includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = preArray[j].indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = preArray[j].substring(0, indexFS);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = preArray[j];\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = preArray[j];\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = preArray[j].split('+');\n                    if (preArray[j].indexOf('-') >= 0) {\n                        values = preArray[j].split('-');\n                    }\n                }\n            }\n            if (!isNullOrUndefined(values[0])) {\n                var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n                if (ids.indexOf(values[0]) === -1) {\n                    if (values[0].indexOf(' ') !== -1) {\n                        match = values[0].split(' ');\n                        if (match.length === 1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        strArray.push(match[0]);\n                    }\n                    else {\n                        if (values[0].length === 1 || values[0].length === 2) {\n                            strArray.push(values[0]);\n                        }\n                        else {\n                            strArray.push(values[0].slice(0, -2));\n                        }\n                    }\n                }\n                else {\n                    strArray.push(values[0]);\n                }\n            }\n            preIdArray.push((strArray.join('')));\n        }\n        return preIdArray;\n    };\n    ConnectorLineEdit.prototype.predecessorValidation = function (predecessor, record) {\n        var recordId = record.rowUniqueID;\n        var currentId;\n        var currentRecord;\n        for (var count = 0; count < predecessor.length; count++) {\n            currentId = predecessor[count];\n            var visitedIdArray = [];\n            var predecessorCollection = predecessor.slice(0);\n            predecessorCollection.splice(count, 1);\n            var _loop_1 = function () {\n                var currentIdArray = [];\n                if (visitedIdArray.indexOf(currentId) === -1) {\n                    //Predecessor id not in records collection\n                    if (isNullOrUndefined(this_1.parent.connectorLineModule.getRecordByID(currentId))) {\n                        return { value: false };\n                    }\n                    currentRecord = this_1.parent.connectorLineModule.getRecordByID(currentId).ganttProperties;\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentRecord.predecessor.forEach(function (value) {\n                            if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                currentIdArray.push(value.from.toString());\n                            }\n                        });\n                    }\n                    /* eslint-disable-next-line */\n                    if (recordId.toString() === currentRecord.rowUniqueID.toString() || currentIdArray.indexOf(recordId.toString()) !== -1) {\n                        return { value: false };\n                    }\n                    visitedIdArray.push(currentId);\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentId = currentRecord.predecessor[0].from;\n                    }\n                    else {\n                        return \"break\";\n                    }\n                }\n                else {\n                    return \"break\";\n                }\n            };\n            var this_1 = this;\n            while (currentId !== null) {\n                var state_1 = _loop_1();\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n                if (state_1 === \"break\")\n                    break;\n            }\n        }\n        return true;\n    };\n    // Get the root parent of the record\n    ConnectorLineEdit.prototype.getRootParent = function (rec) {\n        var parentRec = rec;\n        if (rec.parentItem) {\n            parentRec = this.parent.flatData.filter(function (item) {\n                return item.uniqueID === rec.parentUniqueID;\n            })[0];\n            if (parentRec.parentItem) {\n                parentRec = this.getRootParent(parentRec);\n            }\n            return parentRec;\n        }\n        return parentRec;\n    };\n    // To check whether the predecessor drawn is valid for parent task\n    ConnectorLineEdit.prototype.validateParentPredecessor = function (fromRecord, toRecord) {\n        if (fromRecord && toRecord) {\n            if (toRecord.hasChildRecords && !fromRecord.hasChildRecords) {\n                if (fromRecord.parentUniqueID === toRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (fromRecord.parentItem) {\n                            fromRecord = this.parent.flatData[this.parent.ids.indexOf(fromRecord.parentItem.taskId)];\n                            if (fromRecord.uniqueID === toRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (fromRecord.parentItem);\n                }\n            }\n            else if (!toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentUniqueID === fromRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (toRecord.parentItem) {\n                            toRecord = this.parent.flatData[this.parent.ids.indexOf(toRecord.parentItem.taskId)];\n                            if (toRecord.uniqueID === fromRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (toRecord.parentItem);\n                }\n            }\n            else if (toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentItem && fromRecord.parentItem) {\n                    if (fromRecord.parentUniqueID === toRecord.uniqueID || fromRecord.uniqueID === toRecord.parentUniqueID) {\n                        return false;\n                    }\n                }\n                else {\n                    if (!toRecord.parentItem && fromRecord.parentItem) {\n                        var fromRootParent = this.parent.connectorLineEditModule.getRootParent(fromRecord);\n                        if (fromRootParent.uniqueID === toRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                    else if (toRecord.parentItem && !fromRecord.parentItem) {\n                        var toRootParent = this.parent.connectorLineEditModule.getRootParent(toRecord);\n                        if (toRootParent.uniqueID === fromRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * To validate predecessor relations\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validatePredecessorRelation = function (ganttRecord, predecessorString) {\n        var flag = true;\n        var recordId = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n            : ganttRecord.ganttProperties.rowUniqueID;\n        var predecessorIdArray;\n        var currentId;\n        if (!isNullOrUndefined(predecessorString) && predecessorString.length > 0) {\n            predecessorIdArray = this.idFromPredecessor(predecessorString);\n            var _loop_2 = function (count) {\n                //Check edited item has parent item in predecessor collection\n                if (!this_2.parent.allowParentDependency) {\n                    var checkParent = this_2.checkParentRelation(ganttRecord, predecessorIdArray);\n                    if (!checkParent) {\n                        return { value: false };\n                    }\n                }\n                else {\n                    if (parseInt(predecessorIdArray[predecessorIdArray.length - 1], 10) !== ganttRecord[this_2.parent.taskFields.id]) {\n                        var num = this_2.parent.ids.indexOf(predecessorIdArray[predecessorIdArray.length - 1]);\n                        var fromRecord = this_2.parent.currentViewData[num];\n                        if (fromRecord && ganttRecord) {\n                            flag = this_2.validateParentPredecessor(fromRecord, ganttRecord);\n                        }\n                    }\n                }\n                // Check if predecessor exist more then one\n                var tempIdArray = predecessorIdArray.slice(0);\n                var checkArray = [];\n                var countFlag = true;\n                tempIdArray.forEach(function (value) {\n                    if (checkArray.indexOf(value) === -1) {\n                        checkArray.push(value);\n                    }\n                    else {\n                        countFlag = false;\n                    }\n                });\n                if (!countFlag) {\n                    return { value: false };\n                }\n                //Cyclick check\n                currentId = predecessorIdArray[count];\n                var visitedIdArray = [];\n                var predecessorCollection = predecessorIdArray.slice(0);\n                predecessorCollection.splice(count, 1);\n                var _loop_3 = function () {\n                    var currentIdArray = [];\n                    var currentIdIndex;\n                    var currentRecord;\n                    if (visitedIdArray.indexOf(currentId) === -1) {\n                        //Predecessor id not in records collection\n                        if (isNullOrUndefined(this_2.parent.connectorLineModule.getRecordByID(currentId.toString()))) {\n                            return { value: false };\n                        }\n                        currentRecord = this_2.parent.connectorLineModule.getRecordByID(currentId.toString()).ganttProperties;\n                        //  let currentPredecessor='';\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            currentRecord.predecessor.forEach(function (value, index) {\n                                if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                    currentIdArray.push(value.from.toString());\n                                    currentIdIndex = index;\n                                }\n                            });\n                            //    currentPredecessor=currentRecord.predecessor[0].from\n                        }\n                        if (recordId.toString() === currentRecord.rowUniqueID.toString() ||\n                            currentIdArray.indexOf(recordId.toString()) !== -1) {\n                            return { value: false };\n                        }\n                        visitedIdArray.push(currentId);\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            var result = void 0;\n                            if (currentIdArray.length > 1) {\n                                result = this_2.predecessorValidation(currentIdArray, ganttRecord.ganttProperties);\n                            }\n                            else if (currentIdArray.length === 1) {\n                                currentId = currentRecord.predecessor[currentIdIndex].from;\n                            }\n                            if (result === false) {\n                                return { value: false };\n                            }\n                        }\n                        else {\n                            return \"break\";\n                        }\n                    }\n                    else {\n                        return \"break\";\n                    }\n                };\n                while (currentId !== null) {\n                    var state_3 = _loop_3();\n                    if (typeof state_3 === \"object\")\n                        return state_3;\n                    if (state_3 === \"break\")\n                        break;\n                }\n            };\n            var this_2 = this;\n            for (var count = 0; count < predecessorIdArray.length; count++) {\n                var state_2 = _loop_2(count);\n                if (typeof state_2 === \"object\")\n                    return state_2.value;\n            }\n        }\n        return flag;\n    };\n    /**\n     * To add dependency for Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addPredecessor = function (ganttRecord, predecessorString) {\n        var tempPredecessorString = isNullOrUndefined(ganttRecord.ganttProperties.predecessorsName) ||\n            ganttRecord.ganttProperties.predecessorsName === '' ?\n            predecessorString : (ganttRecord.ganttProperties.predecessorsName + ',' + predecessorString);\n        this.updatePredecessorHelper(ganttRecord, tempPredecessorString);\n    };\n    /**\n     * To remove dependency from task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessor = function (ganttRecord) {\n        this.updatePredecessorHelper(ganttRecord, null);\n    };\n    /**\n     * To modify current dependency values of Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updatePredecessor = function (ganttRecord, predecessorString, editedArgs) {\n        return this.updatePredecessorHelper(ganttRecord, predecessorString, editedArgs);\n    };\n    ConnectorLineEdit.prototype.updatePredecessorHelper = function (ganttRecord, predecessorString, editedArgs) {\n        if (isUndefined(predecessorString) || this.validatePredecessorRelation(ganttRecord, predecessorString)) {\n            this.parent.isOnEdit = true;\n            var predecessorCollection = [];\n            if (!isNullOrUndefined(predecessorString) && predecessorString !== '') {\n                predecessorCollection = this.parent.predecessorModule.calculatePredecessor(predecessorString, ganttRecord);\n            }\n            this.parent.setRecordValue('predecessor', predecessorCollection, ganttRecord.ganttProperties, true);\n            var stringValue = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', stringValue, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, stringValue, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, stringValue, ganttRecord);\n            var args = {};\n            args.action = editedArgs && editedArgs.action && editedArgs.action === 'CellEditing' ? editedArgs.action : 'DrawConnectorLine';\n            args.data = ganttRecord;\n            this.parent.editModule.initiateUpdateAction(args);\n            return true;\n        }\n        else {\n            if (ganttRecord.taskData[this.parent.taskFields.dependency]) {\n                ganttRecord.taskData[this.parent.taskFields.dependency] = null;\n            }\n            var err = predecessorString + \" is an invalid relation for task \" + this.parent.taskFields.id + \". Kindly ensure the \" + this.parent.taskFields.dependency + \" field contains only valid predecessor relations.\";\n            this.parent.trigger('actionFailure', { error: err });\n            return false;\n        }\n    };\n    ConnectorLineEdit.prototype.checkParentRelation = function (ganttRecord, predecessorIdArray) {\n        var editingData = ganttRecord;\n        var checkParent = true;\n        if (editingData && editingData.parentItem) {\n            if (predecessorIdArray.indexOf(editingData.parentItem.taskId.toString()) !== -1) {\n                return false;\n            }\n        }\n        var _loop_4 = function (p) {\n            var record = this_3.parent.currentViewData.filter(function (item) {\n                return item && item.ganttProperties.rowUniqueID.toString() === predecessorIdArray[p].toString();\n            });\n            if (record[0] && record[0].hasChildRecords) {\n                return { value: false };\n            }\n        };\n        var this_3 = this;\n        for (var p = 0; p < predecessorIdArray.length; p++) {\n            var state_4 = _loop_4(p);\n            if (typeof state_4 === \"object\")\n                return state_4.value;\n        }\n        return checkParent;\n    };\n    ConnectorLineEdit.prototype.initPredecessorValidationDialog = function () {\n        if (this.parent.taskFields.dependency && this.parent.isInPredecessorValidation) {\n            var dialogElement = createElement('div', {\n                id: this.parent.element.id + '_dialogValidationRule'\n            });\n            this.parent.element.appendChild(dialogElement);\n            this.renderValidationDialog();\n        }\n    };\n    /**\n     * To render validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderValidationDialog = function () {\n        var validationDialog = new Dialog({\n            header: 'Validate Editing',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            visible: false,\n            width: '50%',\n            showCloseIcon: true,\n            close: this.validationDialogClose.bind(this),\n            content: '',\n            buttons: [\n                {\n                    click: this.validationDialogOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.validationDialogCancelButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        document.getElementById(this.parent.element.id + '_dialogValidationRule').innerHTML = '';\n        validationDialog.isStringTemplate = true;\n        validationDialog.appendTo('#' + this.parent.element.id + '_dialogValidationRule');\n        this.parent.validationDialogElement = validationDialog;\n    };\n    ConnectorLineEdit.prototype.validationDialogOkButton = function () {\n        var currentArgs = this.parent.currentEditedArgs;\n        currentArgs.validateMode.preserveLinkWithEditing =\n            document.getElementById(this.parent.element.id + '_ValidationAddlineOffset').checked;\n        currentArgs.validateMode.removeLink =\n            document.getElementById(this.parent.element.id + '_ValidationRemoveline').checked;\n        currentArgs.validateMode.respectLink =\n            document.getElementById(this.parent.element.id + '_ValidationCancel').checked;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogCancelButton = function () {\n        this.parent.currentEditedArgs.validateMode.respectLink = true;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogClose = function (e) {\n        if (getValue('isInteraction', e)) {\n            this.parent.currentEditedArgs.validateMode.respectLink = true;\n            this.applyPredecessorOption();\n        }\n    };\n    /**\n     * Validate and apply the predecessor option from validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.applyPredecessorOption = function () {\n        var args = this.parent.currentEditedArgs;\n        var ganttRecord = args.data;\n        if (args.validateMode.respectLink) {\n            this.parent.editModule.reUpdatePreviousRecords();\n            this.parent.chartRowsModule.refreshRecords([args.data]);\n        }\n        else if (args.validateMode.removeLink) {\n            this.checkChildRecords(ganttRecord);\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n        }\n        else if (args.validateMode.preserveLinkWithEditing) {\n            var connectedTaskId_1;\n            if (this.parent.updateOffsetOnTaskbarEdit) {\n                var taskId_1 = ganttRecord.ganttProperties.taskId;\n                if (ganttRecord.ganttProperties.predecessor) {\n                    ganttRecord.ganttProperties.predecessor.forEach(function (predecessor) {\n                        if (taskId_1 === predecessor.from) {\n                            connectedTaskId_1 = predecessor.to;\n                            return;\n                        }\n                    });\n                }\n            }\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n            this.processPredecessors(connectedTaskId_1);\n        }\n    };\n    ConnectorLineEdit.prototype.compareArrays = function (arr1, arr2) {\n        if (arr1.length !== arr2.length) {\n            return false;\n        }\n        var str1 = JSON.stringify(arr1);\n        var str2 = JSON.stringify(arr2);\n        return str1 === str2;\n    };\n    ConnectorLineEdit.prototype.processPredecessors = function (parentId) {\n        var _this = this;\n        if (parentId) {\n            var record_1 = this.parent.getRecordByID(parentId);\n            if (record_1 && record_1.ganttProperties && record_1.ganttProperties.predecessor) {\n                this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                this.calculateOffset(record_1);\n                var isIdInclude_1 = true;\n                /* eslint-disable-next-line */\n                var matchedObject = this.validatedId.find(function (item) {\n                    return item.id === record_1.ganttProperties.taskId;\n                });\n                if (matchedObject) {\n                    var predecessorArray = matchedObject.value;\n                    var areArraysEqual = this.compareArrays(predecessorArray, record_1.ganttProperties.predecessor);\n                    if (areArraysEqual) {\n                        isIdInclude_1 = false;\n                    }\n                }\n                var predecessors = record_1.ganttProperties.predecessor;\n                predecessors.forEach(function (predecessor) {\n                    if (record_1.ganttProperties.taskId === predecessor.from && isIdInclude_1) {\n                        _this.processPredecessors(predecessor.to);\n                    }\n                });\n            }\n        }\n    };\n    ConnectorLineEdit.prototype.checkChildRecords = function (ganttRecord) {\n        this.validationPredecessor = ganttRecord.ganttProperties.predecessor;\n        if (!isNullOrUndefined(this.validationPredecessor)) {\n            this.removePredecessors(ganttRecord, this.validationPredecessor);\n        }\n        if (ganttRecord.childRecords.length > 0) {\n            for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                var childRecord = ganttRecord.childRecords[i];\n                this.validationPredecessor = childRecord.ganttProperties.predecessor;\n                if (!isNullOrUndefined(this.validationPredecessor)) {\n                    this.removePredecessors(childRecord, this.validationPredecessor);\n                }\n                if (childRecord.childRecords.length > 0) {\n                    this.checkChildRecords(childRecord);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(ganttRecord.parentItem)) {\n            var parentRecord = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            this.validationPredecessor = parentRecord.ganttProperties.predecessor;\n            this.removePredecessors(parentRecord, this.validationPredecessor);\n        }\n    };\n    ConnectorLineEdit.prototype.compareObjects = function (obj1, obj2) {\n        var keys1 = Object.keys(obj1).filter(function (key) { return key !== \"offset\"; });\n        var keys2 = Object.keys(obj2).filter(function (key) { return key !== \"offset\"; });\n        if (keys1.length !== keys2.length) {\n            return false;\n        }\n        return keys1.every(function (key) { return obj1[key] === obj2[key]; });\n    };\n    ConnectorLineEdit.prototype.calculateOffset = function (record, isRecursive) {\n        var _this = this;\n        if (!this.parent.autoCalculateDateScheduling) {\n            return;\n        }\n        if (record) {\n            var prevPredecessor = extend([], record.ganttProperties.predecessor, [], true);\n            var validPredecessor_1 = this.parent.predecessorModule.getValidPredecessor(record);\n            if (validPredecessor_1.length > 0) {\n                this.cumulativePredecessorChanges = prevPredecessor;\n                var _loop_5 = function (i) {\n                    var predecessor = validPredecessor_1[parseInt(i.toString(), 10)];\n                    var parentTask = this_4.parent.connectorLineModule.getRecordByID(predecessor.from);\n                    if (this_4.parent.undoRedoModule && this_4.parent.undoRedoModule['isUndoRedoPerformed'] && this_4.parent.viewType === 'ProjectView') {\n                        var isPresent = parentTask.ganttProperties.predecessor.filter(function (pred) {\n                            return pred.from === validPredecessor_1[i].from && pred.to === validPredecessor_1[i].to;\n                        });\n                        if (isPresent.length === 0) {\n                            parentTask.ganttProperties.predecessor.push(validPredecessor_1[i]);\n                        }\n                    }\n                    var offset = void 0;\n                    if (isScheduledTask(parentTask.ganttProperties) && isScheduledTask(record.ganttProperties)) {\n                        var tempStartDate = void 0;\n                        var tempEndDate = void 0;\n                        var tempDuration = void 0;\n                        var isNegativeOffset = void 0;\n                        switch (predecessor.type) {\n                            case 'FS':\n                                tempStartDate = new Date(parentTask.ganttProperties.endDate.getTime());\n                                tempEndDate = new Date(record.ganttProperties.startDate.getTime());\n                                break;\n                            case 'SS':\n                                tempStartDate = new Date(parentTask.ganttProperties.startDate.getTime());\n                                tempEndDate = new Date(record.ganttProperties.startDate.getTime());\n                                break;\n                            case 'SF':\n                                tempStartDate = new Date(parentTask.ganttProperties.startDate.getTime());\n                                tempEndDate = new Date(record.ganttProperties.endDate.getTime());\n                                break;\n                            case 'FF':\n                                tempStartDate = new Date(parentTask.ganttProperties.endDate.getTime());\n                                tempEndDate = new Date(record.ganttProperties.endDate.getTime());\n                                break;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempStartDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempEndDate, null);\n                            isNegativeOffset = false;\n                        }\n                        else {\n                            var tempDate = new Date(tempStartDate.getTime());\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempEndDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempDate, null);\n                            isNegativeOffset = true;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempDuration = this_4.dateValidateModule.getDuration(tempStartDate, tempEndDate, predecessor.offsetUnit, true, false);\n                            offset = isNegativeOffset ? (tempDuration * -1) : tempDuration;\n                        }\n                        else {\n                            offset = 0;\n                        }\n                    }\n                    else {\n                        offset = 0;\n                    }\n                    var preIndex = getIndex(predecessor, 'from', prevPredecessor, 'to');\n                    if (preIndex !== -1) {\n                        prevPredecessor[preIndex].offset = offset;\n                    }\n                    // Update predecessor in predecessor task\n                    var parentPredecessors = extend([], parentTask.ganttProperties.predecessor, [], true);\n                    var parentPreIndex = getIndex(predecessor, 'from', parentPredecessors, 'to');\n                    if (parentPreIndex !== -1) {\n                        parentPredecessors[parentPreIndex].offset = offset;\n                    }\n                    this_4.parent.setRecordValue('predecessor', parentPredecessors, parentTask.ganttProperties, true);\n                };\n                var this_4 = this;\n                for (var i = 0; i < validPredecessor_1.length; i++) {\n                    _loop_5(i);\n                }\n            }\n            else {\n                var validPredecessor_2 = record.ganttProperties.predecessor;\n                if (validPredecessor_2) {\n                    if (validPredecessor_2.length > 0) {\n                        validPredecessor_2.forEach(function (element) {\n                            if (_this.validatedOffsetIds.indexOf(element.to) === -1) {\n                                _this.calculateOffset(_this.parent.getRecordByID(element.to), true);\n                            }\n                        });\n                    }\n                }\n            }\n            if (!isRecursive) {\n                if (prevPredecessor && prevPredecessor.length > 0 && this.cumulativePredecessorChanges &&\n                    this.cumulativePredecessorChanges.length > 0) {\n                    var matchingObjects = prevPredecessor.map(function (objectToCompare) {\n                        var matchedObject = _this.cumulativePredecessorChanges.find(function (obj) { return _this.compareObjects(obj, objectToCompare); });\n                        return matchedObject ? __assign({}, matchedObject) : null;\n                    }).filter(function (matchedObject) { return matchedObject !== null; });\n                    this.parent.setRecordValue('predecessor', matchingObjects, record.ganttProperties, true);\n                }\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevPredecessor, record.ganttProperties, true);\n            }\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n            if (this.validatedOffsetIds.indexOf(record.ganttProperties.taskId.toString()) === -1) {\n                this.validatedOffsetIds.push(record.ganttProperties.taskId.toString());\n            }\n            if (record.hasChildRecords) {\n                for (var i = 0; i < record.childRecords.length; i++) {\n                    if (this.validatedOffsetIds.indexOf(record.childRecords[i].ganttProperties.taskId.toString()) === -1 &&\n                        record.childRecords[i].ganttProperties.predecessor &&\n                        record.childRecords[i].ganttProperties.predecessor.length > 0) {\n                        this.calculateOffset(record.childRecords[i]);\n                    }\n                }\n            }\n            else if (record.parentItem) {\n                var parentItem = this.parent.getRecordByID(record.parentItem.taskId);\n                if (this.validatedOffsetIds.indexOf(parentItem.ganttProperties.taskId.toString()) === -1 &&\n                    parentItem.ganttProperties.predecessor && parentItem.ganttProperties.predecessor.length > 0) {\n                    this.calculateOffset(parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Update predecessor value with user selection option in predecessor validation dialog\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessor .\n     * @returns {void} .\n     */\n    ConnectorLineEdit.prototype.removePredecessors = function (ganttRecord, predecessor) {\n        var prevPredecessor = extend([], [], ganttRecord.ganttProperties.predecessor, true);\n        if (isNullOrUndefined(predecessor)) {\n            return;\n        }\n        var preLength = predecessor.length;\n        for (var i = 0; i < preLength; i++) {\n            var parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n            var index = getIndex(predecessor[i], 'from', prevPredecessor, 'to');\n            prevPredecessor.splice(index, 1);\n            var parentIndex = getIndex(predecessor[parseInt(i.toString(), 10)], 'from', parentPredecessor, 'to');\n            parentPredecessor.splice(parentIndex, 1);\n            this.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n        }\n        if (prevPredecessor.length !== ganttRecord.ganttProperties.predecessor.length) {\n            this.parent.setRecordValue('predecessor', prevPredecessor, ganttRecord.ganttProperties, true);\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', predecessorString, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, ganttRecord);\n        }\n    };\n    /**\n     * To open predecessor validation dialog\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.openValidationDialog = function (args) {\n        var contentTemplate = this.validationDialogTemplate(args);\n        this.parent.validationDialogElement.setProperties({ content: contentTemplate });\n        this.parent.validationDialogElement.show();\n    };\n    /**\n     * Predecessor link validation dialog template\n     *\n     * @param {object} args .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validationDialogTemplate = function (args) {\n        var ganttId = this.parent.element.id;\n        var contentdiv = createElement('div', {\n            className: 'e-ValidationContent'\n        });\n        var taskData = getValue('task', args);\n        var parenttaskData = getValue('parentTask', args);\n        var violationType = getValue('violationType', args);\n        var recordName = taskData.ganttProperties.taskName;\n        var recordNewStartDate = this.parent.getFormatedDate(taskData.ganttProperties.startDate, 'MM/dd/yyyy');\n        var parentName = parenttaskData.ganttProperties.taskName;\n        var recordArgs = [recordName, parentName];\n        var topContentText;\n        if (violationType === 'taskBeforePredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FS');\n        }\n        else if (violationType === 'taskAfterPredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FS');\n        }\n        else if (violationType === 'taskBeforePredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SS');\n        }\n        else if (violationType === 'taskAfterPredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SS');\n        }\n        else if (violationType === 'taskBeforePredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FF');\n        }\n        else if (violationType === 'taskAfterPredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FF');\n        }\n        else if (violationType === 'taskBeforePredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SF');\n        }\n        else if (violationType === 'taskAfterPredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SF');\n        }\n        topContentText = formatString(topContentText, recordArgs);\n        var topContent = '<div id=\"' + ganttId + '_ValidationText\">' + topContentText + '<div>';\n        var innerTable = '<table>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationCancel\" name=\"ValidationRule\" checked/><label for=\"'\n            + ganttId + '_ValidationCancel\" id= \"' + ganttId + '_cancelLink\">Cancel, keep the existing link</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationRemoveline\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationRemoveline\" id=\"' + ganttId + '_removeLink\">Remove the link and move <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b>.</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationAddlineOffset\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationAddlineOffset\" id=\"' + ganttId + '_preserveLink\">Move the <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b> and keep the link.</label></td></tr></table>';\n        contentdiv.innerHTML = topContent + innerTable;\n        return contentdiv;\n    };\n    /**\n     * To validate the types while editing the taskbar\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {any} data .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validateTypes = function (ganttRecord, data) {\n        var predecessor = this.parent.predecessorModule.getValidPredecessor(ganttRecord);\n        var parentGanttRecord;\n        this.validationPredecessor = [];\n        var violatedParent;\n        var ganttTaskData;\n        var violateType;\n        var startDate = this.parent.predecessorModule.getPredecessorDate(ganttRecord, predecessor);\n        if (data) {\n            ganttTaskData = data.ganttProperties;\n        }\n        else {\n            ganttTaskData = ganttRecord.ganttProperties;\n        }\n        var endDate = this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) ?\n            ganttTaskData.endDate :\n            this.dateValidateModule.getEndDate(startDate, ganttTaskData.duration, ganttTaskData.durationUnit, ganttTaskData, false);\n        for (var i = 0; i < predecessor.length; i++) {\n            parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var violationType = null;\n            if (predecessor[i].type === 'FS') {\n                if (this.parent.dateValidationModule.getDuration(startDate, ganttTaskData.startDate, this.parent.durationUnit, ganttTaskData.isAutoSchedule, ganttTaskData.isMilestone, true) !== 0) {\n                    if (ganttTaskData.startDate < startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FS';\n                    }\n                    else if (ganttTaskData.startDate > startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FS';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SS') {\n                if (ganttTaskData.startDate < startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (ganttTaskData.startDate > startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n            }\n            else if (predecessor[i].type === 'FF') {\n                if (this.parent.dateValidationModule.getDuration(endDate, parentGanttRecord.ganttProperties.endDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    if (endDate <= parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FF';\n                    }\n                    else if (endDate > parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FF';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SF') {\n                if (this.parent.dateValidationModule.getDuration(endDate, parentGanttRecord.ganttProperties.startDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    if (endDate < parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_SF';\n                    }\n                    else if (endDate >= parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_SF';\n                    }\n                }\n            }\n            if (!isNullOrUndefined(violationType) && isNullOrUndefined(violateType)) {\n                violatedParent = parentGanttRecord;\n                violateType = violationType;\n            }\n        }\n        var validateArgs = {\n            parentTask: violatedParent,\n            task: ganttRecord,\n            violationType: violateType\n        };\n        return validateArgs;\n    };\n    /**\n     * Method to remove and update new predecessor collection in successor record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addRemovePredecessor = function (data) {\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        var newPredecessor = data.ganttProperties.predecessor.slice();\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            var prevPredecessor_1 = prevData.ganttProperties.predecessor;\n            if (!isNullOrUndefined(prevPredecessor_1)) {\n                var _loop_6 = function (p) {\n                    var parentGanttRecord = this_5.parent.connectorLineModule.getRecordByID(prevPredecessor_1[parseInt(p.toString(), 10)].from);\n                    if (parentGanttRecord === data) {\n                        var isValid = data.ganttProperties.predecessor.filter(function (pred) {\n                            return prevPredecessor_1[p].from === pred.from && prevPredecessor_1[p].to === pred.to;\n                        });\n                        if (isValid.length === 0) {\n                            if (data.parentItem && this_5.parent.taskFields.dependency && data.ganttProperties.predecessor &&\n                                this_5.parent.allowParentDependency) {\n                                if (prevPredecessor_1[p].from !== data.parentItem.taskId &&\n                                    prevPredecessor_1[p].to !== data.parentItem.taskId) {\n                                    data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                                }\n                            }\n                            else {\n                                data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                            }\n                        }\n                    }\n                    else {\n                        var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                        var parentIndex = getIndex(prevPredecessor_1[parseInt(p.toString(), 10)], 'from', parentPredecessor, 'to');\n                        if (parentIndex !== -1) {\n                            parentPredecessor.splice(parentIndex, 1);\n                            this_5.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                        }\n                    }\n                };\n                var this_5 = this;\n                for (var p = 0; p < prevPredecessor_1.length; p++) {\n                    _loop_6(p);\n                }\n            }\n            if (!isNullOrUndefined(newPredecessor)) {\n                var _loop_7 = function (n) {\n                    var parentGanttRecord = this_6.parent.connectorLineModule.getRecordByID(newPredecessor[parseInt(n.toString(), 10)].from);\n                    var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                    var isValid = parentPredecessor.filter(function (pred) {\n                        return newPredecessor[n].from === pred.from && newPredecessor[n].to === pred.to;\n                    });\n                    if (isValid.length === 0) {\n                        parentPredecessor.push(newPredecessor[parseInt(n.toString(), 10)]);\n                        this_6.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                    }\n                };\n                var this_6 = this;\n                for (var n = 0; n < newPredecessor.length; n++) {\n                    _loop_7(n);\n                }\n            }\n        }\n    };\n    /**\n     * Method to remove a predecessor from a record.\n     *\n     * @param {IGanttData} childRecord .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessorByIndex = function (childRecord, index) {\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'DeleteDependency';\n            details['modifiedRecords'] = extend([], [childRecord], [], true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var childPredecessor = childRecord.ganttProperties.predecessor;\n        var predecessor = childPredecessor.splice(index, 1);\n        var parentRecord = this.parent.connectorLineModule.getRecordByID(predecessor[0].from);\n        var parentPredecessor = parentRecord.ganttProperties.predecessor;\n        var parentIndex = getIndex(predecessor[0], 'from', parentPredecessor, 'to');\n        parentPredecessor.splice(parentIndex, 1);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(childRecord);\n        childPredecessor.push(predecessor[0]);\n        this.parent.connectorLineEditModule.updatePredecessor(childRecord, predecessorString);\n    };\n    /**\n     * To render predecessor delete confirmation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderPredecessorDeleteConfirmDialog = function () {\n        this.confirmPredecessorDialog = new Dialog({\n            width: '320px',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmPredecessorDelete'),\n            buttons: [\n                {\n                    click: this.confirmOkDeleteButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.confirmCloseDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        var confirmDialog = createElement('div', {\n            id: this.parent.element.id + '_deletePredecessorConfirmDialog'\n        });\n        this.parent.element.appendChild(confirmDialog);\n        this.confirmPredecessorDialog.isStringTemplate = true;\n        this.confirmPredecessorDialog.appendTo(confirmDialog);\n    };\n    ConnectorLineEdit.prototype.confirmCloseDialog = function () {\n        this.confirmPredecessorDialog.destroy();\n    };\n    ConnectorLineEdit.prototype.confirmOkDeleteButton = function () {\n        this.removePredecessorByIndex(this.childRecord, this.predecessorIndex);\n        this.confirmPredecessorDialog.destroy();\n    };\n    return ConnectorLineEdit;\n}());\nexport { ConnectorLineEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined, extend, setValue, getValue, deleteObject, createElement } from '@syncfusion/ej2-base';\nimport { DataManager, Query, ODataAdaptor, WebApiAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\nimport { getUid } from '@syncfusion/ej2-grids';\nimport { getSwapKey, isScheduledTask, getTaskData, isRemoteData, getIndex, isCountRequired, updateDates } from '../base/utils';\nimport { CellEdit } from './cell-edit';\nimport { TaskbarEdit } from './taskbar-edit';\nimport { DialogEdit } from './dialog-edit';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { MultiSelect, CheckBoxSelection, DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { ConnectorLineEdit } from './connector-line-edit';\nimport { TreeGrid, Edit as TreeGridEdit } from '@syncfusion/ej2-treegrid';\n/**\n * The Edit Module is used to handle editing actions.\n *\n */\nvar Edit = /** @class */ (function () {\n    function Edit(parent) {\n        this.isFromDeleteMethod = false;\n        this.targetedRecords = [];\n        this.isNewRecordAdded = false;\n        this.isValidatedEditedRecord = false;\n        this.createArray = true;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.confirmDialog = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        this.isBreakLoop = false;\n        /**\n         * @private\n         */\n        this.deletedTaskDetails = [];\n        this.parent = parent;\n        this.parent.predecessorModule.validatedChildItems = [];\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Auto') {\n            this.cellEditModule = new CellEdit(this.parent);\n        }\n        if (this.parent.taskFields.dependency) {\n            this.parent.connectorLineEditModule = new ConnectorLineEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowAdding || (this.parent.editSettings.allowEditing &&\n            (this.parent.editSettings.mode === 'Dialog' || this.parent.editSettings.mode === 'Auto'))) {\n            this.dialogModule = new DialogEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.taskbarEditModule = new TaskbarEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowDeleting) {\n            var confirmDialog = createElement('div', {\n                id: this.parent.element.id + '_deleteConfirmDialog'\n            });\n            this.parent.element.appendChild(confirmDialog);\n            this.renderDeleteConfirmDialog();\n        }\n        this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n        this.parent.treeGrid.editSettings.allowAdding = this.parent.editSettings.allowAdding;\n        this.parent.treeGrid.editSettings.allowDeleting = this.parent.editSettings.allowDeleting;\n        this.parent.treeGrid.editSettings.showDeleteConfirmDialog = this.parent.editSettings.showDeleteConfirmDialog;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        if (this.parent.editSettings.mode === 'Dialog') {\n            TreeGrid.Inject(TreeGridEdit);\n        }\n        this.updateDefaultColumnEditors();\n    }\n    Edit.prototype.getModuleName = function () {\n        return 'edit';\n    };\n    /**\n     * Method to update default edit params and editors for Gantt\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.updateDefaultColumnEditors = function () {\n        var customEditorColumns = [this.parent.taskFields.id, this.parent.taskFields.progress, this.parent.taskFields.resourceInfo,\n            this.parent.taskFields.type, 'taskType'];\n        for (var i = 0; i < customEditorColumns.length; i++) {\n            if (!isNullOrUndefined(customEditorColumns[i]) && customEditorColumns[i].length > 0) {\n                var column = this.parent.getColumnByField(customEditorColumns[parseInt(i.toString(), 10)], this.parent.treeGridModule.treeGridColumns);\n                if (column) {\n                    if (column.field === this.parent.taskFields.id) {\n                        this.updateIDColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.progress && isNullOrUndefined(column.edit)) {\n                        this.updateProgessColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.resourceInfo) {\n                        this.updateResourceColumnEditor(column);\n                    }\n                    else if (column.field === this.parent.taskFields.type || column.field === 'taskType') {\n                        this.updateTaskTypeColumnEditor(column);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Method to update editors for id column in Gantt\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateIDColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            decimals: 0,\n            enableRtl: this.parent.enableRtl,\n            validateDecimalOnType: true,\n            format: 'n0',\n            showSpinButton: false\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Method to update edit params of default progress column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateProgessColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            enableRtl: this.parent.enableRtl,\n            decimals: 0,\n            validateDecimalOnType: true,\n            max: 100,\n            format: 'n0'\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Assign edit params for id and progress columns\n     *\n     * @param {ColumnModel} column .\n     * @param {object} editParam .\n     * @returns {void} .\n     */\n    Edit.prototype.updateEditParams = function (column, editParam) {\n        if (isNullOrUndefined(column.edit)) {\n            column.edit = {};\n            column.edit.params = {};\n        }\n        else if (isNullOrUndefined(column.edit.params)) {\n            column.edit.params = {};\n        }\n        extend(editParam, column.edit.params);\n        column.edit.params = editParam;\n        var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n        ganttColumn.edit = column.edit;\n    };\n    /**\n     * Method to update resource column editor for default resource column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getResourceEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create resource custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getResourceEditor = function () {\n        var _this = this;\n        var resourceSettings = this.parent.resourceFields;\n        var editObject = {};\n        var editor;\n        MultiSelect.Inject(CheckBoxSelection);\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new MultiSelect({\n                dataSource: new DataManager(_this.parent.resources),\n                fields: { text: resourceSettings.name, value: resourceSettings.id },\n                enableRtl: _this.parent.enableRtl,\n                mode: 'CheckBox',\n                showDropDownIcon: true,\n                popupHeight: '350px',\n                delimiterChar: ',',\n                value: _this.parent.treeGridModule.getResourceIds(args.rowData)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var resourcesName = [];\n            if (isNullOrUndefined(value)) {\n                value = [];\n            }\n            for (var i = 0; i < value.length; i++) {\n                for (var j = 0; j < _this.parent.resources.length; j++) {\n                    if (_this.parent.resources[j][resourceSettings.id] === value[i]) {\n                        resourcesName.push(_this.parent.resources[j][resourceSettings.name]);\n                        break;\n                    }\n                }\n            }\n            _this.parent.treeGridModule.currentEditRow[_this.parent.taskFields.resourceInfo] = value;\n            return resourcesName.join(',');\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * Method to update task type column editor for task type\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskTypeColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getTaskTypeEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create task type custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getTaskTypeEditor = function () {\n        var _this = this;\n        var editObject = {};\n        var editor;\n        var types = [{ 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }];\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new DropDownList({\n                dataSource: new DataManager(types),\n                enableRtl: _this.parent.enableRtl,\n                fields: { value: 'Value' },\n                popupHeight: '350px',\n                value: getValue('taskType', args.rowData.ganttProperties)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var key = _this.parent.taskFields.type || 'taskType';\n            _this.parent.treeGridModule.currentEditRow[key] = value;\n            return value;\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdateEditModules = function () {\n        var editSettings = this.parent.editSettings;\n        if (editSettings.allowEditing) {\n            if (this.parent.editModule.cellEditModule && editSettings.mode === 'Dialog') {\n                this.cellEditModule.destroy();\n                this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n            }\n            else if (isNullOrUndefined(this.parent.editModule.cellEditModule) && editSettings.mode === 'Auto') {\n                this.cellEditModule = new CellEdit(this.parent);\n            }\n            if (this.parent.editModule.dialogModule && editSettings.mode === 'Auto') {\n                this.parent.treeGrid.recordDoubleClick = undefined;\n            }\n            else if (isNullOrUndefined(this.parent.editModule.dialogModule)) {\n                this.dialogModule = new DialogEdit(this.parent);\n            }\n        }\n        else {\n            if (this.cellEditModule) {\n                this.cellEditModule.destroy();\n            }\n            if (this.dialogModule) {\n                this.dialogModule.destroy();\n            }\n        }\n        if (editSettings.allowDeleting && editSettings.showDeleteConfirmDialog) {\n            if (isNullOrUndefined(this.confirmDialog)) {\n                var confirmDialog = createElement('div', {\n                    id: this.parent.element.id + '_deleteConfirmDialog'\n                });\n                this.parent.element.appendChild(confirmDialog);\n                this.renderDeleteConfirmDialog();\n            }\n        }\n        else if (!editSettings.allowDeleting || !editSettings.showDeleteConfirmDialog) {\n            if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n                this.confirmDialog.destroy();\n            }\n        }\n        if (editSettings.allowTaskbarEditing) {\n            if (isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n                this.taskbarEditModule = new TaskbarEdit(this.parent);\n            }\n        }\n        else {\n            if (this.taskbarEditModule) {\n                this.taskbarEditModule.destroy();\n            }\n        }\n    };\n    Edit.prototype.recordDoubleClick = function (args) {\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Dialog') {\n            var ganttData = void 0;\n            if (args.row) {\n                var rowIndex = getValue('rowIndex', args.row);\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n            if (!isNullOrUndefined(ganttData)) {\n                this.dialogModule.openEditDialog(ganttData);\n            }\n        }\n        this.parent.ganttChartModule.recordDoubleClick(args);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.destroy = function () {\n        if (this.cellEditModule) {\n            this.cellEditModule.destroy();\n        }\n        if (this.taskbarEditModule) {\n            this.taskbarEditModule.destroy();\n        }\n        if (this.dialogModule) {\n            this.dialogModule.destroy();\n        }\n        if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n            this.confirmDialog.destroy();\n        }\n    };\n    /**\n     * Method to update record with new values.\n     *\n     * @param {Object} data - Defines new data to update.\n     * @returns {void} .\n     */\n    Edit.prototype.updateRecordByID = function (data) {\n        if (this.parent.enableImmutableMode && this.parent.editSettings.allowEditing &&\n            this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        if (!this.parent.readOnly) {\n            var tasks = this.parent.taskFields;\n            if (isNullOrUndefined(data) || isNullOrUndefined(data[tasks.id])) {\n                return;\n            }\n            var ganttData = this.parent.viewType === 'ResourceView' ?\n                this.parent.flatData[this.parent.getTaskIds().indexOf('T' + data[tasks.id])] : this.parent.getRecordByID(data[tasks.id]);\n            if (!isNullOrUndefined(ganttData[tasks.milestone])) {\n                if (ganttData[tasks.milestone] === true) {\n                    ganttData[tasks.milestone] = false;\n                }\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Edit') && ganttData) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['requestType'] = ((this.parent.contextMenuModule && this.parent.contextMenuModule.item) ? this.parent.contextMenuModule.item : 'methodUpdate');\n                details['modifiedRecords'] = extend([], [ganttData], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            if (!isNullOrUndefined(this.parent.editModule) && ganttData) {\n                this.parent.isOnEdit = true;\n                this.validateUpdateValues(data, ganttData, true);\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    if (this.parent.viewType === 'ProjectView' && data['ganttProperties'].predecessor) {\n                        var _loop_1 = function (i) {\n                            var isValid = ganttData.ganttProperties.predecessor.filter(function (pred) {\n                                return pred.from !== data['ganttProperties'].predecessor[i].from && pred.from !== data['ganttProperties'].predecessor[i].to;\n                            });\n                            if (isValid.length > 0) {\n                                for (var j = 0; j < isValid.length; j++) {\n                                    var record = this_1.parent.flatData[this_1.parent.ids.indexOf(isValid[j].from)];\n                                    for (var k = 0; k < record.ganttProperties.predecessor.length; k++) {\n                                        if (record.ganttProperties.predecessor[k].from === isValid[j].from &&\n                                            record.ganttProperties.predecessor[k].to === isValid[j].to) {\n                                            record.ganttProperties.predecessor.splice(k, 1);\n                                            break;\n                                        }\n                                    }\n                                }\n                                return \"break\";\n                            }\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < data['ganttProperties'].predecessor.length; i++) {\n                            var state_1 = _loop_1(i);\n                            if (state_1 === \"break\")\n                                break;\n                        }\n                    }\n                    else if (!data['ganttProperties'].predecessor && ganttData.ganttProperties.predecessor) {\n                        for (var i = 0; i < ganttData.ganttProperties.predecessor.length; i++) {\n                            var id = void 0;\n                            if (ganttData.ganttProperties.taskId.toString() === ganttData.ganttProperties.predecessor[i].from) {\n                                id = ganttData.ganttProperties.predecessor[i].to;\n                            }\n                            else {\n                                id = ganttData.ganttProperties.predecessor[i].from;\n                            }\n                            var parentRec = this.parent.flatData[this.parent.ids.indexOf(id)];\n                            for (var j = 0; j < parentRec.ganttProperties.predecessor.length; j++) {\n                                if (parentRec.ganttProperties.predecessor[j].from ===\n                                    ganttData.ganttProperties.predecessor[i].from &&\n                                    parentRec.ganttProperties.predecessor[j].to ===\n                                        ganttData.ganttProperties.predecessor[i].to) {\n                                    parentRec.ganttProperties.predecessor.splice(j, 1);\n                                }\n                            }\n                        }\n                    }\n                    ganttData.ganttProperties.resourceInfo = data['ganttProperties'].resourceInfo;\n                }\n                if (data[this.parent.taskFields.resourceInfo]) {\n                    if (ganttData.ganttProperties.duration === 0) {\n                        this.parent.dataOperation.updateWorkWithDuration(ganttData);\n                    }\n                    if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        this.updateResourceRelatedFields(ganttData, 'resource');\n                    }\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                var keys = Object.keys(data);\n                if (keys.indexOf(tasks.startDate) !== -1 || keys.indexOf(tasks.endDate) !== -1 ||\n                    keys.indexOf(tasks.duration) !== -1) {\n                    this.parent.dataOperation.calculateScheduledValues(ganttData, ganttData.taskData, false);\n                }\n                this.parent.dataOperation.updateWidthLeft(ganttData);\n                if (!isUndefined(data[this.parent.taskFields.dependency]) &&\n                    data[this.parent.taskFields.dependency] !== ganttData.ganttProperties.predecessorsName) {\n                    this.parent.connectorLineEditModule.updatePredecessor(ganttData, data[this.parent.taskFields.dependency]);\n                }\n                else {\n                    var args = {};\n                    args.data = ganttData;\n                    if (this.parent.viewType === 'ResourceView') {\n                        args.action = 'methodUpdate';\n                    }\n                    this.parent.editModule.initiateUpdateAction(args);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isFromDialog .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateUpdateValues = function (data, ganttData, isFromDialog) {\n        var ganttObj = this.parent;\n        var tasks = ganttObj.taskFields;\n        var ganttPropByMapping = getSwapKey(ganttObj.columnMapping);\n        var scheduleFieldNames = [];\n        var isScheduleValueUpdated = false;\n        for (var _i = 0, _b = Object.keys(data); _i < _b.length; _i++) {\n            var key = _b[_i];\n            if ([tasks.startDate, tasks.endDate, tasks.duration].indexOf(key) !== -1) {\n                if (isNullOrUndefined(data[\"\" + key]) && !ganttObj.allowUnscheduledTasks) {\n                    continue;\n                }\n                if (isFromDialog) {\n                    if (tasks.duration === key) {\n                        ganttObj.dataOperation.updateDurationValue(data[key], ganttData.ganttProperties);\n                        if (ganttData.ganttProperties.duration > 0 && ganttData.ganttProperties.isMilestone) {\n                            this.parent.setRecordValue('isMilestone', false, ganttData.ganttProperties, true);\n                        }\n                        ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                    }\n                    else {\n                        var tempDate = typeof data[key] === 'string' ? new Date(data[key]) : data[key];\n                        if (key === tasks.endDate && isNullOrUndefined(ganttData.ganttProperties.startDate) && (isNullOrUndefined(data[tasks.duration]) || data[tasks.duration] === '' || Number.isNaN(data[tasks.duration]))) {\n                            tempDate = ganttData.ganttProperties.endDate;\n                        }\n                        ganttObj.setRecordValue(ganttPropByMapping[key], tempDate, ganttData.ganttProperties, true);\n                        ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                    }\n                }\n                else {\n                    scheduleFieldNames.push(key);\n                    isScheduleValueUpdated = true;\n                }\n            }\n            else if (tasks.resourceInfo === key) {\n                var resourceData = ganttObj.dataOperation.setResourceInfo(data);\n                if (this.parent.viewType === 'ResourceView') {\n                    if (JSON.stringify(resourceData) !== JSON.stringify(ganttData.ganttProperties.resourceInfo)) {\n                        this.parent.editModule.dialogModule.isResourceUpdate = true;\n                        this.parent.editModule.dialogModule.previousResource = !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) ? ganttData.ganttProperties.resourceInfo.slice() : [];\n                    }\n                    else {\n                        this.parent.editModule.dialogModule.isResourceUpdate = false;\n                    }\n                }\n                if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    ganttData.ganttProperties.resourceInfo = resourceData;\n                }\n                ganttObj.dataOperation.updateMappingData(ganttData, 'resourceInfo');\n            }\n            else if (tasks.dependency === key) {\n                //..\n            }\n            else if ([tasks.progress, tasks.notes, tasks.durationUnit, tasks.expandState,\n                tasks.milestone, tasks.name, tasks.baselineStartDate,\n                tasks.baselineEndDate, tasks.id, tasks.segments, tasks.cssClass].indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (!isNullOrUndefined(column) && (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit')) {\n                    value = ganttObj.dataOperation.getDateFromFormat(value);\n                }\n                var ganttPropKey = ganttPropByMapping[key];\n                if (key === tasks.id) {\n                    ganttPropKey = 'taskId';\n                }\n                else if (key === tasks.name) {\n                    ganttPropKey = 'taskName';\n                }\n                else if (key === tasks.cssClass) {\n                    ganttPropKey = 'cssClass';\n                }\n                else if (key === tasks.milestone) {\n                    ganttPropKey = 'isMilestone';\n                    if (!isNullOrUndefined(tasks.duration)) {\n                        var ganttProp = ganttData.ganttProperties;\n                        var durationValue = data[tasks.duration];\n                        if (value) {\n                            durationValue = 0;\n                        }\n                        else {\n                            durationValue = durationValue <= 0 ? 1 : durationValue;\n                        }\n                        ganttObj.setRecordValue(tasks.duration, durationValue, ganttData, true);\n                        ganttObj.setRecordValue('duration', durationValue, ganttProp, true);\n                        ganttObj.setRecordValue('taskData.' + tasks.duration, durationValue, ganttData);\n                    }\n                }\n                else if ((key === tasks.segments) && (!isNullOrUndefined(ganttData.ganttProperties.segments))) {\n                    ganttPropKey = 'segments';\n                    /* eslint-disable-next-line */\n                    if (data && !isNullOrUndefined(data[this.parent.taskFields.segments]) && data[this.parent.taskFields.segments].length > 0) {\n                        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                            ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                        }\n                        var totDuration = 0;\n                        for (var i = 0; i < ganttData.ganttProperties.segments.length; i++) {\n                            totDuration = totDuration + ganttData.ganttProperties.segments[i].duration;\n                        }\n                        var sdate = ganttData.ganttProperties.startDate;\n                        /* eslint-disable-next-line */\n                        var edate = this.parent.dataOperation.getEndDate(sdate, totDuration, ganttData.ganttProperties.durationUnit, ganttData.ganttProperties, false);\n                        ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(edate), ganttData.ganttProperties, true);\n                    }\n                }\n                if (!isNullOrUndefined(ganttPropKey)) {\n                    var seg = [];\n                    if (ganttPropKey === 'segments' && value && value.length > 0) {\n                        for (var i = 0; i < value.length; i++) {\n                            var segment = {};\n                            if (value[i][this.parent.taskFields.startDate]) {\n                                segment['startDate'] = value[i][this.parent.taskFields.startDate];\n                            }\n                            if (value[i][this.parent.taskFields.endDate]) {\n                                segment['endDate'] = value[i][this.parent.taskFields.endDate];\n                            }\n                            if (value[i][this.parent.taskFields.duration]) {\n                                segment['duration'] = parseFloat(value[i][this.parent.taskFields.duration]);\n                            }\n                            if (value[i][this.parent.taskFields.id]) {\n                                segment['id'] = value[i][this.parent.taskFields.id];\n                            }\n                            seg.push(segment);\n                        }\n                        ganttObj.setRecordValue(ganttPropKey, seg, ganttData.ganttProperties, true);\n                    }\n                    else {\n                        ganttObj.setRecordValue(ganttPropKey, value, ganttData.ganttProperties, true);\n                    }\n                }\n                if ((key === tasks.baselineStartDate || key === tasks.baselineEndDate) &&\n                    (ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate)) {\n                    ganttObj.setRecordValue('baselineStartDate', ganttObj.dataOperation.checkBaselineStartDate(ganttData.ganttProperties.baselineStartDate, ganttData.ganttProperties), ganttData.ganttProperties, true);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](ganttData.ganttProperties.baselineEndDate);\n                    if (ganttData.ganttProperties.baselineEndDate && ganttData.ganttProperties.baselineEndDate.getHours() === 0 &&\n                        dayEndTime !== 86400) {\n                        ganttObj.dataOperation.setTime(dayEndTime, ganttData.ganttProperties.baselineEndDate);\n                    }\n                    if ((ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate &&\n                        (ganttData.ganttProperties.baselineStartDate.getTime() > ganttData.ganttProperties.baselineEndDate.getTime())) ||\n                        ((!isNullOrUndefined(ganttData.ganttProperties.baselineStartDate) &&\n                            !isNullOrUndefined(ganttData.ganttProperties.startDate) &&\n                            (ganttData.ganttProperties.baselineStartDate.getTime() === ganttData.ganttProperties.startDate.getTime()))\n                            && (!isNullOrUndefined(ganttData.ganttProperties.baselineEndDate) &&\n                                !isNullOrUndefined(ganttData.ganttProperties.endDate) &&\n                                (ganttData.ganttProperties.baselineEndDate.toLocaleDateString() ===\n                                    ganttData.ganttProperties.endDate.toLocaleDateString())) &&\n                            ganttData.ganttProperties.isMilestone)) {\n                        ganttData.ganttProperties.baselineEndDate = ganttData.ganttProperties.baselineStartDate;\n                    }\n                    ganttObj.setRecordValue('baselineEndDate', ganttObj.dataOperation.checkBaselineEndDate(ganttData.ganttProperties.baselineEndDate), ganttData.ganttProperties, true);\n                    ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(ganttData.ganttProperties), ganttData.ganttProperties, true);\n                    ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(ganttData.ganttProperties), ganttData.ganttProperties, true);\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                /* eslint-disable-next-line */\n                if (key === tasks.segments && data && !isNullOrUndefined(data[this.parent.taskFields.segments]) && data[this.parent.taskFields.segments].length > 0) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                    }\n                    ganttObj.dataOperation.setSegmentsInfo(ganttData, true);\n                }\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.indicators === key) {\n                var value = data[key];\n                ganttObj.setRecordValue('indicators', value, ganttData.ganttProperties, true);\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.work === key) {\n                ganttObj.setRecordValue('work', data[key], ganttData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(ganttData, 'work');\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n            }\n            else if (key === tasks.type) {\n                ganttObj.setRecordValue('taskType', data[key], ganttData.ganttProperties, true);\n                //this.parent.dataOperation.updateMappingData(ganttData, 'taskType');\n            }\n            else if (ganttObj.customColumns.indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (isNullOrUndefined(column.edit)) {\n                    if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n                        value = ganttObj.dataOperation.getDateFromFormat(value);\n                    }\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.manual === key) {\n                ganttObj.setRecordValue('isAutoSchedule', !data[key], ganttData.ganttProperties, true);\n                this.parent.setRecordValue(key, data[key], ganttData);\n                this.updateTaskScheduleModes(ganttData);\n            }\n        }\n        if (isScheduleValueUpdated) {\n            this.validateScheduleValues(scheduleFieldNames, ganttData, data);\n        }\n    };\n    /**\n     * To update duration, work, resource unit\n     *\n     * @param {IGanttData} currentData .\n     * @param {string} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceRelatedFields = function (currentData, column) {\n        var ganttProp = currentData.ganttProperties;\n        var taskType = ganttProp.taskType;\n        var isEffectDriven;\n        var isAutoSchedule = ganttProp.isAutoSchedule;\n        var resources = (this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : currentData.ganttProperties.resourceInfo;\n        if (!isNullOrUndefined(resources)) {\n            switch (taskType) {\n                case 'FixedUnit':\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule && resources.length) {\n                        if ((column === 'resource')) {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                        else if (column === 'work') {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                        else if (column === 'duration') {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                            }\n                        }\n                    }\n                    else if (!isAutoSchedule && column === 'work') {\n                        this.parent.dataOperation.updateUnitWithWork(currentData);\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n                case 'FixedWork':\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule) {\n                        if (column === 'duration' || column === 'endDate') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                                this.parent.setRecordValue('work', 0, ganttProp, true);\n                                if (!isNullOrUndefined(this.parent.taskFields.work)) {\n                                    this.parent.dataOperation.updateMappingData(currentData, 'work');\n                                }\n                            }\n                        }\n                        else {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                    }\n                    else {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                    }\n                    break;\n                case 'FixedDuration':\n                    if (resources.length && (column === 'work' || (isAutoSchedule &&\n                        isEffectDriven && (column === 'resource')))) {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n            }\n        }\n    };\n    Edit.prototype.validateScheduleValues = function (fieldNames, ganttData, data) {\n        var ganttObj = this.parent;\n        if (fieldNames.length > 2) {\n            ganttObj.dataOperation.calculateScheduledValues(ganttData, data, false);\n        }\n        else if (fieldNames.length > 1) {\n            this.validateScheduleByTwoValues(data, fieldNames, ganttData);\n        }\n        else {\n            this.dialogModule.validateScheduleValuesByCurrentField(fieldNames[0], data[fieldNames[0]], ganttData);\n        }\n    };\n    Edit.prototype.validateScheduleByTwoValues = function (data, fieldNames, ganttData) {\n        var ganttObj = this.parent;\n        var startDate;\n        var endDate;\n        var duration;\n        var tasks = ganttObj.taskFields;\n        var ganttProp = ganttData.ganttProperties;\n        var isUnscheduledTask = ganttObj.allowUnscheduledTasks;\n        if (fieldNames.indexOf(tasks.startDate) !== -1) {\n            startDate = data[tasks.startDate];\n        }\n        if (fieldNames.indexOf(tasks.endDate) !== -1) {\n            endDate = data[tasks.endDate];\n        }\n        if (fieldNames.indexOf(tasks.duration) !== -1) {\n            duration = data[tasks.duration];\n        }\n        if (startDate && endDate || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1) &&\n            (fieldNames.indexOf(tasks.endDate) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.calculateDuration(ganttData);\n        }\n        else if (endDate && duration || (isUnscheduledTask &&\n            (fieldNames.indexOf(tasks.endDate) !== -1) && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n        else if (startDate && duration || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1)\n            && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n    };\n    Edit.prototype.isTaskbarMoved = function (data) {\n        var isMoved = false;\n        var taskData = data.ganttProperties;\n        var prevData = this.parent.previousRecords &&\n            this.parent.previousRecords[data.uniqueID];\n        if (prevData && prevData.ganttProperties) {\n            var prevStart = getValue('ganttProperties.startDate', prevData);\n            var prevEnd = getValue('ganttProperties.endDate', prevData);\n            var prevDuration = getValue('ganttProperties.duration', prevData);\n            var prevDurationUnit = getValue('ganttProperties.durationUnit', prevData);\n            var keys = Object.keys(prevData.ganttProperties);\n            if (keys.indexOf('startDate') !== -1 || keys.indexOf('endDate') !== -1 ||\n                keys.indexOf('duration') !== -1 || keys.indexOf('durationUnit') !== -1) {\n                if ((isNullOrUndefined(prevStart) && !isNullOrUndefined(taskData.startDate)) ||\n                    (isNullOrUndefined(prevEnd) && !isNullOrUndefined(taskData.endDate)) ||\n                    (isNullOrUndefined(taskData.startDate) && !isNullOrUndefined(prevStart)) ||\n                    (isNullOrUndefined(taskData.endDate) && !isNullOrUndefined(prevEnd)) ||\n                    (prevStart && prevStart.getTime() !== taskData.startDate.getTime())\n                    || (prevEnd && prevEnd.getTime() !== taskData.endDate.getTime())\n                    || (!isNullOrUndefined(prevDuration) && prevDuration !== taskData.duration)\n                    || (!isNullOrUndefined(prevDuration) && prevDuration === taskData.duration &&\n                        prevDurationUnit !== taskData.durationUnit)) {\n                    isMoved = true;\n                }\n            }\n        }\n        return isMoved;\n    };\n    Edit.prototype.isPredecessorUpdated = function (data) {\n        var isPredecessorUpdated = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            if (data.ganttProperties.predecessorsName !== prevData.ganttProperties.predecessorsName) {\n                isPredecessorUpdated = true;\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevData.ganttProperties.predecessor, data.ganttProperties, true);\n            }\n        }\n        return isPredecessorUpdated;\n    };\n    /**\n     * Method to check need to open predecessor validate dialog\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     */\n    Edit.prototype.isCheckPredecessor = function (data) {\n        var isValidatePredecessor = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        if (prevData && this.parent.taskFields.dependency && this.parent.isInPredecessorValidation &&\n            this.parent.predecessorModule.getValidPredecessor(data).length > 0) {\n            if (this.isTaskbarMoved(data)) {\n                isValidatePredecessor = true;\n            }\n        }\n        return isValidatePredecessor;\n    };\n    /**\n     * Method to copy the ganttProperties values\n     *\n     * @param {IGanttData} data .\n     * @param {IGanttData} updateData .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateGanttProperties = function (data, updateData) {\n        var skipProperty = ['taskId', 'uniqueID', 'rowUniqueID', 'parentId'];\n        Object.keys(data.ganttProperties).forEach(function (property) {\n            if (skipProperty.indexOf(property) === -1) {\n                updateData.ganttProperties[property] = data.ganttProperties[property];\n            }\n        });\n    };\n    /**\n     * Method to update all dependent record on edit action\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateUpdateAction = function (args) {\n        var isValidatePredecessor = this.isCheckPredecessor(args.data);\n        var parentData;\n        var childRecordIndex;\n        if (!isNullOrUndefined(args.data.parentItem) && !isValidatePredecessor) {\n            parentData = this.parent.getRecordByID(args.data.parentItem.taskId);\n            if (this.isTaskbarMoved(args.data) && this.parent.predecessorModule.getValidPredecessor(parentData).length > 0\n                && this.parent.isInPredecessorValidation) {\n                isValidatePredecessor = true;\n            }\n            else {\n                isValidatePredecessor = false;\n            }\n        }\n        else if (args.data.childRecords.length > 0 && !isValidatePredecessor) {\n            isValidatePredecessor = this.isCheckPredecessor(args.data);\n            if (!isValidatePredecessor && this.isTaskbarMoved(args.data)) {\n                for (var i = 0; i < args.data.childRecords.length; i++) {\n                    if (this.parent.predecessorModule.getValidPredecessor(args.data.childRecords[i]).length > 0) {\n                        childRecordIndex = i;\n                        isValidatePredecessor = true;\n                    }\n                }\n            }\n        }\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['currentAction'] ||\n            (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['action'] !== 'indent' &&\n                this.parent.undoRedoModule['currentAction']['action'] !== 'outdent'))) {\n            this.taskbarMoved = this.isTaskbarMoved(args.data);\n        }\n        this.predecessorUpdated = this.isPredecessorUpdated(args.data);\n        if (this.predecessorUpdated) {\n            this.parent.isConnectorLineUpdate = true;\n            this.parent.connectorLineEditModule.addRemovePredecessor(args.data);\n        }\n        var validateObject = {};\n        if (isValidatePredecessor) {\n            if (!isNullOrUndefined(parentData)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(parentData, args.data);\n            }\n            else if (!isNullOrUndefined(childRecordIndex)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data.childRecords[childRecordIndex], args.data);\n            }\n            else {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data);\n            }\n            this.parent.isConnectorLineUpdate = true;\n            if (!isNullOrUndefined(getValue('violationType', validateObject))) {\n                var newArgs = this.validateTaskEvent(args);\n                if (newArgs.validateMode.preserveLinkWithEditing === false &&\n                    newArgs.validateMode.removeLink === false &&\n                    newArgs.validateMode.respectLink === false) {\n                    this.parent.connectorLineEditModule.openValidationDialog(validateObject);\n                }\n                else {\n                    if (this.parent.editModule && this.parent.editModule.dialogModule &&\n                        this.parent.editModule.dialogModule['isEdit'] && this.predecessorUpdated) {\n                        this.isValidatedEditedRecord = true;\n                        this.parent.predecessorModule.validatePredecessor(args.data, [], '');\n                    }\n                    this.parent.connectorLineEditModule.applyPredecessorOption();\n                }\n            }\n            else {\n                this.updateEditedTask(args);\n            }\n        }\n        else {\n            if (this.taskbarMoved) {\n                this.parent.isConnectorLineUpdate = true;\n            }\n            this.updateEditedTask(args);\n        }\n    };\n    /**\n     *\n     * @param {ITaskbarEditedEventArgs} editedEventArgs method to trigger validate predecessor link by dialog\n     * @returns {IValidateArgs} .\n     */\n    Edit.prototype.validateTaskEvent = function (editedEventArgs) {\n        var newArgs = {};\n        this.resetValidateArgs();\n        this.parent.currentEditedArgs = newArgs;\n        newArgs.cancel = false;\n        newArgs.data = editedEventArgs.data;\n        newArgs.requestType = 'validateLinkedTask';\n        newArgs.validateMode = this.parent.dialogValidateMode;\n        newArgs.editEventArgs = editedEventArgs;\n        this.parent.actionBeginTask(newArgs);\n        return newArgs;\n    };\n    Edit.prototype.resetValidateArgs = function () {\n        this.parent.dialogValidateMode.preserveLinkWithEditing = true;\n        this.parent.dialogValidateMode.removeLink = false;\n        this.parent.dialogValidateMode.respectLink = false;\n    };\n    /**\n     *\n     * @param {ITaskAddedEventArgs} args - Edited event args like taskbar editing, dialog editing, cell editing\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateEditedTask = function (args) {\n        var ganttRecord = args.data;\n        this.editedRecord = ganttRecord;\n        if (this.parent.autoCalculateDateScheduling) {\n            this.updateParentChildRecord(ganttRecord);\n        }\n        if (this.parent.predecessorModule) {\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n        }\n        if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) && this.parent.autoCalculateDateScheduling) {\n            /* validating predecessor for updated child items */\n            for (var i = 0; i < this.parent.predecessorModule.validatedChildItems.length; i++) {\n                var child = this.parent.predecessorModule.validatedChildItems[i];\n                if (child.ganttProperties.predecessor && child.ganttProperties.predecessor.length > 0) {\n                    this.parent.editedTaskBarItem = child;\n                    if (!this.isValidatedEditedRecord) {\n                        this.isFirstCall = true;\n                    }\n                    this.parent.predecessorModule.validatePredecessor(child, [], '');\n                }\n            }\n            /** validating predecessor for current edited records */\n            if (ganttRecord.ganttProperties.predecessor) {\n                this.parent.isMileStoneEdited = ganttRecord.ganttProperties.isMilestone;\n                if (this.taskbarMoved) {\n                    this.parent.editedTaskBarItem = ganttRecord;\n                }\n                if (!this.isValidatedEditedRecord) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(ganttRecord, [], '');\n                    this.parent.predecessorModule.isChildRecordValidated = [];\n                }\n                this.isValidatedEditedRecord = false;\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.allowParentDependency && this.parent.predecessorModule.isValidatedParentTaskID !==\n                ganttRecord.ganttProperties.taskId && ganttRecord.hasChildRecords &&\n                this.parent.previousRecords[ganttRecord.uniqueID].ganttProperties.startDate && (args.action === 'DrawConnectorLine')) {\n                this.parent.predecessorModule['updateChildItems'](ganttRecord);\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                    if (ganttRecord.childRecords[i].ganttProperties.predecessor) {\n                        this.parent.predecessorModule.validatePredecessor(ganttRecord.childRecords[i], [], '');\n                    }\n                }\n            }\n            this.updateParentItemOnEditing();\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n        /** Update parent up-to zeroth level */\n        if (ganttRecord.parentItem) {\n            if (this.parent.autoCalculateDateScheduling) {\n                this.parent.dataOperation.updateParentItems(ganttRecord, true);\n            }\n            var parentData = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            if (!isNullOrUndefined(parentData)) {\n                if (!parentData.ganttProperties.predecessorsName) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(parentData, [], '');\n                    this.updateParentItemOnEditing();\n                }\n            }\n        }\n        if (this.parent.updateOffsetOnTaskbarEdit && this.parent.connectorLineEditModule && args.data) {\n            this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n            this.parent.connectorLineEditModule['calculateOffset'](args.data);\n        }\n        this.parent.predecessorModule['validatedParentIds'] = [];\n        this.initiateSaveAction(args);\n    };\n    Edit.prototype.updateParentItemOnEditing = function () {\n        var _this = this;\n        var childRecord = getValue('parentRecord', this.parent.predecessorModule);\n        for (var i = 0; i < childRecord.length; i++) {\n            this.parent.dataOperation.updateParentItems(childRecord[i]);\n        }\n        if (this.parent.editModule['updateParentRecords'] && this.parent.editModule['updateParentRecords'].length > 0) {\n            this.parent.editModule['updateParentRecords'].forEach(function (record) {\n                if (record.ganttProperties.predecessor && record.ganttProperties.predecessor.length > 0) {\n                    _this.parent.predecessorModule.validatePredecessor(record, [], '');\n                }\n            });\n        }\n        setValue('parentRecord', [], this.parent.predecessorModule);\n        setValue('parentIds', [], this.parent.predecessorModule);\n    };\n    /**\n     * To update parent records while perform drag action.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentChildRecord = function (data) {\n        var ganttRecord = data;\n        if (ganttRecord.hasChildRecords && this.taskbarMoved && (ganttRecord[this.parent.taskFields.manual] === false ||\n            this.parent.taskMode === 'Auto') && (!isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isResourceCellEdited)) {\n            this.parent.predecessorModule['updateChildItems'](ganttRecord);\n        }\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n            this.parent.editModule.cellEditModule.isResourceCellEdited = false;\n        }\n    };\n    /**\n     * To update records while changing schedule mode.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateTaskScheduleModes = function (data) {\n        var currentValue = data[this.parent.taskFields.startDate];\n        var ganttProp = data.ganttProperties;\n        if (data.hasChildRecords && ganttProp.isAutoSchedule) {\n            this.parent.setRecordValue('startDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('endDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('taskData.StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('taskData.EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data, true), ganttProp, true);\n            this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttProp, true), ganttProp, true);\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(ganttProp.width, ganttProp.progress), ganttProp, true);\n            this.parent.dataOperation.calculateDuration(data);\n        }\n        else if (data.hasChildRecords && !ganttProp.isAutoSchedule) {\n            this.parent.dataOperation.updateWidthLeft(data);\n            this.parent.dataOperation.calculateDuration(data);\n            this.parent.setRecordValue('autoStartDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('autoEndDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('autoDuration', this.parent.dataOperation.calculateAutoDuration(data), ganttProp, true);\n            this.parent.dataOperation.updateAutoWidthLeft(data);\n        }\n        else {\n            var startDate = this.parent.dateValidationModule.checkStartDate(currentValue, data.ganttProperties);\n            this.parent.setRecordValue('startDate', startDate, data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(data, 'startDate');\n            this.parent.dateValidationModule.calculateEndDate(data);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.manual, data[this.parent.taskFields.manual], data);\n            this.parent.dataOperation.updateWidthLeft(data);\n        }\n    };\n    /**\n     * To update progress value of parent tasks\n     *\n     * @param {IParent} cloneParent .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentProgress = function (cloneParent) {\n        var parentProgress = 0;\n        var parent = this.parent.getParentTask(cloneParent);\n        var childRecords = parent.childRecords;\n        var childCount = childRecords ? childRecords.length : 0;\n        var totalProgress = 0;\n        var milesStoneCount = 0;\n        var taskCount = 0;\n        var totalDuration = 0;\n        var progressValues = {};\n        if (childRecords) {\n            for (var i = 0; i < childCount; i++) {\n                if ((!childRecords[i].ganttProperties.isMilestone || childRecords[i].hasChildRecords) &&\n                    isScheduledTask(childRecords[i].ganttProperties)) {\n                    progressValues = this.parent.dataOperation.getParentProgress(childRecords[i]);\n                    totalProgress += getValue('totalProgress', progressValues);\n                    totalDuration += getValue('totalDuration', progressValues);\n                }\n                else {\n                    milesStoneCount += 1;\n                }\n            }\n            taskCount = childCount - milesStoneCount;\n            parentProgress = taskCount > 0 ? Math.round(totalProgress / totalDuration) : 0;\n            if (isNaN(parentProgress)) {\n                parentProgress = 0;\n            }\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(parent.ganttProperties.isAutoSchedule ? parent.ganttProperties.width : parent.ganttProperties.autoWidth, parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('progress', Math.floor(parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('totalProgress', totalProgress, parent.ganttProperties, true);\n            this.parent.setRecordValue('totalDuration', totalDuration, parent.ganttProperties, true);\n        }\n        this.parent.dataOperation.updateTaskData(parent);\n        if (parent.parentItem) {\n            this.updateParentProgress(parent.parentItem);\n        }\n    };\n    /**\n     * Method to revert cell edit action\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.revertCellEdit = function (args) {\n        this.parent.editModule.reUpdatePreviousRecords(false, true);\n        this.resetEditProperties();\n    };\n    /**\n     * @param {boolean} isRefreshChart .\n     * @param {boolean} isRefreshGrid .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdatePreviousRecords = function (isRefreshChart, isRefreshGrid) {\n        var collection = this.parent.previousRecords;\n        var keys = Object.keys(collection);\n        for (var i = 0; i < keys.length; i++) {\n            var uniqueId = keys[i];\n            var prevTask = collection[uniqueId];\n            var originalData = this.parent.getTaskByUniqueID(uniqueId);\n            this.copyTaskData(originalData.taskData, prevTask.taskData);\n            delete prevTask.taskData;\n            this.copyTaskData(originalData.ganttProperties, prevTask.ganttProperties);\n            delete prevTask.ganttProperties;\n            this.copyTaskData(originalData, prevTask);\n            var rowIndex = this.parent.currentViewData.indexOf(originalData);\n            if (isRefreshChart) {\n                this.parent.chartRowsModule.refreshRow(rowIndex);\n            }\n            if (isRefreshGrid) {\n                var dataId = this.parent.viewType === 'ProjectView' ? originalData.ganttProperties.taskId : originalData.ganttProperties.rowUniqueID;\n                this.parent.treeGrid.grid.setRowData(dataId, originalData);\n                var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[rowIndex].getAttribute('data-uid'));\n                row.data = originalData;\n            }\n        }\n    };\n    /**\n     * Copy previous task data value to edited task data\n     *\n     * @param {object} existing .\n     * @param {object} newValue .\n     * @returns {void} .\n     */\n    Edit.prototype.copyTaskData = function (existing, newValue) {\n        if (!isNullOrUndefined(newValue)) {\n            extend(existing, newValue);\n        }\n    };\n    /**\n     * To update schedule date on editing.\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.updateScheduleDatesOnEditing = function (args) {\n        //..\n    };\n    /**\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateSaveAction = function (args) {\n        var _this = this;\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeSave';\n        eventArgs.data = args.data;\n        eventArgs.cancel = false;\n        this.createArray = true;\n        if (this.parent.toolbarModule && this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true); // enable toolbar items.\n        }\n        eventArgs.modifiedRecords = this.parent.editedRecords;\n        if (!isNullOrUndefined(args.target)) {\n            eventArgs.target = args.target;\n        }\n        eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, true);\n        if (args.action && args.action === 'DrawConnectorLine') {\n            eventArgs.action = 'DrawConnectorLine';\n        }\n        var ganttObj = this.parent;\n        var currentBaselineStart = __assign({}, eventArgs.data.ganttProperties.baselineStartDate);\n        var currentBaselineEnd = __assign({}, eventArgs.data.ganttProperties.baselineEndDate);\n        var currentProgress = eventArgs.data.ganttProperties.progress;\n        var unModifiedData = JSON.parse(JSON.stringify(eventArgs.data.ganttProperties));\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (currentBaselineStart !== eventArg.data['ganttProperties'].baselineStartDate\n                || currentBaselineEnd !== eventArg.data['ganttProperties'].baselineEndDate) {\n                ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n                ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n            }\n            if (unModifiedData !== eventArg.data['ganttProperties'] && !isNullOrUndefined(eventArg.data['parentItem'])) {\n                _this.updateParentItemOnEditing();\n                _this.parent.dataOperation.updateParentItems(eventArg.data, true);\n            }\n            _this.parent.dataOperation.updateWidthLeft(eventArg.data);\n            if (!isNullOrUndefined(_this.parent.taskFields.progress) && currentProgress !== eventArg.data['ganttProperties'].progress) {\n                var width = eventArg.data['ganttProperties'].isAutoSchedule ? eventArg.data['ganttProperties'].width :\n                    eventArg.data['ganttProperties'].autoWidth;\n                _this.parent.setRecordValue('progressWidth', _this.parent.dataOperation.getProgressWidth(width, eventArg.data['ganttProperties'].progress), eventArg.data['ganttProperties'], true);\n            }\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArg.cancel) {\n                _this.reUpdatePreviousRecords();\n                _this.parent.chartRowsModule.refreshRecords([args.data]);\n                _this.resetEditProperties(eventArgs);\n                // Trigger action complete event with save canceled request type\n            }\n            else {\n                eventArg.modifiedTaskData = getTaskData(eventArg.modifiedRecords, null, null, _this.parent);\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data = _this.parent.dataSource;\n                    var updatedData = {\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    var crud = null;\n                    var dataAdaptor = data.adaptor;\n                    if (!(dataAdaptor instanceof WebApiAdaptor && dataAdaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                        crud = data.saveChanges(updatedData, _this.parent.taskFields.id, null, query);\n                    }\n                    else {\n                        var changedRecords = 'changedRecords';\n                        crud = data.update(_this.parent.taskFields.id, updatedData[changedRecords], null, query);\n                    }\n                    crud.then(function (e) { return _this.dmSuccess(e, args); })\n                        .catch(function (e) { return _this.dmFailure(e, args); });\n                }\n                else {\n                    _this.saveSuccess(args);\n                }\n                if (_this.parent.enableVirtualization && _this.parent.enableTimelineVirtualization) {\n                    _this.parent.ganttChartModule['setVirtualHeight']();\n                }\n                if (_this.parent.undoRedoModule) {\n                    _this.parent.previousFlatData = extend([], _this.parent.flatData, [], true);\n                }\n            }\n        });\n        this.parent.ganttChartModule.reRenderConnectorLines();\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.dmSuccess = function (e, args) {\n        var eLength;\n        var rec;\n        if (e.changedRecords) {\n            eLength = e.changedRecords['length'];\n        }\n        else {\n            eLength = e['length'];\n        }\n        for (var i = 0; i < eLength; i++) {\n            if (e.changedRecords) {\n                rec = e.changedRecords[parseInt(i.toString(), 10)];\n            }\n            else {\n                rec = e[parseInt(i.toString(), 10)];\n            }\n            var _aLength = Object.keys(rec).length;\n            for (var j = 0, _a = Object.keys(rec); j < _aLength; j++) {\n                var key = _a[parseInt(j.toString(), 10)];\n                this.parent.editedRecords[parseInt(i.toString(), 10)][\"\" + key] = rec[\"\" + key];\n                this.parent.editedRecords[parseInt(i.toString(), 10)].taskData[\"\" + key] = rec[\"\" + key];\n            }\n            this.updateEditedRecordFields(rec, this.parent.editedRecords[parseInt(i.toString(), 10)]);\n        }\n        this.saveSuccess(args);\n    };\n    Edit.prototype.updateEditedRecordFields = function (rec, editedRecord) {\n        var fields = this.parent.taskFields;\n        if (fields.id !== null) {\n            editedRecord.ganttProperties['taskId'] = rec[fields.id];\n        }\n        if (fields.name !== null) {\n            editedRecord.ganttProperties['taskName'] = rec[fields.name];\n        }\n        if (fields.startDate !== null) {\n            editedRecord.ganttProperties['startDate'] = rec[fields.startDate];\n        }\n        if (fields.endDate !== null) {\n            editedRecord.ganttProperties['endDate'] = rec[fields.endDate];\n        }\n        if (fields.duration !== null) {\n            editedRecord.ganttProperties['duration'] = parseFloat(rec[fields.duration]);\n        }\n        if (fields.durationUnit !== null) {\n            editedRecord.ganttProperties['durationUnit'] = rec[fields.durationUnit];\n        }\n        if (fields.progress !== null) {\n            editedRecord.ganttProperties['progress'] = rec[fields.progress];\n        }\n        if (fields.dependency !== null) {\n            editedRecord.ganttProperties['dependency'] = rec[fields.dependency];\n        }\n        if (fields.parentID !== null) {\n            editedRecord.ganttProperties['parentID'] = rec[fields.parentID];\n        }\n        if (fields.baselineEndDate !== null) {\n            editedRecord.ganttProperties['baselineEndDate'] = rec[fields.baselineEndDate];\n        }\n        if (fields.baselineStartDate !== null) {\n            editedRecord.ganttProperties['baselineStartDate'] = rec[fields.baselineStartDate];\n        }\n        if (fields.resourceInfo !== null) {\n            editedRecord.ganttProperties['resources'] = rec[fields.resourceInfo];\n        }\n    };\n    Edit.prototype.dmFailure = function (e, args) {\n        if (this.deletedTaskDetails.length) {\n            var deleteRecords = this.deletedTaskDetails;\n            for (var d = 0; d < deleteRecords.length; d++) {\n                deleteRecords[d].isDelete = false;\n            }\n            this.deletedTaskDetails = [];\n        }\n        this.reUpdatePreviousRecords(true, true);\n        this.resetEditProperties();\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.updateSharedTask = function (data) {\n        var ids = data.ganttProperties.sharedTaskUniqueIds;\n        for (var i = 0; i < ids.length; i++) {\n            var editRecord = this.parent.flatData[this.parent.ids.indexOf(ids[i].toString())];\n            if (editRecord && editRecord.uniqueID !== data.uniqueID) {\n                this.updateGanttProperties(data, editRecord);\n                this.parent.setRecordValue('taskData', data.taskData, editRecord, true);\n                this.parent.dataOperation.updateTaskData(editRecord);\n                this.parent.dataOperation.updateResourceName(editRecord);\n                if (!isNullOrUndefined(editRecord.parentItem)) {\n                    this.parent.dataOperation.updateParentItems(editRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Method for save action success for local and remote data\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     */\n    Edit.prototype.saveSuccess = function (args) {\n        var eventArgs = {};\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = this.parent.editedRecords;\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.action === 'TaskbarEditing' || args.action === 'DrawConnectorLine') {\n                this.updateSharedTask(args.data);\n            }\n            else if (args.action === 'DialogEditing' || args.action === 'CellEditing' || args.action === 'methodUpdate') {\n                if (this.parent.editModule.dialogModule.isResourceUpdate) {\n                    /* eslint-disable-next-line */\n                    this.updateResoures(this.parent.editModule.dialogModule.previousResource, args.data.ganttProperties.resourceInfo, args.data);\n                    this.updateSharedTask(args.data);\n                    this.isTreeGridRefresh = true;\n                }\n                else {\n                    this.updateSharedTask(args.data);\n                }\n            }\n            // method to update the edited parent records\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.editModule.dialogModule.isResourceUpdate = false;\n            this.parent.editModule.dialogModule.previousResource = [];\n        }\n        if (!this.isTreeGridRefresh) {\n            if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                if (!this.parent.treeGrid.grid.element.querySelector('form').ej2_instances[0].validate()) {\n                    setValue('isEdit', false, this.parent.treeGrid.grid);\n                    this.parent.editModule.cellEditModule.isCellEdit = false;\n                }\n                this.parent.treeGrid.endEdit();\n            }\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n            if (!this.parent.allowTaskbarOverlap && this.parent.showOverAllocation) {\n                this.parent.contentHeight = this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.ganttChartModule.chartBodyContent.style.height = this.parent.contentHeight + 'px';\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                if (this.parent.taskFields.dependency) {\n                    this.parent.ganttChartModule.reRenderConnectorLines();\n                }\n            }\n            if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['currentAction'] &&\n                this.parent.undoRedoModule['currentAction']['connectedRecords'])) && !isNullOrUndefined(this.parent.connectorLineEditModule)) {\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.connectorLineIds = [];\n                this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.editedRecords);\n                this.parent.ganttChartModule.reRenderConnectorLines();\n                this.updateScheduleDatesOnEditing(args);\n            }\n        }\n        if (this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            var criticalModule = this.parent.criticalPathModule;\n            criticalModule.showCriticalPath(true);\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (!this.parent.editSettings.allowTaskbarEditing || (this.parent.editSettings.allowTaskbarEditing &&\n            !this.taskbarEditModule.dependencyCancel)) {\n            eventArgs.requestType = 'save';\n            eventArgs.data = args.data;\n            eventArgs.modifiedRecords = this.parent.editedRecords;\n            eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, null, null, this.parent);\n            if (!isNullOrUndefined(args.action)) {\n                setValue('action', args.action, eventArgs);\n            }\n            if (args.action === 'TaskbarEditing') {\n                eventArgs.taskBarEditAction = args.taskBarEditAction;\n            }\n            this.endEditAction(args);\n            this.parent.trigger('actionComplete', eventArgs);\n            if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['draggedRecord']) {\n                this.parent.rowDragAndDropModule['draggedRecord'] = null;\n            }\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        else {\n            this.taskbarEditModule.dependencyCancel = false;\n            this.resetEditProperties();\n        }\n        if (this.parent.viewType === 'ResourceView' && this.isTreeGridRefresh) {\n            this.parent.treeGrid.parentData = [];\n            this.parent.updatedConnectorLineCollection = [];\n            this.parent.connectorLineIds = [];\n            this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n            this.parent.treeGrid.refresh();\n            this.isTreeGridRefresh = false;\n        }\n        this.parent.editedRecords = [];\n    };\n    Edit.prototype.updateResoures = function (prevResource, currentResource, updateRecord) {\n        var flatRecords = this.parent.flatData;\n        var currentLength = currentResource ? currentResource.length : 0;\n        var previousLength = prevResource ? prevResource.length : 0;\n        if (currentLength === 0 && previousLength === 0) {\n            return;\n        }\n        for (var index = 0; index < currentLength; index++) {\n            var recordIndex = [];\n            var resourceID = parseInt(currentResource[index][this.parent.resourceFields.id], 10).toString();\n            if (resourceID === 'NaN') {\n                resourceID = currentResource[index][this.parent.resourceFields.id];\n            }\n            for (var i = 0; i < prevResource.length; i++) {\n                var prevResourceID = parseInt(prevResource[i][this.parent.resourceFields.id], 10).toString();\n                if (prevResourceID === 'NaN') {\n                    prevResourceID = prevResource[i][this.parent.resourceFields.id];\n                }\n                if (prevResourceID === resourceID) {\n                    recordIndex.push(i);\n                    break;\n                }\n            }\n            if (recordIndex.length === 0) {\n                var parentRecord = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n                if (parentRecord) {\n                    this.addNewRecord(updateRecord, parentRecord);\n                }\n            }\n            else {\n                var record1 = parseInt(recordIndex[0].toString(), 10);\n                if (record1.toString() === 'NaN') {\n                    record1 = recordIndex[0].toString();\n                }\n                prevResource.splice(record1, 1);\n            }\n        }\n        var prevLength = prevResource ? prevResource.length : 0;\n        for (var index = 0; index < prevLength; index++) {\n            var taskID = updateRecord.ganttProperties.taskId;\n            var resourceID = prevResource[index][this.parent.resourceFields.id];\n            var record = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n            if (!isNullOrUndefined(record)) {\n                for (var j = 0; j < record.childRecords.length; j++) {\n                    if (record.childRecords[j].ganttProperties.taskId === taskID) {\n                        this.removeChildRecord(record.childRecords[j]);\n                    }\n                }\n            }\n        }\n        if (currentLength > 0) {\n            var parentTask = this.parent.getParentTask(updateRecord.parentItem);\n            if (parentTask) {\n                if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                    this.removeChildRecord(updateRecord);\n                }\n            }\n        }\n        //Assign resource to unassigned task\n        if (currentLength === 0) {\n            this.checkWithUnassignedTask(updateRecord);\n        }\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.flatData[this.parent.flatData.length - 1].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n            this.parent.flatData.splice(this.parent.flatData.length - 1, 1);\n            this.parent.currentViewData.splice(this.parent.currentViewData.length - 1, 1);\n            this.parent.taskIds.splice(this.parent.flatData.length - 1, 1);\n            this.parent.ids.splice(this.parent.flatData.length - 1, 1);\n        }\n    };\n    /**\n     * @param {IGanttData} updateRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.checkWithUnassignedTask = function (updateRecord) {\n        var unassignedTasks = null;\n        // Block for check the unassigned task.\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            if (this.parent.flatData[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                unassignedTasks = this.parent.flatData[i];\n            }\n        }\n        if (!isNullOrUndefined(unassignedTasks)) {\n            this.addNewRecord(updateRecord, unassignedTasks);\n        }\n        else {\n            // Block for create the unassigned task.\n            var unassignTaskObj = {};\n            unassignTaskObj[this.parent.taskFields.id] = 0;\n            unassignTaskObj[this.parent.taskFields.name] = this.parent.localeObj.getConstant('unassignedTask');\n            var beforeEditStatus = this.parent.isOnEdit;\n            this.parent.isOnEdit = false;\n            var cAddedRecord = this.parent.dataOperation.createRecord(unassignTaskObj, 0);\n            this.parent.isOnEdit = beforeEditStatus;\n            this.addRecordAsBottom(cAddedRecord);\n            var parentRecord = this.parent.flatData[this.parent.flatData.length - 1];\n            this.addNewRecord(updateRecord, parentRecord);\n            /* eslint-disable-next-line */\n            var source = this.parent.dataSource;\n            source.push(updateRecord.taskData);\n        }\n        var updatedData = this.parent.currentViewData.filter(function (data) {\n            return (data.ganttProperties.taskId === updateRecord.ganttProperties.taskId &&\n                (data.hasChildRecords === updateRecord.hasChildRecords));\n        })[0];\n        updateRecord.parentItem = updatedData.parentItem;\n        updateRecord.parentUniqueID = updatedData.parentUniqueID;\n    };\n    Edit.prototype.addRecordAsBottom = function (cAddedRecord) {\n        var recordIndex1 = this.parent.flatData.length;\n        this.parent.currentViewData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.flatData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.ids.splice(recordIndex1 + 1, 0, cAddedRecord.ganttProperties.rowUniqueID.toString());\n        var taskId = cAddedRecord.level === 0 ? 'R' + cAddedRecord.ganttProperties.taskId : 'T' + cAddedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n    };\n    Edit.prototype.addNewRecord = function (updateRecord, parentRecord) {\n        var cAddedRecord = null;\n        cAddedRecord = extend({}, {}, updateRecord, true);\n        this.parent.setRecordValue('uniqueID', getUid(this.parent.element.id + '_data_'), cAddedRecord);\n        this.parent.setRecordValue('uniqueID', cAddedRecord.uniqueID, cAddedRecord.ganttProperties, true);\n        var uniqueId = cAddedRecord.uniqueID.replace(this.parent.element.id + '_data_', '');\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord);\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord.ganttProperties, true);\n        this.parent.setRecordValue('level', 1, cAddedRecord);\n        if (this.parent.taskFields.parentID) {\n            this.parent.setRecordValue('parentId', parentRecord.ganttProperties.taskId, cAddedRecord.ganttProperties, true);\n        }\n        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentRecord), cAddedRecord);\n        var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n        updateRecord.ganttProperties.sharedTaskUniqueIds.push(uniqueId);\n        cAddedRecord.ganttProperties.sharedTaskUniqueIds = updateRecord.ganttProperties.sharedTaskUniqueIds;\n        this.addRecordAsChild(parentRecord, cAddedRecord);\n    };\n    Edit.prototype.removeChildRecord = function (record) {\n        var gObj = this.parent;\n        var data = [];\n        if (this.parent.dataSource instanceof DataManager && this.parent.dataSource.dataSource.json.length > 0) {\n            data = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            data = this.parent.currentViewData;\n        }\n        var dataSource = this.parent.dataSource;\n        var deletedRow = record;\n        var flatParentData = this.parent.getParentTask(deletedRow.parentItem);\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var deleteChildRecords = flatParentData ? flatParentData.childRecords : [];\n                var childIndex = 0;\n                if (deleteChildRecords && deleteChildRecords.length > 0) {\n                    if (deleteChildRecords.length === 1) {\n                        //For updating the parent record which has no child reords.\n                        this.parent.isOnDelete = true;\n                        deleteChildRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        deleteChildRecords[0].isDelete = false;\n                    }\n                    childIndex = deleteChildRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            if (deletedRow.ganttProperties.sharedTaskUniqueIds.length) {\n                var uniqueIDIndex = deletedRow.ganttProperties.sharedTaskUniqueIds.indexOf(deletedRow.ganttProperties.rowUniqueID);\n                deletedRow.ganttProperties.sharedTaskUniqueIds.splice(uniqueIDIndex, 1);\n            }\n            this.updateTreeGridUniqueID(deletedRow, 'delete');\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.rowUniqueID.toString());\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            var flatRecordIndex = this.parent.flatData.indexOf(deletedRow);\n            if (gObj.taskFields.parentID) {\n                var idx = void 0;\n                var ganttData = this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                        idx = i;\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    data.splice(idx, 1);\n                    this.parent.flatData.splice(flatRecordIndex, 1);\n                    this.parent.ids.splice(flatRecordIndex, 1);\n                    this.parent.getTaskIds().splice(flatRecordIndex, 1);\n                }\n            }\n            var recordIndex = data.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                data.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.flatData.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.getTaskIds().splice(flatRecordIndex, deletedRecordCount + 1);\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParentData);\n                this.parent.setRecordValue('hasChildRecords', false, flatParentData);\n            }\n        }\n    };\n    // Method to add new record after resource edit\n    Edit.prototype.addRecordAsChild = function (droppedRecord, draggedRecord) {\n        var gObj = this.parent;\n        var recordIndex1 = this.parent.flatData.indexOf(droppedRecord);\n        var childRecords = this.parent.editModule.getChildCount(droppedRecord, 0);\n        var childRecordsLength;\n        var spliceIndex;\n        var parentTask = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.dialogModule['indexes'] && this.dialogModule['indexes'].deletedIndexes && this.dialogModule['indexes'].deletedIndexes.length > 0) {\n            if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                childRecordsLength = this.parent.taskIds.length + 1;\n            }\n            else {\n                for (var j = 0; j < this.dialogModule['indexes'].deletedIndexes.length; j++) {\n                    if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID === draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var toIndex = this.dialogModule['indexes'].deletedIndexes[j].index;\n                        if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                            (childRecordsLength = toIndex);\n                        }\n                        else {\n                            (childRecordsLength = toIndex + 1);\n                        }\n                        for (var i = 0; i < droppedRecord.childRecords.length; i++) {\n                            if ('T' + droppedRecord.childRecords[i].ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].id) {\n                                if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                                    spliceIndex = i;\n                                }\n                                else {\n                                    spliceIndex = i + 1;\n                                }\n                                break;\n                            }\n                        }\n                        break;\n                    }\n                    else if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID !== draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var draggedParent = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n                        childRecordsLength = draggedParent.index + draggedParent.childRecords.length + 1;\n                        break;\n                    }\n                }\n            }\n        }\n        else if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask') && this.parent.undoRedoModule['currentAction']['deletedRecordsDetails']) {\n            for (var i = 0; i < this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'].length; i++) {\n                if (this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.ganttProperties.taskId === draggedRecord.ganttProperties.taskId) {\n                    if (parentTask.index) {\n                        childRecordsLength = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.index;\n                        spliceIndex = childRecordsLength - parentTask.index - 1;\n                    }\n                    else {\n                        childRecordsLength = (isNullOrUndefined(childRecords) ||\n                            childRecords === 0) ? recordIndex1 + 1 :\n                            childRecords + recordIndex1 + 1;\n                        spliceIndex = 0;\n                    }\n                    break;\n                }\n            }\n        }\n        else if (!isNullOrUndefined(this.addRowIndex) && this.addRowPosition && droppedRecord.childRecords && this.addRowPosition !== 'Child') {\n            var dropChildRecord = droppedRecord.childRecords[this.addRowIndex];\n            var position = this.addRowPosition === 'Above' || this.addRowPosition === 'Below' ? this.addRowPosition :\n                'Child';\n            childRecordsLength = dropChildRecord ? this.addRowIndex + recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n            childRecordsLength = position === 'Above' ? childRecordsLength : childRecordsLength + 1;\n        }\n        else {\n            childRecordsLength = (isNullOrUndefined(childRecords) ||\n                childRecords === 0) ? recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n        }\n        //this.ganttData.splice(childRecordsLength, 0, this.draggedRecord);\n        this.parent.currentViewData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.flatData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.ids.splice(childRecordsLength, 0, draggedRecord.ganttProperties.rowUniqueID.toString());\n        this.updateTreeGridUniqueID(draggedRecord, 'add');\n        var recordId = draggedRecord.level === 0 ? 'R' + draggedRecord.ganttProperties.taskId : 'T' + draggedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n        if (!droppedRecord.hasChildRecords) {\n            this.parent.setRecordValue('hasChildRecords', true, droppedRecord);\n            this.parent.setRecordValue('expanded', true, droppedRecord);\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n                    droppedRecord.taskData[this.parent.taskFields.child] = [];\n                }\n            }\n        }\n        if (spliceIndex >= 0) {\n            droppedRecord.childRecords.splice(spliceIndex, 0, draggedRecord);\n        }\n        else {\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n        }\n        if (!isNullOrUndefined(draggedRecord) && !this.parent.taskFields.parentID\n            && !isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n            droppedRecord.taskData[this.parent.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n        }\n        if (!isNullOrUndefined(draggedRecord.parentItem)) {\n            //collection to update the parent records\n            this.updateParentRecords.push(droppedRecord);\n        }\n    };\n    Edit.prototype.resetEditProperties = function (args) {\n        this.parent.currentEditedArgs = {};\n        this.resetValidateArgs();\n        this.parent.editedTaskBarItem = null;\n        this.parent.isOnEdit = false;\n        this.parent.predecessorModule.validatedChildItems = [];\n        this.parent.isConnectorLineUpdate = false;\n        this.parent.editedTaskBarItem = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        if (!isNullOrUndefined(this.dialogModule) && (isNullOrUndefined(args) ||\n            (!isNullOrUndefined(args) && args['requestType'] === 'beforeSave' && args['cancel']))) {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n        this.parent.hideSpinner();\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.endEditAction = function (args) {\n        this.resetEditProperties();\n        if (args.action === 'TaskbarEditing') {\n            this.parent.trigger('taskbarEdited', args);\n        }\n        else if (args.action === 'CellEditing') {\n            this.parent.trigger('endEdit', args);\n        }\n        else if (args.action === 'DialogEditing') {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n    };\n    // eslint-disable-next-line\n    Edit.prototype.saveFailed = function (args) {\n        this.reUpdatePreviousRecords();\n        this.parent.hideSpinner();\n        //action failure event trigger\n    };\n    /**\n     * To render delete confirmation dialog\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.renderDeleteConfirmDialog = function () {\n        var dialogObj = new Dialog({\n            width: '320px',\n            isModal: true,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmDelete'),\n            buttons: [\n                {\n                    click: this.confirmDeleteOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.closeConfirmDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        dialogObj.appendTo('#' + this.parent.element.id + '_deleteConfirmDialog');\n        this.confirmDialog = dialogObj;\n    };\n    Edit.prototype.closeConfirmDialog = function () {\n        this.confirmDialog.hide();\n    };\n    Edit.prototype.confirmDeleteOkButton = function () {\n        this.deleteSelectedItems();\n        this.confirmDialog.hide();\n        var focussedElement = this.parent.element.querySelector('.e-treegrid');\n        focussedElement.focus();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.startDeleteAction = function () {\n        if (this.parent.editSettings.allowDeleting && !this.parent.readOnly) {\n            if (this.parent.editSettings.showDeleteConfirmDialog) {\n                this.confirmDialog.show();\n            }\n            else {\n                this.deleteSelectedItems();\n                var focusingElement = this.parent.element.querySelector('.e-treegrid');\n                focusingElement.focus();\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData[]} selectedRecords - Defines the deleted records\n     * @returns {void} .\n     * Method to delete the records from resource view Gantt.\n     */\n    Edit.prototype.deleteResourceRecords = function (selectedRecords) {\n        var deleteRecords = [];\n        var _loop_2 = function (i) {\n            if (selectedRecords[i].parentItem) {\n                if (selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length === 1) {\n                    var data = selectedRecords[i];\n                    var ids = data.ganttProperties.sharedTaskUniqueIds;\n                    for (var j = 0; j < ids.length; j++) {\n                        if (this_2.parent.ids.indexOf(ids[j].toString()) !== -1) {\n                            deleteRecords.push(this_2.parent.flatData[this_2.parent.ids.indexOf(ids[j].toString())]);\n                        }\n                        else if (this_2.parent.undoRedoModule && this_2.parent.undoRedoModule['isUndoRedoPerformed'] && this_2.parent.undoRedoModule['currentAction'] && this_2.parent.undoRedoModule['currentAction']['action'] === 'Delete') {\n                            deleteRecords.push(this_2.parent.flatData[this_2.parent.taskIds.indexOf('T' + selectedRecords[i].ganttProperties.taskId)]);\n                        }\n                    }\n                    if (this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID) !== -1 &&\n                        deleteRecords.indexOf(this_2.parent.flatData[this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]) === -1) {\n                        deleteRecords.push(this_2.parent.flatData[this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]);\n                    }\n                }\n                else if (this_2.parent.undoRedoModule && this_2.parent.undoRedoModule['isUndoRedoPerformed'] && selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length > 1) {\n                    deleteRecords.push(selectedRecords[i]);\n                }\n            }\n            else {\n                var resourceParent = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId === selectedRecords[i].ganttProperties.taskId &&\n                        data.hasChildRecords);\n                })[0];\n                deleteRecords.push(resourceParent);\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < selectedRecords.length; i++) {\n            _loop_2(i);\n        }\n        this.deleteRow(deleteRecords);\n    };\n    Edit.prototype.add = function (record, totalRecords) {\n        totalRecords.push(record);\n        if (record.hasChildRecords) {\n            var child = record.childRecords;\n            for (var i = 0; i < child.length; i++) {\n                this.add(child[i], totalRecords);\n            }\n        }\n        else {\n            if (totalRecords.indexOf(record) === -1) {\n                totalRecords.push(record);\n            }\n        }\n    };\n    Edit.prototype.deleteSelectedItems = function () {\n        if (!this.isFromDeleteMethod) {\n            var selectedRecords = [];\n            if (this.parent.selectionSettings.mode !== 'Cell') {\n                selectedRecords = this.parent.selectionModule.getSelectedRecords();\n            }\n            else if (this.parent.selectionSettings.mode === 'Cell') {\n                selectedRecords = this.parent.selectionModule.getCellSelectedRecords();\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                this.deleteResourceRecords(selectedRecords);\n            }\n            else {\n                this.deleteRow(selectedRecords);\n            }\n        }\n        else {\n            if (this.targetedRecords.length) {\n                if (this.parent.viewType === 'ResourceView') {\n                    this.deleteResourceRecords(this.targetedRecords);\n                }\n                else {\n                    this.deleteRow(this.targetedRecords);\n                }\n            }\n            this.isFromDeleteMethod = false;\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string | number[] | string[] | IGanttData | IGanttData[]} taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Edit.prototype.deleteRecord = function (taskDetail) {\n        this.isFromDeleteMethod = true;\n        var variableType = typeof (taskDetail);\n        this.targetedRecords = [];\n        switch (variableType) {\n            case 'number':\n            case 'string':\n                {\n                    var taskId = taskDetail.toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(taskId) && this.parent.getTaskIds().indexOf('T' + taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskId)]);\n                        }\n                    }\n                    else {\n                        if (!isNullOrUndefined(taskId) && this.parent.ids.indexOf(taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.getRecordByID(taskId));\n                        }\n                    }\n                    break;\n                }\n            case 'object':\n                if (!Array.isArray(taskDetail)) {\n                    this.targetedRecords.push(taskDetail.valueOf());\n                }\n                else {\n                    this.updateTargetedRecords(taskDetail);\n                }\n                break;\n            default:\n        }\n        this.startDeleteAction();\n    };\n    /**\n     * To update 'targetedRecords collection' from given array collection\n     *\n     * @param {object[]} taskDetailArray .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTargetedRecords = function (taskDetailArray) {\n        if (taskDetailArray.length) {\n            var variableType = typeof (taskDetailArray[0]);\n            if (variableType === 'object') {\n                this.targetedRecords = taskDetailArray;\n            }\n            else {\n                // Get record from array of task ids\n                for (var i = 0; i < taskDetailArray.length; i++) {\n                    var id = taskDetailArray[i].toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(id) && this.parent.getTaskIds().indexOf('T' + id) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id)]);\n                        }\n                    }\n                    else if (!isNullOrUndefined(id) && this.parent.ids.indexOf(id) !== -1) {\n                        this.targetedRecords.push(this.parent.getRecordByID(id));\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.deleteRow = function (tasks) {\n        var rowItems = tasks && tasks.length ? tasks :\n            this.parent.selectionModule.getSelectedRecords();\n        this.parent.addDeleteRecord = true;\n        if (rowItems.length) {\n            this.parent.isOnDelete = true;\n            rowItems.forEach(function (item) {\n                item.isDelete = true;\n            });\n            if (this.parent.viewType === 'ResourceView' && !tasks.length) {\n                rowItems = [];\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Delete')) {\n                if (this.parent.undoRedoModule['redoEnabled'] && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['createUndoCollection']();\n                }\n                var records = {};\n                records['action'] = 'Delete';\n                records['deletedRecordsDetails'] = [];\n                this.parent.undoRedoModule['findPosition'](extend([], [], rowItems, true), records, 'deletedRecordsDetails');\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n            }\n            var _loop_3 = function (i) {\n                var deleteRecord = rowItems[i];\n                if (this_3.deletedTaskDetails.indexOf(deleteRecord) !== -1) {\n                    return \"continue\";\n                }\n                var deleteItems = [deleteRecord];\n                if (this_3.parent.viewType === 'ResourceView' && this_3.parent.undoRedoModule && this_3.parent.undoRedoModule['isUndoRedoPerformed'] && rowItems[i].ganttProperties.resourceInfo && rowItems[i].ganttProperties.resourceInfo.length > 1) {\n                    deleteItems = [];\n                    if (!rowItems[i].hasChildRecords) {\n                        var id_1 = 'T' + rowItems[i].ganttProperties.taskId;\n                        this_3.parent.taskIds.reduce(function (e, j) {\n                            if (e === id_1) {\n                                deleteItems.push(this.parent.flatData[j]);\n                            }\n                        }.bind(this_3), []);\n                    }\n                }\n                for (var j = 0; j < deleteItems.length; j++) {\n                    var parentTask = this_3.parent.getParentTask(deleteItems[j].parentItem);\n                    if (deleteItems[j].parentItem) {\n                        var childRecord = parentTask.childRecords;\n                        var filteredRecord = childRecord.length === 1 ?\n                            childRecord : childRecord.filter(function (data) {\n                            return !data.isDelete;\n                        });\n                        if (filteredRecord.length > 0) {\n                            this_3.parent.dataOperation.updateParentItems(deleteItems[j].parentItem);\n                        }\n                    }\n                    var predecessor = deleteItems[j].ganttProperties.predecessor;\n                    var canDeletePredecessor = true;\n                    if (this_3.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                        this_3.parent.localeObj.getConstant('unassignedTask')) {\n                        canDeletePredecessor = false;\n                    }\n                    if (predecessor && predecessor.length && canDeletePredecessor) {\n                        this_3.removePredecessorOnDelete(deleteItems[j]);\n                    }\n                    this_3.deletedTaskDetails.push(deleteItems[j]);\n                    if (deleteItems[j].hasChildRecords) {\n                        this_3.deleteChildRecords(deleteItems[j]);\n                    }\n                }\n            };\n            var this_3 = this;\n            for (var i = 0; i < rowItems.length; i++) {\n                _loop_3(i);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection) {\n                // clear selection\n                this.parent.selectionModule.clearSelection();\n            }\n            var delereArgs = {};\n            delereArgs.deletedRecordCollection = this.deletedTaskDetails;\n            delereArgs.updatedRecordCollection = this.parent.editedRecords;\n            delereArgs.cancel = false;\n            delereArgs.action = 'delete';\n            this.initiateDeleteAction(delereArgs);\n            this.parent.isOnDelete = false;\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Edit.prototype.removePredecessorOnDelete = function (record) {\n        var predecessors = record.ganttProperties.predecessor;\n        for (var i = 0; i < predecessors.length; i++) {\n            var predecessor = predecessors[i];\n            var recordId = this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId :\n                record.ganttProperties.rowUniqueID;\n            if (predecessor.from.toString() === recordId.toString()) {\n                var toRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to.toString());\n                if (!isNullOrUndefined(toRecord)) {\n                    var toRecordPredcessor = extend([], [], toRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < toRecordPredcessor.length; t++) {\n                        var toId = this.parent.viewType === 'ResourceView' ? toRecord.ganttProperties.taskId :\n                            toRecord.ganttProperties.rowUniqueID;\n                        if (toRecordPredcessor[t].to.toString() === toId.toString()\n                            && toRecordPredcessor[t].from.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    toRecordPredcessor.splice(index, 1);\n                    this.updatePredecessorValues(toRecord, toRecordPredcessor);\n                }\n            }\n            else if (predecessor.to.toString() === recordId.toString()) {\n                var fromRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from.toString());\n                if (!isNullOrUndefined(fromRecord)) {\n                    var fromRecordPredcessor = extend([], [], fromRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < fromRecordPredcessor.length; t++) {\n                        var fromId = this.parent.viewType === 'ResourceView' ? fromRecord.ganttProperties.taskId :\n                            fromRecord.ganttProperties.rowUniqueID;\n                        if (fromRecordPredcessor[t].from.toString() === fromId.toString()\n                            && fromRecordPredcessor[t].to.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    if (record.uniqueID === fromRecord.parentUniqueID ||\n                        record.parentUniqueID === fromRecord.uniqueID || this.parent.isOnDelete) {\n                        fromRecordPredcessor.splice(index, 1);\n                        this.updatePredecessorValues(fromRecord, fromRecordPredcessor);\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorValues = function (record, predcessorArray) {\n        this.parent.setRecordValue('predecessor', predcessorArray, record.ganttProperties, true);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n        this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n    };\n    /**\n     * Method to update TaskID of a gantt record\n     *\n     * @param {string | number} currentId .\n     * @param {number | string} newId .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskId = function (currentId, newId) {\n        if (!this.parent.readOnly) {\n            var cId = typeof currentId === 'number' ? currentId.toString() : currentId;\n            var nId = typeof newId === 'number' ? newId.toString() : newId;\n            var ids = this.parent.ids;\n            if (!isNullOrUndefined(cId) && !isNullOrUndefined(nId)) {\n                var cIndex = ids.indexOf(cId);\n                var nIndex = ids.indexOf(nId);\n                // return false for invalid taskID\n                if (cIndex === -1 || nIndex > -1) {\n                    return;\n                }\n                var thisRecord = this.parent.flatData[cIndex];\n                thisRecord.ganttProperties.taskId = thisRecord.ganttProperties.rowUniqueID = nId;\n                thisRecord.taskData[this.parent.taskFields.id] = nId;\n                thisRecord[this.parent.taskFields.id] = nId;\n                ids[cIndex] = nId;\n                if (thisRecord.hasChildRecords && this.parent.taskFields.parentID) {\n                    var childRecords = thisRecord.childRecords;\n                    for (var count = 0; count < childRecords.length; count++) {\n                        var childRecord = childRecords[count];\n                        childRecord[this.parent.taskFields.parentID] = newId;\n                        this.parent.chartRowsModule.refreshRecords([childRecord]);\n                    }\n                }\n                if (this.parent.taskFields.dependency && !isNullOrUndefined(thisRecord.ganttProperties.predecessor)) {\n                    var predecessors = thisRecord.ganttProperties.predecessor;\n                    var currentGanttRecord = void 0;\n                    for (var i = 0; i < predecessors.length; i++) {\n                        var predecessor = predecessors[i];\n                        if (predecessor.to === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.from)];\n                        }\n                        else if (predecessor.from === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.to)];\n                        }\n                        this.updatePredecessorOnUpdateId(currentGanttRecord, cId, nId);\n                    }\n                }\n                this.parent.treeGrid.parentData = [];\n                this.parent.treeGrid.refresh();\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorOnUpdateId = function (currentGanttRecord, cId, nId) {\n        if (this.parent.flatData.indexOf(currentGanttRecord) > -1) {\n            var pred = currentGanttRecord.ganttProperties.predecessor;\n            for (var j = 0; j < pred.length; j++) {\n                var pre = pred[j];\n                if (pre.to === cId) {\n                    pre.to = nId;\n                }\n                else if (pre.from === cId) {\n                    pre.from = nId;\n                }\n            }\n        }\n        this.updatePredecessorValues(currentGanttRecord, currentGanttRecord.ganttProperties.predecessor);\n    };\n    Edit.prototype.deleteChildRecords = function (record) {\n        var childRecords = record.childRecords;\n        for (var c = 0; c < childRecords.length; c++) {\n            var childRecord = childRecords[c];\n            if (this.deletedTaskDetails.indexOf(childRecord) !== -1) {\n                continue;\n            }\n            var predecessor = childRecord.ganttProperties.predecessor;\n            var canDeletePredecessor = true;\n            var parentTask = this.parent.getParentTask(childRecord.parentItem);\n            if (this.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                this.parent.localeObj.getConstant('unassignedTask')) {\n                canDeletePredecessor = false;\n            }\n            if (predecessor && predecessor.length && canDeletePredecessor) {\n                this.removePredecessorOnDelete(childRecord);\n            }\n            this.deletedTaskDetails.push(childRecord);\n            if (childRecord.hasChildRecords) {\n                this.deleteChildRecords(childRecord);\n            }\n        }\n    };\n    Edit.prototype.removeFromDataSource = function (deleteRecordIDs) {\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        this.removeData(dataSource, deleteRecordIDs);\n        this.isBreakLoop = false;\n    };\n    Edit.prototype.removeData = function (dataCollection, record) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()) !== -1) {\n                if (dataCollection[i][this.parent.taskFields.child]) {\n                    var childRecords = dataCollection[i][this.parent.taskFields.child];\n                    this.removeData(childRecords, record);\n                }\n                record.splice(record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()), 1);\n                dataCollection.splice(i, 1);\n                if (record.length === 0) {\n                    this.isBreakLoop = true;\n                    break;\n                }\n            }\n            else if (dataCollection[i][this.parent.taskFields.child]) {\n                var childRecords = dataCollection[i][this.parent.taskFields.child];\n                this.removeData(childRecords, record);\n            }\n        }\n    };\n    Edit.prototype.initiateDeleteAction = function (args) {\n        var _this = this;\n        this.parent.showSpinner();\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeDelete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArg.cancel) {\n                var deleteRecords = _this.deletedTaskDetails;\n                for (var d = 0; d < deleteRecords.length; d++) {\n                    deleteRecords[d].isDelete = false;\n                }\n                _this.deletedTaskDetails = [];\n                _this.reUpdatePreviousRecords();\n                _this.parent.initiateEditAction(false);\n                _this.parent.hideSpinner();\n            }\n            else {\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data_1 = _this.parent.dataSource;\n                    if (_this.parent.timezone) {\n                        eventArg.modifiedRecords.forEach(function (modifiedRecord) {\n                            updateDates(modifiedRecord, _this.parent);\n                        });\n                    }\n                    var updatedData_1 = {\n                        deletedRecords: getTaskData(eventArg.data, null, null, _this.parent),\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var adaptor = data_1.adaptor;\n                    var query_1 = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data_1.dataSource.batchUrl) {\n                        var crud = data_1.saveChanges(updatedData_1, _this.parent.taskFields.id, null, query_1);\n                        crud.then(function () { return _this.deleteSuccess(args); })\n                            .catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                    else {\n                        var deletedRecords = 'deletedRecords';\n                        var deleteCrud = null;\n                        for (var i = 0; i < updatedData_1[deletedRecords].length; i++) {\n                            deleteCrud = data_1.remove(_this.parent.taskFields.id, updatedData_1[deletedRecords][i], null, query_1);\n                        }\n                        deleteCrud.then(function () {\n                            var changedRecords = 'changedRecords';\n                            var _loop_4 = function (i) {\n                                if (updatedData_1['deletedRecords'].some(function (record) { return record[_this.parent.taskFields.id] === updatedData_1[changedRecords][i].taskId; })) {\n                                    updatedData_1[changedRecords].splice(i, 1);\n                                }\n                            };\n                            for (var i = updatedData_1[changedRecords].length - 1; i >= 0; i--) {\n                                _loop_4(i);\n                            }\n                            var updateCrud = data_1.update(_this.parent.taskFields.id, updatedData_1[changedRecords], null, query_1);\n                            updateCrud.then(function () { return _this.deleteSuccess(args); })\n                                .catch(function (e) { return _this.dmFailure(e, args); });\n                        }).catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                }\n                else {\n                    _this.deleteSuccess(args);\n                }\n            }\n        });\n    };\n    Edit.prototype.deleteSuccess = function (args) {\n        var _this = this;\n        var flatData = this.parent.flatData;\n        var currentData = this.parent.currentViewData;\n        var deletedRecords = [];\n        for (var i = 0; i < args.deletedRecordCollection.length; i++) {\n            if (this.parent.viewType === 'ProjectView') {\n                deletedRecords.push(this.parent.getRecordByID(args.deletedRecordCollection[i].ganttProperties.taskId));\n            }\n            else {\n                var id = void 0;\n                if (args.deletedRecordCollection[i].hasChildRecords) {\n                    id = 'R' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                else {\n                    id = 'T' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    deletedRecords.push(this.parent.getTaskByUniqueID(args.deletedRecordCollection[i].uniqueID));\n                }\n                else {\n                    deletedRecords.push(this.parent.flatData[this.parent.taskIds.indexOf(id.toString())]);\n                }\n            }\n        }\n        var deleteRecordIDs = [];\n        if (deletedRecords.length > 0) {\n            var recordIndex = this.parent.flatData.indexOf(deletedRecords[deletedRecords.length - 1]);\n            this.parent.staticSelectedRowIndex = this.parent.selectedRowIndex = recordIndex;\n            var record = this.parent.flatData[this.parent.selectedRowIndex + 1];\n            if (!isNullOrUndefined(record)) {\n                this.parent.currentSelection = record.ganttProperties;\n            }\n            else {\n                var prevRecordIndex = this.parent.selectedRowIndex - 1;\n                if (prevRecordIndex >= 0) {\n                    this.parent.currentSelection = this.parent.flatData[prevRecordIndex].ganttProperties;\n                }\n            }\n        }\n        for (var i = 0; i < deletedRecords.length; i++) {\n            var deleteRecord = deletedRecords[i];\n            var currentIndex = void 0;\n            var flatIndex = void 0;\n            if (this.parent.viewType === 'ResourceView') {\n                if (deleteRecord.hasChildRecords) {\n                    currentIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                }\n                else {\n                    currentIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                }\n            }\n            else {\n                currentIndex = currentData.indexOf(deleteRecord);\n                flatIndex = flatData.indexOf(deleteRecord);\n            }\n            var treeGridParentIndex = this.parent.treeGrid.parentData.indexOf(deleteRecord);\n            var tempData = getValue('dataOperation.dataArray', this.parent);\n            var dataIndex = tempData.indexOf(deleteRecord.taskData);\n            var childIndex = void 0;\n            if (currentIndex !== -1) {\n                currentData.splice(currentIndex, 1);\n            }\n            if (flatIndex !== -1) {\n                flatData.splice(flatIndex, 1);\n            }\n            if (dataIndex !== -1) {\n                tempData.splice(dataIndex, 1);\n            }\n            if (!isNullOrUndefined(deleteRecord)) {\n                deleteRecordIDs.push(deleteRecord.ganttProperties.taskId.toString());\n                if (flatIndex !== -1) {\n                    this.parent.ids.splice(flatIndex, 1);\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(flatIndex, 1);\n                        if (!deleteRecord.hasChildRecords) {\n                            deleteRecord.ganttProperties.resourceInfo = null;\n                            delete deleteRecord.ganttProperties.resourceNames;\n                            deleteRecord[this.parent.taskFields.resourceInfo] = null;\n                            deleteRecord.ganttProperties.sharedTaskUniqueIds = [];\n                            delete deleteRecord.taskData[this.parent.taskFields.resourceInfo];\n                        }\n                    }\n                }\n                if (deleteRecord.level === 0 && treeGridParentIndex !== -1) {\n                    this.parent.treeGrid.parentData.splice(treeGridParentIndex, 1);\n                }\n                if (deleteRecord.parentItem) {\n                    var parentItem = this.parent.getParentTask(deleteRecord.parentItem);\n                    if (parentItem) {\n                        var childRecords = parentItem.childRecords;\n                        childIndex = childRecords.indexOf(deleteRecord);\n                        if (childIndex !== -1) {\n                            childRecords.splice(childIndex, 1);\n                        }\n                        if (!childRecords.length) {\n                            this.parent.setRecordValue('hasChildRecords', false, parentItem);\n                        }\n                    }\n                }\n                this.updateTreeGridUniqueID(deleteRecord, 'delete');\n            }\n        }\n        if (deleteRecordIDs.length > 0) {\n            this.removeFromDataSource(deleteRecordIDs);\n        }\n        var eventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode();\n        }\n        // Trigger actioncomplete event for delete action\n        eventArgs.requestType = 'delete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        setValue('action', args.action, eventArgs);\n        this.parent.isOnDelete = false;\n        if (this.parent.viewType === 'ResourceView' && (!this.parent.undoRedoModule || (this.parent.undoRedoModule && (!this.parent.undoRedoModule['isUndoRedoPerformed'] || (this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['action'] === 'Delete'))))) {\n            var updateUnAssignedResources_1 = eventArgs.data.filter(function (data) {\n                return !data.hasChildRecords;\n            });\n            var _loop_5 = function (i) {\n                var unassignedTask = this_4.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var isDuplicate = [];\n                if (unassignedTask) {\n                    isDuplicate = unassignedTask.childRecords.filter(function (data) {\n                        return data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId;\n                    });\n                }\n                var parentTask = this_4.parent.getParentTask(updateUnAssignedResources_1[i].parentItem);\n                if (parentTask && parentTask.ganttProperties.taskName !==\n                    this_4.parent.localeObj.getConstant('unassignedTask') && isDuplicate.length === 0) {\n                    this_4.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                else if (!parentTask && (!isDuplicate || isDuplicate.length === 0)) {\n                    this_4.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                unassignedTask = this_4.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var parentItem = this_4.parent.currentViewData.filter(function (data) {\n                    if (data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId &&\n                        (!data.hasChildRecords && data.parentItem)\n                        && unassignedTask.uniqueID === data.parentItem.uniqueID) {\n                        return data;\n                    }\n                    else {\n                        return null;\n                    }\n                });\n                if (parentItem[0]) {\n                    this_4.parent.dataOperation.updateParentItems(parentItem[0]);\n                }\n            };\n            var this_4 = this;\n            for (var i = 0; i < updateUnAssignedResources_1.length; i++) {\n                _loop_5(i);\n            }\n        }\n        this.parent.trigger('actionComplete', eventArgs);\n        this.deletedTaskDetails = [];\n        this.parent.initiateEditAction(false);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n    };\n    /**\n     *\n     * @returns {number | string} .\n     * @private\n     */\n    Edit.prototype.getNewTaskId = function () {\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var maxId = ids.length;\n        var newTaskId = maxId + 1;\n        if (this.parent.viewType === 'ResourceView') {\n            if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1);\n                }\n            }\n        }\n        else {\n            if (ids.indexOf(newTaskId.toString()) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf(newTaskId.toString()) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf(newTaskId.toString()) !== -1);\n                }\n            }\n        }\n        if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n            return newTaskId = newTaskId.toString();\n        }\n        else {\n            return newTaskId;\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.prepareNewlyAddedData = function (obj, rowPosition) {\n        var taskModel = this.parent.taskFields;\n        var id;\n        var newTaskIDmd;\n        var ids = this.parent.ids;\n        /*Validate Task Id of data*/\n        if (obj[taskModel.id]) {\n            if (ids.indexOf(obj[taskModel.id].toString()) !== -1) {\n                obj[taskModel.id] = null;\n            }\n            else {\n                if (typeof (obj[taskModel.id]) === 'string') {\n                    newTaskIDmd = obj[taskModel.id];\n                }\n                else {\n                    newTaskIDmd = parseInt(obj[taskModel.id], 10);\n                }\n                obj[taskModel.id] = isNullOrUndefined(newTaskIDmd) ? null : newTaskIDmd;\n            }\n        }\n        if (!obj[taskModel.id]) {\n            id = this.getNewTaskId();\n            obj[taskModel.id] = id;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.startDate]) {\n            obj[taskModel.startDate] = this.parent.projectStartDate;\n        }\n        if (!this.parent.allowUnscheduledTasks && taskModel.duration && isNullOrUndefined(obj[taskModel.duration])) {\n            if (!obj[taskModel.endDate]) {\n                obj[taskModel.duration] = '5';\n            }\n        }\n        if (taskModel.progress) {\n            obj[taskModel.progress] = obj[taskModel.progress] ? (obj[taskModel.progress] > 100 ? 100 : obj[taskModel.progress]) : 0;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.endDate] && taskModel.endDate) {\n            if (!obj[taskModel.duration]) {\n                var startDate = this.parent.dataOperation.getDateFromFormat(this.parent.projectStartDate);\n                startDate.setDate(startDate.getDate() + 4);\n                obj[taskModel.endDate] = this.parent.getFormatedDate(startDate, this.parent.getDateFormat());\n            }\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {number} level .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @returns {IGanttData} .\n     * @private\n     */\n    Edit.prototype.updateNewlyAddedDataBeforeAjax = function (obj, level, rowPosition, parentItem) {\n        var cAddedRecord = this.parent.dataOperation.createRecord(obj, level);\n        cAddedRecord.index = parseInt(cAddedRecord.ganttProperties.rowUniqueID.toString(), 10) - 1;\n        if (!isNullOrUndefined(parentItem)) {\n            this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), cAddedRecord);\n            var pIndex = cAddedRecord.parentItem ? cAddedRecord.parentItem.index : null;\n            this.parent.setRecordValue('parentIndex', pIndex, cAddedRecord);\n            var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n            this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n            if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                !isNullOrUndefined(this.parent.taskFields.parentID) && cAddedRecord.parentItem) {\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord.taskData, true);\n                }\n                this.parent.setRecordValue('parentId', cAddedRecord.parentItem.taskId, cAddedRecord.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord, true);\n            }\n        }\n        this.parent.isOnEdit = true;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (obj['hasChildRecords']) {\n                var totalRecords = [];\n                var currentAction = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'];\n                for (var i = 0; i < obj['childRecords'].length; i++) {\n                    this.add(obj['childRecords'][i], totalRecords);\n                }\n                for (var j = 0; j < currentAction.length; j++) {\n                    if (obj['ganttProperties'].taskId === currentAction[j]['data'].ganttProperties.taskId) {\n                        if (currentAction[j]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        else if (currentAction[j]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (currentAction[j]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n                        for (var i = 0; i < totalRecords.length; i++) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                if (totalRecords[i].parentItem.taskId === cAddedRecord.ganttProperties.taskId) {\n                                    totalRecords[i].parentItem.index = cAddedRecord.index;\n                                    totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.taskId;\n                                    totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                    totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                }\n                            }\n                            else {\n                                totalRecords[i].parentItem.index = cAddedRecord.index;\n                                totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                                totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        break;\n                    }\n                }\n                this.addRowSelectedItem = cAddedRecord;\n                cAddedRecord.taskData[this.parent.taskFields.child] = [];\n                for (var k = 0; k < totalRecords.length; k++) {\n                    this.parent.isOnEdit = false;\n                    var newRecord = this.parent.dataOperation.createRecord(totalRecords[k], totalRecords[k].level);\n                    if (newRecord.childRecords.length === 0 && newRecord.taskData[this.parent.taskFields.child]) {\n                        newRecord.taskData[this.parent.taskFields.child] = [];\n                    }\n                    parentItem = this.parent.getRecordByID(totalRecords[k].parentItem.taskId);\n                    if (!isNullOrUndefined(parentItem)) {\n                        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), newRecord);\n                        var pIndex = newRecord.parentItem ? newRecord.parentItem.index : null;\n                        this.parent.setRecordValue('parentIndex', pIndex, newRecord);\n                        var parentUniqId = newRecord.parentItem ? newRecord.parentItem.uniqueID : null;\n                        this.parent.setRecordValue('parentUniqueID', parentUniqId, newRecord);\n                        if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                            !isNullOrUndefined(this.parent.taskFields.parentID) && newRecord.parentItem) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord.taskData, true);\n                            }\n                            this.parent.setRecordValue('parentId', newRecord.parentItem.taskId, newRecord.ganttProperties, true);\n                            this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord, true);\n                        }\n                    }\n                    this.parent.isOnEdit = true;\n                    if (newRecord.parentItem) {\n                        if (parentItem.childRecords.length === 0) {\n                            rowPosition = 'Child';\n                        }\n                        else {\n                            rowPosition = 'Below';\n                        }\n                    }\n                    if (this.parent.getParentTask(newRecord.parentItem).childRecords.length > 0) {\n                        this.addRowSelectedItem = this.parent.getParentTask(newRecord.parentItem).childRecords[this.parent.getParentTask(newRecord.parentItem).childRecords.length - 1];\n                    }\n                    this.backUpAndPushNewlyAddedRecord(newRecord, rowPosition, parentItem);\n                    for (var i = 0; i < totalRecords.length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            if (totalRecords[i].parentItem.taskId === newRecord.ganttProperties.taskId) {\n                                totalRecords[i].parentItem.index = newRecord.index;\n                                totalRecords[i].parentItem.taskId = newRecord.ganttProperties.taskId;\n                                totalRecords[i].parentItem.uniqueID = newRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = newRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        else {\n                            totalRecords[i].parentItem.index = cAddedRecord.index;\n                            totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                            totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                        }\n                    }\n                }\n            }\n            else {\n                this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n            }\n        }\n        else {\n            this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n        }\n        // need to push in dataSource also.\n        if (this.parent.taskFields.dependency && cAddedRecord.ganttProperties.predecessorsName) {\n            if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                this.parent.predecessorModule.ensurePredecessorCollectionHelper(cAddedRecord, cAddedRecord.ganttProperties);\n            }\n            this.parent.predecessorModule.updatePredecessorHelper(cAddedRecord);\n            this.parent.predecessorModule.validatePredecessorDates(cAddedRecord);\n        }\n        if (cAddedRecord.parentItem && this.parent.getParentTask(cAddedRecord.parentItem).ganttProperties.isAutoSchedule) {\n            this.parent.dataOperation.updateParentItems(cAddedRecord.parentItem);\n        }\n        this.parent.isOnEdit = false;\n        return cAddedRecord;\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {number} count .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getChildCount = function (record, count) {\n        var currentRecord;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            if (currentRecord.hasChildRecords) {\n                count = this.getChildCount(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @param {number} count .\n     * @param {IGanttData[]} collection .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getVisibleChildRecordCount = function (data, count, collection) {\n        var childRecords;\n        var length;\n        if (data.hasChildRecords) {\n            childRecords = data.childRecords;\n            length = childRecords.length;\n            for (var i = 0; i < length; i++) {\n                if (collection.indexOf(childRecords[i]) !== -1) {\n                    count++;\n                }\n                if (childRecords[i].hasChildRecords) {\n                    count = this.getVisibleChildRecordCount(childRecords[i], count, collection);\n                }\n            }\n        }\n        else {\n            if (collection.indexOf(data) !== -1) {\n                count++;\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} parentRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updatePredecessorOnIndentOutdent = function (parentRecord) {\n        var len = parentRecord.ganttProperties.predecessor.length;\n        var parentRecordTaskData = parentRecord.ganttProperties;\n        var predecessorCollection = parentRecordTaskData.predecessor;\n        var childRecord;\n        var predecessorIndex;\n        var updatedPredecessor = [];\n        var validPredecessor;\n        for (var count = 0; count < len; count++) {\n            var fromRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n            var toRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n            validPredecessor = this.parent.connectorLineEditModule.validateParentPredecessor(fromRecord, toRecord);\n            if (!validPredecessor || !this.parent.allowParentDependency) {\n                if (predecessorCollection[count].to === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var predecessorCollections = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    predecessorCollections.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', predecessorCollections, childRecord.ganttProperties, true);\n                }\n                else if (predecessorCollection[count].from === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n                    var prdcList = (childRecord.ganttProperties.predecessorsName.toString()).split(',');\n                    var str = predecessorCollection[count].from + predecessorCollection[count].type;\n                    var ind = prdcList.indexOf(str);\n                    prdcList.splice(ind, 1);\n                    this.parent.setRecordValue('predecessorsName', prdcList.join(','), childRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.dependency, prdcList.join(','), childRecord);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var temppredecessorCollection = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    temppredecessorCollection.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', temppredecessorCollection, childRecord.ganttProperties, true);\n                    this.parent.predecessorModule.validatePredecessorDates(childRecord);\n                }\n            }\n        }\n        if (!validPredecessor || !this.parent.allowParentDependency) {\n            this.parent.setRecordValue('predecessor', updatedPredecessor, parentRecord.ganttProperties, true);\n            this.parent.setRecordValue('predecessorsName', '', parentRecord.ganttProperties, true);\n        }\n    };\n    /**\n     * @param {IPredecessor[]} predecessorCollection .\n     * @param {IGanttData} record .\n     * @returns {string} .\n     * @private\n     */\n    Edit.prototype.predecessorToString = function (predecessorCollection, record) {\n        var predecessorString = [];\n        var count = 0;\n        var length = predecessorCollection.length;\n        for (count; count < length; count++) {\n            if (record.ganttProperties.rowUniqueID.toString() !== predecessorCollection[count].from) {\n                var tem = predecessorCollection[count].from + predecessorCollection[count].type;\n                predecessorCollection[count].offset =\n                    isNaN(predecessorCollection[count].offset) ? 0 : predecessorCollection[count].offset;\n                if (predecessorCollection[count].offset !== 0) {\n                    if (predecessorCollection[count].offset < 0) {\n                        tem += predecessorCollection[count].offset.toString() + 'd';\n                    }\n                    else if (predecessorCollection[count].offset > 0) {\n                        tem += '+' + predecessorCollection[count].offset.toString() + 'd';\n                    }\n                }\n                predecessorString.push(tem);\n            }\n        }\n        return predecessorString.join(',');\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.backUpAndPushNewlyAddedRecord = function (record, rowPosition, parentItem) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var currentItemIndex;\n        var recordIndex;\n        var updatedCollectionIndex;\n        var childIndex;\n        switch (rowPosition) {\n            case 'Top':\n                flatRecords.splice(0, 0, record);\n                currentViewData.splice(0, 0, record);\n                ids.splice(0, 0, record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                break;\n            case 'Bottom':\n                flatRecords.push(record);\n                currentViewData.push(record);\n                ids.push(record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                if (this.parent.viewType === 'ResourceView') {\n                    var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n                    this.parent.getTaskIds().push(taskId);\n                }\n                break;\n            case 'Above':\n                /*Record Updates*/\n                recordIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem);\n                this.recordCollectionUpdate(childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Below':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Child':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    //Expand Add record's parent item for project view\n                    if (!this.addRowSelectedItem.expanded && !this.parent.enableMultiTaskbar) {\n                        this.parent.expandByID(this.addRowSelectedItem.ganttProperties.rowUniqueID);\n                    }\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    this.parent.setRecordValue('hasChildRecords', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('isMilestone', false, this.addRowSelectedItem.ganttProperties, true);\n                    this.parent.setRecordValue('expanded', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('childRecords', [], this.addRowSelectedItem);\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                    if (this.addRowSelectedItem.ganttProperties.predecessor) {\n                        this.updatePredecessorOnIndentOutdent(this.addRowSelectedItem);\n                    }\n                    if (!isNullOrUndefined(this.addRowSelectedItem.ganttProperties.segments)) {\n                        this.addRowSelectedItem.ganttProperties.segments = null;\n                    }\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n        }\n        this.newlyAddedRecordBackup = record;\n    };\n    /**\n     * @param {number} childIndex .\n     * @param {number} recordIndex .\n     * @param {number} updatedCollectionIndex .\n     * @param {IGanttData} record .\n     * @param {IGanttData} parentItem .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.recordCollectionUpdate = function (childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        /* Record collection update */\n        flatRecords.splice(recordIndex, 0, record);\n        currentViewData.splice(updatedCollectionIndex, 0, record);\n        ids.splice(recordIndex, 0, record.ganttProperties.rowUniqueID.toString());\n        if (this.parent.viewType === 'ResourceView') {\n            var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n            this.parent.getTaskIds().splice(recordIndex, 0, taskId);\n        }\n        /* data Source update */\n        if (!isNullOrUndefined(parentItem)) {\n            if (rowPosition === 'Above') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem);\n            }\n            else if (rowPosition === 'Below') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem) + 1;\n            }\n            else {\n                childIndex = parentItem.childRecords.length;\n            }\n            /*Child collection update*/\n            parentItem.childRecords.splice(childIndex, 0, record);\n            if (!this.parent.taskFields.child) {\n                this.parent.taskFields.child = 'Children';\n            }\n            if ((this.parent.dataSource instanceof DataManager &&\n                isNullOrUndefined(parentItem.taskData[this.parent.taskFields.parentID])) ||\n                !isNullOrUndefined(this.parent.dataSource)) {\n                var child = this.parent.taskFields.child;\n                if (parentItem.taskData[child] && parentItem.taskData[child].length > 0) {\n                    if (rowPosition === 'Above' || rowPosition === 'Below') {\n                        parentItem.taskData[child].splice(childIndex, 0, record.taskData);\n                    }\n                    else {\n                        parentItem.taskData[child].push(record.taskData);\n                    }\n                }\n                else {\n                    parentItem.taskData[child] = [];\n                    parentItem.taskData[child].push(record.taskData);\n                }\n                this.isNewRecordAdded = true;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} cAddedRecord .\n     * @param {IGanttData} modifiedRecords .\n     * @param {string} event .\n     * @returns {ITaskAddedEventArgs} .\n     * @private\n     */\n    Edit.prototype.constructTaskAddedEventArgs = function (cAddedRecord, modifiedRecords, event) {\n        var eventArgs = {};\n        eventArgs.action = eventArgs.requestType = event;\n        if (cAddedRecord.length > 1) {\n            eventArgs.data = [];\n            eventArgs.newTaskData = [];\n            eventArgs.recordIndex = [];\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                eventArgs.data[i] = cAddedRecord[i];\n                (eventArgs.newTaskData[i]) = (getTaskData([cAddedRecord[i]], eventArgs.data[i], eventArgs, this.parent));\n                eventArgs.recordIndex[i] = cAddedRecord[i].index;\n            }\n        }\n        else if (cAddedRecord.length === 1) {\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                (eventArgs.data) = (cAddedRecord[i]);\n                (eventArgs.newTaskData) = (getTaskData([cAddedRecord[i]], eventArgs.data, eventArgs, this.parent));\n                eventArgs.recordIndex = cAddedRecord[i].index;\n            }\n        }\n        eventArgs.modifiedRecords = modifiedRecords;\n        eventArgs.modifiedTaskData = getTaskData(modifiedRecords, null, null, this.parent);\n        return eventArgs;\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addSuccess = function (args) {\n        // let addedRecords: IGanttData = args.addedRecord;\n        // let eventArgs: IActionBeginEventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.parent.addDeleteRecord = true;\n        if (!this.parent.selectionSettings.persistSelection) {\n            this.parent.selectedRowIndex = 0;\n        }\n        this.parent.treeGrid['isAddedFromGantt'] = true;\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.parent.modifiedRecords = args.modifiedRecords;\n            this.parent.modifiedRecords.push(args.data);\n            this.refreshRecordInImmutableMode();\n        }\n    };\n    Edit.prototype.refreshRecordInImmutableMode = function (data, dragged) {\n        if (!dragged && !isNullOrUndefined(data)) {\n            for (var i = data[0].index + 1; i < this.parent.currentViewData.length; i++) {\n                if (data[0].level < this.parent.currentViewData[i].level) {\n                    this.parent.modifiedRecords.push(this.parent.currentViewData[i]);\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        var _loop_6 = function (i) {\n            var originalData = this_5.parent.modifiedRecords[i];\n            var treeIndex = this_5.parent.rowDragAndDropModule && this_5.parent.allowRowDragAndDrop ? 1 : 0;\n            var uniqueTaskID = this_5.parent.taskFields.id;\n            var originalIndex = this_5.parent.currentViewData.findIndex(function (data) {\n                return (data[uniqueTaskID] === originalData[uniqueTaskID]);\n            });\n            if (this_5.parent.treeGrid.getRows()[originalIndex]) {\n                var row = this_5.parent.treeGrid.grid.getRowObjectFromUID(this_5.parent.treeGrid.grid.getDataRows()[originalIndex].getAttribute('data-uid'));\n                this_5.parent.treeGrid.renderModule.cellRender({\n                    data: row.data,\n                    cell: this_5.parent.treeGrid.getRows()[originalIndex].cells[this_5.parent.treeColumnIndex + treeIndex],\n                    column: this_5.parent.treeGrid.grid.getColumns()[this_5.parent.treeColumnIndex],\n                    requestType: 'rowDragAndDrop'\n                });\n                this_5.parent.treeGrid.renderModule.RowModifier({\n                    data: originalData, row: this_5.parent.treeGrid.getRows()[originalIndex], rowHeight: this_5.parent.rowHeight\n                });\n            }\n        };\n        var this_5 = this;\n        for (var i = 0; i < this.parent.modifiedRecords.length; i++) {\n            _loop_6(i);\n        }\n    };\n    /**\n     * @param {IGanttData} addedRecord .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateRealDataSource = function (addedRecord, rowPosition) {\n        var taskFields = this.parent.taskFields;\n        var dataSource = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n            this.parent.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        for (var i = 0; i < addedRecord.length; i++) {\n            if (isNullOrUndefined(rowPosition) || isNullOrUndefined(this.addRowSelectedItem)) {\n                rowPosition = rowPosition === 'Bottom' ? 'Bottom' : 'Top';\n            }\n            if (rowPosition === 'Top') {\n                dataSource.splice(0, 0, addedRecord[i].taskData);\n            }\n            else if (rowPosition === 'Bottom') {\n                dataSource.push(addedRecord[i].taskData);\n            }\n            else {\n                if (!isNullOrUndefined(taskFields.id) && !isNullOrUndefined(taskFields.parentID) && rowPosition === 'Child') {\n                    dataSource.push(addedRecord[i].taskData);\n                }\n                else {\n                    if (!this.isNewRecordAdded) {\n                        this.addDataInRealDataSource(dataSource, addedRecord[i].taskData, rowPosition);\n                    }\n                    this.isNewRecordAdded = false;\n                }\n            }\n            this.isBreakLoop = false;\n        }\n    };\n    /**\n     * @param {object[]} dataCollection .\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addDataInRealDataSource = function (dataCollection, record, rowPosition) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            var child = this.parent.taskFields.child;\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (getValue(this.parent.taskFields.id, dataCollection[i]).toString() ===\n                this.addRowSelectedItem.ganttProperties.rowUniqueID.toString()) {\n                var index = void 0;\n                if (this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['droppedRecord'] && this.parent.viewType === 'ResourceView') {\n                    for (var i_1 = 0; i_1 < dataCollection.length; i_1++) {\n                        if (dataCollection[i_1][this.parent.taskFields.id] === this.parent.rowDragAndDropModule['droppedRecord'].ganttProperties.taskId) {\n                            index = i_1;\n                            break;\n                        }\n                    }\n                }\n                if (rowPosition === 'Above') {\n                    if (index) {\n                        dataCollection.splice(index, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Below') {\n                    if (index) {\n                        dataCollection.splice(index + 1, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i + 1, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Child') {\n                    if (dataCollection[i][child] && dataCollection[i][child].length > 0) {\n                        dataCollection[i][child].push(record);\n                    }\n                    else {\n                        dataCollection[i][child] = [];\n                        dataCollection[i][child].push(record);\n                    }\n                }\n                this.isBreakLoop = true;\n                break;\n            }\n            else if (dataCollection[i][child]) {\n                var childRecords = dataCollection[i][child];\n                this.addDataInRealDataSource(childRecords, record, rowPosition);\n            }\n        }\n    };\n    /**\n     * Method to update the values to client side from server side.\n     *\n     * @param {Object} e - Defines the new modified data from the server.\n     * @param {Object[]} e.addedRecords .\n     * @param {Object[]} e.changedRecords .\n     * @param {ITaskAddedEventArgs} args - Defines the client side data.\n     * @returns {void} .\n     */\n    Edit.prototype.updateClientDataFromServer = function (e, args) {\n        var serverReturnedValue = e.addedRecords[0];\n        var _aLength = Object.keys(serverReturnedValue).length;\n        for (var j = 0, _a = Object.keys(serverReturnedValue); j < _aLength; j++) {\n            var key = _a[parseInt(j.toString(), 10)];\n            args.data[\"\" + key] = serverReturnedValue[\"\" + key];\n        }\n        if (this.parent.taskFields.id !== null) {\n            args.data.ganttProperties['taskId'] = serverReturnedValue[this.parent.taskFields.id];\n        }\n        if (this.parent.taskFields.name !== null) {\n            args.data.ganttProperties['taskName'] = serverReturnedValue[this.parent.taskFields.name];\n        }\n        if (this.parent.taskFields.startDate !== null) {\n            args.data.ganttProperties['startDate'] = serverReturnedValue[this.parent.taskFields.startDate];\n        }\n        if (this.parent.taskFields.endDate !== null) {\n            args.data.ganttProperties['endDate'] = serverReturnedValue[this.parent.taskFields.endDate];\n        }\n        if (this.parent.taskFields.duration !== null) {\n            args.data.ganttProperties['duration'] = parseFloat(serverReturnedValue[this.parent.taskFields.duration]);\n        }\n        if (this.parent.taskFields.durationUnit !== null) {\n            args.data.ganttProperties['durationUnit'] = serverReturnedValue[this.parent.taskFields.durationUnit];\n        }\n        if (this.parent.taskFields.progress !== null) {\n            args.data.ganttProperties['progress'] = serverReturnedValue[this.parent.taskFields.progress];\n        }\n        if (this.parent.taskFields.dependency !== null) {\n            args.data.ganttProperties['dependency'] = serverReturnedValue[this.parent.taskFields.dependency];\n        }\n        if (this.parent.taskFields.parentID !== null) {\n            args.data.ganttProperties['parentID'] = serverReturnedValue[this.parent.taskFields.parentID];\n        }\n        if (this.parent.taskFields.baselineEndDate !== null) {\n            args.data.ganttProperties['baselineEndDate'] = serverReturnedValue[this.parent.taskFields.baselineEndDate];\n        }\n        if (this.parent.taskFields.baselineStartDate !== null) {\n            args.data.ganttProperties['baselineStartDate'] = serverReturnedValue[this.parent.taskFields.baselineStartDate];\n        }\n        if (this.parent.taskFields.resourceInfo !== null) {\n            args.data.ganttProperties['resources'] = serverReturnedValue[this.parent.taskFields.resourceInfo];\n        }\n    };\n    /**\n     * Method to add new record.\n     *\n     * @param {Object[] | Object} data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        var _this = this;\n        var tempTaskID = this.parent.taskFields.id;\n        if (this.parent.editModule && this.parent.editSettings.allowAdding) {\n            this.parent.isDynamicData = true;\n            this.parent.isOnAdded = true;\n            var cAddedRecord_1 = [];\n            if (isNullOrUndefined(data)) {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else if (data instanceof Array) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    var addData = data;\n                    var addIndex = rowIndex;\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (data[0]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (data[0]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        else if (data[0]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        addIndex = this.parent.taskIds.indexOf(data[0]['id'].toString());\n                        addData = data[0]['data'];\n                    }\n                    this.validateTaskPosition(addData, rowPosition, addIndex, cAddedRecord_1);\n                }\n                else {\n                    for (var i = 0; i < data.length; i++) {\n                        this.validateTaskPosition(data[i], rowPosition, rowIndex, cAddedRecord_1);\n                    }\n                }\n            }\n            else if (typeof (data) === 'object') {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else {\n                return;\n            }\n            var args = {};\n            args = this.constructTaskAddedEventArgs(cAddedRecord_1, this.parent.editedRecords, 'beforeAdd');\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Add')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n            }\n            this.parent.trigger('actionBegin', args, function (args) {\n                _this.parent.previousRecords = {};\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                var tasks = _this.parent.taskFields;\n                var ganttData;\n                if (_this.parent.viewType === 'ResourceView') {\n                    if (args.data['childRecords'].length > 0) {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('R' + args.data[tasks.id])];\n                    }\n                    else {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('T' + args.data[tasks.id])];\n                    }\n                }\n                else {\n                    ganttData = _this.parent.getRecordByID(args.data[tasks.id]);\n                }\n                if (!isNullOrUndefined(ganttData)) {\n                    _this.validateUpdateValues(args.newTaskData, ganttData, true);\n                    _this.parent.dateValidationModule.calculateEndDate(ganttData);\n                    _this.parent.dataOperation.updateWidthLeft(ganttData);\n                    _this.parent.dataOperation.updateParentItems(ganttData);\n                }\n                if (!isNullOrUndefined(args.data[\"\" + tempTaskID])) {\n                    if (args.data[tempTaskID] !== args.data['ganttProperties']['taskId']) {\n                        for (var _i = 0, _b = Object.keys(_this.parent.ids); _i < _b.length; _i++) {\n                            var key = _b[_i];\n                            if (_this.parent.ids[key] === args.data['ganttProperties']['taskId'].toString()) {\n                                _this.parent.ids[key] = args.data[tempTaskID].toString();\n                                break;\n                            }\n                        }\n                        args.data['ganttProperties']['taskId'] = args.data[tempTaskID];\n                        args.newTaskData[tempTaskID] = args.data[tempTaskID];\n                        args.data['ganttProperties']['rowUniqueID'] = args.data[tempTaskID].toString();\n                    }\n                }\n                if (!args.cancel) {\n                    var record = {};\n                    if (isRemoteData(_this.parent.dataSource)) {\n                        var data_2 = _this.parent.dataSource;\n                        var updatedData_2 = {\n                            addedRecords: [args.newTaskData],\n                            changedRecords: args.modifiedTaskData\n                        };\n                        /* tslint:disable-next-line */\n                        var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                        var adaptor = data_2.adaptor;\n                        if (!(adaptor instanceof WebApiAdaptor || adaptor instanceof ODataAdaptor ||\n                            adaptor instanceof ODataV4Adaptor) || data_2.dataSource.batchUrl) {\n                            /* tslint:disable-next-line */\n                            var crud = data_2.saveChanges(updatedData_2, _this.parent.taskFields.id, null, query);\n                            crud.then(function (e) {\n                                if (e.addedRecords[0][_this.parent.taskFields.id].toString() !== args.data['ganttProperties']['taskId']) {\n                                    args.data['ganttProperties']['taskId'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.newTaskData[tempTaskID] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.data['ganttProperties']['rowUniqueID'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    _this.parent.ids.push(e.addedRecords[0][_this.parent.taskFields.id].toString());\n                                }\n                                var prevID = args.data.ganttProperties.taskId.toString();\n                                if (_this.parent.taskFields.id && !isNullOrUndefined(e.addedRecords[0][_this.parent.taskFields.id]) &&\n                                    e.addedRecords[0][_this.parent.taskFields.id].toString() === prevID) {\n                                    _this.parent.setRecordValue('taskId', e.addedRecords[0][_this.parent.taskFields.id], args.data.ganttProperties, true);\n                                    _this.parent.setRecordValue('taskData', e.addedRecords[0], args.data);\n                                    _this.parent.setRecordValue(_this.parent.taskFields.id, e.addedRecords[0][_this.parent.taskFields.id], args.data);\n                                    _this.parent.setRecordValue('rowUniqueID', e.addedRecords[0][_this.parent.taskFields.id].toString(), args.data.ganttProperties, true);\n                                    _this.updateClientDataFromServer(e, args);\n                                    var idsIndex = _this.parent.ids.indexOf(prevID);\n                                    if (idsIndex !== -1) {\n                                        _this.parent.ids[idsIndex] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    }\n                                }\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                        else {\n                            var addedRecords = 'addedRecords';\n                            var insertCrud = data_2.insert(updatedData_2[addedRecords], null, query);\n                            insertCrud.then(function (e) {\n                                var addedRecords;\n                                if (!isNullOrUndefined(e[0])) {\n                                    addedRecords = e[0];\n                                }\n                                else {\n                                    /* eslint-disable-next-line */\n                                    addedRecords = updatedData_2['addedRecords'][0];\n                                }\n                                cAddedRecord_1.forEach(function (record) {\n                                    if (!isNullOrUndefined(record)) {\n                                        _this.updateEditedRecordFields(addedRecords, record);\n                                        _this.parent.dataOperation.updateTaskData(record);\n                                    }\n                                });\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                    }\n                    else {\n                        if (_this.parent.viewType === 'ProjectView') {\n                            if ((rowPosition === 'Top' || rowPosition === 'Bottom') ||\n                                ((rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') || isNullOrUndefined(rowPosition) && !args.data.parentItem)) {\n                                if (args.data instanceof Array) {\n                                    _this.updateRealDataSource(args.data, rowPosition);\n                                }\n                                else {\n                                    var data_3 = [];\n                                    data_3.push(args.data);\n                                    _this.updateRealDataSource(data_3, rowPosition);\n                                    _this.parent.currentSelection = cAddedRecord_1[0].ganttProperties;\n                                }\n                            }\n                        }\n                        else {\n                            var dataSource = isCountRequired(_this.parent) ? getValue('result', _this.parent.dataSource) :\n                                _this.parent.dataSource; // eslint-disable-line\n                            dataSource.push(args.data.taskData);\n                        }\n                        if (cAddedRecord_1.level === 0) {\n                            _this.parent.treeGrid.parentData.splice(0, 0, cAddedRecord_1);\n                        }\n                        _this.updateTreeGridUniqueID(cAddedRecord_1, 'add');\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.undoRedoModule && _this.parent.undoRedoModule['currentAction']) {\n                            var canDelete = false;\n                            if (args.data['hasChildRecords']) {\n                                canDelete = true;\n                            }\n                            else {\n                                if (args.data['parentItem']) {\n                                    var parentTask = _this.parent.getTaskByUniqueID(args.data['parentItem'].uniqueID);\n                                    if (parentTask.ganttProperties.taskName !== _this.parent.localeObj.getConstant('unassignedTask')) {\n                                        canDelete = true;\n                                    }\n                                }\n                            }\n                            if (_this.parent.taskIds.indexOf('R0') !== -1 && _this.parent.undoRedoModule && _this.parent.undoRedoModule['isUndoRedoPerformed'] && _this.parent.undoRedoModule['currentAction']['action'] === 'Delete'\n                                && canDelete) {\n                                var unassignedTask = _this.parent.flatData[_this.parent.taskIds.indexOf('R0')];\n                                var isPresent = unassignedTask.childRecords.filter(function (data) { return data.ganttProperties.taskId === args.data['ganttProperties'].taskId; });\n                                if (args.data['hasChildRecords']) {\n                                    isPresent = args.data['childRecords'];\n                                }\n                                var _loop_7 = function (j) {\n                                    if (unassignedTask.childRecords.length === 1) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                    }\n                                    else {\n                                        var index = _this.parent.taskIds.indexOf('T' + isPresent[j].ganttProperties.taskId);\n                                        var id_2 = 'T' + isPresent[j].ganttProperties.taskId;\n                                        var indexes = _this.parent.taskIds.reduce(function (a, e, i) {\n                                            if (e === id_2) {\n                                                a.push(i);\n                                            }\n                                            return a;\n                                        }, []);\n                                        index = indexes[indexes.length - 1];\n                                        _this.parent.taskIds.splice(index, 1);\n                                        _this.parent.flatData.splice(index, 1);\n                                        _this.parent.ids.splice(index, 1);\n                                    }\n                                };\n                                for (var j = 0; j < isPresent.length; j++) {\n                                    _loop_7(j);\n                                }\n                                if (unassignedTask && _this.parent.viewType === 'ResourceView') {\n                                    var isValid = _this.parent.flatData[_this.parent.taskIds.indexOf('R0') + 1];\n                                    if (!isValid) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                    }\n                                }\n                            }\n                        }\n                        _this.refreshNewlyAddedRecord(args, cAddedRecord_1);\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.taskFields.work && ganttData) {\n                            _this.parent.dataOperation.updateParentItems(ganttData, true);\n                        }\n                        if (_this.parent.undoRedoModule && (!_this.parent.undoRedoModule['isUndoRedoPerformed'] || (_this.parent.undoRedoModule['isUndoRedoPerformed'] && _this.parent.undoRedoModule['currentAction']['action'] === 'Add' && _this.parent.viewType === 'ResourceView'))\n                            && _this.parent['isUndoRedoItemPresent']('Add')) {\n                            record['action'] = 'Add';\n                            var tempArray_1 = args.data.length > 0 ?\n                                extend([], [], args.data, true) : [args.data];\n                            var addedRec = [];\n                            var _loop_8 = function (i) {\n                                addedRec = (_this.parent.flatData.filter(function (data) {\n                                    return (tempArray_1[i].index === data.index && tempArray_1[i]['ganttProperties'].taskId === data.ganttProperties.taskId);\n                                }));\n                            };\n                            for (var i = 0; i < tempArray_1.length; i++) {\n                                _loop_8(i);\n                            }\n                            record['addedRecords'] = extend([], [], addedRec, true);\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                        }\n                        _this._resetProperties();\n                    }\n                    _this.parent.isOnAdded = false;\n                }\n                else {\n                    _this.removeAddedRecord();\n                    _this.reUpdatePreviousRecords();\n                    _this._resetProperties();\n                }\n            });\n        }\n    };\n    Edit.prototype.createNewRecord = function () {\n        var tempRecord = {};\n        var ganttColumns = this.parent.ganttColumns;\n        var taskSettingsFields = this.parent.taskFields;\n        var taskId = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < ganttColumns.length; i++) {\n            var fieldName = ganttColumns[i].field;\n            if (fieldName === taskSettingsFields.id) {\n                tempRecord[fieldName] = taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.startDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.endDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.endDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.startDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.duration) {\n                tempRecord[fieldName] = 1;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.name) {\n                tempRecord[fieldName] = this.parent.editModule.dialogModule['localeObj'].getConstant('addDialogTitle') + ' ' + taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.progress) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.work) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.type || ganttColumns[i].field === 'taskType') {\n                tempRecord[fieldName] = this.parent.taskType;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.milestone) {\n                tempRecord[fieldName] = null;\n            }\n            else {\n                tempRecord[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        return tempRecord;\n    };\n    /**\n     * Method to validateTaskPosition.\n     *\n     * @param {Object | object[] } data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @param {IGanttData} cAddedRecord - Defines the single data to validate.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateTaskPosition = function (data, rowPosition, rowIndex, cAddedRecord) {\n        var selectedRowIndex = isNullOrUndefined(rowIndex) || isNaN(parseInt(rowIndex.toString(), 10)) ?\n            this.parent.selectionModule ?\n                (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both') &&\n                    this.parent.selectionModule.selectedRowIndexes.length === 1 ?\n                    this.parent.selectionModule.selectedRowIndexes[0] :\n                    this.parent.selectionSettings.mode === 'Cell' &&\n                        this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        this.parent.selectionModule.getSelectedRowCellIndexes()[0].rowIndex : null : null : rowIndex;\n        this.addRowSelectedItem = isNullOrUndefined(selectedRowIndex) ? null : this.parent.updatedRecords[selectedRowIndex];\n        rowPosition = isNullOrUndefined(rowPosition) ? this.parent.editSettings.newRowPosition : rowPosition;\n        data = isNullOrUndefined(data) ? this.createNewRecord() : data;\n        if (((isNullOrUndefined(selectedRowIndex) || selectedRowIndex < 0 ||\n            isNullOrUndefined(this.addRowSelectedItem)) && (rowPosition === 'Above'\n            || rowPosition === 'Below'\n            || rowPosition === 'Child')) || !rowPosition || (rowPosition !== 'Above'\n            && rowPosition !== 'Below'\n            && rowPosition !== 'Child' && rowPosition !== 'Top' &&\n            rowPosition !== 'Bottom')) {\n            rowPosition = 'Top';\n        }\n        var level = 0;\n        var parentItem;\n        switch (rowPosition) {\n            case 'Top':\n            case 'Bottom':\n                if (this.parent.viewType === 'ResourceView') {\n                    level = 1;\n                }\n                else {\n                    level = 0;\n                }\n                break;\n            case 'Above':\n            case 'Below':\n                level = this.addRowSelectedItem.level;\n                parentItem = this.parent.getParentTask(this.addRowSelectedItem.parentItem);\n                break;\n            case 'Child':\n                level = this.addRowSelectedItem.level + 1;\n                parentItem = this.addRowSelectedItem;\n                break;\n        }\n        if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.prepareNewlyAddedData(data, rowPosition);\n        }\n        var AddRecord = (this.updateNewlyAddedDataBeforeAjax(data, level, rowPosition, parentItem));\n        cAddedRecord.push(AddRecord);\n    };\n    Edit.prototype.updateNewRecord = function (cAddedRecord, args) {\n        var _this = this;\n        cAddedRecord.forEach(function (record) {\n            if (record.level === 0) {\n                _this.parent.treeGrid.parentData.splice(0, 0, record);\n                var tempData = getValue('dataOperation.dataArray', _this.parent);\n                tempData.splice(0, 0, record.taskData);\n            }\n            _this.updateTreeGridUniqueID(record, 'add');\n        });\n        this.refreshNewlyAddedRecord(args, cAddedRecord);\n        this._resetProperties();\n    };\n    /**\n     * Method to reset the flag after adding new record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype._resetProperties = function () {\n        this.parent.isOnEdit = false;\n        this.parent.hideSpinner();\n        this.addRowSelectedItem = null;\n        this.newlyAddedRecordBackup = null;\n        this.isBreakLoop = false;\n        this.parent.element.tabIndex = 0;\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * Method to update unique id collection in TreeGrid\n     *\n     * @param {IGanttData} data .\n     * @param {string} action .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTreeGridUniqueID = function (data, action) {\n        if (action === 'add') {\n            setValue('uniqueIDCollection.' + data.uniqueID, data, this.parent.treeGrid);\n        }\n        else if (action === 'delete') {\n            deleteObject(getValue('uniqueIDCollection', this.parent.treeGrid), data.uniqueID);\n        }\n    };\n    Edit.prototype.refreshNewlyAddedRecord = function (args, cAddedRecord) {\n        if (this.parent.selectionModule && this.parent.allowSelection &&\n            (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both')) {\n            this.parent.staticSelectedRowIndex = this.parent.currentViewData.indexOf(args.data);\n        }\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = [];\n            if (args.modifiedRecords.length > 0) {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data]; // eslint-disable-next-line\n                tempArray.push.apply(tempArray, args.modifiedRecords);\n            }\n            else {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data];\n            }\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        this.addSuccess(args);\n        args = this.constructTaskAddedEventArgs(cAddedRecord, args.modifiedRecords, 'add');\n        if (this.dialogModule.isAddNewResource && !this.parent.isEdit && this.parent.taskFields.work) {\n            this.parent.dataOperation.updateWorkWithDuration(cAddedRecord[0]);\n        }\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n            this.dialogModule.dialogObj.hide();\n        }\n        this.dialogModule.dialogClose();\n        if (this.parent.viewType === 'ResourceView') {\n            if (cAddedRecord.length > 1) {\n                for (var i = 0; i < cAddedRecord.length; i++) {\n                    args.data[i].ganttProperties.sharedTaskUniqueIds.push(args.data[i]\n                        .ganttProperties.rowUniqueID);\n                    if (args.data[i].ganttProperties.resourceInfo) {\n                        // if ((args.data[i] as IGanttData).ganttProperties.resourceInfo.length > 1) {\n                        var resources = extend([], [], args.data[i].ganttProperties.resourceInfo, true);\n                        resources.splice(0, 1);\n                        this.updateResoures([], resources, args.data[i]);\n                        // }\n                    }\n                    else {\n                        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data[i]['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                            this.removeChildRecord(args.data[i]);\n                            this.parent.editModule.checkWithUnassignedTask(args.data[i]);\n                        }\n                    }\n                    for (var k = 0; k < this.updateParentRecords.length; k++) {\n                        this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                    }\n                    this.updateParentRecords = [];\n                }\n            }\n            else {\n                args.data.ganttProperties.sharedTaskUniqueIds.push(args.data.ganttProperties.rowUniqueID);\n                // eslint-disable-next-line\n                if (args.data.ganttProperties.resourceInfo && args.data.ganttProperties.resourceInfo.length) {\n                    if (args.data.ganttProperties.resourceInfo.length > 1) {\n                        // eslint-disable-next-line\n                        var resources = extend([], [], args.data.ganttProperties.resourceInfo, true);\n                        resources.splice(0, 1);\n                        this.updateResoures([], resources, args.data);\n                    }\n                }\n                else {\n                    if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                        this.removeChildRecord(args.data);\n                        this.parent.editModule.checkWithUnassignedTask(args.data);\n                    }\n                }\n                for (var k = 0; k < this.updateParentRecords.length; k++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                }\n                this.updateParentRecords = [];\n            }\n        }\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.removeAddedRecord = function () {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var flatRecordsIndex = flatRecords.indexOf(this.newlyAddedRecordBackup);\n        var currentViewDataIndex = currentViewData.indexOf(this.newlyAddedRecordBackup);\n        var idsIndex = ids.indexOf(this.newlyAddedRecordBackup.ganttProperties.rowUniqueID.toString());\n        deleteObject(this.parent.previousRecords, flatRecords[flatRecordsIndex].uniqueID);\n        if (this.newlyAddedRecordBackup.parentItem) {\n            var parentItem = this.parent.getParentTask(this.newlyAddedRecordBackup.parentItem);\n            var parentIndex = parentItem.childRecords.indexOf(this.newlyAddedRecordBackup);\n            parentItem.childRecords.splice(parentIndex, 1);\n        }\n        flatRecords.splice(flatRecordsIndex, 1);\n        currentViewData.splice(currentViewDataIndex, 1);\n        ids.splice(idsIndex, 1);\n    };\n    Edit.prototype.getPrevRecordIndex = function () {\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        var parent = this.parent.getRootParent(prevRecord, selectedRecord.level);\n        var prevIndex = this.parent.updatedRecords.indexOf(parent);\n        return prevIndex;\n    };\n    /**\n     * indent a selected record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.indent = function () {\n        var index = this.parent.selectedRowIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        var dropIndex;\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[index].level - prevRecord.level === 1) {\n            return;\n        }\n        else {\n            if (prevRecord.level - selectedRecord.level === 0) {\n                dropIndex = this.parent.selectionModule.getSelectedRowIndexes()[0] - 1;\n            }\n            else {\n                dropIndex = this.getPrevRecordIndex();\n            }\n            this.indentOutdentRow([this.parent.selectionModule.getSelectedRowIndexes()[0]], dropIndex, 'child');\n        }\n    };\n    /**\n     * To perform outdent operation for selected row\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.outdent = function () {\n        var index = this.parent.selectionModule.getSelectedRowIndexes()[0];\n        var dropIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        if (!this.parent.editSettings.allowEditing || index === -1 || index === 0 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[index].level === 0) {\n            return;\n        }\n        else {\n            var thisParent = this.parent.getTaskByUniqueID(this.parent.selectionModule.getSelectedRecords()[0].parentItem.uniqueID);\n            dropIndex = this.parent.updatedRecords.indexOf(thisParent);\n            this.indentOutdentRow([index], dropIndex, 'below');\n        }\n    };\n    Edit.prototype.indentOutdentRow = function (fromIndexes, toIndex, pos) {\n        var _this = this;\n        // eslint-disable-next-line\n        if (fromIndexes[0] !== toIndex && pos === 'above' || 'below' || 'child') {\n            if (pos === 'above') {\n                this.dropPosition = 'topSegment';\n            }\n            if (pos === 'below') {\n                this.dropPosition = 'bottomSegment';\n            }\n            if (pos === 'child') {\n                this.dropPosition = 'middleSegment';\n            }\n            var action = void 0;\n            var record = [];\n            for (var i = 0; i < fromIndexes.length; i++) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']) {\n                    if (this.parent.undoRedoModule['currentAction']['modifiedRecord']) {\n                        record[i] = this.parent.undoRedoModule['currentAction']['modifiedRecord'][i].data;\n                    }\n                    else {\n                        record[i] = this.parent.undoRedoModule['currentAction']['data'][i];\n                    }\n                }\n                else {\n                    record[i] = this.parent.updatedRecords[fromIndexes[i]];\n                }\n            }\n            var isByMethod_1 = true;\n            var args_1 = {\n                data: record,\n                dropIndex: toIndex,\n                dropPosition: this.dropPosition\n            };\n            if (this.dropPosition === 'middleSegment') {\n                action = 'indenting';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                action = 'outdenting';\n            }\n            var actionArgs = {\n                action: action,\n                data: record[0],\n                cancel: false\n            };\n            this.parent.trigger('actionBegin', actionArgs, function (actionArg) {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                if (!actionArg.cancel) {\n                    _this.reArrangeRows(args_1, isByMethod_1);\n                }\n                else {\n                    return;\n                }\n            });\n        }\n        else {\n            return;\n        }\n    };\n    Edit.prototype.reArrangeRows = function (args, isByMethod) {\n        var _this = this;\n        this.dropPosition = args.dropPosition;\n        if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n            var obj = this.parent;\n            var draggedRec = void 0;\n            this.droppedRecord = obj.updatedRecords[args.dropIndex];\n            var action = args.dropPosition === 'middleSegment' ? 'Indent' : 'Outdent';\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent'](action)) {\n                var record = {};\n                record['action'] = action;\n                record['modifiedRecord'] = [];\n                record['selectedRowIndexes'] = extend([], [], this.parent.selectionModule.selectedRowIndexes, true);\n                this.parent.undoRedoModule['findPosition'](extend([], [], [args.data], true)[0], record, 'modifiedRecord');\n                record['droppedRecord'] = extend([], [], this.droppedRecord, true);\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['redoEnabled'] = false;\n                    this.parent.undoRedoModule['getUndoCollection'] = [];\n                    this.parent.undoRedoModule['getRedoCollection'] = [];\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n                    }\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            var dragRecords = [];\n            var droppedRec = this.droppedRecord;\n            if (!args.data[0]) {\n                dragRecords.push(args.data);\n            }\n            else {\n                dragRecords = args.data;\n            }\n            var c = 0;\n            var dLength = dragRecords.length;\n            for (var i = 0; i < dLength; i++) {\n                this.parent.isOnEdit = true;\n                draggedRec = dragRecords[i];\n                this.draggedRecord = draggedRec;\n                if (this.dropPosition !== 'Invalid') {\n                    if (isByMethod) {\n                        this.deleteDragRow();\n                    }\n                    var recordIndex1 = this.treeGridData.indexOf(droppedRec);\n                    if (this.dropPosition === 'bottomSegment') {\n                        if (!droppedRec.hasChildRecords) {\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                        }\n                        else {\n                            c = this.parent.editModule.getChildCount(droppedRec, 0);\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + c + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + c + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                            var idIndex = this.parent.ids.indexOf(this.draggedRecord[this.parent.taskFields.id].toString());\n                            if (idIndex !== recordIndex1 + c + 1) {\n                                this.parent.ids.splice(idIndex, 1);\n                                this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n                            }\n                        }\n                        this.parent.setRecordValue('parentItem', this.treeGridData[recordIndex1].parentItem, draggedRec);\n                        this.parent.setRecordValue('parentUniqueID', this.treeGridData[recordIndex1].parentUniqueID, draggedRec);\n                        this.parent.setRecordValue('level', this.treeGridData[recordIndex1].level, draggedRec);\n                        if (draggedRec.hasChildRecords) {\n                            var level = 1;\n                            this.updateChildRecordLevel(draggedRec, level);\n                            this.updateChildRecord(draggedRec, recordIndex1 + c + 1);\n                        }\n                        if (droppedRec.parentItem) {\n                            var record = this.parent.getParentTask(droppedRec.parentItem).childRecords;\n                            var childRecords = record;\n                            var droppedRecordIndex = childRecords.indexOf(droppedRec) + 1;\n                            childRecords.splice(droppedRecordIndex, 0, draggedRec);\n                        }\n                    }\n                    if (this.dropPosition === 'middleSegment') {\n                        this.dropMiddle(recordIndex1);\n                    }\n                    if (!isNullOrUndefined(draggedRec.parentItem && this.updateParentRecords.indexOf(draggedRec.parentItem) !== -1)) {\n                        this.updateParentRecords.push(this.parent.getTaskByUniqueID(draggedRec.parentItem.uniqueID));\n                    }\n                }\n                if (isNullOrUndefined(draggedRec.parentItem)) {\n                    var parentRecords = this.parent.treeGrid.parentData;\n                    var newParentIndex = parentRecords.indexOf(this.droppedRecord);\n                    if (this.dropPosition === 'bottomSegment') {\n                        parentRecords.splice(newParentIndex + 1, 0, draggedRec);\n                    }\n                }\n                this.refreshDataSource();\n            }\n            if (this.dropPosition === 'middleSegment') {\n                if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                    var len = droppedRec.ganttProperties.predecessor.length;\n                    for (var count = len - 1; count >= 0; count--) {\n                        if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                            var fromRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].from);\n                            var toRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].to);\n                            var validPredecessor = this.parent.connectorLineEditModule.validateParentPredecessor(fromRecord, toRecord);\n                            if (droppedRec.ganttProperties.predecessor && (!validPredecessor || !this.parent.allowParentDependency)) {\n                                this.parent.editModule.removePredecessorOnDelete(droppedRec);\n                                droppedRec.ganttProperties.predecessor.splice(count, 1);\n                                droppedRec.ganttProperties.predecessorsName = null;\n                                droppedRec[this.parent.taskFields.dependency] = null;\n                                droppedRec.taskData[this.parent.taskFields.dependency] = null;\n                            }\n                        }\n                    }\n                }\n                if (droppedRec.ganttProperties.isMilestone) {\n                    this.parent.setRecordValue('isMilestone', false, droppedRec.ganttProperties, true);\n                    if (!isNullOrUndefined(droppedRec.taskData[this.parent.taskFields.milestone])) {\n                        if (droppedRec.taskData[this.parent.taskFields.milestone] === true) {\n                            droppedRec.taskData[this.parent.taskFields.milestone] = false;\n                        }\n                    }\n                }\n            }\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.parent.editedRecords.forEach(function (record) {\n                _this.isFirstCall = true;\n                _this.parent.predecessorModule.validatePredecessor(record, [], '');\n            });\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.isOnEdit = false;\n        }\n        this.refreshRecord(args);\n    };\n    /**\n     * @returns {void} .\n     * @param {RowDropEventArgs} args .\n     * @param {boolean} isDrag .\n     * @private\n     */\n    Edit.prototype.refreshRecord = function (args, isDrag) {\n        var _this = this;\n        if (isRemoteData(this.parent.dataSource)) {\n            var data = this.parent.dataSource;\n            var updatedData = {\n                changedRecords: getTaskData(this.parent.editedRecords, null, null, this.parent)\n            };\n            var queryValue = this.parent.query instanceof Query ? this.parent.query : new Query();\n            var crud = null;\n            var adaptor = data.adaptor;\n            if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                crud = data.saveChanges(updatedData, this.parent.taskFields.id, null, queryValue);\n            }\n            else {\n                var changedRecords = 'changedRecords';\n                crud = data.update(this.parent.taskFields.id, updatedData[changedRecords], null, queryValue);\n            }\n            crud.then(function (e) { return _this.indentSuccess(e, args, isDrag); })\n                .catch(function (e) { return _this.indentFailure(e); });\n        }\n        else {\n            this.indentOutdentSuccess(args, isDrag);\n        }\n    };\n    Edit.prototype.indentSuccess = function (e, args, isDrag) {\n        this.indentOutdentSuccess(args, isDrag);\n    };\n    Edit.prototype.indentFailure = function (e) {\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.indentOutdentSuccess = function (args, isDrag) {\n        this.parent.treeGrid.parentData = [];\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode(args.data, isDrag);\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n        }\n        if (isDrag) {\n            args.requestType = 'rowDropped';\n        }\n        else {\n            if (this.dropPosition === 'middleSegment') {\n                args.requestType = 'indented';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                args.requestType = 'outdented';\n            }\n        }\n        args.modifiedRecords = this.parent.editedRecords;\n        if (this.parent.timezone) {\n            for (var i = 0; i < args.modifiedRecords.length; i++) {\n                updateDates(args.modifiedRecords[i], this.parent);\n            }\n        }\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.parent.rowDragAndDropModule) {\n            this.parent.rowDragAndDropModule['draggedRecord'] = null;\n        }\n    };\n    Edit.prototype.refreshDataSource = function () {\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var proxy = this.parent;\n        var tempData;\n        var indx;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempData = proxy.dataSource;\n        }\n        if (tempData.length > 0 && (!isNullOrUndefined(droppedRec) && !droppedRec.parentItem)) {\n            for (var i = 0; i < Object.keys(tempData).length; i++) {\n                if (tempData[i][this.parent.taskFields.child] === droppedRec.taskData[this.parent.taskFields.child]) {\n                    indx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx, 0, draggedRec.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx + 1, 0, draggedRec.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRec) && droppedRec.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPos = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRec;\n                var dragRecord = [];\n                if (!Array.isArray(draggedRec)) {\n                    dragRecord[0] = draggedRec;\n                }\n                else {\n                    dragRecord = draggedRec;\n                }\n                this.parent.editModule.updateRealDataSource(dragRecord, rowPos);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRec.parentItem) {\n                if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.parentID];\n                }\n                else {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.id];\n                }\n            }\n            else {\n                draggedRec[this.parent.taskFields.parentID] = null;\n                draggedRec.taskData[this.parent.taskFields.parentID] = null;\n                draggedRec.ganttProperties['parentId'] = null;\n            }\n        }\n    };\n    Edit.prototype.deleteDragRow = function () {\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        this.treeGridData = isCountRequired(this.parent) ?\n            getValue('result', this.parent.treeGrid.dataSource) : this.parent.treeGrid.dataSource;\n        var delRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        this.removeRecords(delRow);\n    };\n    Edit.prototype.updateIndentedChildRecords = function (indentedRecord) {\n        var createParentItem = {\n            uniqueID: indentedRecord.uniqueID,\n            expanded: indentedRecord.expanded,\n            level: indentedRecord.level,\n            index: indentedRecord.index,\n            taskId: indentedRecord.ganttProperties.rowUniqueID\n        };\n        for (var i = 0; i < indentedRecord.childRecords.length; i++) {\n            this.parent.setRecordValue('parentItem', createParentItem, indentedRecord.childRecords[i]);\n            this.parent.setRecordValue('parentUniqueID', indentedRecord.uniqueID, indentedRecord.childRecords[i]);\n        }\n        if (indentedRecord.hasChildRecords) {\n            indentedRecord = indentedRecord.childRecords;\n            for (var j = 0; j < indentedRecord['length']; j++) {\n                this.updateIndentedChildRecords(indentedRecord[j]);\n            }\n        }\n    };\n    Edit.prototype.dropMiddle = function (recordIndex1) {\n        var obj = this.parent;\n        var childRec;\n        var childRecordsLength;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['modifiedRecord']\n            && this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position !== 'child') {\n            if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'above') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString());\n            }\n            else if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'below') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString()) + 1;\n            }\n        }\n        else {\n            childRec = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n            childRecordsLength = (isNullOrUndefined(childRec) ||\n                childRec === 0) ? recordIndex1 + 1 :\n                childRec + recordIndex1 + 1;\n        }\n        if (this.dropPosition === 'middleSegment') {\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n            this.recordLevel();\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n                if (this.parent.enableImmutableMode) {\n                    var indentedRecord = this.draggedRecord;\n                    this.updateIndentedChildRecords(indentedRecord);\n                }\n            }\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    Edit.prototype.updateChildRecordLevel = function (record, levl) {\n        var length = 0;\n        var currentRec;\n        levl++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var j = 0; j < length; j++) {\n            currentRec = record.childRecords[j];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRec.level = record.parentItem ? parentData.level + levl : record.level + 1;\n            if (currentRec.hasChildRecords) {\n                levl--;\n                levl = this.updateChildRecordLevel(currentRec, levl);\n            }\n        }\n        return levl;\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRec;\n        var obj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRec = record.childRecords[i];\n            count++;\n            obj.flatData.splice(count, 0, currentRec);\n            this.parent.ids.splice(count, 0, currentRec.ganttProperties.rowUniqueID.toString());\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(count, 0, currentRec.taskData);\n            }\n            if (currentRec.hasChildRecords) {\n                count = this.updateChildRecord(currentRec, count);\n            }\n        }\n        return count;\n    };\n    Edit.prototype.removeRecords = function (record) {\n        var obj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var delRow = record;\n        if (delRow) {\n            var flatParent = this.parent.getParentTask(delRow.parentItem);\n            if (delRow.parentItem) {\n                var childRecords = flatParent ? flatParent.childRecords : [];\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    childIndex = childRecords.indexOf(delRow);\n                    flatParent.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID) {\n                        flatParent.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParent);\n                }\n            }\n            if (obj.taskFields.parentID) {\n                if (delRow.hasChildRecords && delRow.childRecords.length > 0) {\n                    this.removeChildItem(delRow);\n                }\n                var indx = void 0;\n                var ganttData = dataSource.length > 0 ?\n                    dataSource : this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                        indx = i;\n                    }\n                }\n                if (indx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(indx, 1);\n                    }\n                    var gridIndx = void 0;\n                    for (var i = 0; i < this.treeGridData.length; i++) {\n                        if (this.treeGridData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                            gridIndx = i;\n                        }\n                    }\n                    this.treeGridData.splice(gridIndx, 1);\n                    this.parent.ids.splice(gridIndx, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(delRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(delRow), 1);\n                    }\n                }\n            }\n            var recordIdx = this.treeGridData.indexOf(delRow);\n            if (!obj.taskFields.parentID) {\n                var deletedRecordCount = this.getChildCount(delRow, 0);\n                this.treeGridData.splice(recordIdx, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIdx, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(delRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n            }\n            if (delRow.parentItem && flatParent && flatParent.childRecords && !flatParent.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParent);\n                this.parent.setRecordValue('hasChildRecords', false, flatParent);\n            }\n        }\n    };\n    Edit.prototype.removeChildItem = function (record) {\n        var currentRec;\n        var indx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRec = record.childRecords[i];\n            var data = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                data = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                data = this.parent.dataSource;\n            }\n            for (var j = 0; j < data.length; j++) {\n                if (data[j][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                    indx = j;\n                }\n            }\n            if (indx !== -1) {\n                if (data.length > 0) {\n                    data.splice(indx, 1);\n                }\n                var gridIndx = void 0;\n                for (var i_2 = 0; i_2 < this.treeGridData.length; i_2++) {\n                    if (this.treeGridData[i_2][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                        gridIndx = i_2;\n                    }\n                }\n                this.treeGridData.splice(gridIndx, 1);\n                this.parent.ids.splice(gridIndx, 1);\n            }\n            if (currentRec.hasChildRecords) {\n                this.removeChildItem(currentRec);\n            }\n        }\n    };\n    Edit.prototype.recordLevel = function () {\n        var obj = this.parent;\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var childItem = obj.taskFields.child;\n        if (!droppedRec.hasChildRecords) {\n            droppedRec.hasChildRecords = true;\n            if (!droppedRec.childRecords.length) {\n                droppedRec.childRecords = [];\n                if (!obj.taskFields.parentID && isNullOrUndefined(droppedRec.taskData[childItem])) {\n                    droppedRec.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRec);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRec);\n            this.parent.setRecordValue('parentUniqueID', droppedRec.uniqueID, draggedRec);\n            droppedRec.childRecords.splice(droppedRec.childRecords.length, 0, draggedRec);\n            if (!isNullOrUndefined(draggedRec) && !obj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRec.taskData[childItem])) {\n                droppedRec.taskData[obj.taskFields.child].splice(droppedRec.childRecords.length, 0, draggedRec.taskData);\n            }\n            if (!isNullOrUndefined(droppedRec.ganttProperties.segments) && droppedRec.ganttProperties.segments.length > 0) {\n                droppedRec.ganttProperties.segments = null;\n                droppedRec.taskData[obj.taskFields.segments] = null;\n            }\n            if (!draggedRec.hasChildRecords) {\n                draggedRec.level = droppedRec.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRec.level = droppedRec.level + 1;\n                this.updateChildRecordLevel(draggedRec, level);\n            }\n            droppedRec.expanded = true;\n        }\n    };\n    return Edit;\n}());\nexport { Edit };\n","import { TreeGrid, Reorder as TreeGridReorder } from '@syncfusion/ej2-treegrid';\n/**\n * To handle column reorder action from TreeGrid\n */\nvar Reorder = /** @class */ (function () {\n    function Reorder(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridReorder);\n        this.parent.treeGrid.allowReordering = this.parent.allowReordering;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {string} .\n     */\n    Reorder.prototype.getModuleName = function () {\n        return 'reorder';\n    };\n    /**\n     * To bind reorder events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.columnDragStart = function (args) {\n            _this.parent.trigger('columnDragStart', args);\n        };\n        this.parent.treeGrid.columnDrag = function (args) {\n            _this.parent.trigger('columnDrag', args);\n        };\n        this.parent.treeGrid.columnDrop = function (args) {\n            _this.parent.trigger('columnDrop', args);\n        };\n    };\n    /**\n     * To destroy the column-reorder.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Reorder;\n}());\nexport { Reorder };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { TreeGrid, Resize as TreeGridResize } from '@syncfusion/ej2-treegrid';\n/**\n * Column resize action related code goes here\n */\nvar Resize = /** @class */ (function () {\n    function Resize(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridResize);\n        this.parent.treeGrid.allowResizing = this.parent.allowResizing;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    Resize.prototype.getModuleName = function () {\n        return 'resize';\n    };\n    /**\n     * To bind resize events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.resizeStart = function (args) {\n            if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('ColumnResize')) {\n                _this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['action'] = 'ColumnResize';\n                details['resizedColumn'] = __assign({}, args.column);\n                _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            _this.parent.trigger('resizeStart', args);\n        };\n        this.parent.treeGrid.resizing = function (args) {\n            _this.parent.trigger('resizing', args);\n        };\n        this.parent.treeGrid.resizeStop = function (args) {\n            _this.parent.trigger('resizeStop', args);\n        };\n    };\n    /**\n     * To destroy the column-resizer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Resize;\n}());\nexport { Resize };\n","import { TreeGrid, Filter as TreeGridFilter } from '@syncfusion/ej2-treegrid';\nimport { filterAfterOpen, getFilterMenuPostion } from '@syncfusion/ej2-grids';\nimport { getActualProperties, getCustomDateFormat } from '@syncfusion/ej2-grids';\nimport { getValue, isNullOrUndefined, remove, createElement, addClass, closest, EventHandler } from '@syncfusion/ej2-base';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\n/**\n * The Filter module is used to handle filter action.\n */\nvar Filter = /** @class */ (function () {\n    function Filter(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridFilter);\n        this.parent.treeGrid.allowFiltering = this.parent.allowFiltering;\n        this.updateCustomFilters();\n        this.parent.treeGrid.filterSettings = getActualProperties(this.parent.filterSettings);\n        this.addEventListener();\n    }\n    Filter.prototype.getModuleName = function () {\n        return 'filter';\n    };\n    /**\n     * Update custom filter for default Gantt columns\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.updateCustomFilters = function () {\n        var settings = this.parent.taskFields;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            var column = this.parent.ganttColumns[i];\n            if (((column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') &&\n                (column.field === settings.startDate || column.field === settings.endDate\n                    || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) ||\n                (column.field === settings.duration && column.editType === 'stringedit')) {\n                this.initiateFiltering(this.parent.ganttColumns[i]);\n            }\n        }\n    };\n    Filter.prototype.updateModel = function () {\n        this.parent.filterSettings = this.parent.treeGrid.filterSettings;\n    };\n    Filter.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n        this.parent.on('actionBegin', this.actionBegin, this);\n        this.parent.on('actionComplete', this.actionComplete, this);\n        this.parent.on('columnMenuOpen', this.columnMenuOpen, this);\n    };\n    Filter.prototype.wireEvents = function (a) {\n        EventHandler.add(document.getElementById(a), 'click', this.mouseClickHandler, this);\n    };\n    Filter.prototype.initiateFiltering = function (column) {\n        var treeColumn = this.parent.getColumnByField(column.field, this.parent.treeGridModule.treeGridColumns);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n        if (column.allowFiltering && (this.parent.filterSettings.type === 'Menu' || this.parent.filterSettings.type === 'Excel') && !column.filter) {\n            column.filter = { ui: this.getCustomFilterUi(column) };\n        }\n        if (treeColumn) {\n            treeColumn.allowFiltering = column.allowFiltering;\n            treeColumn.filter = column.allowFiltering ? column.filter : {};\n        }\n    };\n    /**\n     * To get filter menu UI\n     *\n     * @param {ColumnModel} column .\n     * @returns {IFilterMUI} .\n     */\n    Filter.prototype.getCustomFilterUi = function (column) {\n        var settings = this.parent.taskFields;\n        var filterUI = {};\n        if (column.editType === 'datepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDatePickerFilter(column.field);\n        }\n        else if (column.editType === 'datetimepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDateTimePickerFilter();\n        }\n        else if (column.field === settings.duration && column.editType === 'stringedit') {\n            filterUI = this.getDurationFilter();\n        }\n        return filterUI;\n    };\n    Filter.prototype.mouseClickHandler = function (e) {\n        if (closest(e.target, '.e-excelfilter')) {\n            this.parent.treeGrid.grid.notify('click', e);\n        }\n    };\n    Filter.prototype.unWireEvents = function () {\n        EventHandler.remove(this.parent.element, 'click', this.mouseClickHandler);\n    };\n    Filter.prototype.getDatePickerFilter = function (columnName) {\n        var _this = this;\n        var parent = this.parent;\n        var timeValue = (columnName === parent.taskFields.startDate) || (columnName === parent.taskFields.baselineStartDate)\n            ? parent.defaultStartTime : parent.defaultEndTime;\n        var dropDateInstance;\n        var filterDateUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropDateInstance = new DatePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropDateInstance.enableRtl = _this.parent.enableRtl;\n                dropDateInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropDateInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                if (dropDateInstance.value) {\n                    dropDateInstance.value.setSeconds(timeValue);\n                }\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropDateInstance.value);\n            }\n        };\n        return filterDateUI;\n    };\n    Filter.prototype.getDateTimePickerFilter = function () {\n        var _this = this;\n        var dropInstance;\n        var filterDateTimeUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropInstance = new DateTimePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropInstance.enableRtl = _this.parent.enableRtl;\n                dropInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropInstance.value);\n            }\n        };\n        return filterDateTimeUI;\n    };\n    Filter.prototype.getDurationFilter = function () {\n        var _this = this;\n        var parent = this.parent;\n        var textBoxInstance;\n        var textValue = '';\n        var filterDurationUI = {\n            create: function (args) {\n                var flValInput = createElement('input', { className: 'e-input' });\n                flValInput.setAttribute('placeholder', _this.parent.localeObj.getConstant('enterValue'));\n                args.target.appendChild(flValInput);\n                textBoxInstance = new TextBox();\n                textBoxInstance.enableRtl = _this.parent.enableRtl;\n                textBoxInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                textBoxInstance.value = args.filteredValue ? textValue : '';\n            },\n            read: function (args) {\n                var durationObj = _this.parent.dataOperation.getDurationValue(textBoxInstance.value);\n                var intVal = getValue('duration', durationObj);\n                var unit = getValue('durationUnit', durationObj);\n                if (intVal >= 0) {\n                    var dayVal = void 0;\n                    if (unit === 'minute') {\n                        dayVal = (intVal * 60) / parent.secondsPerDay;\n                    }\n                    else if (unit === 'hour') {\n                        dayVal = (intVal * 60 * 60) / parent.secondsPerDay;\n                    }\n                    else {\n                        //Consider it as day unit\n                        dayVal = intVal;\n                        unit = 'day';\n                    }\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, dayVal);\n                    textValue = _this.parent.dataOperation.getDurationString(intVal, unit);\n                }\n                else {\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, null);\n                    textValue = null;\n                }\n            }\n        };\n        return filterDurationUI;\n    };\n    /**\n     * Remove filter menu while opening column chooser menu\n     *\n     * @param {ColumnMenuOpenEventArgs} args .\n     * @returns {void} .\n     */\n    Filter.prototype.columnMenuOpen = function (args) {\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            remove(this.filterMenuElement);\n        }\n        this.filterMenuElement = null;\n    };\n    // eslint-disable-next-line\n    Filter.prototype.actionBegin = function (args) {\n        // ...\n    };\n    Filter.prototype.closeFilterOnContextClick = function (element) {\n        var datePickerElement = document.querySelector('body > div.e-datepicker');\n        var dateTimePickerElement = document.querySelector('body > div.e-datetimepicker');\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            var ganttElement = closest(element, '#' + this.parent.element.id)\n                || element.querySelector('#' + this.parent.element.id);\n            if ((!(this.filterMenuElement.contains(element)) && !isNullOrUndefined(ganttElement)) ||\n                (!(this.filterMenuElement.contains(element)) && (isNullOrUndefined(datePickerElement)) &&\n                    (isNullOrUndefined(dateTimePickerElement)) && ((element.nodeName === 'DIV') || (element.nodeName === 'HTML') ||\n                    (element.nodeName === 'SPAN') || (element.nodeName === 'BUTTON'))) && !element.classList.contains('e-dropdownbase')) {\n                remove(this.filterMenuElement);\n                this.parent.treeGrid.grid.notify('filter-menu-close', { isOpen: false });\n                this.filterMenuElement = null;\n            }\n        }\n    };\n    Filter.prototype.actionComplete = function (args) {\n        if (!isNullOrUndefined(args['filterModel'])) {\n            if (!isNullOrUndefined(args['filterModel']['dialogObj'])) {\n                if (!isNullOrUndefined(args['filterModel']['dialogObj']['element'])) {\n                    if (this.parent.filterSettings.type === 'Excel') {\n                        this.wireEvents(args['filterModel']['dialogObj']['element'].id);\n                    }\n                }\n            }\n        }\n        if (args.requestType === filterAfterOpen) {\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                this.filterMenuElement = getValue('filterModel.dlgObj.element', args);\n            }\n            else {\n                this.filterMenuElement = getValue('filterModel.dialogObj.element', args);\n            }\n            this.updateFilterMenuPosition(this.filterMenuElement, args);\n            // To set default values as 'contains' in filter dialog\n            var taskID = this.parent.taskFields.id;\n            var predecessor = this.parent.taskFields.dependency;\n            var resource = this.parent.taskFields.resourceInfo;\n            var filterObj = this.parent.treeGrid.grid.filterModule;\n            var filterValues = getValue('values', filterObj);\n            if ((args.columnName === predecessor && isNullOrUndefined(getValue(predecessor, filterValues)))\n                || (args.columnName === resource && isNullOrUndefined(getValue(resource, filterValues)))) {\n                var element = this.filterMenuElement.querySelector('.e-dropdownlist');\n                var instanceObj = void 0;\n                if (!isNullOrUndefined(element)) {\n                    instanceObj = getValue('ej2_instances[0]', element);\n                    instanceObj.index = 2;\n                    instanceObj.dataBind();\n                }\n            }\n            else if (args.columnName === taskID && isNullOrUndefined(getValue(taskID, filterValues)) && this.parent.treeGrid.filterSettings.type === 'Menu') {\n                var element = this.filterMenuElement.querySelector('.e-flmenu-input');\n                var instanceObj = getValue('ej2_instances[0]', element);\n                if (!isNullOrUndefined(instanceObj) && isNullOrUndefined(this.parent.columnByField[args.columnName].format)) {\n                    instanceObj.format = 'n';\n                }\n            }\n        }\n    };\n    Filter.prototype.setPosition = function (li, ul) {\n        /* eslint-disable-next-line */\n        var gridPos = this.parent.element.getBoundingClientRect();\n        var gridPosTop = gridPos.top;\n        var gridPosLeft = gridPos.left;\n        /* eslint-disable-next-line */\n        var parentNode;\n        var parentNodeTop;\n        var parentNodeLeft;\n        var paddingTop;\n        var paddingLeft;\n        var marginTop;\n        var isValid = true;\n        var marginLeft;\n        var isNonBodyTag = false;\n        if (!isNullOrUndefined(this.parent.element.parentNode) && this.parent.element.parentNode['tagName'] !== 'BODY') {\n            isNonBodyTag = true;\n            parentNode = this.parent.element.parentNode;\n            parentNodeTop = parentNode.getBoundingClientRect().top;\n            marginTop = parentNode.style.marginTop;\n            while (isValid) {\n                if (Math.abs(gridPosTop) > Math.abs(parentNodeTop)) {\n                    paddingTop = gridPosTop - parentNodeTop;\n                    break;\n                }\n                if (!isNullOrUndefined(this.parent.element.parentNode)) {\n                    if (parentNode.parentNode instanceof HTMLDocument) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                    if (parentNode.parentNode && parentNode.parentNode.style) {\n                        marginTop = parentNode.parentNode.style.marginTop;\n                    }\n                }\n                parentNodeTop = parentNode.getBoundingClientRect().top;\n            }\n            parentNodeLeft = parentNode.getBoundingClientRect().left;\n            marginLeft = parentNode.style.marginLeft;\n            while (isValid) {\n                if (Math.abs(gridPosLeft) > Math.abs(parentNodeLeft)) {\n                    paddingLeft = gridPosLeft - parentNodeLeft;\n                    break;\n                }\n                if (!isNullOrUndefined(this.parent.element.parentNode)) {\n                    if (parentNode.parentNode instanceof HTMLDocument) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                    marginLeft = parentNode.style.marginLeft;\n                }\n                parentNodeLeft = parentNode.getBoundingClientRect().left;\n            }\n        }\n        /* eslint-disable-next-line */\n        var liPos = li.getBoundingClientRect();\n        var left = liPos.right + window.scrollX;\n        var top = isNonBodyTag ? liPos.top - gridPosTop : liPos.top + window.scrollY;\n        if (gridPos.right < (left + ul.offsetWidth)) {\n            if ((liPos.left - ul.offsetWidth) > gridPos.left) {\n                left = (liPos.left - ul.offsetWidth);\n            }\n            else {\n                left -= (left + ul.offsetWidth) - gridPos.right;\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(paddingTop) || !isNullOrUndefined(paddingLeft)) && isNonBodyTag) {\n                left = Math.abs(liPos.right - gridPos.left);\n                top = Math.abs(liPos.top - gridPos.top);\n            }\n        }\n        if (!isNullOrUndefined(paddingTop) && !isNullOrUndefined(paddingLeft) && (marginTop !== '' || marginLeft !== '') && isNonBodyTag) {\n            ul.style.top = typeof (parseInt(marginTop, 10)) === 'string' ? (top + paddingTop + parseInt(marginTop, 10)) + 'px' : (top + paddingTop) + 'px';\n            ul.style.left = typeof (parseInt(marginLeft, 10)) === 'string' ? (left + paddingLeft + parseInt(marginLeft, 10) + 8) + 'px' : (left + paddingLeft) + 'px';\n        }\n        else {\n            ul.style.top = top + 'px';\n            ul.style.left = left + 'px';\n        }\n    };\n    Filter.prototype.updateFilterMenuPosition = function (element, args) {\n        addClass([element], 'e-gantt');\n        if (!this.parent.enableAdaptiveUI) {\n            document.querySelector('#' + this.parent.controlId).appendChild(element);\n        }\n        var targetElement;\n        if (this.parent.showColumnMenu) {\n            targetElement = document.querySelector('#treeGrid' + this.parent.controlId + '_gridcontrol_colmenu_Filter');\n            element.style.zIndex = targetElement.parentElement.style.zIndex;\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                this.setPosition(targetElement, getValue('filterModel.dlgObj.element', args));\n            }\n            else {\n                this.setPosition(targetElement, getValue('filterModel.dialogObj.element', args));\n            }\n        }\n        else {\n            targetElement = this.parent.treeGrid.grid.getColumnHeaderByField(args.columnName).querySelector('.e-filtermenudiv');\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dlgObj', args));\n            }\n            else {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dialogObj', args));\n            }\n        }\n        if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n            element.querySelector('.e-valid-input').focus();\n        }\n        if (this.parent.treeGrid.filterSettings.type === 'Excel') {\n            var inputElement = document.querySelector('.e-searchinput');\n            inputElement.focus();\n        }\n    };\n    Filter.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n        this.parent.off('actionBegin', this.actionBegin);\n        this.parent.off('actionComplete', this.actionComplete);\n        this.parent.off('columnMenuOpen', this.columnMenuOpen);\n    };\n    /**\n     * This method is used to destroy the filter module. When called, it performs any necessary cleanup operations related to the filter module.\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n    };\n    return Filter;\n}());\nexport { Filter };\n","import { TreeGrid, Sort as TreeGrdSort } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\n/**\n * The Sort module is used to handle sorting action.\n */\nvar Sort = /** @class */ (function () {\n    function Sort(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGrdSort);\n        this.parent.treeGrid.allowSorting = this.parent.allowSorting;\n        this.parent.treeGrid.sortSettings = getActualProperties(this.parent.sortSettings);\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Sort.prototype.getModuleName = function () {\n        return 'sort';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n    };\n    /**\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * Sort a column with given options.\n     *\n     * @param {string} columnName - Defines the column name to sort.\n     * @param {SortDirection} direction - Defines the direction of sort.\n     * @param {boolean} isMultiSort - Defines whether the previously sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Sort.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        this.parent.treeGrid.sortByColumn(columnName, direction, isMultiSort);\n    };\n    /**\n     * Method to clear all sorted columns.\n     *\n     * @returns {void} .\n     */\n    Sort.prototype.clearSorting = function () {\n        this.parent.treeGrid.clearSorting();\n    };\n    /**\n     * The function used to update sortSettings of TreeGrid.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.updateModel = function () {\n        this.parent.sortSettings = this.parent.treeGrid.sortSettings;\n    };\n    /**\n     * To clear sorting for specific column.\n     *\n     * @param {string} columnName - Defines the sorted column name to remove.\n     * @returns {void} .\n     */\n    Sort.prototype.removeSortColumn = function (columnName) {\n        this.parent.treeGrid.grid.removeSortColumn(columnName);\n    };\n    return Sort;\n}());\nexport { Sort };\n","import { parentsUntil, getActualProperties } from '@syncfusion/ej2-grids';\nimport { setCssInGridPopUp } from '@syncfusion/ej2-grids';\nimport { isNullOrUndefined, removeClass, getValue, addClass, closest, setValue, extend } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * The Selection module is used to handle cell and row selection.\n */\nvar Selection = /** @class */ (function () {\n    function Selection(gantt) {\n        this.isSelectionFromChart = false;\n        this.multipleIndexes = [];\n        this.selectedRowIndexes = [];\n        this.enableSelectMultiTouch = false;\n        this.openPopup = false;\n        this.parent = gantt;\n        this.bindEvents();\n        this.parent.treeGrid.selectedRowIndex = this.parent.selectedRowIndex;\n        this.parent.treeGrid.allowSelection = this.parent.allowSelection;\n        this.parent.treeGrid.grid.selectionSettings.enableToggle = this.parent.selectionSettings.enableToggle;\n        this.parent.treeGrid.selectionSettings = getActualProperties(this.parent.selectionSettings);\n        this.wireEvents();\n    }\n    /**\n     * Get module\n     *\n     * @returns {string} .\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'selection';\n    };\n    Selection.prototype.wireEvents = function () {\n        this.parent.on('selectRowByIndex', this.selectRowByIndex, this);\n        if (this.parent.isAdaptive) {\n            this.parent.on('chartMouseClick', this.mouseUpHandler, this);\n            this.parent.on('treeGridClick', this.popUpClickHandler, this);\n        }\n        else {\n            this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        }\n    };\n    /**\n     * To update selected index.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.selectRowByIndex = function () {\n        if ((this.parent.selectedRowIndex !== -1 || this.parent.staticSelectedRowIndex !== -1)) {\n            this.selectRow(this.parent.staticSelectedRowIndex !== -1 ? this.parent.staticSelectedRowIndex : this.parent.selectedRowIndex);\n            this.parent.staticSelectedRowIndex = -1;\n        }\n    };\n    /**\n     * To bind selection events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowSelecting = this.rowSelecting.bind(this);\n        this.parent.treeGrid.rowSelected = this.rowSelected.bind(this);\n        this.parent.treeGrid.rowDeselecting = this.rowDeselecting.bind(this);\n        this.parent.treeGrid.rowDeselected = this.rowDeselected.bind(this);\n        this.parent.treeGrid.cellSelecting = this.cellSelecting.bind(this);\n        this.parent.treeGrid.cellSelected = this.cellSelected.bind(this);\n        this.parent.treeGrid.cellDeselecting = this.cellDeselecting.bind(this);\n        this.parent.treeGrid.cellDeselected = this.cellDeselected.bind(this);\n    };\n    Selection.prototype.rowSelecting = function (args) {\n        if (!this.parent.isGanttChartRendered) {\n            args.cancel = true;\n            return;\n        }\n        args.isCtrlPressed = this.isMultiCtrlRequest;\n        args.isShiftPressed = this.isMultiShiftRequest;\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        this.parent.trigger('rowSelecting', args);\n    };\n    Selection.prototype.rowSelected = function (args) {\n        var rowIndexes = 'rowIndexes';\n        var index = (this.parent.selectionSettings.type === 'Multiple' && !isNullOrUndefined(args[rowIndexes])) ?\n            args[rowIndexes] : [args.rowIndex];\n        this.addRemoveClass(index, args['name']);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: this.parent.treeGrid.grid.selectedRowIndex }, true);\n        if (this.isMultiShiftRequest) {\n            this.selectedRowIndexes = index;\n        }\n        if (this.parent.autoFocusTasks) {\n            if (this.parent.enableTimelineVirtualization) {\n                this.parent['isRowSelected'] = true;\n            }\n            if (args.data && !isNullOrUndefined(args.data['length'])) {\n                for (var i = 0; i < args.data['length']; i++) {\n                    this.parent.ganttChartModule.updateScrollLeft(args.data[i].ganttProperties.left);\n                }\n            }\n            else {\n                this.parent.ganttChartModule.updateScrollLeft(getValue('data.ganttProperties.left', args));\n            }\n        }\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        this.prevRowIndex = args.rowIndex;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems(args);\n        }\n        this.parent.trigger('rowSelected', args);\n    };\n    Selection.prototype.rowDeselecting = function (args) {\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselecting', args);\n    };\n    Selection.prototype.rowDeselected = function (args) {\n        var index;\n        var isContains;\n        if (this.multipleIndexes.length !== 0) {\n            index = this.multipleIndexes;\n        }\n        else {\n            if (!isNullOrUndefined(args.rowIndexes)) {\n                for (var i = 0; i < args.rowIndexes.length; i++) {\n                    if (args.rowIndexes[i] === args.rowIndex) {\n                        isContains = true;\n                    }\n                }\n                if (isContains) {\n                    index = args.rowIndexes;\n                }\n                else {\n                    index = [args.rowIndex];\n                }\n            }\n            else {\n                index = [args.rowIndex];\n            }\n        }\n        this.addRemoveClass(index);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: -1 }, true);\n        if (this.selectedRowIndexes.length === 1) {\n            this.parent.setProperties({ selectedRowIndex: this.selectedRowIndexes[0] }, true);\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive\n            && this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselected', args);\n        this.isInteracted = false;\n        this.multipleIndexes = [];\n    };\n    Selection.prototype.cellSelecting = function (args) {\n        var callBackPromise = new Deferred();\n        this.parent.trigger('cellSelecting', args, function (cellselectingArgs) {\n            callBackPromise.resolve(cellselectingArgs);\n        });\n        return callBackPromise;\n    };\n    Selection.prototype.cellSelected = function (args) {\n        this.parent.trigger('cellSelected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Selection.prototype.cellDeselecting = function (args) {\n        this.parent.trigger('cellDeselecting', args);\n    };\n    Selection.prototype.cellDeselected = function (args) {\n        this.parent.trigger('cellDeselected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * Selects a cell by given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCell = function (cellIndex, isToggle) {\n        this.parent.treeGrid.selectCell(cellIndex, isToggle);\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCells = function (rowCellIndexes) {\n        this.parent.treeGrid.grid.selectCells(rowCellIndexes);\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @param {boolean} isPreventFocus .\n     * @returns {void} .\n     */\n    Selection.prototype.selectRow = function (index, isToggle, isPreventFocus) {\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        if (this.parent.enableVirtualization && this.parent.treeGridModule.addedRecord) {\n            index = this.parent.flatData.indexOf(this.parent.currentViewData[index]);\n            this.parent.treeGridModule.addedRecord = false;\n        }\n        var selectedRow = ganttRow.filter(function (e) { return parseInt(e.getAttribute('data-rowindex'), 10) === index; })[0];\n        var condition;\n        if (index === -1 || (isNullOrUndefined(selectedRow) && !this.parent.enableVirtualization) || this.parent.selectionSettings.mode === 'Cell') {\n            return;\n        }\n        if (this.parent.showActiveElement && (!isNullOrUndefined(isPreventFocus) || this.parent.enableVirtualization) && !isPreventFocus) {\n            this.parent.treeGrid.grid.selectionModule.preventFocus = true;\n        }\n        else {\n            this.parent.treeGrid.grid.selectionModule.preventFocus = false;\n        }\n        if ((!isNullOrUndefined(this.selectedClass) && (this.selectedClass === selectedRow) && (!isToggle))) {\n            condition = true;\n        }\n        if (condition !== true) {\n            this.parent.treeGrid.selectRow(index, isToggle);\n        }\n        this.parent.treeGrid.grid.selectionModule.preventFocus = this.parent.treeGrid.grid.selectionModule.preventFocus === true ?\n            false : this.parent.treeGrid.grid.selectionModule.preventFocus;\n        this.prevRowIndex = index;\n        this.selectedClass = selectedRow;\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRows = function (records) {\n        if (!isNullOrUndefined(records) && records.length > 0) {\n            this.parent.treeGrid.selectRows(records);\n        }\n    };\n    /**\n     * Gets the collection of selected row indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowIndexes();\n    };\n    /**\n     * Gets the collection of selected row and cell indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowCellIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowCellIndexes();\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @returns {Object[]} .\n     */\n    Selection.prototype.getSelectedRecords = function () {\n        if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            var selectedRows = [];\n            var selectedIndexes_1 = this.parent.selectionModule.getSelectedRowIndexes();\n            var _loop_1 = function (i) {\n                var rec = this_1.parent.currentViewData.filter(function (data) {\n                    return data.index === selectedIndexes_1[i];\n                })[0];\n                selectedRows.push(rec);\n            };\n            var this_1 = this;\n            for (var i = 0; i < selectedIndexes_1.length; i++) {\n                _loop_1(i);\n            }\n            return selectedRows;\n        }\n        else {\n            return this.parent.treeGrid.getSelectedRecords();\n        }\n    };\n    /**\n     * Get the selected records for cell selection.\n     *\n     * @returns {IGanttData[]} .\n     */\n    Selection.prototype.getCellSelectedRecords = function () {\n        var cellDetails = this.parent.selectionModule.getSelectedRowCellIndexes();\n        var cellSelectedRecords = [];\n        for (var i = 0; i < cellDetails.length; i++) {\n            cellSelectedRecords.push(this.parent.currentViewData[cellDetails[i].rowIndex]);\n        }\n        return cellSelectedRecords;\n    };\n    /**\n     * Gets the collection of selected rows.\n     *\n     * @returns {Element[]} .\n     */\n    Selection.prototype.getSelectedRows = function () {\n        return this.parent.treeGrid.getSelectedRows();\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Selection.prototype.clearSelection = function () {\n        this.addRemoveClass(this.selectedRowIndexes);\n        this.parent.treeGrid.clearSelection();\n        this.parent.selectedRowIndex = -1;\n        this.selectedRowIndexes = [];\n        this.selectedClass = null;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        this.isInteracted = false;\n    };\n    Selection.prototype.highlightSelectedRows = function (e, fromChart) {\n        this.isMultiCtrlRequest = e.ctrlKey || this.enableSelectMultiTouch;\n        this.isMultiShiftRequest = e.shiftKey;\n        this.actualTarget = e.target;\n        this.isInteracted = true;\n        this.isSelectionFromChart = fromChart;\n        if (fromChart) {\n            var selectedRow = closest(e.target, 'tr.e-chart-row');\n            var rIndex = parseInt(selectedRow.getAttribute('data-rowindex'), 10);\n            var isToggle = this.parent.selectionSettings.enableToggle;\n            if (this.parent.selectionSettings.type === 'Single' || (!this.isMultiCtrlRequest && !this.isMultiShiftRequest)) {\n                if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && (this.parent.rowDragAndDropModule &&\n                    !this.parent.rowDragAndDropModule['draggedRecord']))) {\n                    this.selectRow(rIndex, isToggle);\n                }\n            }\n            else {\n                if (this.isMultiShiftRequest) {\n                    this.selectRowsByRange(isNullOrUndefined(this.prevRowIndex) ? rIndex : this.prevRowIndex, rIndex);\n                }\n                else {\n                    setValue('isMultiCtrlRequest', true, this.parent.treeGrid.grid.selectionModule);\n                    this.parent.treeGrid.grid.selectionModule.addRowsToSelection([rIndex]);\n                    var isUnSelected = this.selectedRowIndexes.indexOf(rIndex) > -1;\n                    if (isUnSelected) {\n                        this.addRemoveClass([rIndex], e['name']);\n                    }\n                }\n            }\n        }\n    };\n    Selection.prototype.getselectedrowsIndex = function (startIndex, endIndex) {\n        var indexes = [];\n        // eslint-disable-next-line\n        var _a = (startIndex < endIndex) ?\n            { i: startIndex, max: endIndex } : { i: endIndex, max: startIndex }, i = _a.i, max = _a.max;\n        for (; i <= max; i++) {\n            indexes.push(i);\n        }\n        if (startIndex > endIndex) {\n            indexes.reverse();\n        }\n        this.selectedRowIndexes = indexes;\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     *\n     * @param  {number} startIndex - Defines the start row index.\n     * @param  {number} endIndex - Defines the end row index.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        this.isSelectionFromChart = true;\n        this.getselectedrowsIndex(startIndex, endIndex);\n        this.selectRows(this.selectedRowIndexes);\n    };\n    Selection.prototype.addRemoveClass = function (records, request) {\n        if (typeof (records) == 'number') {\n            records = [records];\n        }\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        var _loop_2 = function (i) {\n            var selectedRow = ganttRow.filter(function (e) {\n                return parseInt(e.getAttribute('data-rowindex'), 10) === records[parseInt(i.toString(), 10)];\n            })[0];\n            if (!isNullOrUndefined(selectedRow)) {\n                var persist = false;\n                var index = this_2.getSelectedRowIndexes().indexOf(records[parseInt(i.toString(), 10)]);\n                var selectedRecordLen = this_2.getSelectedRecords().length;\n                if (this_2.parent.selectionSettings.persistSelection && this_2.parent.selectionSettings.enableToggle && !isNullOrUndefined(request) &&\n                    this_2.parent.selectionSettings.type !== 'Multiple' && selectedRecordLen > 0) {\n                    persist = true;\n                }\n                if (this_2.parent.selectionSettings.enableToggle && this_2.parent.selectionSettings.persistSelection &&\n                    (index > -1 && this_2.parent.selectionSettings.type === 'Single' && persist) ||\n                    (index > -1 && ((!isNullOrUndefined(request) && this_2.parent.selectionSettings.type === 'Multiple')))) {\n                    this_2.addClass(selectedRow);\n                }\n                else if (isNullOrUndefined(request)) {\n                    this_2.removeClass(selectedRow);\n                }\n                else if (index > -1) {\n                    this_2.addClass(selectedRow);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < records.length; i++) {\n            _loop_2(i);\n        }\n    };\n    Selection.prototype.addClass = function (selectedRow) {\n        addClass([selectedRow], 'e-active');\n        selectedRow.setAttribute('aria-selected', 'true');\n    };\n    Selection.prototype.removeClass = function (selectedRow) {\n        removeClass([selectedRow], 'e-active');\n        selectedRow.removeAttribute('aria-selected');\n    };\n    Selection.prototype.showPopup = function (e) {\n        if (this.isSelectionFromChart) {\n            setCssInGridPopUp(this.parent.element.querySelector('.e-ganttpopup'), e, 'e-rowselect e-icons e-icon-rowselect' +\n                ((this.enableSelectMultiTouch &&\n                    (this.getSelectedRecords().length > 1 || this.getSelectedRowCellIndexes().length > 1)) ? ' e-spanclicked' : ''));\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n            this.openPopup = true;\n        }\n        else if (this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.hidePopUp = function () {\n        if (this.openPopup) {\n            document.getElementsByClassName('e-ganttpopup')[0].style.display = 'none';\n            this.openPopup = false;\n        }\n        else {\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n        }\n    };\n    Selection.prototype.popUpClickHandler = function (e) {\n        var target = e.target;\n        var grid = this.parent.treeGrid.grid;\n        var $popUpElemet = closest(target, '.e-ganttpopup') ?\n            closest(target, '.e-ganttpopup') : closest(target, '.e-gridpopup');\n        if ($popUpElemet) {\n            var spanElement = $popUpElemet.querySelector('.' + 'e-rowselect');\n            if (closest(target, '.e-ganttpopup') &&\n                !spanElement.classList.contains('e-spanclicked')) {\n                this.enableSelectMultiTouch = true;\n                spanElement.classList.add('e-spanclicked');\n            }\n            else if (closest(target, '.e-gridpopup') &&\n                spanElement.classList.contains('e-spanclicked')) {\n                this.openPopup = true;\n                this.enableSelectMultiTouch = true;\n            }\n            else {\n                this.hidePopUp();\n                this.enableSelectMultiTouch = false;\n                if (closest(target, '.e-ganttpopup')) {\n                    spanElement.classList.remove('e-spanclicked');\n                }\n            }\n        }\n        else if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n            var $tr = closest(target, '.e-rowcell');\n            if ($tr && this.selectedRowIndexes.length === 0) {\n                this.hidePopUp();\n            }\n        }\n        if (grid) {\n            setValue('enableSelectMultiTouch', this.enableSelectMultiTouch, grid.selectionModule);\n        }\n    };\n    /**\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.mouseUpHandler = function (e) {\n        var isTaskbarEdited = false;\n        var elements = document.querySelectorAll('.e-drag-item');\n        var targetElement = null;\n        if (e.target.closest('.e-rowcell')) {\n            targetElement = e.target;\n        }\n        else if (e.target.closest('.e-chart-row')) {\n            targetElement = e.target.closest('.e-left-label-container') ||\n                e.target.closest('.e-taskbar-main-container') || e.target.closest('.e-right-label-container');\n        }\n        if (this.parent.focusModule) {\n            this.parent.focusModule.setActiveElement(targetElement);\n        }\n        if (this.parent.editModule && this.parent.editSettings.allowTaskbarEditing && this.parent.editModule.taskbarEditModule) {\n            var taskbarEdit = this.parent.editModule.taskbarEditModule;\n            if (taskbarEdit.isMouseDragged || taskbarEdit.tapPointOnFocus) {\n                isTaskbarEdited = true;\n            }\n        }\n        if (!isTaskbarEdited && this.parent.element.contains(e.target) && !(elements.length === 1)) {\n            var parent_1 = parentsUntil(e.target, 'e-chart-row');\n            var isSelected = e.target.classList.contains('e-rowcell') ||\n                e.target.classList.contains('e-row') ||\n                e.target.classList.contains('e-treegridexpand') ||\n                e.target.classList.contains('e-treegridcollapse') || !isNullOrUndefined(parent_1);\n            this.popUpClickHandler(e);\n            if (this.parent.selectionSettings.mode !== 'Cell' && isSelected) {\n                if (closest(e.target, 'tr.e-chart-row')) {\n                    if (this.parent.enableVirtualization) {\n                        this.parent.treeGrid.grid.selectionModule.isInteracted = true;\n                    }\n                    this.highlightSelectedRows(e, true);\n                }\n                else {\n                    this.highlightSelectedRows(e, false);\n                }\n                if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n                    if (this.selectedRowIndexes.length > 0) {\n                        this.showPopup(e);\n                    }\n                    else {\n                        this.hidePopUp();\n                    }\n                }\n            }\n            else {\n                this.isSelectionFromChart = false;\n            }\n        }\n    };\n    /**\n     * To add class for selected records in virtualization mode.\n     *\n     * @param {number} i .\n     * @returns {void} .\n     * @hidden\n     */\n    Selection.prototype.maintainSelectedRecords = function (i) {\n        var index = this.parent.selectionModule.getSelectedRowIndexes().indexOf(i);\n        if (index > -1) {\n            this.addRemoveClass([i]);\n        }\n    };\n    /**\n     * To destroy the selection module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('selectRowByIndex', this.selectRowByIndex);\n        if (this.parent.isAdaptive) {\n            this.parent.off('chartMouseClick', this.mouseUpHandler);\n            this.parent.off('treeGridClick', this.popUpClickHandler);\n        }\n        else {\n            this.parent.off('chartMouseUp', this.mouseUpHandler);\n        }\n    };\n    return Selection;\n}());\nexport { Selection };\n","import { Toolbar as NavToolbar } from '@syncfusion/ej2-navigations';\nimport { createElement, extend, isNullOrUndefined, remove, getValue, EventHandler, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport * as events from '../base/constant';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent) {\n        this.predefinedItems = {};\n        this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll', 'Search',\n            'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport',\n            'CsvExport', 'PdfExport', 'Indent', 'Outdent', 'CriticalPath'];\n        this.parent = parent;\n        this.id = this.parent.element.id;\n        this.parent.on('ui-toolbarupdate', this.propertyChanged, this);\n    }\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.renderToolbar = function () {\n        var toolbarItems = this.parent.toolbar || [];\n        if (toolbarItems.length > 0) {\n            this.element = createElement('div', { id: this.parent.controlId + '_Gantt_Toolbar', className: cls.toolbar });\n            if (this.parent.treeGrid.grid.headerModule) {\n                this.parent.element.insertBefore(this.element, this.parent.treeGridPane.offsetParent);\n            }\n            else {\n                this.parent.element.appendChild(this.element);\n            }\n            var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll',\n                'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport', 'CsvExport',\n                'PdfExport', 'Indent', 'Outdent', 'CriticalPath', 'Undo', 'Redo'];\n            for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n                var item = preItems_1[_i];\n                var itemStr = void 0;\n                var localeName = void 0;\n                if (item === 'CriticalPath') {\n                    itemStr = 'critical-path';\n                    localeName = 'criticalPath';\n                }\n                else {\n                    itemStr = item.toLowerCase();\n                    localeName = item[0].toLowerCase() + item.slice(1);\n                }\n                this.predefinedItems[item] = {\n                    id: this.parent.element.id + '_' + itemStr, prefixIcon: 'e-' + itemStr,\n                    text: this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant(localeName),\n                    tooltipText: this.parent.localeObj.getConstant(localeName) + ((localeName === 'add' ||\n                        localeName === 'edit' || localeName === 'delete') ? this.parent.localeObj.getConstant('task') :\n                        (localeName === 'expandAll' || localeName === 'collapseAll') ?\n                            this.parent.localeObj.getConstant('tasks') : ''),\n                    align: this.parent.isAdaptive ? 'Right' : 'Left'\n                };\n                if (this.parent.enableRtl) {\n                    if (item === 'PrevTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-nexttimespan';\n                    }\n                    if (item === 'NextTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-prevtimespan';\n                    }\n                }\n            }\n            var searchLocalText = this.parent.localeObj.getConstant('search');\n            if (this.parent.isAdaptive) {\n                this.predefinedItems.Search = {\n                    id: this.id + '_searchbutton',\n                    prefixIcon: 'e-search-icon',\n                    tooltipText: searchLocalText,\n                    align: 'Right'\n                };\n            }\n            else {\n                this.predefinedItems.Search = {\n                    id: this.id + '_search',\n                    template: '<div class=\"e-input-group e-search\" role=\"search\">' +\n                        '<input id=\"' + this.id + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\"' +\n                        // eslint-disable-next-line\n                        'placeholder= \\\"' + searchLocalText + '\\\"/>' +\n                        '<span id=\"' + this.id + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\"' +\n                        'tabindex=\"-1\" title=\"' + searchLocalText + '\" aria-label= \"search\" role=\"button\"></span>' +\n                        '</div>',\n                    tooltipText: searchLocalText,\n                    align: 'Right', cssClass: 'e-search-wrapper'\n                };\n            }\n            this.createToolbar();\n        }\n    };\n    Toolbar.prototype.addReactToolbarPortals = function (args) {\n        if (this.parent.isReact && args) {\n            this.parent.portals = this.parent.portals.concat(args);\n            this.parent.renderTemplates();\n        }\n    };\n    Toolbar.prototype.createToolbar = function () {\n        var items = this.getItems();\n        this.toolbar = new NavToolbar({\n            items: items,\n            enableRtl: this.parent.enableRtl,\n            clicked: this.toolbarClickHandler.bind(this),\n            height: this.parent.isAdaptive ? 48 : 'auto'\n        });\n        this.toolbar.isStringTemplate = true;\n        this.toolbar.isReact = this.parent.isReact;\n        this.toolbar.on('render-react-toolbar-template', this.addReactToolbarPortals, this);\n        this.toolbar.appendTo(this.element);\n        if (this.parent.treeGrid.grid && this.parent.isReact) {\n            (this.parent.treeGrid.grid).portals = this.parent.portals;\n        }\n        var cancelItem = this.element.querySelector('#' + this.parent.element.id + '_cancel');\n        var updateItem = this.element.querySelector('#' + this.parent.element.id + '_update');\n        if (cancelItem) {\n            addClass([cancelItem], cls.focusCell);\n        }\n        if (updateItem) {\n            addClass([updateItem], cls.focusCell);\n        }\n        var template = false;\n        this.parent.toolbar.map(function (e) {\n            if (e === 'Search') {\n                template = true;\n            }\n        });\n        if (this.parent.isAdaptive && template) {\n            this.element.insertBefore(this.getSearchBarElement(), this.element.childNodes[0]);\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n            var textObj = new TextBox({\n                placeholder: this.parent.localeObj.getConstant('search'),\n                enableRtl: this.parent.enableRtl,\n                floatLabelType: 'Never',\n                showClearButton: true\n            });\n            textObj.appendTo(this.searchElement);\n        }\n        else {\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n        }\n        if (this.parent.filterModule) {\n            this.wireEvent();\n            if (this.parent.searchSettings) {\n                this.updateSearchTextBox();\n            }\n        }\n        this.enableItems([this.parent.controlId + '_redo', this.parent.controlId + '_undo'], false); // disable toolbar items.\n        if (this.parent.readOnly) {\n            this.enableItems([this.parent.element.id + '_add', this.parent.element.id + '_update', this.parent.element.id + '_delete',\n                this.parent.element.id + '_cancel', this.parent.element.id + '_indent', this.parent.element.id + '_outdent'], false);\n        }\n    };\n    Toolbar.prototype.getSearchBarElement = function () {\n        var _this = this;\n        var div = createElement('div', { className: 'e-adaptive-searchbar', styles: 'display: none' });\n        var textbox = createElement('input', { attrs: { type: 'text' }, id: this.parent.element.id + '_searchbar' });\n        var span = createElement('span', { className: 'e-backarrowspan e-icons' });\n        span.onclick = function () {\n            div.style.display = 'none';\n            _this.element.childNodes[1].style.display = 'block';\n        };\n        div.appendChild(span);\n        div.appendChild(textbox);\n        return div;\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n            EventHandler.add(this.searchElement, 'focus', this.focusHandler, this);\n            EventHandler.add(this.searchElement, 'blur', this.blurHandler, this);\n        }\n    };\n    Toolbar.prototype.propertyChanged = function (property) {\n        var module = getValue('module', property);\n        if (module !== this.getModuleName() || !this.parent.toolbar) {\n            return;\n        }\n        if (this.element && this.element.parentNode) {\n            remove(this.element);\n        }\n        this.renderToolbar();\n        this.refreshToolbarItems();\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n            EventHandler.remove(this.searchElement, 'focus', this.focusHandler);\n            EventHandler.remove(this.searchElement, 'blur', this.blurHandler);\n            this.searchElement = null;\n        }\n        this.parent.off('ui-toolbarupdate', this.propertyChanged);\n    };\n    Toolbar.prototype.keyUpHandler = function (e) {\n        if (e.keyCode === 13 && this.parent.searchSettings.key !== this.searchElement.value) {\n            this.parent.searchSettings.key = this.searchElement.value;\n            this.parent.dataBind();\n        }\n    };\n    Toolbar.prototype.focusHandler = function (e) {\n        e.target.parentElement.classList.add('e-input-focus');\n    };\n    Toolbar.prototype.blurHandler = function (e) {\n        e.target.parentElement.classList.remove('e-input-focus');\n    };\n    /**\n     * Method to set value for search input box\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.updateSearchTextBox = function () {\n        if (this.searchElement && this.searchElement.value !== this.parent.searchSettings.key) {\n            this.searchElement.value = this.parent.searchSettings.key;\n        }\n    };\n    Toolbar.prototype.getItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar;\n        var searchIndex = -1;\n        toolbarItems.forEach(function (item, index) {\n            if ((typeof (item) === 'string' && item === 'Search') ||\n                ((typeof (item) === 'object') && item.text === 'Search')) {\n                searchIndex = index;\n            }\n        });\n        if (searchIndex > -1) {\n            var searchItem = toolbarItems.splice(searchIndex, 1);\n            toolbarItems.push(searchItem[0]);\n        }\n        for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n            var item = toolbarItems_1[_i];\n            if (typeof item === 'string') {\n                items.push(this.getItemObject(item));\n            }\n            else {\n                items.push(this.getItem(item));\n            }\n        }\n        return items;\n    };\n    Toolbar.prototype.getItem = function (itemObject) {\n        var item = this.predefinedItems[itemObject.text];\n        return item ? extend(item, item, itemObject) : itemObject;\n    };\n    Toolbar.prototype.getItemObject = function (itemName) {\n        return this.predefinedItems[itemName] || { text: itemName, id: this.id + '_' + itemName };\n    };\n    Toolbar.prototype.toolbarClickHandler = function (arg) {\n        var _this = this;\n        var gObj = this.parent;\n        var gID = this.id;\n        this.parent.isToolBarClick = false;\n        extend(arg, { cancel: false });\n        if (arg.item['properties'].id === this.parent.element.id + '_pdfexport' || arg.item['properties'].id === this.parent.element.id + '_critical-path') {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n        gObj.trigger(events.toolbarClick, arg, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            else {\n                if (_this.parent.isAdaptive === true) {\n                    if (args.item.id === gID + '_edit' || args.item.id === gID + '_add' || args.item.id === gID + '_delete'\n                        || args.item.id === gID + '_searchbutton' || args.item.id === gID + '_expandall'\n                        || args.item.id === gID + '_collapseall') {\n                        if (_this.parent.selectionModule && _this.parent.selectionSettings.type === 'Multiple') {\n                            _this.parent.selectionModule.hidePopUp();\n                            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                        }\n                    }\n                }\n                switch (!isNullOrUndefined(args.item) && args.item.id) {\n                    case gID + '_edit':\n                        if (gObj.editModule && gObj.editSettings.allowEditing) {\n                            gObj.editModule.dialogModule.openToolbarEditDialog();\n                        }\n                        break;\n                    case gID + '_indent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.indent();\n                        }\n                        break;\n                    case gID + '_critical-path':\n                        if (gObj.enableCriticalPath) {\n                            gObj.enableCriticalPath = false;\n                        }\n                        else {\n                            gObj.enableCriticalPath = true;\n                        }\n                        break;\n                    case gID + '_outdent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.outdent();\n                        }\n                        break;\n                    case gID + '_update':\n                        gObj.editModule.cellEditModule.isCellEdit = false;\n                        gObj.treeGrid.grid.saveCell();\n                        break;\n                    case gID + '_cancel':\n                        gObj.cancelEdit();\n                        break;\n                    case gID + '_add':\n                        if (gObj.editModule && gObj.editSettings.allowAdding) {\n                            gObj.editModule.dialogModule.openAddDialog();\n                        }\n                        break;\n                    case gID + '_delete':\n                        if (_this.parent.selectionModule && _this.parent.editModule) {\n                            if ((_this.parent.selectionSettings.mode !== 'Cell' && _this.parent.selectionModule.selectedRowIndexes.length)\n                                || (_this.parent.selectionSettings.mode === 'Cell' &&\n                                    _this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                                _this.parent.editModule.startDeleteAction();\n                            }\n                        }\n                        break;\n                    case gID + '_search':\n                        {\n                            var searchButtonId = getValue('originalEvent.target.id', args);\n                            if (searchButtonId === _this.parent.element.id + '_searchbutton' && _this.parent.filterModule) {\n                                var keyVal = _this.element.querySelector('#' + _this.parent.element.id + '_searchbar').value;\n                                if (_this.parent.searchSettings.key !== keyVal) {\n                                    _this.parent.searchSettings.key = keyVal;\n                                    _this.parent.dataBind();\n                                }\n                            }\n                            break;\n                        }\n                    case gID + '_searchbutton':\n                        {\n                            var adaptiveSearchbar = _this.element.querySelector('.e-adaptive-searchbar');\n                            adaptiveSearchbar.parentElement.childNodes[1].style.display = 'none';\n                            adaptiveSearchbar.style.display = 'block';\n                            break;\n                        }\n                    case gID + '_expandall':\n                        _this.parent.ganttChartModule.expandCollapseAll('expand');\n                        _this.parent.isCollapseAll = false;\n                        break;\n                    case gID + '_collapseall':\n                        _this.parent.ganttChartModule.expandCollapseAll('collapse');\n                        _this.parent.isCollapseAll = true;\n                        break;\n                    case gID + '_prevtimespan':\n                        _this.parent.previousTimeSpan();\n                        break;\n                    case gID + '_nexttimespan':\n                        _this.parent.nextTimeSpan();\n                        break;\n                    case gID + '_zoomin':\n                        _this.zoomIn();\n                        break;\n                    case gID + '_zoomout':\n                        _this.zoomOut();\n                        break;\n                    case gID + '_zoomtofit':\n                        _this.zoomToFit();\n                        break;\n                    case gID + '_undo':\n                        _this.parent.undo();\n                        break;\n                    case gID + '_redo':\n                        _this.parent.redo();\n                        break;\n                }\n            }\n        });\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomIn = function () {\n        this.parent.timelineModule.processZooming(true);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomToFit = function () {\n        if (this.parent.timelineModule.isZoomIn) {\n            this.parent.timelineModule.isZoomIn = false;\n        }\n        this.parent.timelineModule.processZoomToFit();\n        this.parent.ganttChartModule.updateScrollLeft(0);\n        this.parent.timelineModule.isZoomToFit = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomOut = function () {\n        this.parent.timelineModule.processZooming(false);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * To refresh toolbar items bases current state of tasks\n     *\n     * @param {RowSelectEventArgs} args .\n     * @returns {void} .\n     */\n    Toolbar.prototype.refreshToolbarItems = function (args) {\n        var gObj = this.parent;\n        var enableItems = [];\n        var disableItems = [];\n        var edit = gObj.editSettings;\n        var gID = this.id;\n        var ind = gObj.selectedRowIndex;\n        if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            for (var i = 0; i < gObj.updatedRecords.length; i++) {\n                if (gObj.updatedRecords[i].index === ind) {\n                    ind = i;\n                    break;\n                }\n            }\n        }\n        var previousGanttRecord;\n        var isSelected = false;\n        if (gObj.selectionModule) {\n            if (gObj.selectionModule.getSelectedRecords().length === 1 || gObj.selectionModule.getSelectedRowCellIndexes().length === 1) {\n                isSelected = true;\n            }\n        }\n        if (gObj.selectionModule && gObj.selectionSettings.type === 'Multiple' && gObj.selectionModule.selectedRowIndexes.length > 1) {\n            isSelected = false;\n        }\n        var toolbarItems = this.toolbar ? this.toolbar.items : [];\n        var toolbarDefaultItems = [gID + '_add', gID + '_edit', gID + '_delete',\n            gID + '_update', gID + '_cancel', gID + '_indent', gID + '_outdent'];\n        var isResouceParent = (this.parent.viewType === 'ResourceView' && getValue('data.level', args) !== 0\n            || this.parent.viewType === 'ProjectView');\n        if (!isNullOrUndefined(this.parent.editModule)) {\n            var touchEdit = gObj.editModule.taskbarEditModule ?\n                gObj.editModule.taskbarEditModule.touchEdit : false;\n            var hasData = gObj.flatData && gObj.flatData.length;\n            // eslint-disable-next-line\n            edit.allowAdding && !touchEdit ? enableItems.push(gID + '_add') : disableItems.push(gID + '_add');\n            // eslint-disable-next-line\n            edit.allowEditing && isResouceParent && hasData && isSelected && !touchEdit ?\n                enableItems.push(gID + '_edit') : disableItems.push(gID + '_edit');\n            if (!edit.allowEditing || ind === 0 || ind === -1 || !hasData || !isSelected || this.parent.viewType === 'ResourceView') {\n                disableItems.push(gID + '_indent');\n                disableItems.push(gID + '_outdent');\n            }\n            else {\n                if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                    gObj.updatedRecords[ind].level === 0 && hasData && !touchEdit) {\n                    enableItems.push(gID + '_indent');\n                    disableItems.push(gID + '_outdent');\n                }\n                else {\n                    previousGanttRecord = gObj.updatedRecords[ind - 1];\n                    if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                        (gObj.updatedRecords[ind].level - previousGanttRecord.level === 1) && ind !== -1) {\n                        disableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                    else if (ind !== -1) {\n                        enableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                }\n            }\n            var isDeleteSelected = gObj.selectionModule ? gObj.selectionModule.getSelectedRecords().length > 0 ||\n                gObj.selectionModule.getSelectedRowCellIndexes().length > 0 ? true : false : false;\n            // eslint-disable-next-line\n            edit.allowDeleting && hasData && isDeleteSelected && !touchEdit ?\n                enableItems.push(gID + '_delete') : disableItems.push(gID + '_delete');\n            if (gObj.editSettings.mode === 'Auto' && !isNullOrUndefined(gObj.editModule.cellEditModule)\n                && gObj.editModule.cellEditModule.isCellEdit) {\n                // New initialization for enableItems and disableItems during isCellEdit\n                enableItems = [];\n                enableItems.push(gID + '_update', gID + '_cancel');\n                disableItems = [];\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (toolbarItems[t].id !== gID + '_update' && toolbarItems[t].id !== gID + '_cancel' &&\n                        toolbarDefaultItems.indexOf(toolbarItems[t].id) !== -1) {\n                        disableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n            else {\n                disableItems.push(gID + '_update', gID + '_cancel');\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (enableItems.indexOf(toolbarItems[t].id) === -1 &&\n                        disableItems.indexOf(toolbarItems[t].id) === -1) {\n                        enableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n        }\n        else {\n            disableItems.push(gID + '_delete');\n            disableItems.push(gID + '_add');\n            disableItems.push(gID + '_edit');\n            disableItems.push(gID + '_update');\n            disableItems.push(gID + '_cancel');\n            disableItems.push(gID + '_indent');\n            disableItems.push(gID + '_outdent');\n        }\n        for (var e = 0; e < enableItems.length; e++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === enableItems[e]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index, false);\n            }\n        }\n        for (var d = 0; d < disableItems.length; d++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === disableItems[d]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index, true);\n            }\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var element = this.element.querySelector('#' + item);\n            if (element) {\n                this.toolbar.enableItems(element.parentElement, isEnable);\n            }\n        }\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @function destroy\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.toolbar.off('render-react-toolbar-template', this.addReactToolbarPortals);\n        this.toolbar.destroy();\n        if (this.parent.filterModule) {\n            this.unWireEvent();\n        }\n        remove(this.element);\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","/**\n *  This file was to define all public and internal events\n */\n/** @hidden */\nexport var load = 'load';\n/** @hidden */\nexport var rowDataBound = 'rowDataBound';\n/** @hidden */\nexport var queryCellInfo = 'queryCellInfo';\n/** @hidden */\nexport var toolbarClick = 'toolbarClick';\n/** @hidden */\nexport var keyPressed = 'key-pressed';\n","import { createElement, formatUnit, remove, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar NonWorkingDay = /** @class */ (function () {\n    function NonWorkingDay(gantt) {\n        this.weekendWidthUpdated = false;\n        this.parent = gantt;\n        this.nonworkingContainer = null;\n        this.holidayContainer = null;\n        this.weekendContainer = null;\n    }\n    /**\n     * Method append nonworking container\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.createNonworkingContainer = function () {\n        if (!this.parent.ganttChartModule.chartBodyContent.contains(this.nonworkingContainer)) {\n            this.nonworkingContainer = createElement('div', {\n                className: cls.nonworkingContainer\n            });\n            if (this.parent.enableTimelineVirtualization) {\n                this.nonworkingContainer.style.height = '100%';\n            }\n            this.parent.ganttChartModule.chartBodyContent.insertBefore(this.nonworkingContainer, this.parent.ganttChartModule.chartBodyContent.lastChild);\n        }\n    };\n    /**\n     * calculation for holidays rendering.\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderHolidays = function () {\n        if (this.parent.holidays && this.parent.holidays.length > 0) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.holidayContainer)) {\n                this.holidayContainer = createElement('div', {\n                    className: cls.holidayContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.holidayContainer.style.height = '100%';\n                    this.holidayContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.holidayContainer);\n            }\n            this.holidayContainer.innerHTML = this.getHolidaysElement().innerHTML;\n        }\n        else if (this.holidayContainer && this.holidayContainer.parentNode) {\n            remove(this.holidayContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to return holidays as html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getHolidaysElement = function () {\n        var fromDate;\n        var toDate;\n        var container = createElement('div');\n        var height = this.parent.contentHeight;\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        for (var i = 0; i < this.parent.holidays.length; i++) {\n            if (this.parent.holidays[i].from && this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                toDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                toDate.setDate(toDate.getDate() + 1);\n                fromDate.setHours(0, 0, 0, 0);\n                toDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].from) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            var width = (this.parent.holidays[i].from && this.parent.holidays[i].to) ?\n                this.parent.dataOperation.getTaskWidth(fromDate, toDate) : this.parent.perDayWidth;\n            var left = this.parent.dataOperation.getTaskLeft(fromDate, false, true);\n            var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n            var holidayDiv = createElement('div', {\n                className: cls.holidayElement, styles: align + \" width:\" + width + \"px; height:100%;\"\n            });\n            var spanTop = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n            var spanElement = createElement('span', {\n                className: cls.holidayLabel, styles: \"top:\" + spanTop + \"px;left:\" + (width / 2) + \"px;\"\n            });\n            var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n            spanElement[property] = this.parent.holidays[i].label ? this.parent.holidays[i].label : '';\n            if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n            }\n            holidayDiv.appendChild(spanElement);\n            if (this.parent.holidays[i].cssClass) {\n                holidayDiv.classList.add(this.parent.holidays[i].cssClass);\n            }\n            container.appendChild(holidayDiv);\n        }\n        return container;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderWeekends = function () {\n        if (this.parent.highlightWeekends) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.weekendContainer)) {\n                this.weekendContainer = createElement('div', {\n                    className: cls.weekendContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.weekendContainer.style.height = '100%';\n                    this.weekendContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.weekendContainer);\n            }\n            this.weekendContainer.innerHTML = this.getWeekendElements().innerHTML;\n        }\n        else if (this.weekendContainer) {\n            remove(this.weekendContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to get weekend html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getWeekendElements = function () {\n        var container = createElement('div');\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).getTime()) :\n            new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        var endDate = this.parent.enableTimelineVirtualization ? new Date((this.parent.timelineModule.weekendEndDate).getTime()) :\n            new Date(this.parent.timelineModule.timelineEndDate.getTime());\n        var nonWorkingIndex = this.parent.nonWorkingDayIndex;\n        var isFirstCell = true;\n        do {\n            if (nonWorkingIndex.indexOf(startDate.getDay()) !== -1) {\n                var left = this.parent.dataOperation.getTaskLeft(startDate, false, true);\n                var width = this.parent.perDayWidth;\n                if (isFirstCell) {\n                    var start = new Date(startDate.getTime());\n                    var tempEnd = new Date(start.getTime());\n                    tempEnd.setDate(tempEnd.getDate() + 1);\n                    tempEnd.setHours(0, 0, 0, 0);\n                    width = this.parent.dataOperation.getTaskWidth(start, tempEnd);\n                    isFirstCell = false;\n                }\n                var sDate = new Date(startDate);\n                sDate.setDate(sDate.getDate() + 1);\n                if (sDate.getTimezoneOffset() !== this.parent.timelineModule.timelineStartDate.getTimezoneOffset() &&\n                    !this.weekendWidthUpdated) {\n                    if (this.parent.timelineModule.bottomTier === 'Hour' &&\n                        this.parent.timelineModule.customTimelineSettings.bottomTier.count === 1) {\n                        width = width - this.parent.timelineSettings.timelineUnitSize;\n                        this.weekendWidthUpdated = true;\n                    }\n                }\n                var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n                var weekendDiv = createElement('div', {\n                    className: cls.weekend, styles: align + \" width:\" + width + \"px;height:100%;\"\n                });\n                container.appendChild(weekendDiv);\n            }\n            startDate.setDate(startDate.getDate() + 1);\n            startDate.setHours(0, 0, 0, 0);\n        } while (startDate < endDate);\n        return container;\n    };\n    NonWorkingDay.prototype.updateHolidayLabelHeight = function () {\n        var height = this.parent.getContentHeight();\n        var gantttable = document.getElementById(this.parent.element.id);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = (this.parent.height === 'auto') ? gantttable.offsetHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight :\n            this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        var top = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n        var labels = this.holidayContainer.querySelectorAll('.' + cls.holidayLabel);\n        for (var i = 0; i < labels.length; i++) {\n            labels[i].style.top = formatUnit(top);\n        }\n    };\n    /**\n     * Method to update height for all internal containers\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.updateContainerHeight = function () {\n        var height = this.parent.getContentHeight();\n        if (this.holidayContainer) {\n            this.holidayContainer.style.height = formatUnit(height);\n            this.updateHolidayLabelHeight();\n        }\n        if (this.weekendContainer) {\n            this.weekendContainer.style.height = formatUnit(height);\n        }\n    };\n    /**\n     * Method to remove containers of holiday and weekend\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.removeContainers = function () {\n        if (this.holidayContainer) {\n            remove(this.holidayContainer);\n        }\n        if (this.weekendContainer) {\n            remove(this.weekendContainer);\n        }\n        if (this.nonworkingContainer) {\n            remove(this.nonworkingContainer);\n        }\n    };\n    return NonWorkingDay;\n}());\nexport { NonWorkingDay };\n","import { createElement, formatUnit, remove, isNullOrUndefined, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(gantt) {\n        this.parent = gantt;\n        this.eventMarkersContainer = null;\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.renderEventMarkers = function () {\n        if (this.parent.eventMarkers && this.parent.eventMarkers.length > 0) {\n            if (!this.parent.ganttChartModule.chartBodyContent.contains(this.eventMarkersContainer)) {\n                this.eventMarkersContainer = createElement('div', {\n                    className: cls.eventMarkersContainer\n                });\n                this.eventMarkersContainer.setAttribute('role', 'term');\n                this.parent.ganttChartModule.chartBodyContent.appendChild(this.eventMarkersContainer);\n            }\n            this.eventMarkersContainer.innerHTML = '';\n            this.getEventMarkersElements(this.eventMarkersContainer);\n        }\n        else {\n            this.removeContainer();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.removeContainer = function () {\n        if (this.eventMarkersContainer) {\n            remove(this.eventMarkersContainer);\n            this.eventMarkersContainer = null;\n        }\n    };\n    /**\n     * Method to get event markers as html string\n     *\n     * @param {HTMLElement} container .\n     * @returns {void} .\n     */\n    EventMarker.prototype.getEventMarkersElements = function (container) {\n        var left;\n        var eventMarkerElement;\n        var spanElement;\n        var rightArrow;\n        var eventMarkerCollection = [];\n        for (var i = 0; i < this.parent.eventMarkers.length; i++) {\n            if (!isNullOrUndefined(this.parent.eventMarkers[i].day)) {\n                left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true), false, true);\n                eventMarkerCollection.push({ id: i, left: left, label: this.parent.eventMarkers[i].label,\n                    date: this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true) });\n                var align = void 0;\n                if (this.parent.enableRtl) {\n                    align = \"right:\" + left + \"px;\";\n                }\n                else {\n                    align = \"left:\" + left + \"px;\";\n                }\n                eventMarkerElement = createElement('div', {\n                    className: cls.eventMarkersChild, styles: align + \"  height:100%;\",\n                    id: 'stripline' + i\n                });\n                if (this.parent.eventMarkers[i].label) {\n                    spanElement = createElement('div', {\n                        className: cls.eventMarkersSpan\n                    });\n                    var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n                    spanElement[property] = this.parent.eventMarkers[i].label;\n                    if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                        spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n                    }\n                    if (this.parent.enableRtl) {\n                        spanElement.style.right = '5px';\n                    }\n                    else {\n                        spanElement.style.left = '5px';\n                    }\n                    eventMarkerElement.appendChild(spanElement);\n                    rightArrow = createElement('div', {\n                        className: 'e-gantt-right-arrow'\n                    });\n                    eventMarkerElement.appendChild(rightArrow);\n                }\n                if (this.parent.eventMarkers[i].cssClass) {\n                    eventMarkerElement.classList.add(this.parent.eventMarkers[i].cssClass);\n                }\n                eventMarkerElement.setAttribute('tabindex', '-1');\n                eventMarkerElement.setAttribute('aria-label', this.parent.localeObj.getConstant('eventMarkers') + ' '\n                    + (typeof this.parent.eventMarkers[i].day === 'string' ?\n                        this.parent.eventMarkers[i].day :\n                        this.parent.getFormatedDate(this.parent.eventMarkers[i].day))\n                    + ' ' + this.parent.eventMarkers[i].label);\n                container.appendChild(eventMarkerElement);\n            }\n        }\n        this.parent.eventMarkerColloction = eventMarkerCollection;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.updateContainerHeight = function () {\n        if (this.eventMarkersContainer) {\n            this.eventMarkersContainer.style.height = formatUnit(this.parent.getContentHeight());\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","import { NonWorkingDay } from '../renderer/nonworking-day';\nimport { EventMarker } from '../renderer/event-marker';\nimport { getValue } from '@syncfusion/ej2-base';\n/**\n * DayMarkers module is used to render event markers, holidays and to highlight the weekend days.\n */\nvar DayMarkers = /** @class */ (function () {\n    function DayMarkers(parent) {\n        this.parent = parent;\n        this.nonworkingDayRender = new NonWorkingDay(this.parent);\n        this.eventMarkerRender = new EventMarker(this.parent);\n        this.wireEvents();\n    }\n    DayMarkers.prototype.wireEvents = function () {\n        this.parent.on('refreshDayMarkers', this.refreshMarkers, this);\n        this.parent.on('updateHeight', this.updateHeight, this);\n        this.parent.on('ui-update', this.propertyChanged, this);\n    };\n    DayMarkers.prototype.propertyChanged = function (property) {\n        var keys = Object.keys(getValue('properties', property));\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            switch (key) {\n                case 'eventMarkers':\n                    this.eventMarkerRender.renderEventMarkers();\n                    this.updateHeight();\n                    break;\n                case 'highlightWeekends':\n                    this.nonworkingDayRender.renderWeekends();\n                    this.updateHeight();\n                    break;\n                case 'holidays':\n                    this.nonworkingDayRender.renderHolidays();\n                    this.updateHeight();\n                    break;\n            }\n        }\n    };\n    DayMarkers.prototype.refreshMarkers = function () {\n        this.nonworkingDayRender.renderWeekends();\n        this.nonworkingDayRender.renderHolidays();\n        if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n            this.parent['renderChartVerticalLines']();\n        }\n        this.eventMarkerRender.renderEventMarkers();\n    };\n    DayMarkers.prototype.updateHeight = function () {\n        this.nonworkingDayRender.updateContainerHeight();\n        this.eventMarkerRender.updateContainerHeight();\n    };\n    /**\n     * To get module name\n     *\n     * @returns {string} .\n     */\n    DayMarkers.prototype.getModuleName = function () {\n        return 'dayMarkers';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DayMarkers.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.nonworkingDayRender.removeContainers();\n        this.eventMarkerRender.removeContainer();\n        this.parent.off('refreshDayMarkers', this.refreshMarkers);\n        this.parent.off('updateHeight', this.updateHeight);\n        this.parent.off('ui-update', this.propertyChanged);\n    };\n    return DayMarkers;\n}());\nexport { DayMarkers };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\n/** @hidden */\nvar CriticalPath = /** @class */ (function () {\n    function CriticalPath(parent) {\n        this.validatedids = [];\n        this.resourceCollectionIds = [];\n        this.criticalTasks = [];\n        this.parent = parent;\n    }\n    CriticalPath.prototype.getCriticalTasks = function () {\n        return this.criticalTasks;\n    };\n    CriticalPath.prototype.showCriticalPath = function (isCritical) {\n        var modelIds = this.parent.ids;\n        var totalRecords = this.parent.flatData;\n        if (isCritical && this.parent.flatData.length > 0) {\n            this.parent.enableCriticalPath = true;\n            var parentRecords = this.parent.treeGrid.parentData;\n            var checkEndDate = parentRecords[0].ganttProperties.endDate;\n            var dateDifference = 0;\n            /* eslint-disable-next-line */\n            var checkBeyondEnddate_1 = [];\n            var totalPredecessorsCollection = [];\n            var totalPredecessorsCollectionId = [];\n            var predecessorIndex = 0;\n            var taskBeyondEnddate = [];\n            var predecessorTaskBeyondEnddate = [];\n            var collection = [];\n            var collectionTaskId = [];\n            var fromDataObject = [];\n            var criticalPathIds = [];\n            this.criticalTasks = [];\n            /* eslint-disable-next-line */\n            if (parentRecords[0].ganttProperties.autoEndDate > parentRecords[0].ganttProperties.endDate && !parentRecords[0].ganttProperties.isAutoSchedule) {\n                checkEndDate = parentRecords[0].ganttProperties.autoEndDate;\n            }\n            // Find the total project endDate\n            for (var i = 1; i < parentRecords.length; i++) {\n                if (parentRecords[i].ganttProperties.endDate >= checkEndDate) {\n                    checkEndDate = parentRecords[i].ganttProperties.endDate;\n                }\n                if (!parentRecords[i].ganttProperties.isAutoSchedule) {\n                    if (parentRecords[i].ganttProperties.autoEndDate >= checkEndDate) {\n                        checkEndDate = parentRecords[i].ganttProperties.autoEndDate;\n                    }\n                }\n            }\n            this.maxEndDate = checkEndDate;\n            // find the tasks that ends on total project end date that stored in checkBeyondEnddate\n            // find the tasks with predecessor that stored in totalPredecessorsCollectionId.\n            for (var j = 0; j < totalRecords.length; j++) {\n                totalRecords[j].isCritical = false;\n                totalRecords[j].ganttProperties.isCritical = false;\n                /* eslint-disable-next-line */\n                dateDifference = this.parent.dataOperation.getDuration(totalRecords[j].ganttProperties.endDate, checkEndDate, totalRecords[j].ganttProperties.durationUnit, totalRecords[j].ganttProperties.isAutoSchedule, totalRecords[j].ganttProperties.isMilestone);\n                totalRecords[j].slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                totalRecords[j].ganttProperties.slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                if (totalRecords[j].ganttProperties.endDate >= checkEndDate) {\n                    checkBeyondEnddate_1.push(totalRecords[j].ganttProperties.taskId);\n                }\n                if (totalRecords[j].ganttProperties.predecessor) {\n                    if (totalRecords[j].ganttProperties.predecessor.length !== 0) {\n                        totalPredecessorsCollection.push(totalRecords[j]);\n                        totalPredecessorsCollectionId.push((totalRecords[j].ganttProperties.taskId));\n                    }\n                }\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                for (var i = 0; i < this.parent.taskIds.length; i++) {\n                    this.resourceCollectionIds[i] = this.parent.taskIds[i].slice(1);\n                }\n            }\n            var _loop_1 = function (k) {\n                if (totalPredecessorsCollectionId.indexOf(checkBeyondEnddate_1[k]) === -1) {\n                    if (this_1.parent.viewType === 'ProjectView') {\n                        predecessorIndex = modelIds.indexOf(checkBeyondEnddate_1[k].toString());\n                    }\n                    else {\n                        var currentRecords = this_1.parent.currentViewData.filter(function (data) {\n                            return parseInt(data.ganttProperties.taskId, 10) === checkBeyondEnddate_1[k];\n                        });\n                        for (var i = 0; i < currentRecords.length; i++) {\n                            if (!currentRecords[i].hasChildRecords &&\n                                currentRecords[i].ganttProperties.endDate >= this_1.maxEndDate) {\n                                predecessorIndex = currentRecords[i].index;\n                            }\n                        }\n                    }\n                    if (totalRecords[predecessorIndex].ganttProperties.progress < 100) {\n                        totalRecords[predecessorIndex].isCritical = true;\n                        totalRecords[predecessorIndex].ganttProperties.isCritical = true;\n                    }\n                    totalRecords[predecessorIndex]['slack'] = 0 + ' ' + totalRecords[predecessorIndex].ganttProperties.durationUnit;\n                    taskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n                else {\n                    predecessorTaskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n            };\n            var this_1 = this;\n            // seperate the predecessor connected taskes from the individual taskes that ends on total project end date\n            for (var k = 0; k < checkBeyondEnddate_1.length; k++) {\n                _loop_1(k);\n            }\n            var predecessorLength = totalPredecessorsCollection.length;\n            var endTask = [];\n            // find the detail collection of predecessor for each taskes that stored in collection.\n            for (var x = 0; x < predecessorLength; x++) {\n                var to = -1;\n                var from = -1;\n                var toPredecessor = -1;\n                var fromPredecessor = -1;\n                var tempTaskId = void 0;\n                var currentIndex = x;\n                var predecessor = totalPredecessorsCollection[x].ganttProperties.predecessor;\n                var individualPredecessorLength = totalPredecessorsCollection[x].ganttProperties.predecessor.length;\n                /* eslint-disable-next-line */\n                var taskid = ((totalPredecessorsCollection[x].ganttProperties.taskId));\n                for (var y = 0; y < individualPredecessorLength; y++) {\n                    if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].from), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (to === -1) {\n                            if (!predecessor[y].offset) {\n                                to = predecessor[y].to;\n                                toPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                to = predecessor[y].to + ':' + predecessor[y].offset + predecessor[y].offsetUnit;\n                                toPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                to = to + ',' + predecessor[y].to;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                to = to + ',' + predecessor[y].to + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                    if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].to), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (from === -1) {\n                            if (!predecessor[y].offset) {\n                                from = predecessor[y].from;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                from = predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                from = from + ',' + predecessor[y].from;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                from = from + ',' + predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                }\n                if (from === -1) {\n                    from = null;\n                    fromPredecessor = null;\n                }\n                if (to === -1) {\n                    to = null;\n                    toPredecessor = null;\n                }\n                /* eslint-disable-next-line */\n                collection.push({ from: from, fromPredecessor: fromPredecessor, taskid: taskid, to: to, toPredecessor: toPredecessor, currentIndex: currentIndex, slack: null, enddate: null });\n                collectionTaskId.push(taskid);\n            }\n            var collectionLength = collection.length;\n            var indexEnddate = 0;\n            var num = void 0;\n            // find the predecessors connected taskes that does not contains any successor.\n            for (var z = 0; z < collectionLength; z++) {\n                if (!collection[z]['to']) {\n                    num = collection[z]['taskid'];\n                    if (this.parent.viewType === 'ProjectView') {\n                        indexEnddate = modelIds.indexOf(num.toString());\n                    }\n                    else {\n                        indexEnddate = this.resourceCollectionIds.indexOf(num.toString());\n                    }\n                    var flatData = totalRecords[indexEnddate].ganttProperties;\n                    dateDifference = this.parent.dataOperation.getDuration(flatData.endDate, checkEndDate, 'minute', flatData.isAutoSchedule, flatData.isMilestone);\n                    collection[z]['slack'] = dateDifference;\n                    collection[z]['fs'] = -1;\n                    collection[z]['enddate'] = flatData.endDate;\n                    endTask.push({\n                        fromdata: collection[z]['from'], todateID: collection[z]['taskid'],\n                        fromDataPredecessor: collection[z]['fromPredecessor']\n                    });\n                }\n            }\n            for (var k = 0; k < endTask.length; k++) {\n                fromDataObject.push(endTask[k]);\n                this.slackCalculation(fromDataObject, collection, collectionTaskId, checkEndDate, totalRecords, modelIds);\n            }\n            criticalPathIds = this.finalCriticalPath(collection, taskBeyondEnddate, totalRecords, modelIds, checkEndDate);\n            this.validatedids = [];\n            this.criticalPathCollection = criticalPathIds;\n            this.detailPredecessorCollection = collection;\n            this.predecessorCollectionTaskIds = collectionTaskId;\n        }\n        if (isCritical === false && this.parent.flatData.length > 0) {\n            var pathIndex = void 0;\n            this.parent.enableCriticalPath = false;\n            for (var z = 0; z < this.criticalPathCollection.length; z++) {\n                pathIndex = modelIds.indexOf(this.criticalPathCollection[z].toString());\n                totalRecords[pathIndex].isCritical = false;\n            }\n            this.criticalPathCollection = [];\n            this.detailPredecessorCollection = [];\n            this.predecessorCollectionTaskIds = [];\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.slackCalculation = function (fromDataObject, collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds) {\n        var fromDateArray = fromDataObject[0]['fromdata'].split(',');\n        var fromDataPredecessor = fromDataObject[0]['fromDataPredecessor'].split(',');\n        collectionTaskId = collectionTaskId.toString();\n        collectionTaskId = collectionTaskId.split(',');\n        var fromDateArray1 = [];\n        var fromTaskIdIndex;\n        var indexFromTaskId;\n        var indexToTaskId;\n        var totaskId;\n        var dateDifference;\n        var prevTaskEnddate;\n        var offsetInMillSec;\n        var ffslack;\n        for (var i = 0; i < fromDateArray.length; i++) {\n            fromDateArray1 = fromDateArray[i].split(':');\n            fromTaskIdIndex = collectionTaskId.indexOf((fromDateArray1[0].toString()));\n            totaskId = collectionTaskId.indexOf((fromDataObject[0]['todateID'].toString()));\n            if (this.parent.viewType === 'ProjectView') {\n                indexFromTaskId = modelRecordIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = modelRecordIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            else {\n                indexFromTaskId = this.resourceCollectionIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = this.resourceCollectionIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            var fromIdFlatData = void 0;\n            if (indexFromTaskId !== -1) {\n                fromIdFlatData = flatRecords[indexFromTaskId].ganttProperties;\n            }\n            var toIdFlatData = flatRecords[indexToTaskId].ganttProperties;\n            if (fromDateArray1.length > 1) {\n                if (fromDateArray1[1].indexOf('hour') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * 60;\n                }\n                else if (fromDateArray1[1].indexOf('day') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * (this.parent.secondsPerDay / 3600) * 60;\n                }\n                else {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]);\n                }\n            }\n            if (fromIdFlatData) {\n                // calculate slack value for the task contains predecessor connection in \"finish to start\".\n                if (fromDataPredecessor[i] === 'FS') {\n                    if (fromIdFlatData.endDate > toIdFlatData.startDate) {\n                        dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.startDate, fromIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                    }\n                    else {\n                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.endDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                    }\n                    // execute if the slack value is not set initially.\n                    if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference < 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the current calculated slack value is less than the previous slack value.\n                    else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                        collection[fromTaskIdIndex]['slack'] !== 0) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference < 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the offset value is given.\n                    if (fromDateArray1.length > 1) {\n                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                        collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                        if (collection[fromTaskIdIndex]['slack'] < 0) {\n                            collection[fromTaskIdIndex]['slack'] = 0;\n                        }\n                    }\n                    collection[fromTaskIdIndex]['fs'] = 1;\n                    collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                    collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to start\".\n                if (fromDataPredecessor[i] === 'SS') {\n                    // It execute if the task is in auto mode.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        if (fromIdFlatData.startDate > toIdFlatData.startDate) {\n                            dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                        }\n                        else {\n                            dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                        }\n                        // It execute while the slack value is not set to the corresponding task.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        //It execute while already the slack value is set and it is higher than the datedifference.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] < 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['fs'] = 1;\n                        collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                        collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    }\n                    // It execute if the task is in not an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"finish to finish\".\n                if (fromDataPredecessor[i] === 'FF') {\n                    // execute if the previous task is from finish to start or finish to finish state.\n                    if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1 ||\n                        collection[totaskId]['fs'] === -1) {\n                        if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1) {\n                            prevTaskEnddate = toIdFlatData.endDate;\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (collection[totaskId]['fs'] === -1) {\n                            prevTaskEnddate = collection[totaskId]['enddate'];\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (prevTaskEnddate > fromIdFlatData.endDate) {\n                            dateDifference = -(this.getSlackDuration(fromIdFlatData.endDate, prevTaskEnddate, 'minute', flatRecords[indexFromTaskId]));\n                        }\n                        else {\n                            dateDifference = this.getSlackDuration(prevTaskEnddate, fromIdFlatData.endDate, 'minute', flatRecords[indexFromTaskId]);\n                        }\n                        // set the slack value if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // overright the slack value if the current calculated slack value is less than the previous slack value.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] - dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] < 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['ff'] = 1;\n                        collection[fromTaskIdIndex]['enddate'] = prevTaskEnddate;\n                        collection[fromTaskIdIndex]['fsslack'] = ffslack;\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to finish\".\n                if (fromDataPredecessor[i] === 'SF') {\n                    //It execute if the task is an auto mode task.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        //execute if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                // execute if the previous task does no has sucessor.\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                    collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                }\n                                // execute if the previous task has sucessor.\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                    if (collection[totaskId]['slack'] + dateDifference < 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                    else {\n                                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    }\n                                }\n                            }\n                            // execute if the offset value is given.\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate >= fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                if (collection[fromTaskIdIndex]['slack'] < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                        else {\n                            if (fromDateArray1.length <= 1) {\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                        collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                    }\n                                    else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                        if (collection[totaskId]['slack'] + dateDifference < 0) {\n                                            collection[fromTaskIdIndex]['slack'] = 0;\n                                        }\n                                        else {\n                                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                        }\n                                    }\n                                }\n                            }\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate > fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                    if (collection[fromTaskIdIndex]['slack'] < 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                    }\n                    //It execute if the task is an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                if (collection[fromTaskIdIndex]['from']) {\n                    fromDataObject.push({\n                        fromdata: collection[fromTaskIdIndex]['from'], todateID: collection[fromTaskIdIndex]['taskid'],\n                        fromDataPredecessor: collection[fromTaskIdIndex]['fromPredecessor']\n                    });\n                }\n            }\n        }\n        if (fromDataObject) {\n            fromDataObject.splice(0, 1);\n            if (fromDataObject.length > 0) {\n                this.slackCalculation(fromDataObject, collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds);\n            }\n        }\n    };\n    CriticalPath.prototype.getSlackDuration = function (sDate, eDate, durationUnit, record) {\n        var startDate = this.parent.dateValidationModule.checkStartDate(new Date(sDate));\n        var endDate = this.parent.dateValidationModule.checkEndDate(new Date(eDate));\n        if (this.parent.dataOperation['getTimeDifference'](startDate, endDate, true) <= 0) {\n            return 0;\n        }\n        else {\n            return this.parent.dataOperation.getDuration(startDate, endDate, durationUnit, record.ganttProperties.isAutoSchedule, true);\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.updateCriticalTasks = function (record, criticalPathIds) {\n        for (var i = 0; i < record.ganttProperties.predecessor.length; i++) {\n            var fromRecord = void 0;\n            if (this.parent.viewType === 'ProjectView') {\n                fromRecord = this.parent.getRecordByID(record.ganttProperties.predecessor[i].from);\n            }\n            else {\n                var resourceIndex = this.resourceCollectionIds.indexOf(record.ganttProperties.predecessor[i].from.toString());\n                fromRecord = this.parent.flatData[resourceIndex];\n            }\n            var durationDiff = void 0;\n            if (record.ganttProperties.endDate.getTime() >= this.maxEndDate.getTime()) {\n                record.ganttProperties.slack = record.slack = 0 + ' ' + record.ganttProperties.durationUnit;\n                if (record.ganttProperties.progress < 100) {\n                    record.isCritical = true;\n                    record.ganttProperties.isCritical = true;\n                    if (criticalPathIds.indexOf(record.ganttProperties.taskId) === -1) {\n                        criticalPathIds.push(record.ganttProperties.taskId);\n                    }\n                }\n            }\n            if (fromRecord) {\n                if (record.ganttProperties.predecessor[i].type === 'FS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.startDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'FF') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.endDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SF') {\n                    durationDiff = this.parent.dataOperation.getDuration(record.ganttProperties.endDate, fromRecord.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                if (durationDiff >= 0 && this.validatedids.indexOf(parseInt(fromRecord.ganttProperties.taskId, 10)) === -1 &&\n                    fromRecord.ganttProperties.taskId !== record.ganttProperties.taskId) {\n                    fromRecord.ganttProperties.slack = durationDiff <= 0 ? record.ganttProperties.slack :\n                        durationDiff + record.ganttProperties.durationUnit;\n                    fromRecord.slack = durationDiff <= 0 ? record.slack : durationDiff + record.ganttProperties.durationUnit;\n                    fromRecord.isCritical = durationDiff <= 0 ? record.ganttProperties.isCritical : false;\n                    fromRecord.ganttProperties.isCritical = durationDiff <= 0 ? record.ganttProperties.isCritical : false;\n                    if (criticalPathIds.indexOf(fromRecord.ganttProperties.taskId) === -1 && fromRecord.ganttProperties.isCritical &&\n                        fromRecord.ganttProperties.progress < 100) {\n                        criticalPathIds.push(fromRecord.ganttProperties.taskId);\n                        this.validatedids.push(parseInt(fromRecord.ganttProperties.taskId, 10));\n                        if (this.criticalTasks.indexOf(fromRecord) === -1) {\n                            this.criticalTasks.push(fromRecord);\n                        }\n                    }\n                    if (fromRecord.ganttProperties.predecessorsName) {\n                        this.updateCriticalTasks(fromRecord, criticalPathIds);\n                    }\n                }\n            }\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.finalCriticalPath = function (collection, taskBeyondEnddate, flatRecords, modelRecordIds, checkEndDate) {\n        /* eslint-disable-next-line */\n        var criticalPathIds = [];\n        var index;\n        var predecessorFrom;\n        for (var x = collection.length - 1; x >= 0; x--) {\n            if (this.parent.viewType === 'ProjectView') {\n                index = modelRecordIds.indexOf(collection[x]['taskid'].toString());\n            }\n            else {\n                index = this.resourceCollectionIds.indexOf(collection[x]['taskid'].toString());\n            }\n            var predecessorLength = flatRecords[index].ganttProperties.predecessor;\n            var noSlackValue = 0 + ' ' + flatRecords[index].ganttProperties.durationUnit;\n            for (var i = predecessorLength.length - 1; i >= 0; i--) {\n                var toID = void 0;\n                if (this.parent.viewType === 'ProjectView') {\n                    toID = this.parent.ids.indexOf(predecessorLength[i].to);\n                }\n                else {\n                    toID = this.resourceCollectionIds.indexOf(predecessorLength[i].to);\n                }\n                var dateDifference = void 0;\n                var currentData = flatRecords[index].ganttProperties;\n                if (toID !== -1) {\n                    if (predecessorLength[i].type === 'FS') {\n                        if (predecessorLength[i].to !== currentData.taskId.toString() || this.parent.viewType === 'ResourceView') {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        else {\n                            toID = this.parent.ids.indexOf(predecessorLength[i].from);\n                            if (toID !== -1) {\n                                dateDifference = this.parent.dataOperation.getDuration(flatRecords[toID].ganttProperties.endDate, currentData.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                                if (dateDifference === 0 && index !== toID && flatRecords[index].slack === noSlackValue) {\n                                    flatRecords[toID].slack = flatRecords[index].slack;\n                                    flatRecords[toID].ganttProperties.slack = flatRecords[index].slack;\n                                }\n                            }\n                        }\n                        if (toID !== -1) {\n                            if (dateDifference === 0 && index !== toID && flatRecords[index].slack !== noSlackValue) {\n                                flatRecords[index].slack = flatRecords[toID].slack;\n                                flatRecords[index].ganttProperties.slack = flatRecords[toID].slack;\n                            }\n                            else if (dateDifference !== 0 && index !== toID && flatRecords[toID].isCritical) {\n                                flatRecords[index].slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                                flatRecords[index].ganttProperties.slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                            }\n                        }\n                    }\n                    else if (predecessorLength[i].type === 'SF') {\n                        /* eslint-disable-next-line */\n                        dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                    }\n                    else if (predecessorLength[i].type === 'SS') {\n                        /* eslint-disable-next-line */\n                        dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                    }\n                    else {\n                        /* eslint-disable-next-line */\n                        dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                    }\n                    if (typeof (flatRecords[index][this.parent.taskFields.id]) === 'number') {\n                        predecessorFrom = parseInt(predecessorLength[i].from, 10);\n                    }\n                    else {\n                        predecessorFrom = predecessorLength[i].from;\n                    }\n                    if (predecessorFrom === flatRecords[index][this.parent.taskFields.id] &&\n                        flatRecords[toID].slack === noSlackValue && dateDifference <= 0) {\n                        flatRecords[index].slack = noSlackValue;\n                        flatRecords[index].ganttProperties.slack = noSlackValue;\n                    }\n                }\n            }\n            if (flatRecords[index].slack === noSlackValue) {\n                if (flatRecords[index].ganttProperties.progress < 100) {\n                    flatRecords[index].isCritical = true;\n                    flatRecords[index].ganttProperties.isCritical = true;\n                    if (this.criticalTasks.indexOf(flatRecords[index]) === -1) {\n                        this.criticalTasks.push(flatRecords[index]);\n                    }\n                    if (criticalPathIds.indexOf(collection[x]['taskid']) === -1) {\n                        criticalPathIds.push(collection[x]['taskid']);\n                    }\n                }\n            }\n            if (flatRecords[index].ganttProperties.predecessor.length > 0) {\n                this.updateCriticalTasks(flatRecords[index], criticalPathIds);\n            }\n        }\n        if (taskBeyondEnddate.length > 0) {\n            for (var i = 0; i < taskBeyondEnddate.length; i++) {\n                if (this.parent.viewType === 'ProjectView') {\n                    index = modelRecordIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                else {\n                    index = this.resourceCollectionIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                if (index !== -1 && flatRecords[index].ganttProperties.progress < 100) {\n                    this.criticalTasks.push(flatRecords[index]);\n                    if (criticalPathIds.indexOf(taskBeyondEnddate[i]) === -1) {\n                        criticalPathIds = criticalPathIds.concat(taskBeyondEnddate[i]);\n                    }\n                }\n            }\n        }\n        return criticalPathIds;\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.criticalConnectorLine = function (criticalPathIds, collection, condition, collectionTaskId) {\n        this.parent.removeCriticalPathStyles();\n        var _loop_2 = function (i) {\n            var criticalData;\n            if (this_2.parent.viewType === 'ProjectView') {\n                criticalData = this_2.parent.flatData[this_2.parent.ids.indexOf(criticalPathIds[i].toString())];\n            }\n            else {\n                var currentRecords = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId).toString() === criticalPathIds[i].toString();\n                });\n                for (var i_1 = 0; i_1 < currentRecords.length; i_1++) {\n                    if (currentRecords[i_1].ganttProperties.isCritical ||\n                        currentRecords[i_1].ganttProperties.endDate >= this_2.maxEndDate) {\n                        criticalData = currentRecords[i_1];\n                    }\n                }\n            }\n            var index = this_2.parent.currentViewData.indexOf(criticalData);\n            var element = this_2.parent.getRowByIndex(index);\n            var taskClass = void 0;\n            var columnFields = this_2.parent.taskFields;\n            if (criticalData && criticalData.parentItem) {\n                var parentRecord = this_2.parent.currentViewData.filter(function (data) {\n                    return criticalData.parentItem.uniqueID === data.uniqueID;\n                });\n                var parentIndex = this_2.parent.flatData.indexOf(parentRecord[0]);\n                var parentElement = this_2.parent.getRowByIndex(parentIndex);\n                if (parentElement) {\n                    var parentTaskbarElement = parentElement.querySelectorAll('.e-taskbar-main-container');\n                    for (var i_2 = 0; i_2 < parentTaskbarElement.length; i_2++) {\n                        if (parentTaskbarElement[i_2].getAttribute('rowuniqueid') === criticalData['rowUniqueID']) {\n                            addClass(parentTaskbarElement[i_2].querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                        }\n                    }\n                }\n            }\n            /* eslint-disable-next-line */\n            if (this_2.parent.allowUnscheduledTasks && criticalData && !criticalData[columnFields.startDate] && !criticalData[columnFields.endDate] && criticalData[columnFields.duration]) {\n                taskClass = cls.criticalUnscheduledTask;\n            }\n            else {\n                taskClass = cls.criticalChildProgressBarInnerDiv;\n            }\n            if (element && (this_2.parent.viewType === 'ProjectView' || (this_2.parent.viewType === 'ResourceView' &&\n                !criticalData.hasChildRecords))) {\n                if (element.getElementsByClassName('e-gantt-milestone')[0]) {\n                    addClass(element.querySelectorAll('.e-gantt-milestone'), cls.criticalMilestone);\n                }\n                if (element.getElementsByClassName('e-gantt-child-taskbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                }\n                if (element.getElementsByClassName('e-gantt-child-progressbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-progressbar-inner-div'), taskClass);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < criticalPathIds.length; i++) {\n            _loop_2(i);\n        }\n        if (collection.length !== 0) {\n            var index = 0;\n            var currentdata = void 0;\n            var checking = [];\n            /* eslint-disable-next-line */\n            var checkint = void 0;\n            var values = void 0;\n            for (var i = 0; i < this.criticalPathCollection.length; i++) {\n                index = collectionTaskId.indexOf(this.criticalPathCollection[i]);\n                currentdata = collection[index];\n                if (index !== -1 && currentdata['to']) {\n                    checking = currentdata['to'].split(',');\n                    for (var j = 0; j < checking.length; j++) {\n                        values = checking[j].split('+');\n                        if (checking[j].indexOf('-') >= 0) {\n                            values = checking[j].split('-');\n                        }\n                        checkint = (values[0].replace(':', ''));\n                        if (typeof (criticalPathIds[j]) === 'number') {\n                            checkint = parseInt(values[0], 10);\n                        }\n                        if (criticalPathIds.indexOf(checkint) !== -1) {\n                            var lineElement = this.parent.element.querySelectorAll('#ConnectorLineparent' +\n                                currentdata['taskid'] + 'child' + checkint);\n                            if (lineElement.length > 0) {\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + currentdata['taskid'] + 'child' +\n                                    checkint)[0].querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + currentdata['taskid'] + 'child' +\n                                    checkint)[0].querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    CriticalPath.prototype.getModuleName = function () {\n        return 'criticalPath';\n    };\n    /**\n     * Destroys the Critical Path of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    CriticalPath.prototype.destroy = function () {\n        if (!this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            this.parent.criticalPathModule = undefined;\n        }\n    };\n    return CriticalPath;\n}());\nexport { CriticalPath };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar UndoRedo = /** @class */ (function () {\n    function UndoRedo(parent) {\n        this.isUndoRedoPerformed = false;\n        this.changedRecords = [];\n        this.getRedoCollection = [];\n        this.getUndoCollection = [];\n        this.redoEnabled = false;\n        this.previousSortedColumns = [];\n        this.searchString = '';\n        this.isFromUndoRedo = false;\n        this.canUpdateIndex = true;\n        this.sortedColumnsLength = 0;\n        this.parent = parent;\n    }\n    /**\n     *Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.undoAction = function () {\n        var _this = this;\n        if (this.getUndoCollection.length > 0) {\n            var updateAction_1 = this.getUndoCollection[this.getUndoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = this.previousSortedColumns;\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction_1['filteredColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['toColumn'] = updateAction_1['fromColumn'];\n                previousActions['fromColumn'] = updateAction_1['toColumn'];\n                previousActions['fromIndex'] = updateAction_1['toIndex'];\n                previousActions['toIndex'] = updateAction_1['fromIndex'];\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['searchString'] = this.searchString;\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['showhideColumns'] = updateAction_1['showhideColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]);\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        if (updateAction_1['beforeDrop'][i]['data']['ganttProperties'].hasChildRecords) {\n                            rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('R' + updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                        }\n                        else {\n                            rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                        }\n                    }\n                }\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction_1['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction_1['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction_1['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction_1['action'];\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deleteRecords'] = [];\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    previousActions['deleteRecords'].push(updateAction_1['deletedRecordsDetails'][i].data);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['deletedRecordsDetails'] = [];\n                var rowItems = updateAction_1['addedRecords'];\n                this.findPosition(rowItems, previousActions, 'deletedRecordsDetails');\n            }\n            else {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction_1['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction_1['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction_1['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getRedoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.changedRecords = [];\n            this.currentAction = updateAction_1;\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                this.parent.timelineSettings.timelineViewMode = updateAction_1['previousZoomingLevel'].timelineViewMode;\n                this.parent.timelineSettings.timelineUnitSize = updateAction_1['previousZoomingLevel'].timelineUnitSize;\n                this.parent.timelineSettings.updateTimescaleView = updateAction_1['previousZoomingLevel'].updateTimescaleView;\n                this.parent.timelineSettings.topTier.unit = updateAction_1['previousZoomingLevel'].topTier.unit;\n                this.parent.timelineSettings.topTier.count = updateAction_1['previousZoomingLevel'].topTier.count;\n                this.parent.timelineSettings.topTier.format = updateAction_1['previousZoomingLevel'].topTier.format;\n                this.parent.timelineSettings.bottomTier.unit = updateAction_1['previousZoomingLevel'].bottomTier.unit;\n                this.parent.timelineSettings.bottomTier.count = updateAction_1['previousZoomingLevel'].bottomTier.count;\n                this.parent.timelineSettings.bottomTier.format = updateAction_1['previousZoomingLevel'].bottomTier.format;\n                this.parent.timelineSettings.weekStartDay = updateAction_1['previousZoomingLevel'].weekStartDay;\n                this.parent.timelineSettings.weekendBackground = updateAction_1['previousZoomingLevel'].weekendBackground;\n                if (updateAction_1['action'] === 'ZoomToFit') {\n                    this.parent.timelineModule.refreshTimeline();\n                }\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction_1['previousTimelineStartDate'], updateAction_1['previousTimelineEndDate'], false);\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction_1['sortColumns'].length > 0) {\n                    for (var i = 0; i < updateAction_1['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction_1['sortColumns'][i]['field'], updateAction_1['sortColumns'][i]['direction']);\n                    }\n                }\n                else {\n                    this.parent.clearSorting();\n                }\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                this.isFromUndoRedo = true;\n                for (var i = this.getUndoCollection.length - 1; i >= 0; i--) {\n                    if (!this.getUndoCollection[i]['filteredColumns']) {\n                        break;\n                    }\n                    else {\n                        var columnsArray = [];\n                        for (var j = 0; j < this.getUndoCollection[i]['filteredColumns'].length; j++) {\n                            columnsArray.push(this.getUndoCollection[i]['filteredColumns'][j].field);\n                        }\n                        this.parent.clearFiltering(columnsArray);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction_1['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction_1['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction_1['searchString']);\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction_1['showhideColumns'].length; i++) {\n                    if (updateAction_1['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]['width'] = updateAction_1['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        if (updateAction_1['beforeDrop'][i].data['ganttProperties'].hasChildRecords) {\n                            fromIndex = this.parent.ids.indexOf('R' + updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        }\n                        else {\n                            fromIndex = this.parent.ids.indexOf('T' + updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        }\n                        toIndex = this.parent.taskIds.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction_1['beforeDrop'][i].position);\n                    this.parent.updateRecordByID(updateAction_1['beforeDrop'][i].data);\n                    if (updateAction_1['afterDrop'].dropPosition === 'child') {\n                        this.parent.updateRecordByID(updateAction_1['afterDrop'].dropRecord);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                this.parent.selectRow(this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString()));\n                if (updateAction_1['action'] === 'Indent') {\n                    this.parent.outdent();\n                }\n                else {\n                    this.parent.indent();\n                }\n                setTimeout(function () {\n                    _this.isUndoRedoPerformed = true;\n                    _this.parent.updateRecordByID(updateAction_1['droppedRecord']);\n                    _this.isUndoRedoPerformed = false;\n                });\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                var rowIndex = void 0;\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowIndex = this.parent.ids.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    else {\n                        rowIndex = this.parent.taskIds.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    var position = void 0;\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'above') {\n                        position = 'Above';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'below') {\n                        position = 'Below';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'child') {\n                        position = 'Child';\n                    }\n                    this.parent.addRecord(updateAction_1['deletedRecordsDetails'][i].data, position, rowIndex);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                var deleteRec = updateAction_1['addedRecords'];\n                if (this.parent.viewType === 'ResourceView' && updateAction_1['addedRecords'].length === 1 && updateAction_1['addedRecords'][0].parentItem) {\n                    var parentRec = this.parent.getTaskByUniqueID(updateAction_1['addedRecords'][0].parentItem.uniqueID);\n                    if (parentRec.childRecords.length === 1 && parentRec.ganttProperties.taskName === 'Unassigned Task') {\n                        deleteRec = parentRec;\n                    }\n                }\n                this.parent.deleteRecord(deleteRec);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else {\n                this.parent.updateRecordByID(this.getUndoCollection[this.getUndoCollection.length - 1]['modifiedRecords'][0]);\n                if (updateAction_1['connectedRecords'] && this.parent.viewType === 'ProjectView') {\n                    for (var i = 0; i < updateAction_1['connectedRecords'].length; i++) {\n                        this.parent.updateRecordByID(updateAction_1['connectedRecords'][i]);\n                    }\n                }\n            }\n            var args = {};\n            args = extend([], [], [this.getUndoCollection[this.getUndoCollection.length - 1]], true)[0];\n            args['requestType'] = 'afterUndoAction';\n            this.parent.trigger('onAfterUndo', args);\n            this.isUndoRedoPerformed = false;\n            if (this.getRedoCollection.length > 0) {\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], true);\n                }\n                this.redoEnabled = true;\n            }\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n        else {\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     *Initiates an redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.redoAction = function () {\n        if (this.getRedoCollection.length > 0) {\n            var updateAction = this.getRedoCollection[this.getRedoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = extend([], this.parent.sortSettings.columns, [], true);\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction['filteredColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['toColumn'] = updateAction['fromColumn'];\n                previousActions['fromColumn'] = updateAction['toColumn'];\n                previousActions['fromIndex'] = updateAction['toIndex'];\n                previousActions['toIndex'] = updateAction['fromIndex'];\n            }\n            else if (updateAction['action'] === 'Search') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['searchString'] = extend([], [this.parent.searchSettings.key], [], true)[0];\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['showhideColumns'] = updateAction['showhideColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction['resizedColumn'].index]);\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        if (updateAction['beforeDrop'][i]['data']['ganttProperties'].hasChildRecords) {\n                            rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('R' + updateAction['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                        }\n                        else {\n                            rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                        }\n                    }\n                }\n                previousActions['action'] = updateAction['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction['action'];\n            }\n            else if (updateAction['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deletedRecordsDetails'] = [];\n                this['findPosition'](extend([], [], updateAction['deleteRecords'], true), previousActions, 'deletedRecordsDetails');\n            }\n            else if (updateAction['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['addedRecords'] = [updateAction['deletedRecordsDetails'][0].data];\n            }\n            else {\n                previousActions['action'] = updateAction['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getUndoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.currentAction = updateAction;\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                if (updateAction['action'] === 'ZoomToFit') {\n                    this.parent.fitToProject();\n                }\n                else {\n                    this.parent.timelineSettings.timelineViewMode = updateAction['previousZoomingLevel'].timelineViewMode;\n                    this.parent.timelineSettings.timelineUnitSize = updateAction['previousZoomingLevel'].timelineUnitSize;\n                    this.parent.timelineSettings.updateTimescaleView = updateAction['previousZoomingLevel'].updateTimescaleView;\n                    this.parent.timelineSettings.topTier.unit = updateAction['previousZoomingLevel'].topTier.unit;\n                    this.parent.timelineSettings.topTier.count = updateAction['previousZoomingLevel'].topTier.count;\n                    this.parent.timelineSettings.topTier.format = updateAction['previousZoomingLevel'].topTier.format;\n                    this.parent.timelineSettings.bottomTier.unit = updateAction['previousZoomingLevel'].bottomTier.unit;\n                    this.parent.timelineSettings.bottomTier.count = updateAction['previousZoomingLevel'].bottomTier.count;\n                    this.parent.timelineSettings.bottomTier.format = updateAction['previousZoomingLevel'].bottomTier.format;\n                    this.parent.timelineSettings.weekStartDay = updateAction['previousZoomingLevel'].weekStartDay;\n                    this.parent.timelineSettings.weekendBackground = updateAction['previousZoomingLevel'].weekendBackground;\n                }\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction['previousTimelineStartDate'], updateAction['previousTimelineEndDate'], false);\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction['sortColumns'].length === 0) {\n                    this.parent.clearSorting();\n                }\n                else {\n                    for (var i = 0; i < updateAction['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction['sortColumns'][i]['field'], updateAction['sortColumns'][i]['direction'], (updateAction['sortColumns'].length > 1 ? true : false));\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction['showhideColumns'].length; i++) {\n                    if (updateAction['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                for (var j = 0; j < updateAction['filteredColumns'].length; j++) {\n                    this.isFromUndoRedo = true;\n                    this.parent.filterByColumn(updateAction['filteredColumns'][j].field, updateAction['filteredColumns'][j].operator, updateAction['filteredColumns'][j].value, updateAction['filteredColumns'][j].predicate, updateAction['filteredColumns'][j].matchCase, updateAction['filteredColumns'][j].ignoreAccent);\n                }\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction['searchString']);\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction['resizedColumn'].index]['width'] = updateAction['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        if (updateAction['beforeDrop'][i].data['ganttProperties'].hasChildRecords) {\n                            fromIndex = this.parent.ids.indexOf('R' + updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        }\n                        else {\n                            fromIndex = this.parent.ids.indexOf('T' + updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        }\n                        toIndex = this.parent.taskIds.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction['beforeDrop'][i].position);\n                }\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                this.parent.selectRow(updateAction['selectedRowIndexes'][0]);\n                if (updateAction['action'] === 'Indent') {\n                    this.parent.indent();\n                }\n                if (updateAction['action'] === 'Outdent') {\n                    this.parent.outdent();\n                }\n            }\n            else if (updateAction['action'] === 'Delete') {\n                if (this.parent.viewType === 'ResourceView') {\n                    for (var i = 0; i < updateAction['deleteRecords'].length; i++) {\n                        if (updateAction['deleteRecords'][i].parentItem) {\n                            if (!this.parent.getParentTask(updateAction['deleteRecords'][i].parentItem)) {\n                                var parentTask = this.parent.flatData[updateAction['deleteRecords'][i].parentItem.index];\n                                updateAction['deleteRecords'][i].parentItem.uniqueID = parentTask.uniqueID;\n                                updateAction['deleteRecords'][i].parentItem.taskId = parentTask.ganttProperties.rowUniqueID;\n                                updateAction['deleteRecords'][i].parentItem.expanded = parentTask.expanded;\n                            }\n                        }\n                    }\n                }\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                this.parent.deleteRecord(updateAction['deleteRecords']);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else if (updateAction['action'] === 'Add') {\n                if (this.parent.viewType === 'ResourceView' && updateAction['deletedRecordsDetails'].length > 1) {\n                    this.parent.editModule.addRecord(extend([], [], updateAction['deletedRecordsDetails'], true));\n                }\n                else {\n                    var rowIndex = void 0;\n                    for (var i = 0; i < updateAction['deletedRecordsDetails'].length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            rowIndex = this.parent.ids.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        else {\n                            rowIndex = this.parent.taskIds.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        var position = void 0;\n                        if (updateAction['deletedRecordsDetails'][i].position === 'above') {\n                            position = 'Above';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'below') {\n                            position = 'Below';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'child') {\n                            position = 'Child';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'bottom') {\n                            position = 'Bottom';\n                        }\n                        this.parent.editModule.addRecord(updateAction['deletedRecordsDetails'][i].data, position, rowIndex);\n                    }\n                }\n            }\n            else {\n                this.parent.updateRecordByID(updateAction['modifiedRecords'][0]);\n            }\n            this.isUndoRedoPerformed = false;\n            if (this.getRedoCollection.length === 0) {\n                this.redoEnabled = false;\n            }\n            if (this.getUndoCollection.length > 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n            }\n            this.getRedoCollection.splice(this.getRedoCollection.length - 1, 1);\n            if (this.getRedoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n            }\n        }\n    };\n    UndoRedo.prototype.createUndoCollection = function () {\n        if (this.parent['totalUndoAction'] + 1 > this.parent.undoRedoStepsCount && this.getUndoCollection.length === this.parent['totalUndoAction']) {\n            this.getUndoCollection.splice(0, 1);\n            this.disableRedo();\n        }\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n        }\n        if (this.getUndoCollection.length === 0) {\n            this.getUndoCollection[0] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n        else if (Object.keys(this['getUndoCollection'][this['getUndoCollection'].length - 1])['length'] > 0) {\n            this.getUndoCollection[this.getUndoCollection.length] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n    };\n    UndoRedo.prototype.disableRedo = function () {\n        this.redoEnabled = false;\n        this.getRedoCollection = [];\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n        }\n    };\n    UndoRedo.prototype.findPosition = function (rowItems, records, detail) {\n        var _loop_1 = function (i) {\n            var record = {};\n            record['data'] = rowItems[i];\n            if (this_1.parent.viewType === 'ProjectView') {\n                if (!rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length > 1) {\n                        var recIndex = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString());\n                        var previousRecord = this_1.parent.flatData[recIndex - 1];\n                        if (previousRecord.parentItem && previousRecord.parentItem.taskId === parentItem.ganttProperties.taskId) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                        else {\n                            record['position'] = 'above';\n                            var currentData = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1];\n                            var index = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1;\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData || (rowData && currentData.ganttProperties.taskId !== rowData.ganttProperties.taskId)) {\n                                    if (currentData.parentItem) {\n                                        record['id'] = extend([], [currentData.ganttProperties.taskId], [], true)[0];\n                                    }\n                                    else {\n                                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                                        record['position'] = 'child';\n                                    }\n                                }\n                                else {\n                                    rowIndex++;\n                                    index++;\n                                    currentData = this_1.parent.flatData[index];\n                                }\n                            } while (!record['id']);\n                        }\n                    }\n                    else {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [parentItem.ganttProperties.taskId], [], true)[0];\n                    }\n                }\n                else if (!rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    if (this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) === this_1.parent.ids.length - 1) {\n                        record['position'] = 'below';\n                    }\n                    else {\n                        record['position'] = 'above';\n                    }\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId === rowItems[i].ganttProperties.taskId) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    var rowIndex = i;\n                    do {\n                        var rowData = rowItems[rowIndex + 1];\n                        if (!rowData || (rowData && currentData['ganttProperties'].taskId !== rowData.ganttProperties.taskId)) {\n                            if (currentData) {\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                            else {\n                                currentData = this_1.parent.treeGrid.parentData[parentIndex - 1];\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                        }\n                        else {\n                            rowIndex++;\n                            prevInd++;\n                            currentData = this_1.parent.treeGrid.parentData[prevInd];\n                        }\n                    } while (!record['id']);\n                }\n                else if (rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId === rowItems[i].ganttProperties.taskId) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    if (parentIndex !== -1) {\n                        if (parentIndex === 0) {\n                            record['position'] = 'above';\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData || (rowData && currentData['ganttProperties'].taskId !== rowData.ganttProperties.taskId)) {\n                                    record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                                }\n                                else {\n                                    rowIndex++;\n                                    prevInd++;\n                                    currentData = this_1.parent.treeGrid.parentData[prevInd];\n                                }\n                            } while (!record['id']);\n                        }\n                        else {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.treeGrid.parentData[parentIndex - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                    }\n                }\n                else if (rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length === 1) {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                    }\n                    else {\n                        var childIndex = void 0;\n                        for (var k = 0; k < parentItem.childRecords.length; k++) {\n                            if (parentItem.childRecords[i].ganttProperties.taskId ===\n                                rowItems[i].ganttProperties.taskId) {\n                                childIndex = k;\n                                break;\n                            }\n                        }\n                        if (!isNullOrUndefined(childIndex)) {\n                            if (childIndex === 0) {\n                                record['position'] = 'above';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex + 1].ganttProperties.taskId], [], true)[0];\n                            }\n                            else {\n                                record['position'] = 'below';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex - 1].ganttProperties.taskId], [], true)[0];\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (rowItems[i].parentItem) {\n                    var parentRecord = void 0;\n                    if (rowItems[i].parentItem.index) {\n                        parentRecord = this_1.parent.flatData[rowItems[i].parentItem.index];\n                    }\n                    else {\n                        parentRecord = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].parentItem.taskId)];\n                    }\n                    if (parentRecord.childRecords.length === 1) {\n                        record['position'] = 'bottom';\n                        record['id'] = 'R' + parentRecord.ganttProperties.taskId;\n                        if (detail === 'deletedIndexes') {\n                            record['position'] = 'child';\n                            record['index'] = parentRecord.index;\n                        }\n                    }\n                    else {\n                        var currentIndex = void 0;\n                        for (var j = 0; j < parentRecord.childRecords.length; j++) {\n                            if (parentRecord.childRecords[j].ganttProperties.taskId ===\n                                rowItems[i].ganttProperties.taskId) {\n                                currentIndex = j;\n                                break;\n                            }\n                        }\n                        var previousRecord = parentRecord.childRecords[currentIndex - 1];\n                        if (previousRecord && previousRecord.parentItem && previousRecord.parentUniqueID === parentRecord.uniqueID) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], ['T' + this_1.parent.flatData[this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                            if (detail === 'deletedIndexes') {\n                                record['index'] = this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1;\n                            }\n                        }\n                        else {\n                            var index = void 0;\n                            if (currentIndex !== parentRecord.childRecords.length - 1) {\n                                record['position'] = 'above';\n                                if (currentIndex === 0 && parentRecord.childRecords[1]) {\n                                    index = parentRecord.childRecords[1].index;\n                                }\n                                else if (parentRecord.childRecords[currentIndex - 1]) {\n                                    index = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                                var currentData = this_1.parent.flatData[index];\n                                var recIndex = index;\n                                var rowIndex = i;\n                                do {\n                                    var rowData = rowItems[rowIndex + 1];\n                                    if (!rowData || (rowData && currentData.ganttProperties.taskId !== rowData.ganttProperties.taskId)) {\n                                        if (currentData.parentItem) {\n                                            record['id'] = extend([], ['T' + currentData.ganttProperties.taskId], [], true)[0];\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = extend([], [currentData.index], [], true)[0];\n                                                if (currentIndex === 0 && parentRecord.childRecords[1].ganttProperties.taskId ===\n                                                    currentData.ganttProperties.taskId) {\n                                                    record['index'] = record['index'] - 1;\n                                                }\n                                            }\n                                        }\n                                        else {\n                                            record['id'] = extend([], ['R' + rowItems[i].parentItem.taskId], [], true)[0];\n                                            record['position'] = 'child';\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = rowItems[i].parentItem.index;\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        rowIndex++;\n                                        recIndex++;\n                                        currentData = this_1.parent.flatData[recIndex];\n                                    }\n                                } while (!record['id']);\n                            }\n                            else {\n                                if (currentIndex === parentRecord.childRecords.length - 1) {\n                                    record['position'] = 'below';\n                                }\n                                else {\n                                    record['position'] = 'above';\n                                }\n                                record['id'] = 'T' + parentRecord.childRecords[currentIndex - 1].ganttProperties.taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    var parentData = this_1.parent.treeGrid.parentData.filter(function (parentData) {\n                        return parentData.ganttProperties.taskId === rowItems[i].ganttProperties.taskId;\n                    })[0];\n                    var parentDataIndex = this_1.parent.treeGrid.parentData.indexOf(parentData);\n                    if (parentDataIndex === 0) {\n                        record['position'] = 'above';\n                        var currentData = void 0;\n                        var prevInd = void 0;\n                        for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                            if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId === rowItems[i].ganttProperties.taskId) {\n                                currentData = this_1.parent.treeGrid.parentData[k + 1];\n                                prevInd = k + 1;\n                                break;\n                            }\n                        }\n                        var rowIndex = i;\n                        do {\n                            var rowData = rowItems[rowIndex + 1];\n                            if (!rowData || (rowData && currentData['ganttProperties'].taskId !== rowData.ganttProperties.taskId)) {\n                                record['id'] = 'R' + currentData['ganttProperties'].taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = currentData['index'];\n                                }\n                            }\n                            else {\n                                rowIndex++;\n                                prevInd++;\n                                currentData = this_1.parent.treeGrid.parentData[prevInd];\n                            }\n                        } while (!record['id']);\n                    }\n                    else {\n                        record['position'] = 'below';\n                        record['id'] = 'R' + this_1.parent.treeGrid.parentData[parentDataIndex - 1]['ganttProperties']['taskId'];\n                        if (detail === 'deletedIndexes') {\n                            record['index'] = this_1.parent.treeGrid.parentData[parentDataIndex - 1]['index'];\n                        }\n                    }\n                }\n            }\n            if (detail === 'deletedIndexes') {\n                var parent_1 = this_1.parent.getTaskByUniqueID(record['data'].parentUniqueID);\n                if (this_1.parent.editModule.dialogModule.ganttResources.length === 0 && records[detail].indexOf(record) === -1) {\n                    records[detail].push(record);\n                }\n                else {\n                    for (var j = 0; j < this_1.parent.editModule.dialogModule.ganttResources.length; j++) {\n                        if (this_1.parent.editModule.dialogModule.ganttResources[j][this_1.parent.resourceFields.id] !==\n                            parent_1.ganttProperties.taskId && records[detail].indexOf(record) === -1) {\n                            records[detail].push(record);\n                        }\n                    }\n                }\n            }\n            else {\n                records[detail].push(record);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < rowItems.length; i++) {\n            _loop_1(i);\n        }\n    };\n    UndoRedo.prototype.getModuleName = function () {\n        return 'undoRedo';\n    };\n    /**\n     * Destroys the UndoRedo of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    UndoRedo.prototype.destroy = function () {\n        if (!this.parent.enableUndoRedo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule = undefined;\n        }\n    };\n    return UndoRedo;\n}());\nexport { UndoRedo };\n","import * as cons from './../base/css-constants';\nimport { TreeGrid, ContextMenu as TreeGridContextMenu } from '@syncfusion/ej2-treegrid';\nimport { remove, closest, isNullOrUndefined, getValue, extend, addClass } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\n// eslint-disable-next-line\n/**\n * The ContextMenu module is used to handle the context menu items & sub-menu items.\n *\n * @returns {void} .\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent) {\n        var _this = this;\n        this.segmentIndex = -1;\n        this.headerContextMenuClick = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuClick', args);\n            }\n        };\n        this.headerContextMenuOpen = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuOpen', args);\n            }\n            else {\n                args.cancel = true;\n            }\n        };\n        this.parent = parent;\n        this.ganttID = parent.element.id;\n        TreeGrid.Inject(TreeGridContextMenu);\n        this.parent.treeGrid.contextMenuClick = this.headerContextMenuClick.bind(this);\n        this.parent.treeGrid.contextMenuOpen = this.headerContextMenuOpen.bind(this);\n        this.addEventListener();\n        this.resetItems();\n    }\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('initiate-contextMenu', this.render, this);\n        this.parent.on('reRender-contextMenu', this.reRenderContextMenu, this);\n        this.parent.on('contextMenuClick', this.contextMenuItemClick, this);\n        this.parent.on('contextMenuOpen', this.contextMenuBeforeOpen, this);\n    };\n    ContextMenu.prototype.reRenderContextMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n            }\n            this.resetItems();\n            this.render();\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.element = this.parent.createElement('ul', {\n            id: this.ganttID + '_contextmenu', className: cons.focusCell\n        });\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.ganttID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            target: target,\n            animationSettings: { effect: 'None' },\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: 'e-gantt'\n        });\n        this.contextMenu.appendTo(this.element);\n        this.parent.treeGrid.contextMenuItems = this.headerMenuItems;\n    };\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        this.item = this.getKeyFromId(args.item.id);\n        var position;\n        var data;\n        var taskfields;\n        var parentItem = getValue('parentObj', args.item);\n        var index = -1;\n        if (parentItem && !isNullOrUndefined(parentItem.id) && this.getKeyFromId(parentItem.id) === 'DeleteDependency') {\n            index = parentItem.items.indexOf(args.item);\n        }\n        if (this.parent.isAdaptive) {\n            if (this.item === 'TaskInformation' || this.item === 'Above' || this.item === 'Below'\n                || this.item === 'Child' || this.item === 'DeleteTask') {\n                if (this.parent.selectionModule && this.parent.selectionSettings.type === 'Multiple') {\n                    this.parent.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (this.item) {\n            case 'TaskInformation':\n                if (!isNullOrUndefined(this.rowData)) {\n                    if (typeof this.rowData.ganttProperties.taskId === 'string') {\n                        this.parent.openEditDialog(this.rowData.ganttProperties.rowUniqueID);\n                    }\n                    else {\n                        this.parent.openEditDialog(Number(this.rowData.ganttProperties.rowUniqueID));\n                    }\n                }\n                break;\n            case 'Above':\n            case 'Below':\n            case 'Child':\n                if (!isNullOrUndefined(this.rowData)) {\n                    position = this.item;\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    if (data[taskfields.endDate]) {\n                        this.parent.setRecordValue(taskfields.endDate, this.rowData.ganttProperties.endDate, data, true);\n                    }\n                    if (!isNullOrUndefined(taskfields.dependency)) {\n                        data[taskfields.dependency] = null;\n                    }\n                    if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                        delete data[taskfields.child];\n                    }\n                    if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                        data[taskfields.parentID] = null;\n                    }\n                    if (this.rowData) {\n                        var rowIndex = this.parent.updatedRecords.indexOf(this.rowData);\n                        this.parent.addRecord(data, position, rowIndex);\n                    }\n                }\n                else if (this.parent.flatData.length === 0) {\n                    this.parent.addRecord();\n                }\n                break;\n            case 'Milestone':\n            case 'ToMilestone':\n                if (!isNullOrUndefined(this.rowData)) {\n                    this.parent.convertToMilestone(this.rowData.ganttProperties.rowUniqueID);\n                }\n                else if (this.parent.flatData.length === 0 && this.item === 'Milestone') {\n                    var data_1 = this.parent.editModule.createNewRecord();\n                    var taskSettings = this.parent.taskFields;\n                    if (this.parent.taskFields['duration']) {\n                        data_1[taskSettings['duration']] = 0;\n                    }\n                    if (this.parent.taskFields['milestone']) {\n                        data_1[taskSettings['milestone']] = true;\n                    }\n                    this.parent.addRecord(data_1);\n                }\n                break;\n            case 'DeleteTask':\n                if ((this.parent.selectionSettings.mode !== 'Cell' && this.parent.selectionModule.selectedRowIndexes.length > 1)\n                    || (this.parent.selectionSettings.mode === 'Cell' && this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                    this.parent.editModule.startDeleteAction();\n                }\n                else {\n                    this.parent.editModule.deleteRecord(this.rowData);\n                }\n                break;\n            case 'ToTask':\n                if (!isNullOrUndefined(this.rowData)) {\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (!isNullOrUndefined(taskfields.duration)) {\n                        data[taskfields.duration] = parseInt(data[taskfields.duration], 10) <= 0 ? 1 : data[taskfields.duration];\n                    }\n                    else {\n                        data[taskfields.startDate] = new Date(this.rowData.taskData[taskfields.startDate]);\n                        var endDate = new Date(this.rowData.taskData[taskfields.startDate]);\n                        endDate.setDate(endDate.getDate() + 1);\n                        data[taskfields.endDate] = endDate;\n                    }\n                    if (!isNullOrUndefined(data[taskfields.milestone])) {\n                        if (data[taskfields.milestone] === true) {\n                            data[taskfields.milestone] = false;\n                        }\n                    }\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    this.parent.updateRecordByID(data);\n                }\n                break;\n            case 'Cancel':\n                this.parent.cancelEdit();\n                break;\n            case 'Save':\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.parent.treeGrid.grid.saveCell();\n                break;\n            case 'Dependency' + index:\n                this.parent.connectorLineEditModule.removePredecessorByIndex(this.rowData, index);\n                break;\n            case 'Auto':\n            case 'Manual':\n                this.parent.changeTaskMode(this.rowData);\n                break;\n            case 'Indent':\n                this.parent.indent();\n                break;\n            case 'Outdent':\n                this.parent.outdent();\n                break;\n            case 'Left':\n            case 'Right':\n                this.mergeCall(this.item);\n                break;\n            case 'SplitTask':\n                this.splitTaskCall(args);\n                break;\n        }\n        args.type = 'Content';\n        args.rowData = this.rowData;\n        this.parent.trigger('contextMenuClick', args);\n    };\n    ContextMenu.prototype.splitTaskCall = function (args) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(args.element);\n        if (isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit !== 'Hour') {\n            currentClickedDate.setHours(0, 0, 0, 0);\n        }\n        var eventArgs = {\n            rowData: this.rowData,\n            requestType: 'splitTaskbar',\n            splitDate: currentClickedDate,\n            cancel: false,\n            target: this.targetElement\n        };\n        // eslint-disable-next-line\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            _this.parent.chartRowsModule.splitTask(_this.rowData[taskSettings.id], currentClickedDate);\n            if (_this.parent.projectEndDate >= _this.rowData.ganttProperties.endDate) {\n                _this.parent.nextTimeSpan();\n            }\n        });\n    };\n    ContextMenu.prototype.mergeCall = function (item) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var segments = this.rowData.ganttProperties.segments;\n        var firstSegment = item === 'Right' ? this.segmentIndex : segments[this.segmentIndex - 1].segmentIndex;\n        var secondSegment = item === 'Left' ? this.segmentIndex : segments[this.segmentIndex + 1].segmentIndex;\n        var segmentIndexes = [\n            { 'firstSegmentIndex': firstSegment, 'secondSegmentIndex': secondSegment }\n        ];\n        var eventArgs = {\n            rowData: this.rowData,\n            mergeSegmentIndexes: segmentIndexes,\n            requestType: 'mergeSegment',\n            cancel: false,\n            target: this.targetElement\n        };\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArgs.cancel === false) {\n                _this.parent.chartRowsModule.mergeTask(_this.rowData[taskSettings.id], segmentIndexes);\n            }\n        });\n    };\n    // eslint-disable-next-line\n    ContextMenu.prototype.getClickedDate = function (element) {\n        // context menu click position\n        var ganttElementPositionLeft;\n        // task left position\n        if (this.parent.enableRtl) {\n            var box = this.parent.element.getBoundingClientRect();\n            var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n                document.body.scrollLeft;\n            var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n            ganttElementPositionLeft = box.left + scrollLeft - clientLeft;\n        }\n        else {\n            ganttElementPositionLeft = this.parent.getOffsetRect(this.parent.element).left;\n        }\n        var pageLeft;\n        var currentTaskDifference;\n        if (this.parent.enableRtl) {\n            pageLeft = Math.abs(ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetWidth -\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft);\n            currentTaskDifference = Math.abs(this.clickedPosition - pageLeft);\n        }\n        else {\n            pageLeft = ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetLeft +\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft;\n            currentTaskDifference = this.clickedPosition - pageLeft;\n        }\n        var splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.perDayWidth);\n        var startDate = this.rowData.ganttProperties.startDate;\n        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n            splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.timelineSettings.timelineUnitSize);\n            splitTaskDuration -= 1;\n        }\n        var contextMenuClickDate = this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, splitTaskDuration > 1 ?\n            this.rowData.ganttProperties.durationUnit : (this.parent.timelineSettings.bottomTier.unit !== 'None') ?\n            this.parent.timelineSettings.bottomTier.unit.toLocaleLowerCase() :\n            this.parent.timelineSettings.topTier.unit.toLocaleLowerCase(), this.rowData, false);\n        return contextMenuClickDate;\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var _this = this;\n        var target = args.event ? args.event.target :\n            !this.parent.focusModule ? this.parent.focusModule.getActiveElement() :\n                this.parent.ganttChartModule.targetElement;\n        // Closed edited cell before opening context menu\n        if ((!isNullOrUndefined(this.parent.editModule) && this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit && target.parentElement.classList.contains('e-row')) || target.parentElement.classList.contains('e-treecolumn-container')) {\n            this.parent.treeGrid.closeEdit();\n        }\n        if (!isNullOrUndefined(args.element) && args.element.id === this.parent.element.id + '_contextmenu') {\n            this.clickedPosition = getValue('event', args).clientX;\n        }\n        var targetElement = closest(target, '.e-gantt-child-taskbar');\n        if (targetElement) {\n            this.targetElement = args.target = targetElement;\n        }\n        args.gridRow = closest(target, '.e-row');\n        args.chartRow = closest(target, '.e-chart-row');\n        var menuElement = closest(target, '.e-gantt');\n        var editForm = closest(target, cons.editForm);\n        if (!editForm && this.parent.editModule && this.parent.editModule.cellEditModule\n            && this.parent.editModule.cellEditModule.isCellEdit && this.parent.editModule.dialogModule.dialogObj\n            && !this.parent.editModule.dialogModule.dialogObj.open) {\n            this.parent.treeGrid.grid.saveCell();\n            this.parent.editModule.cellEditModule.isCellEdit = false;\n        }\n        if (this.parent.readOnly) {\n            this.contextMenu.enableItems(['Add', 'Save', 'Convert', 'Delete Dependency', 'Delete Task', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'], false);\n        }\n        if ((isNullOrUndefined(args.gridRow) && isNullOrUndefined(args.chartRow)) || this.contentMenuItems.length === 0) {\n            if (!isNullOrUndefined(args.parentItem) && !isNullOrUndefined(menuElement) || !isNullOrUndefined(closest(target, '.e-content'))) {\n                args.cancel = false;\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (!args.cancel) {\n            var rowIndex = -1;\n            if (args.gridRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.gridRow.getAttribute('data-rowindex'), 0);\n            }\n            else if (args.chartRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.chartRow.getAttribute('data-rowindex'), 0);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection && !args.parentItem && !isNullOrUndefined(args.chartRow)) {\n                this.parent.selectionModule.selectRow(rowIndex);\n            }\n            if (!args.parentItem) {\n                this.rowData = this.parent.updatedRecords[parseInt(rowIndex.toString(), 10)];\n            }\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                // let target: EventTarget = target;\n                if (!item.separator) {\n                    if ((target.classList.contains('e-gantt-unscheduled-taskbar')) && ((item.text === this.getLocale('splitTask')) || (item.text === this.getLocale('mergeTask')))) {\n                        this.hideItems.push(item.text);\n                    }\n                    else {\n                        this.updateItemStatus(item, target, rowIndex);\n                    }\n                }\n            }\n            args.rowData = this.rowData;\n            args.type = 'Content';\n            args.disableItems = this.disableItems;\n            args.hideItems = this.hideItems;\n            args.hideChildItems = [];\n            if (!isNullOrUndefined(args.rowData) && args.rowData.level === 0 && this.parent.viewType === 'ResourceView') {\n                args.cancel = true;\n                return;\n            }\n            var callBackPromise_1 = new Deferred();\n            this.parent.trigger('contextMenuOpen', args, function (arg) {\n                callBackPromise_1.resolve(arg);\n                _this.hideItems = arg.hideItems;\n                _this.disableItems = arg.disableItems;\n                if (!arg.parentItem && arg.hideItems.length === arg.items.length) {\n                    _this.revertItemStatus();\n                    arg.cancel = true;\n                }\n                if (_this.hideItems.length > 0) {\n                    _this.contextMenu.hideItems(_this.hideItems);\n                }\n                if (_this.disableItems.length > 0) {\n                    _this.contextMenu.enableItems(_this.disableItems, false);\n                }\n                if (args.hideChildItems.length > 0) {\n                    _this.contextMenu.hideItems(args.hideChildItems);\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    ContextMenu.prototype.updateItemStatus = function (item, target, rowIndex) {\n        var key = this.getKeyFromId(item.id);\n        var editForm = closest(target, cons.editForm);\n        var subMenu = [];\n        var taskbarElement = closest(target, '.e-gantt-child-taskbar') ||\n            closest(target, 'e-taskbar-right-resizer') || closest(target, 'e-taskbar-left-resizer');\n        if (editForm) {\n            if (!(key === 'Save' || key === 'Cancel')) {\n                this.hideItems.push(item.text);\n            }\n        }\n        else {\n            switch (key) {\n                case 'TaskInformation':\n                    if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'Add':\n                    if (!this.parent.editSettings.allowAdding || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    break;\n                case 'Save':\n                case 'Cancel':\n                    this.hideItems.push(item.text);\n                    break;\n                case 'Convert':\n                    if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords) {\n                        this.hideItems.push(item.text);\n                    }\n                    else if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.rowData) && !this.rowData.ganttProperties.isMilestone) {\n                            subMenu.push(this.createItemModel(cons.content, 'ToMilestone', this.getLocale('toMilestone')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'ToTask', this.getLocale('toTask')));\n                        }\n                        item.items = subMenu;\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'DeleteDependency':\n                    {\n                        var items = this.getPredecessorsItems();\n                        if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords && !this.parent.allowParentDependency) {\n                            this.hideItems.push(item.text);\n                        }\n                        else if (!this.parent.editSettings.allowDeleting || items.length === 0 || !this.parent.editModule) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        else if (items.length > 0) {\n                            item.items = items;\n                        }\n                        break;\n                    }\n                case 'DeleteTask':\n                    if (!this.parent.editSettings.allowDeleting || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'TaskMode':\n                    if (this.parent.taskMode !== 'Custom') {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (this.rowData.ganttProperties.isAutoSchedule) {\n                            subMenu.push(this.createItemModel(cons.content, 'Manual', this.getLocale('manual')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'Auto', this.getLocale('auto')));\n                        }\n                        item.items = subMenu;\n                    }\n                    break;\n                case 'Indent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var index = this.parent.selectedRowIndex;\n                            var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n                            if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n                                this.parent.viewType === 'ResourceView' ||\n                                this.parent.updatedRecords[parseInt(index.toString(), 10)].level - prevRecord.level === 1) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'Outdent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var ind = this.parent.selectionModule.getSelectedRowIndexes()[0];\n                            var isSelect = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            if (!this.parent.editSettings.allowEditing || ind === -1 || ind === 0 || !isSelect ||\n                                this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[parseInt(ind.toString(), 10)].level === 0) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'SplitTask':\n                    {\n                        var taskSettings = this.parent.taskFields;\n                        if (this.parent.readOnly || !taskbarElement || isNullOrUndefined(taskSettings.segments) ||\n                            this.parent.currentViewData[parseInt(rowIndex.toString(), 10)].hasChildRecords) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        break;\n                    }\n                case 'MergeTask':\n                    if (this.parent.readOnly || !taskbarElement) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        this.mergeItemVisiblity(target, item);\n                    }\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.mergeItemVisiblity = function (target, item) {\n        var subMenu = [];\n        var taskfields = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(target);\n        this.segmentIndex = this.parent.chartRowsModule.getSegmentIndex(currentClickedDate, this.rowData);\n        var segments = this.rowData.ganttProperties.segments;\n        if (!isNullOrUndefined(segments) && segments.length > 0) {\n            if (isNullOrUndefined(taskfields.segments) && this.segmentIndex === -1) {\n                this.updateItemVisibility(item.text);\n            }\n            else {\n                if (this.segmentIndex === 0) {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                }\n                else if (this.segmentIndex === segments.length - 1) {\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                else {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                item.items = subMenu;\n            }\n        }\n        else {\n            this.hideItems.push(item.text);\n        }\n    };\n    ContextMenu.prototype.updateItemVisibility = function (text) {\n        var isDefaultItem = !isNullOrUndefined(this.parent.contextMenuItems) ? false : true;\n        if (isDefaultItem) {\n            this.hideItems.push(text);\n        }\n        else {\n            this.disableItems.push(text);\n        }\n    };\n    ContextMenu.prototype.contextMenuOpen = function (args) {\n        this.isOpen = true;\n        var firstMenuItem = this.parent['args'] = args.element.querySelectorAll('li:not(.e-menu-hide):not(.e-disabled)')[0];\n        if (!isNullOrUndefined(firstMenuItem)) {\n            addClass([firstMenuItem], 'e-focused');\n        }\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = !isNullOrUndefined(this.parent.contextMenuItems) ?\n            this.parent.contextMenuItems : this.getDefaultItems();\n        for (var _i = 0, menuItems_1 = menuItems; _i < menuItems_1.length; _i++) {\n            var item = menuItems_1[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                this.buildDefaultItems(item);\n            }\n            else if (typeof item !== 'string') {\n                if (this.getDefaultItems().indexOf(item.text) !== -1) {\n                    this.buildDefaultItems(item.text, item.iconCss);\n                }\n                else if (item.target === cons.columnHeader) {\n                    this.headerMenuItems.push(item);\n                }\n                else {\n                    this.contentMenuItems.push(item);\n                }\n            }\n        }\n        return this.contentMenuItems;\n    };\n    ContextMenu.prototype.createItemModel = function (target, item, text, iconCss) {\n        var itemModel = {\n            text: text,\n            id: this.generateID(item),\n            target: target,\n            iconCss: iconCss ? 'e-icons ' + iconCss : null\n        };\n        return itemModel;\n    };\n    ContextMenu.prototype.getLocale = function (text) {\n        var localeText = this.parent.localeObj.getConstant(text);\n        return localeText;\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item, iconCSS) {\n        var contentMenuItem;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n            case 'SortAscending':\n            case 'SortDescending':\n                this.headerMenuItems.push(item);\n                break;\n            case 'TaskInformation':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('taskInformation'), this.getIconCSS(cons.editIcon, iconCSS));\n                break;\n            case 'Indent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('indent'), this.getIconCSS(cons.indentIcon, iconCSS));\n                break;\n            case 'Outdent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('outdent'), this.getIconCSS(cons.outdentIcon, iconCSS));\n                break;\n            case 'Save':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('save'), this.getIconCSS(cons.saveIcon, iconCSS));\n                break;\n            case 'Cancel':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('cancel'), this.getIconCSS(cons.cancelIcon, iconCSS));\n                break;\n            case 'Add':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('add'), this.getIconCSS(cons.addIcon, iconCSS));\n                //Sub item menu\n                contentMenuItem.items = [];\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Above', this.getLocale('above'), this.getIconCSS(cons.addAboveIcon, iconCSS)));\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Below', this.getLocale('below'), this.getIconCSS(cons.addBelowIcon, iconCSS)));\n                if (this.parent.viewType !== 'ResourceView') {\n                    contentMenuItem.items.push(this.createItemModel(cons.content, 'Child', this.getLocale('child')));\n                }\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Milestone', this.getLocale('milestone')));\n                break;\n            case 'DeleteTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteTask'), this.getIconCSS(cons.deleteIcon, iconCSS));\n                break;\n            case 'DeleteDependency':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteDependency'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'Convert':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('convert'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'TaskMode':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('changeScheduleMode'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'SplitTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('splitTask'));\n                break;\n            case 'MergeTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('mergeTask'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n        }\n        if (contentMenuItem) {\n            this.contentMenuItems.push(contentMenuItem);\n        }\n    };\n    ContextMenu.prototype.getIconCSS = function (menuClass, iconString) {\n        return isNullOrUndefined(iconString) ? menuClass : iconString;\n    };\n    ContextMenu.prototype.getPredecessorsItems = function () {\n        this.predecessors = this.parent.predecessorModule.getValidPredecessor(this.rowData);\n        var items = [];\n        var itemModel;\n        var increment = 0;\n        for (var _i = 0, _a = this.predecessors; _i < _a.length; _i++) {\n            var predecessor = _a[_i];\n            var ganttData = this.parent.getRecordByID(predecessor.from);\n            var ganttProp = ganttData.ganttProperties;\n            var text = ganttProp.rowUniqueID + ' - ' + ganttProp.taskName;\n            var id = 'Dependency' + increment++;\n            itemModel = this.createItemModel(cons.content, id, text);\n            items.push(itemModel);\n        }\n        return items;\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'TaskInformation', 'DeleteTask', 'Save', 'Cancel',\n            'SortAscending', 'SortDescending', 'Add',\n            'DeleteDependency', 'Convert', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'\n        ];\n    };\n    /**\n     * To get ContextMenu module name.\n     *\n     * @returns {string} .\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('initiate-contextMenu', this.render);\n        this.parent.off('reRender-contextMenu', this.reRenderContextMenu);\n        this.parent.off('contextMenuClick', this.contextMenuItemClick);\n        this.parent.off('contextMenuOpen', this.contextMenuOpen);\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][\"\" + parent] instanceof Menu) {\n            this.revertItemStatus();\n        }\n    };\n    ContextMenu.prototype.revertItemStatus = function () {\n        this.contextMenu.showItems(this.hideItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hideItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.resetItems = function () {\n        this.hideItems = [];\n        this.disableItems = [];\n        this.headerMenuItems = [];\n        this.contentMenuItems = [];\n        this.item = null;\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.ganttID + '_contextMenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        var idPrefix = this.ganttID + '_contextMenu_';\n        if (id.indexOf(idPrefix) > -1) {\n            return id.replace(idPrefix, '');\n        }\n        else {\n            return 'Custom';\n        }\n    };\n    /**\n     * To destroy the contextmenu module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ContextMenu.prototype.destroy = function () {\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.removeEventListener();\n        this.contextMenu = null;\n        this.element = null;\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n","import { TreeGrid, ExcelExport as TreeGridExcel } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Gantt Excel Export module\n *\n * @hidden\n */\nvar ExcelExport = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function ExcelExport(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridExcel);\n        this.parent.treeGrid.allowExcelExport = this.parent.allowExcelExport;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ExcelExport.prototype.getModuleName = function () {\n        return 'excelExport';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.beforeExcelExport = function (args) {\n            _this.parent.trigger('beforeExcelExport', args);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n        };\n        this.parent.treeGrid.excelQueryCellInfo = function (args) {\n            _this.parent.trigger('excelQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelHeaderQueryCellInfo = function (args) {\n            _this.parent.trigger('excelHeaderQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelExportComplete = function (args) {\n            _this.parent.trigger('excelExportComplete', args);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n        };\n    };\n    return ExcelExport;\n}());\nexport { ExcelExport };\n","import { TreeGrid, ColumnMenu as TreeGridColumnMenu } from '@syncfusion/ej2-treegrid';\n/**\n * Configures columnMenu collection in Gantt.\n *\n * @hidden\n */\nvar ColumnMenu = /** @class */ (function () {\n    function ColumnMenu(parent) {\n        TreeGrid.Inject(TreeGridColumnMenu);\n        this.parent = parent;\n    }\n    /**\n     * @returns {HTMLAllCollection} .\n     * To get column menu collection.\n     */\n    ColumnMenu.prototype.getColumnMenu = function () {\n        return this.parent.treeGrid.columnMenuModule.getColumnMenu();\n    };\n    ColumnMenu.prototype.destroy = function () {\n        // column menu destroy module\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ColumnMenu.prototype.getModuleName = function () {\n        return 'columnMenu';\n    };\n    return ColumnMenu;\n}());\nexport { ColumnMenu };\n","import { TreeGrid, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined, extend, classList, addClass, getValue, closest } from '@syncfusion/ej2-base';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { isCountRequired } from '../base/common';\n/**\n * Gantt Excel Export module\n */\nvar RowDD = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function RowDD(gantt) {\n        this.isTest = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.updateCollection = {};\n        /** @hidden */\n        this.isSharedTask = false;\n        /** @hidden */\n        this.canDrop = true;\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridRowDD);\n        this.parent.treeGrid.allowRowDragAndDrop = this.parent.allowRowDragAndDrop;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    RowDD.prototype.getModuleName = function () {\n        return 'rowDragAndDrop';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowDragStart = this.rowDragStart.bind(this);\n        this.parent.treeGrid.rowDragStartHelper = this.rowDragStartHelper.bind(this);\n        this.parent.treeGrid.rowDrag = this.rowDrag.bind(this);\n        this.parent.treeGrid.rowDrop = this.rowDrop.bind(this);\n    };\n    RowDD.prototype.rowDragStart = function (args) {\n        this.parent.trigger('rowDragStart', args);\n        this.parent.element.style.position = 'relative'; // for positioning the drag element properly\n    };\n    RowDD.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-ganttdrag')[0];\n        var errorelem = dragelem.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            var errorVal = dragelem.querySelector('.errorValue');\n            var content = dragelem.querySelector('.e-rowcell').innerHTML;\n            if (errorVal) {\n                content = errorVal.innerHTML;\n                errorVal.parentNode.removeChild(errorVal);\n            }\n            dragelem.querySelector('.e-rowcell').innerHTML = '';\n            var spanContent = document.createElement('span');\n            spanContent.className = 'errorValue';\n            spanContent.style.paddingLeft = '16px';\n            spanContent.innerHTML = content;\n            dragelem.querySelector('.e-rowcell').appendChild(ele);\n            dragelem.querySelector('.e-rowcell').appendChild(spanContent);\n        }\n    };\n    RowDD.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    RowDD.prototype.rowDrag = function (args) {\n        var cloneElement = this.parent.element.querySelector('.e-cloneproperties');\n        cloneElement.style.display = 'none';\n        var ganttDragElement = cloneElement.cloneNode(true);\n        ganttDragElement.classList.add('e-ganttdrag');\n        ganttDragElement.style.display = '';\n        if (this.parent.element.querySelectorAll('.e-cloneproperties').length <= 1) {\n            this.parent.element.appendChild(ganttDragElement);\n        }\n        else {\n            if (document.getElementsByClassName('e-cloneproperties')[0].querySelectorAll('.e-errorelem').length) {\n                this.addErrorElem();\n            }\n            else {\n                this.removeErrorElem();\n            }\n        }\n        if (this.parent.gridLines === 'Both') {\n            addClass(this.parent.element.querySelectorAll('.e-ganttdrag .e-rowcell'), ['e-bothganttlines']);\n        }\n        var dragElement = this.parent.element.querySelector('.e-ganttdrag');\n        var ganttTop = this.parent.element.getClientRects()[0].top;\n        var ganttLeft = this.parent.element.getClientRects()[0].left;\n        var left;\n        var top;\n        if (this.parent.isAdaptive) {\n            /* eslint-disable-next-line */\n            left = args.originalEvent.event.touches[0].clientX - ganttLeft;\n            /* eslint-disable-next-line */\n            top = args.originalEvent.event.touches[0].clientY - ganttTop;\n        }\n        else {\n            left = getValue('event', args.originalEvent).clientX - ganttLeft;\n            top = getValue('event', args.originalEvent).clientY - ganttTop;\n        }\n        dragElement.style.left = left + 20 + 'px';\n        dragElement.style.top = top + 20 + 'px';\n        this.parent.trigger('rowDrag', args);\n    };\n    RowDD.prototype.rowDragStartHelper = function (args) {\n        this.parent.trigger('rowDragStartHelper', args);\n        if (this.parent.readOnly) {\n            args.cancel = true;\n        }\n        if (this.parent.viewType === 'ResourceView' && getValue('level', args.data[0]) === 0) {\n            args.cancel = true;\n        }\n    };\n    RowDD.prototype.rowDrop = function (args) {\n        var ganttDragelem = document.querySelector('.e-ganttdrag');\n        if (ganttDragelem) {\n            ganttDragelem.remove();\n        }\n        var gridRow = closest(args.target, '.e-row');\n        var dropIndex = gridRow ? parseInt(gridRow.getAttribute('data-rowindex'), 10) : args.dropIndex;\n        args.dropIndex = dropIndex;\n        args.dropRecord = this.parent.updatedRecords[args.dropIndex];\n        this.parent.trigger('rowDrop', args);\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.dropPosition === 'middleSegment') {\n                if (args.dropRecord.level === 1 || args.dropRecord.uniqueID === getValue('parentItem', args.data[0]).uniqueID) {\n                    args.cancel = true; // preventing to drop the record as child to any child records\n                }\n            }\n            if (args.dropPosition !== 'middleSegment') {\n                if (args.dropRecord.level === 0 || getValue('parentItem', args.data[0]).uniqueID === args.dropRecord.parentItem.uniqueID) {\n                    args.cancel = true;\n                }\n            }\n        }\n        if (!args.cancel) {\n            args.requestType = 'beforeDrop';\n            this.parent.trigger('actionBegin', args);\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n            if (!args.cancel) {\n                this.dropRows(args, true); // method to update the data collections based on drop action\n                args.cancel = true;\n            }\n        }\n    };\n    RowDD.prototype.dropRows = function (args, isByMethod) {\n        if (!this.parent.readOnly) {\n            this.dropPosition = args.dropPosition;\n            if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n                var gObj = this.parent;\n                this.droppedRecord = gObj.updatedRecords[args.dropIndex];\n                if (this.parent.undoRedoModule && (this.parent['isUndoRedoItemPresent']('RowDragAndDrop'))) {\n                    if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        if (this.parent.undoRedoModule['redoEnabled']) {\n                            this.parent.undoRedoModule['disableRedo']();\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        if (!args.target && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n                            this.parent.editModule.taskbarEditModule.taskBarEditAction) {\n                            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = [];\n                        }\n                        else {\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        var datas = [];\n                        var _loop_1 = function (i) {\n                            datas.push(this_1.parent.flatData.filter(function (data) {\n                                return args.data[i]['ganttProperties'].taskId === data.ganttProperties.taskId;\n                            })[0]);\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < args.data.length; i++) {\n                            _loop_1(i);\n                        }\n                        var rowItems = extend([], [], datas, true);\n                        var records = {};\n                        if (args['name']) {\n                            records['action'] = 'RowDragAndDrop';\n                        }\n                        else {\n                            records['action'] = 'TaskbarDragAndDrop';\n                        }\n                        records['beforeDrop'] = [];\n                        var previousDetails = {};\n                        previousDetails['dropRecord'] = extend([], [], [args.dropRecord ? args.dropRecord : this.droppedRecord], true)[0];\n                        previousDetails['data'] = extend([], [], args.data, true);\n                        if (args.dropPosition === 'middleSegment') {\n                            previousDetails['dropPosition'] = 'child';\n                        }\n                        else if (args.dropPosition === 'topSegment') {\n                            previousDetails['dropPosition'] = 'above';\n                        }\n                        else if (args.dropPosition === 'bottomSegment') {\n                            previousDetails['dropPosition'] = 'below';\n                        }\n                        records['afterDrop'] = previousDetails;\n                        this.parent.undoRedoModule['findPosition'](rowItems, records, 'beforeDrop');\n                        this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n                    }\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                    }\n                }\n                var draggedRecord = void 0;\n                var dragRecords = [];\n                var droppedRecord = this.droppedRecord;\n                if (!args.data[0]) {\n                    dragRecords.push(args.data);\n                }\n                else {\n                    dragRecords = args.data;\n                }\n                var count = 0;\n                var dragLength = dragRecords.length;\n                var _loop_2 = function (i) {\n                    this_2.parent.isOnEdit = true;\n                    draggedRecord = dragRecords[i];\n                    this_2.draggedRecord = draggedRecord;\n                    if (this_2.dropPosition !== 'Invalid') {\n                        if (this_2.parent.viewType === 'ResourceView') {\n                            this_2.checkisSharedTask();\n                            this_2.previousParent = this_2.draggedRecord.parentItem.uniqueID;\n                        }\n                        if (this_2.isSharedTask) {\n                            return { value: void 0 };\n                        }\n                        if (isByMethod) {\n                            this_2.deleteDragRow();\n                        }\n                        var recordIndex1 = this_2.treeGridData.indexOf(droppedRecord);\n                        if (this_2.dropPosition === 'topSegment') {\n                            this_2.dropAtTop(recordIndex1);\n                        }\n                        if (this_2.dropPosition === 'bottomSegment') {\n                            if (!this_2.isSharedTask) {\n                                if (!droppedRecord.hasChildRecords) {\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + 1, 0, this_2.draggedRecord);\n                                    this_2.parent.ids.splice(recordIndex1 + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var taskId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n                                    }\n                                }\n                                else {\n                                    count = this_2.parent.editModule.getChildCount(droppedRecord, 0);\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord);\n                                    /* eslint-disable-next-line */\n                                    this_2.parent.ids.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var spliceId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + count + 1, 0, spliceId);\n                                    }\n                                }\n                                this_2.parent.setRecordValue('parentItem', this_2.treeGridData[recordIndex1].parentItem, draggedRecord);\n                                this_2.parent.setRecordValue('parentUniqueID', this_2.treeGridData[recordIndex1].parentUniqueID, draggedRecord);\n                                this_2.parent.setRecordValue('level', this_2.treeGridData[recordIndex1].level, draggedRecord);\n                                if (draggedRecord.hasChildRecords) {\n                                    var level = 1;\n                                    this_2.updateChildRecordLevel(draggedRecord, level);\n                                    this_2.updateChildRecord(draggedRecord, recordIndex1 + count + 1);\n                                }\n                                if (droppedRecord.parentItem) {\n                                    var rec = this_2.parent.getParentTask(droppedRecord.parentItem).childRecords;\n                                    var childRecords = rec;\n                                    var droppedRecordIndex = childRecords.indexOf(droppedRecord) + 1;\n                                    childRecords.splice(droppedRecordIndex, 0, draggedRecord);\n                                }\n                            }\n                        }\n                        if (this_2.dropPosition === 'middleSegment') {\n                            this_2.dropMiddle(recordIndex1);\n                            if (droppedRecord.childRecords.length > 0) {\n                                delete droppedRecord.ganttProperties.segments;\n                                delete droppedRecord.taskData[this_2.parent.taskFields.segments];\n                            }\n                        }\n                        if (this_2.treeGridData.length !== 0) {\n                            for (var i_1 = 0; i_1 < this_2.treeGridData.length; i_1++) {\n                                this_2.treeGridData[parseInt(i_1.toString(), 10)].index = i_1;\n                                if (!isNullOrUndefined(this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem)) {\n                                    var updatedParent = getValue('uniqueIDCollection.' + this_2.treeGridData[parseInt(i_1.toString(), 10)].parentUniqueID, this_2.parent.treeGrid);\n                                    this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        }\n                        // eslint-disable-next-line\n                        if (!isNullOrUndefined(draggedRecord.parentItem && this_2.updateParentRecords.indexOf(draggedRecord.parentItem) !== -1)) {\n                            this_2.updateParentRecords.push(draggedRecord.parentItem);\n                        }\n                    }\n                    if (!this_2.parent.enableVirtualization) {\n                        var data_1 = gObj.flatData;\n                        var startIndex = void 0;\n                        var endIndex = void 0;\n                        var ganttData_1 = this_2.parent.dataSource;\n                        var uniqueTaskID_1 = this_2.parent.taskFields.id;\n                        if (draggedRecord.index < droppedRecord.index) {\n                            startIndex = draggedRecord.index;\n                            var _loop_4 = function (i_2) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_2][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > droppedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_2 = 0; i_2 < ganttData_1.length; i_2++) {\n                                var state_2 = _loop_4(i_2);\n                                if (state_2 === \"break\")\n                                    break;\n                            }\n                        }\n                        else {\n                            startIndex = droppedRecord.index;\n                            var _loop_5 = function (i_3) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_3][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > draggedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_3 = 0; i_3 < ganttData_1.length; i_3++) {\n                                var state_3 = _loop_5(i_3);\n                                if (state_3 === \"break\")\n                                    break;\n                            }\n                        }\n                        var _loop_6 = function (i_4) {\n                            if (!isNullOrUndefined(data_1[i_4])) {\n                                data_1[i_4].index = i_4;\n                                if (!isNullOrUndefined(data_1[i_4].parentItem)) {\n                                    var updatedParent = data_1.filter(function (e) {\n                                        return e.uniqueID === data_1[i_4].parentUniqueID;\n                                    })[0];\n                                    data_1[i_4].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        };\n                        for (var i_4 = startIndex; i_4 <= endIndex; i_4++) {\n                            _loop_6(i_4);\n                        }\n                    }\n                    gObj.rowDragAndDropModule.refreshDataSource();\n                };\n                var this_2 = this;\n                for (var i = 0; i < dragLength; i++) {\n                    var state_1 = _loop_2(i);\n                    if (typeof state_1 === \"object\")\n                        return state_1.value;\n                }\n                if (this.dropPosition === 'middleSegment') {\n                    if (droppedRecord.ganttProperties.predecessor) {\n                        var len = droppedRecord.ganttProperties.predecessor.length;\n                        for (var count_1 = 0; count_1 < len; count_1++) {\n                            if (droppedRecord.ganttProperties.predecessor && droppedRecord.ganttProperties.predecessor[count_1]) {\n                                var fromRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].from);\n                                var toRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].to);\n                                var validPredecessor = this.parent.connectorLineEditModule.validateParentPredecessor(fromRecord, toRecord);\n                                if (droppedRecord.ganttProperties.predecessor && (!validPredecessor ||\n                                    !this.parent.allowParentDependency)) {\n                                    this.parent.editModule.removePredecessorOnDelete(droppedRecord);\n                                    droppedRecord.ganttProperties.predecessor.splice(0, 1);\n                                    if (droppedRecord.ganttProperties.predecessorsName) {\n                                        var splittedName = droppedRecord.ganttProperties.predecessorsName.split(',');\n                                        for (var i = 0; i < splittedName.length; i++) {\n                                            if (splittedName[i].indexOf(draggedRecord.ganttProperties.taskId + '') !== -1) {\n                                                splittedName.splice(i, 1);\n                                            }\n                                        }\n                                        var validatedPredecessorNames = splittedName.join();\n                                        droppedRecord.ganttProperties.predecessorsName = validatedPredecessorNames;\n                                        droppedRecord[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                        droppedRecord.taskData[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (droppedRecord.ganttProperties.isMilestone) {\n                        this.parent.setRecordValue('isMilestone', false, droppedRecord.ganttProperties, true);\n                        if (!isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.milestone])) {\n                            if (droppedRecord.taskData[this.parent.taskFields.milestone] === true) {\n                                droppedRecord.taskData[this.parent.taskFields.milestone] = false;\n                            }\n                        }\n                    }\n                }\n                if (this.parent.viewType === 'ResourceView' && !this.isSharedTask) {\n                    var parentUniqueID = void 0;\n                    if (this.dropPosition === 'middleSegment') {\n                        parentUniqueID = this.droppedRecord.uniqueID;\n                    }\n                    else {\n                        parentUniqueID = this.droppedRecord.parentItem ?\n                            this.droppedRecord.parentItem.uniqueID : this.droppedRecord.uniqueID;\n                    }\n                    var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n                    var editedObj = {};\n                    editedObj[this.parent.taskFields.resourceInfo] = [];\n                    editedObj[this.parent.taskFields.resourceInfo].push(droppedParentItem.ganttProperties.taskId);\n                    this.removeExistingResources();\n                    var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n                    var currentTask = this.draggedRecord;\n                    if (isNullOrUndefined(currentTask.ganttProperties.resourceInfo)) {\n                        currentTask.ganttProperties.resourceInfo = [];\n                    }\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        currentTask.ganttProperties.resourceInfo = [];\n                        currentTask.ganttProperties.sharedTaskUniqueIds = [currentTask.ganttProperties.rowUniqueID];\n                    }\n                    else {\n                        currentTask.ganttProperties.resourceInfo.push(tempResourceInfo[0]);\n                    }\n                    this.updateCurrentTask(currentTask);\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        this.deleteSharedResourceTask();\n                    }\n                    else {\n                        this.updateSharedResourceTask();\n                    }\n                }\n                if (this.parent.taskFields.dependency && this.parent.allowParentDependency) {\n                    var isValidPredecessor = true;\n                    var draggedParent = void 0;\n                    var toParent_1;\n                    if (draggedRecord.parentItem) {\n                        draggedParent = this.parent.flatData[this.parent.ids.indexOf(draggedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        draggedParent = draggedRecord;\n                    }\n                    if (droppedRecord.parentItem) {\n                        toParent_1 = this.parent.flatData[this.parent.ids.indexOf(droppedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        toParent_1 = droppedRecord;\n                    }\n                    var validateRecords = void 0;\n                    if (toParent_1.uniqueID === draggedParent.uniqueID || (draggedParent.parentItem &&\n                        toParent_1.uniqueID === this.parent.flatData[this.parent.ids.indexOf(draggedParent.parentItem.taskId)].uniqueID)) {\n                        validateRecords = this.parent.currentViewData.filter(function (data) {\n                            if ((data.ganttProperties.predecessor && data.ganttProperties.predecessor.length > 0)) {\n                                for (var i = 0; i < data.ganttProperties.predecessor.length; i++) {\n                                    return (parseInt(data.ganttProperties.predecessor[i].to, 10) ===\n                                        parseInt(toParent_1.ganttProperties.taskId, 10) ||\n                                        parseInt(data.ganttProperties.predecessor[i].from, 10) ===\n                                            parseInt(toParent_1.ganttProperties.taskId, 10));\n                                }\n                            }\n                            return null;\n                        });\n                        var predName = [];\n                        for (var i = 0; i < validateRecords.length; i++) {\n                            predName = [];\n                            if (validateRecords[i].ganttProperties.predecessor) {\n                                for (var k = 0; k < validateRecords[i].ganttProperties.predecessor.length; k++) {\n                                    if (parseInt(validateRecords[i].ganttProperties.taskId, 10) !==\n                                        parseInt(validateRecords[i].ganttProperties.predecessor[k].from, 10)) {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].from);\n                                    }\n                                    else {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].to);\n                                    }\n                                }\n                            }\n                            var _loop_3 = function (j) {\n                                var name_1 = predName[j].replace(/\\D/g, '');\n                                var toRec = this_3.parent.currentViewData.filter(function (data) {\n                                    return parseInt(data.ganttProperties.taskId, 10) === parseInt(name_1, 10);\n                                });\n                                isValidPredecessor = this_3.parent.connectorLineEditModule.validateParentPredecessor(validateRecords[i], toRec[0]);\n                                if (!isValidPredecessor) {\n                                    this_3.parent.dataOperation['resetDependency'](validateRecords[i]);\n                                    this_3.parent.dataOperation['resetDependency'](toRec[0]);\n                                }\n                            };\n                            var this_3 = this;\n                            for (var j = 0; j < predName.length; j++) {\n                                _loop_3(j);\n                            }\n                        }\n                    }\n                }\n                // method to update the edited parent records\n                for (var j = 0; j < this.updateParentRecords.length; j++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[j]);\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.editModule &&\n                    this.parent.editModule.taskbarEditModule && this.parent.undoRedoModule &&\n                    this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n                    this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop' &&\n                    this.parent.undoRedoModule['currentAction']['beforeDrop'][0].position !== 'child') {\n                    var dropRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].dropRecord.ganttProperties.taskId.toString())];\n                    this.parent.editModule.taskbarEditModule.taskBarEditRecord = dropRec;\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n                    this.parent.predecessorModule.validatePredecessor(dropRec, [], '');\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n                }\n                this.updateParentRecords = [];\n                this.parent.isOnEdit = false;\n            }\n            if (!isNullOrUndefined(this.parent.editModule)) {\n                this.parent.editModule.refreshRecord(args, true);\n            }\n            if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                this.parent.previousFlatData = extend([], [], this.parent.flatData, true);\n            }\n        }\n    };\n    RowDD.prototype.updateCurrentTask = function (currentTask) {\n        this.parent.dataOperation.updateMappingData(currentTask, 'resourceInfo');\n        this.parent.editModule.updateResourceRelatedFields(currentTask, 'resource');\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.parent.editModule.dialogModule.dialogEditValidationFlag = false;\n        this.parent.editModule.dialogModule.validateDuration(currentTask);\n        this.parent.dataOperation.updateWidthLeft(currentTask);\n        this.parent.dataOperation.updateTaskData(currentTask);\n    };\n    RowDD.prototype.deleteSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                if (this.parent.getTaskByUniqueID(this.parent.flatData[i].parentItem.uniqueID).ganttProperties.taskName !== 'Unassigned Task') {\n                    this.removeRecords(this.parent.flatData[i]);\n                }\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype.removeExistingResources = function () {\n        var preParentRecord = this.parent.getTaskByUniqueID(this.previousParent);\n        if (this.draggedRecord.ganttProperties.resourceInfo) {\n            for (var count = 0; count < this.draggedRecord.ganttProperties.resourceInfo.length; count++) {\n                if (this.draggedRecord.ganttProperties.resourceInfo[parseInt(count.toString(), 10)][this.parent.resourceFields.id] ===\n                    preParentRecord.ganttProperties.taskId) {\n                    this.draggedRecord.ganttProperties.resourceInfo.splice(count, 1);\n                    break;\n                }\n            }\n        }\n    };\n    /*update the record for the same task which are shared with other tasks*/\n    RowDD.prototype.updateSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                this.parent.editModule.updateGanttProperties(this.draggedRecord, this.parent.flatData[i]);\n                this.parent.dataOperation.updateTaskData(this.parent.flatData[i]);\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype._getExistingTaskWithID = function (record) {\n        var existingTasks = [];\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + record.ganttProperties.taskId) {\n                existingTasks.push(this.parent.flatData[i]);\n            }\n        }\n        return existingTasks;\n    };\n    /*Method to remove resource from resource Info collection and update reosurce related fields*/\n    RowDD.prototype.removeResourceInfo = function (record) {\n        var droppedParentItem = this.parent.getTaskByUniqueID(this.draggedRecord.parentItem.uniqueID);\n        if (record.ganttProperties.resourceInfo && record.ganttProperties.resourceInfo.length > 1) {\n            var sameIdTasks = this._getExistingTaskWithID(record);\n            var currentTask = void 0;\n            if (sameIdTasks === null) {\n                return;\n            }\n            for (var i = 0; i < sameIdTasks.length; i++) {\n                currentTask = sameIdTasks[i];\n                var resources = currentTask.ganttProperties.resourceInfo;\n                for (var count = 0; count < resources.length; count++) {\n                    if (resources[count][this.parent.resourceFields.id] === droppedParentItem.ganttProperties.taskId) {\n                        resources.splice(count, 1);\n                        this.parent.setRecordValue('resourceInfo', resources, currentTask.ganttProperties, true);\n                        this.updateCurrentTask(currentTask);\n                        if (!isNullOrUndefined(currentTask.parentItem && this.updateParentRecords.indexOf(currentTask.parentItem) !== -1)) {\n                            this.updateParentRecords.push(currentTask.parentItem);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    RowDD.prototype.refreshDataSource = function () {\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var proxy = this.parent;\n        var tempDataSource;\n        var idx;\n        var ganttFields = this.parent.taskFields;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempDataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempDataSource = proxy.dataSource;\n        }\n        if (tempDataSource.length > 0 && (!isNullOrUndefined(droppedRecord) && !droppedRecord.parentItem)) {\n            for (var i = 0; i < Object.keys(tempDataSource).length; i++) {\n                if (!isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    tempDataSource[i][ganttFields.child] === droppedRecord.taskData[ganttFields.child]) {\n                    idx = i;\n                }\n                else if (isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    droppedRecord.taskData[ganttFields.id] === tempDataSource[i][ganttFields.id]) {\n                    idx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx, 0, draggedRecord.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx + 1, 0, draggedRecord.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRecord) && droppedRecord.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPosition = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRecord;\n                this.parent.editModule.updateRealDataSource([draggedRecord], rowPosition);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRecord.parentItem) {\n                var droppedId = this.dropPosition === 'middleSegment' ? this.parent.taskFields.id :\n                    this.parent.taskFields.parentID;\n                draggedRecord[this.parent.taskFields.parentID] = droppedRecord[droppedId];\n                draggedRecord.ganttProperties.parentId = droppedRecord[droppedId];\n                if ((this.parent.viewType === 'ResourceView' && !(this.dropPosition === 'middleSegment')) ||\n                    this.parent.viewType === 'ProjectView') {\n                    draggedRecord.taskData[this.parent.taskFields.parentID] = droppedRecord.taskData[droppedId];\n                }\n            }\n            else {\n                draggedRecord[this.parent.taskFields.parentID] = null;\n                draggedRecord.taskData[this.parent.taskFields.parentID] = null;\n                draggedRecord.ganttProperties.parentId = null;\n            }\n        }\n        if (this.parent.viewType === 'ProjectView' && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n            this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n            this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop') {\n            var dragRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].data[0].ganttProperties.taskId.toString())];\n            this.parent.editModule.taskbarEditModule.taskBarEditRecord = dragRec;\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n            this.parent.predecessorModule.validatePredecessor(dragRec, [], '');\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n        }\n    };\n    RowDD.prototype.dropMiddle = function (recordIndex1) {\n        var gObj = this.parent;\n        var childRecords = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n        var childRecordsLength = (isNullOrUndefined(childRecords) ||\n            childRecords === 0) ? recordIndex1 + 1 :\n            childRecords + recordIndex1 + 1;\n        if (this.dropPosition === 'middleSegment' && !this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            if (this.parent.viewType === 'ResourceView') {\n                var recordId = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n            }\n            this.recordLevel();\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.recordLevel = function () {\n        var gObj = this.parent;\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var childItem = gObj.taskFields.child;\n        if (!droppedRecord.hasChildRecords) {\n            droppedRecord.hasChildRecords = true;\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                    droppedRecord.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRecord);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', droppedRecord.uniqueID, draggedRecord);\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n            if (!isNullOrUndefined(draggedRecord) && !gObj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                droppedRecord.taskData[gObj.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n            }\n            if (!draggedRecord.hasChildRecords) {\n                draggedRecord.level = droppedRecord.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRecord.level = droppedRecord.level + 1;\n                this.parent.setRecordValue('level', this.draggedRecord.level, this.draggedRecord);\n                this.updateChildRecordLevel(draggedRecord, level);\n            }\n            droppedRecord.expanded = true;\n        }\n    };\n    RowDD.prototype.deleteDragRow = function () {\n        this.treeGridData = isCountRequired(this.parent) ? getValue('result', this.parent.treeGrid.dataSource) :\n            this.parent.treeGrid.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        var deletedRow;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.viewType === 'ProjectView') {\n                deletedRow = this.parent.flatData[this.parent.ids.indexOf(this.draggedRecord.ganttProperties.taskId.toString())];\n            }\n            else {\n                if (this.draggedRecord.hasChildRecords) {\n                    deletedRow = this.parent.flatData['R' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n                else {\n                    deletedRow = this.parent.flatData['T' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n            }\n        }\n        else {\n            deletedRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        }\n        this.removeRecords(deletedRow);\n    };\n    //method to check the dropped record has already present in the child collection\n    RowDD.prototype.checkisSharedTask = function () {\n        this.isSharedTask = false;\n        var sharedTask = null;\n        // eslint-disable-next-line\n        var parentUniqueID = this.droppedRecord.level === 0 ? this.droppedRecord.uniqueID : this.droppedRecord.parentItem.uniqueID;\n        var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n        var childTasks = droppedParentItem.childRecords;\n        for (var i = 0; i < childTasks.length; i++) {\n            if ('T' + this.draggedRecord.ganttProperties.taskId === 'T' + childTasks[i].ganttProperties.taskId) {\n                this.isSharedTask = true;\n                sharedTask = childTasks[i];\n            }\n        }\n        if (this.isSharedTask) {\n            this.removeResourceInfo(sharedTask);\n        }\n    };\n    RowDD.prototype.dropAtTop = function (recordIndex1) {\n        var gObj = this.parent;\n        if (!this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(recordIndex1, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(recordIndex1, 0, this.draggedRecord);\n            this.parent.ids.splice(recordIndex1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            this.parent.setRecordValue('parentItem', this.droppedRecord.parentItem, this.draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', this.droppedRecord.parentUniqueID, this.draggedRecord);\n            this.parent.setRecordValue('level', this.droppedRecord.level, this.draggedRecord);\n            if (this.parent.viewType === 'ResourceView') {\n                var id = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(recordIndex1, 0, id);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                var level = 1;\n                this.updateChildRecord(this.draggedRecord, recordIndex1);\n                this.updateChildRecordLevel(this.draggedRecord, level);\n            }\n            if (this.droppedRecord.parentItem) {\n                var rec = this.parent.getParentTask(this.droppedRecord.parentItem).childRecords;\n                var childRecords = rec;\n                var droppedRecordIndex = childRecords.indexOf(this.droppedRecord);\n                childRecords.splice(droppedRecordIndex, 0, this.draggedRecord);\n            }\n            /* eslint-disable-next-line */\n            if (!isNullOrUndefined(this.draggedRecord.parentItem && this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.updateChildRecordLevel = function (record, level) {\n        var length = 0;\n        var currentRecord;\n        level++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRecord.level = record.parentItem ? parentData.level + level : record.level + 1;\n            this.parent.setRecordValue('level', currentRecord.level, currentRecord);\n            if (currentRecord.hasChildRecords) {\n                level--;\n                level = this.updateChildRecordLevel(currentRecord, level);\n            }\n        }\n        return level;\n    };\n    // eslint-disable-next-line\n    RowDD.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRecord;\n        var gObj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            gObj.flatData.splice(count, 0, currentRecord);\n            this.parent.ids.splice(count, 0, currentRecord.ganttProperties.rowUniqueID.toString());\n            if (gObj.taskFields.parentID && gObj.dataSource.length > 0) {\n                this.ganttData.splice(count, 0, currentRecord.taskData);\n            }\n            if (currentRecord.hasChildRecords) {\n                count = this.updateChildRecord(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    RowDD.prototype.removeRecords = function (record) {\n        var gObj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var deletedRow = record;\n        var flatParentData = deletedRow.parentItem ? this.parent.getParentTask(deletedRow.parentItem) : null;\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var childRecords = flatParentData ? flatParentData.childRecords : [];\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    if (this.parent.viewType === 'ResourceView' && childRecords.length === 1) {\n                        //For updating the parent record which has zero parent reords.\n                        this.parent.isOnDelete = true;\n                        childRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        childRecords[0].isDelete = false;\n                    }\n                    childIndex = childRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID && flatParentData.taskData[this.parent.taskFields.child]) {\n                        flatParentData.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.taskId.toString());\n                if (this.parent.viewType === 'ProjectView' || (this.parent.viewType === 'ResourceView' && this.dropPosition !== 'middleSegment')) {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            if (gObj.taskFields.parentID) {\n                if (deletedRow.hasChildRecords && deletedRow.childRecords.length > 0) {\n                    this.removeChildItem(deletedRow);\n                }\n                var idx = void 0;\n                var ganttData = dataSource.length > 0 && this.parent.viewType !== 'ResourceView' ?\n                    dataSource : this.parent.updatedRecords;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                            idx = i;\n                        }\n                    }\n                    else {\n                        if (ganttData[i][this.parent.taskFields.id] === deletedRow.taskData[this.parent.taskFields.id]) {\n                            idx = i;\n                        }\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    var tempIndex = this.treeGridData.indexOf(deletedRow);\n                    this.treeGridData.splice(tempIndex, 1);\n                    this.parent.ids.splice(tempIndex, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(deletedRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(deletedRow), 1);\n                    }\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(idx, 1);\n                    }\n                }\n            }\n            var recordIndex = this.treeGridData.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                this.treeGridData.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIndex, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(deletedRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(recordIndex, deletedRecordCount + 1);\n                }\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                flatParentData.expanded = false;\n                flatParentData.hasChildRecords = false;\n            }\n        }\n    };\n    RowDD.prototype.removeChildItem = function (record) {\n        var currentRecord;\n        var idx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            var ganttData = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                ganttData = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                ganttData = this.parent.dataSource;\n            }\n            for (var j = 0; j < ganttData.length; j++) {\n                if (ganttData[j][this.parent.taskFields.id] === currentRecord.taskData[this.parent.taskFields.id]) {\n                    idx = j;\n                }\n            }\n            if (idx !== -1) {\n                if (ganttData.length > 0) {\n                    ganttData.splice(idx, 1);\n                }\n                var tempIndex = this.treeGridData.indexOf(currentRecord);\n                this.treeGridData.splice(tempIndex, 1);\n                this.parent.ids.splice(tempIndex, 1);\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(idx, 1);\n                }\n            }\n            if (currentRecord.hasChildRecords) {\n                this.removeChildItem(currentRecord);\n            }\n        }\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     *\n     * @param {number[]} fromIndexes .\n     * @param {number} toIndex .\n     * @param {string} position .\n     * @returns {void} .\n     */\n    RowDD.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        if (!this.parent.readOnly) {\n            // eslint-disable-next-line\n            if (fromIndexes[0] !== toIndex && position === 'above' || 'below' || 'child') {\n                if (position === 'above') {\n                    this.dropPosition = 'topSegment';\n                }\n                if (position === 'below') {\n                    this.dropPosition = 'bottomSegment';\n                }\n                if (position === 'child') {\n                    this.dropPosition = 'middleSegment';\n                }\n                var prevData = void 0;\n                if (this.parent.undoRedoModule) {\n                    prevData = extend([], [], [this.parent.undoRedoModule['currentAction']], true)[0];\n                }\n                var data = [];\n                for (var i = 0; i < fromIndexes.length; i++) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && (prevData['action'] === 'RowDragAndDrop' || prevData['action'] === 'TaskbarDragAndDrop')) {\n                        data[i] = prevData['beforeDrop'][i].data;\n                    }\n                    else {\n                        data[i] = this.parent.flatData[fromIndexes[i]];\n                    }\n                }\n                var isByMethod = true;\n                var args = {\n                    data: data,\n                    dropIndex: toIndex,\n                    dropPosition: this.dropPosition\n                };\n                this.dropRows(args, isByMethod);\n            }\n            else {\n                return;\n            }\n        }\n    };\n    return RowDD;\n}());\nexport { RowDD };\n","import { PdfColor, PdfFontFamily, PdfStringFormat } from '@syncfusion/ej2-pdf-export';\n/**\n * @hidden\n */\nvar PdfGanttTheme = /** @class */ (function () {\n    function PdfGanttTheme(theme) {\n        this.theme = theme;\n        this.ganttStyle = {};\n        this.setTheme(this.ganttStyle, this.theme);\n    }\n    Object.defineProperty(PdfGanttTheme.prototype, \"style\", {\n        get: function () {\n            return this.ganttStyle;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGanttTheme.prototype.setTheme = function (ganttStyle, theme) {\n        this.initStyles(ganttStyle);\n        ganttStyle.columnHeader.fontSize = 9.5;\n        ganttStyle.columnHeader.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.columnHeader.fontColor.gray = 0.2;\n        ganttStyle.columnHeader.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.columnHeader.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.columnHeader.format.lineAlignment = 1; //Centre\n        ganttStyle.columnHeader.format.alignment = 0; //Left\n        ganttStyle.fontFamily = PdfFontFamily.Helvetica;\n        ganttStyle.cell.fontSize = 9.5;\n        ganttStyle.cell.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.cell.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.cell.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.cell.fontColor.gray = 0.2;\n        ganttStyle.cell.format.lineAlignment = 1; // Centre\n        ganttStyle.cell.format.alignment = 0; // Left\n        ganttStyle.footer.fontSize = 9.5;\n        ganttStyle.footer.fontStyle = 0;\n        ganttStyle.footer.format.alignment = 1; //Centre\n        ganttStyle.footer.format.lineAlignment = 1; // Middle\n        ganttStyle.timeline.fontSize = 9.5;\n        ganttStyle.timeline.fontStyle = 0;\n        ganttStyle.timeline.backgroundColor = new PdfColor(252, 252, 252);\n        ganttStyle.timeline.fontColor = new PdfColor(40, 40, 39);\n        ganttStyle.chartGridLineColor = new PdfColor(206, 206, 206);\n        ganttStyle.timeline.borderColor = new PdfColor(206, 206, 206);\n        switch (theme) {\n            case 'Bootstrap':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.progressColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(240, 173, 78);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(240, 173, 78);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(85, 85, 85);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(33, 82, 125);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(117, 56, 201);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(87, 42, 150);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(87, 42, 150);\n                break;\n            case 'Bootstrap 4':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(255, 193, 7);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(255, 193, 7);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(73, 80, 87);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 86, 179);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(33, 37, 41);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(133, 83, 241);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(102, 40, 238);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(102, 40, 238);\n                break;\n            case 'Fabric':\n                ganttStyle.columnHeader.fontColor = new PdfColor(102, 102, 102);\n                ganttStyle.cell.fontColor = new PdfColor(51, 51, 51);\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(216, 59, 1);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(216, 59, 1);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(80, 80, 80);\n                ganttStyle.footer.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 69, 122);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(154, 56, 186);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(109, 24, 136);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(109, 24, 136);\n                break;\n            default:\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(88, 105, 197);\n                ganttStyle.taskbar.progressColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(193, 87, 0);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(193, 87, 0);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(132, 132, 132);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(97, 97, 97);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(63, 81, 181);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(0, 135, 134);\n                break;\n        }\n    };\n    PdfGanttTheme.prototype.initStyles = function (ganttStyle) {\n        ganttStyle.columnHeader = {};\n        ganttStyle.columnHeader.format = new PdfStringFormat();\n        ganttStyle.cell = {};\n        ganttStyle.cell.format = new PdfStringFormat();\n        ganttStyle.timeline = {};\n        ganttStyle.footer = {};\n        ganttStyle.footer.format = new PdfStringFormat();\n        ganttStyle.label = {};\n        ganttStyle.taskbar = {};\n    };\n    return PdfGanttTheme;\n}());\nexport { PdfGanttTheme };\n","/**\n * Dictionary class\n *\n * @private\n * @hidden\n */\nvar TemporaryDictionary = /** @class */ (function () {\n    function TemporaryDictionary() {\n        /**\n         * @hidden\n         * @private\n         */\n        this.mKeys = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.mValues = [];\n    }\n    /**\n     * @returns {number} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.size = function () {\n        return this.mKeys.length;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.add = function (key, value) {\n        if (key === undefined || key === null || value === undefined || value === null) {\n            throw new ReferenceError('Provided key or value is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n            return 1;\n        }\n        else {\n            throw new RangeError('An item with the same key has already been added.');\n        }\n    };\n    /**\n     * @template K\n     * @returns {K[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.keys = function () {\n        return this.mKeys;\n    };\n    /**\n     * @template V\n     * @returns {V[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.values = function () {\n        return this.mValues;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @returns {V} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.getValue = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            return this.mValues[index];\n        }\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.setValue = function (key, value) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n        }\n        else {\n            this.mValues[index] = value;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.remove = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            this.mKeys.splice(index, 1);\n            this.mValues.splice(index, 1);\n            return true;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.containsKey = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.clear = function () {\n        this.mKeys = [];\n        this.mValues = [];\n    };\n    return TemporaryDictionary;\n}());\nexport { TemporaryDictionary };\n","/**\n * PdfBorders.ts class for EJ2-PDF\n */\nimport { PdfPen, PdfDashStyle, PdfColor } from '@syncfusion/ej2-pdf-export';\n/**\n * `PdfBorders` class used represents the cell border of the PDF grid.\n *\n * @hidden\n */\nvar PdfBorders = /** @class */ (function () {\n    // Constructor\n    /**\n     * Create a new instance for `PdfBorders` class.\n     *\n     * @private\n     */\n    function PdfBorders() {\n        var defaultBorderPenLeft = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenLeft.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenRight = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenRight.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenTop = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenTop.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenBottom = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenBottom.dashStyle = PdfDashStyle.Solid;\n        this.leftPen = defaultBorderPenLeft;\n        this.rightPen = defaultBorderPenRight;\n        this.topPen = defaultBorderPenTop;\n        this.bottomPen = defaultBorderPenBottom;\n    }\n    Object.defineProperty(PdfBorders.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `Left`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.leftPen;\n        },\n        set: function (value) {\n            this.leftPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"right\", {\n        /**\n         * Gets or sets the `Right`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.rightPen;\n        },\n        set: function (value) {\n            this.rightPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"top\", {\n        /**\n         * Gets or sets the `Top`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.topPen;\n        },\n        set: function (value) {\n            this.topPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `Bottom`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPen;\n        },\n        set: function (value) {\n            this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"all\", {\n        /**\n         * sets the `All`.\n         *\n         * @param {PdfPen} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPen = this.rightPen = this.topPen = this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"isAll\", {\n        /**\n         * Gets a value indicating whether this instance `is all`.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        get: function () {\n            return ((this.leftPen === this.rightPen) && (this.leftPen === this.topPen) && (this.leftPen === this.bottomPen));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders, \"default\", {\n        /**\n         * Gets the `default`.\n         *\n         * @returns {PdfBorders} .\n         * @private\n         */\n        get: function () {\n            return new PdfBorders();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfBorders;\n}());\nexport { PdfBorders };\n/** @hidden */\nvar PdfPaddings = /** @class */ (function () {\n    function PdfPaddings(left, right, top, bottom) {\n        /**\n         * The 'left' border padding set.\n         *\n         * @private\n         */\n        this.hasLeftPad = false;\n        /**\n         * The 'right' border padding set.\n         *\n         * @private\n         */\n        this.hasRightPad = false;\n        /**\n         * The 'top' border padding set.\n         *\n         * @private\n         */\n        this.hasTopPad = false;\n        /**\n         * The 'bottom' border padding set.\n         *\n         * @private\n         */\n        this.hasBottomPad = false;\n        if (typeof left === 'undefined') {\n            //5.76 and 0 are taken from ms-word default table margins.\n            this.leftPad = this.rightPad = 5.76;\n            //0.5 is set for top and bottom by default.\n            this.bottomPad = this.topPad = 0.5;\n        }\n        else {\n            this.leftPad = left;\n            this.rightPad = right;\n            this.topPad = top;\n            this.bottomPad = bottom;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        }\n    }\n    Object.defineProperty(PdfPaddings.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `left` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.leftPad;\n        },\n        set: function (value) {\n            this.leftPad = value;\n            this.hasLeftPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"right\", {\n        /**\n         * Gets or sets the `right` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rightPad;\n        },\n        set: function (value) {\n            this.rightPad = value;\n            this.hasRightPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"top\", {\n        /**\n         * Gets or sets the `top` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.topPad;\n        },\n        set: function (value) {\n            this.topPad = value;\n            this.hasTopPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `bottom` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPad;\n        },\n        set: function (value) {\n            this.bottomPad = value;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"all\", {\n        /**\n         * Sets value to all sides `left,right,top and bottom`.s\n         *\n         * @param {number} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPad = this.rightPad = this.topPad = this.bottomPad = value;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfPaddings;\n}());\nexport { PdfPaddings };\n","/**\n * PdfGridStyleBase.ts class for EJ2-PDF\n */\nimport { PdfBorderOverlapStyle } from '@syncfusion/ej2-pdf-export';\nimport { PdfPaddings } from '../index';\nimport { PdfHorizontalOverflowType } from '../../../base/interface';\n/**\n * Base class for the `treegrid style`,\n */\nvar PdfTreeGridStyleBase = /** @class */ (function () {\n    function PdfTreeGridStyleBase() {\n    }\n    return PdfTreeGridStyleBase;\n}());\nexport { PdfTreeGridStyleBase };\n/**\n * `PdfTreeGridStyle` class provides customization of the appearance for the 'PdfGrid'.\n *\n */\nvar PdfTreeGridStyle = /** @class */ (function () {\n    //constructor\n    /**\n     * Initialize a new instance for `PdfGridStyle` class.\n     *\n     * @private\n     */\n    function PdfTreeGridStyle() {\n        this.cellSpacing = 0;\n        this.borderOverlapStyle = PdfBorderOverlapStyle.Overlap;\n        this.allowHorizontalOverflow = false;\n        this.horizontalOverflowType = PdfHorizontalOverflowType.LastPage;\n        this.cellPadding = new PdfPaddings();\n    }\n    return PdfTreeGridStyle;\n}());\nexport { PdfTreeGridStyle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfBorders, TemporaryDictionary } from './index';\nimport { PdfHorizontalOverflowType } from '../../base/interface';\nimport { ElementLayouter, PdfLayoutResult, PdfLayoutFormat, SizeF, PointF, RectangleF, RowLayoutResult, PdfLayoutType, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat } from '@syncfusion/ej2-pdf-export';\nimport { pointToPixel } from '../../base/utils';\n/**\n *\n */\nvar PdfTreeGridLayouter = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayouter, _super);\n    function PdfTreeGridLayouter(baseFormat) {\n        var _this = _super.call(this, baseFormat) || this;\n        _this.columnRanges = [];\n        _this.repeatRowIndex = -1;\n        _this.currentBounds = new RectangleF(0, 0, 0, 0);\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGridLayouter.prototype, \"treegrid\", {\n        get: function () {\n            return this.elements;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridLayouter.prototype.layoutInternal = function (param) {\n        if (isNullOrUndefined(param)) {\n            throw Error('Argument Null Expection');\n        }\n        this.currentPage = param.page;\n        var format = param.format;\n        if (this.currentPage !== null) {\n            this.currentPageBounds = this.currentPage.getClientSize();\n        }\n        this.currentGraphics = this.currentPage.graphics;\n        if (format !== null && format.break === PdfLayoutBreakType.FitColumnsToPage) {\n            /* eslint-disable-next-line */\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), new SizeF(this.treegrid.columns.width, this.currentGraphics.clientSize.height));\n        }\n        else {\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), this.currentGraphics.clientSize);\n        }\n        if (this.treegrid.rows.count !== 0) {\n            this.currentBounds.width = (param.bounds.width > 0) ? param.bounds.width :\n                (this.currentBounds.width - this.treegrid.rows.getRow(0).cells.getCell(0).style.borders.left.width / 2);\n        }\n        else {\n            throw Error('Please add row or header into grid');\n        }\n        this.startLocation = new PointF(param.bounds.x, param.bounds.y);\n        if (param.bounds.height > 0) {\n            this.currentBounds.height = param.bounds.height;\n        }\n        if (!this.treegrid.style.allowHorizontalOverflow && !this.treegrid.isFitToWidth) {\n            this.treegrid.measureColumnsWidth();\n            this.determineColumnDrawRanges();\n        }\n        else {\n            this.treegrid.measureColumnsWidth(this.currentBounds);\n            this.columnRanges.push([0, this.treegrid.columns.count - 1]);\n        }\n        return this.layoutOnPage(param);\n    };\n    /**\n     * `Determines the column draw ranges`.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.determineColumnDrawRanges = function () {\n        var startColumn = 0;\n        var endColumn = 0;\n        var cellWidths = 0;\n        var availableWidth = (this.treegrid['taskbar'].isAutoFit()) ? pointToPixel(this.currentGraphics.clientSize.width) - this.currentBounds.x : this.currentGraphics.clientSize.width - this.currentBounds.x;\n        for (var i = 0; i < this.treegrid.columns.count; i++) {\n            cellWidths += this.treegrid.columns.getColumn(i).width;\n            if (cellWidths >= availableWidth) {\n                var subWidths = 0;\n                for (var j = startColumn; j <= i; j++) {\n                    subWidths += this.treegrid.columns.getColumn(j).width;\n                    if (subWidths > availableWidth) {\n                        break;\n                    }\n                    endColumn = j;\n                }\n                this.columnRanges.push([startColumn, endColumn]);\n                startColumn = endColumn + 1;\n                //endColumn = startColumn;\n                cellWidths = (endColumn <= i) ? this.treegrid.columns.getColumn(i).width : 0;\n            }\n        }\n        this.columnRanges.push([startColumn, this.treegrid.columns.count - 1]);\n    };\n    PdfTreeGridLayouter.prototype.getFormat = function (format) {\n        var f = format;\n        return f;\n    };\n    PdfTreeGridLayouter.prototype.layoutOnPage = function (param) {\n        var format = this.getFormat(param.format);\n        var result = null;\n        var layoutedPages = new TemporaryDictionary();\n        var startPage = param.page;\n        for (var index = 0; index < this.columnRanges.length; index++) {\n            var range = this.columnRanges[index];\n            this.cellStartIndex = range[0];\n            this.cellEndIndex = range[1];\n            var rowsCount = this.treegrid.rows.count;\n            var i = 0;\n            var repeatRow = false;\n            //Draw row by row with the specified cell range.\n            for (var j = 0; j < rowsCount; j++) {\n                var row = this.treegrid.rows.getRow(j);\n                i++;\n                var originalHeight = this.currentBounds.y;\n                if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                    layoutedPages.add(this.currentPage, range);\n                }\n                var rowResult = this.drawRow(row);\n                //if height remains same, it is understood that row is not draw in the page.\n                if (originalHeight === this.currentBounds.y) {\n                    repeatRow = true;\n                    this.repeatRowIndex = this.treegrid.rows.rowCollection.indexOf(row);\n                }\n                else {\n                    repeatRow = false;\n                    this.repeatRowIndex = -1;\n                }\n                while (!rowResult.isFinish && startPage !== null) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        //If there is no space in the current page, add new page and then draw the remaining row.\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        this.checkBounds(format);\n                        rowResult = this.drawRow(row);\n                    }\n                    else if (!this.treegrid.allowRowBreakAcrossPages && i < length) {\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        break;\n                    }\n                    else if (i >= length) {\n                        break;\n                    }\n                }\n                if (!rowResult.isFinish && startPage !== null && format.layout !== PdfLayoutType.OnePage && repeatRow) {\n                    this.startLocation.x = this.currentBounds.x;\n                    this.currentPage = this.getNextPageFormat(format);\n                    if (this.treegrid.enableHeader) {\n                        this.drawHeader();\n                    }\n                    this.startLocation.y = this.currentBounds.y;\n                    if (format.paginateBounds === new RectangleF(0, 0, 0, 0)) {\n                        this.currentBounds.x += this.startLocation.x;\n                    }\n                    if (this.currentBounds.x === PdfBorders.default.left.width / 2) {\n                        this.currentBounds.y += this.startLocation.x;\n                    }\n                    this.drawRow(row);\n                    if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                        layoutedPages.add(this.currentPage, range);\n                    }\n                }\n            }\n            if (this.columnRanges.indexOf(range) < this.columnRanges.length - 1 &&\n                startPage !== null && format.layout !== PdfLayoutType.OnePage) {\n                this.currentPage = this.getNextPageFormat(format);\n                this.checkBounds(format);\n            }\n        }\n        result = this.getLayoutResult();\n        if (this.treegrid.style.allowHorizontalOverflow\n            && this.treegrid.style.horizontalOverflowType === PdfHorizontalOverflowType.NextPage) {\n            this.reArrangePages(layoutedPages);\n        }\n        return result;\n    };\n    PdfTreeGridLayouter.prototype.checkBounds = function (format) {\n        var location = new PointF(PdfBorders.default.right.width / 2, PdfBorders.default.top.width / 2);\n        if (format.paginateBounds === new RectangleF(0, 0, 0, 0) && this.startLocation === location) {\n            this.currentBounds.x += this.startLocation.x;\n            this.currentBounds.y += this.startLocation.y;\n        }\n    };\n    PdfTreeGridLayouter.prototype.drawHeader = function () {\n        this.drawRow(this.treegrid.rows.getRow(0));\n    };\n    PdfTreeGridLayouter.prototype.reArrangePages = function (layoutPages) {\n        var document = this.currentPage.document;\n        var pages = [];\n        var keys = layoutPages.keys();\n        for (var i = 0; i < keys.length; i++) {\n            var page = keys[i];\n            page.section = null;\n            pages.push(page);\n            document.pages.remove(page);\n        }\n        for (var i = 0; i < layoutPages.size(); i++) {\n            var count = (layoutPages.size() / this.columnRanges.length);\n            for (var j = i; j < layoutPages.size(); j += count) {\n                var page = pages[j];\n                if (document.pages.indexOf(page) === -1) {\n                    document.pages.add(page);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfTreeGridLayouter.prototype.getNextPageFormat = function (format) {\n        var section = this.currentPage.section;\n        var nextPage = null;\n        var index = section.indexOf(this.currentPage);\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        this.currentGraphics = nextPage.graphics;\n        this.currentBounds = new RectangleF(new PointF(0, 0), nextPage.getClientSize());\n        return nextPage;\n    };\n    PdfTreeGridLayouter.prototype.getLayoutResult = function () {\n        var bounds = new RectangleF(this.startLocation, new SizeF(this.currentBounds.width, this.currentBounds.y -\n            this.startLocation.y));\n        return new PdfTreeGridLayoutResult(this.currentPage, bounds);\n    };\n    PdfTreeGridLayouter.prototype.checkIfDefaultFormat = function (format) {\n        var defaultFormat = new PdfStringFormat();\n        return (format.alignment === defaultFormat.alignment && format.characterSpacing === defaultFormat.characterSpacing &&\n            format.clipPath === defaultFormat.clipPath && format.firstLineIndent === defaultFormat.firstLineIndent &&\n            format.horizontalScalingFactor === defaultFormat.horizontalScalingFactor &&\n            format.lineAlignment === defaultFormat.lineAlignment\n            && format.lineLimit === defaultFormat.lineLimit && format.lineSpacing === defaultFormat.lineSpacing &&\n            format.measureTrailingSpaces === defaultFormat.measureTrailingSpaces && format.noClip === defaultFormat.noClip &&\n            format.paragraphIndent === defaultFormat.paragraphIndent && format.rightToLeft === defaultFormat.rightToLeft &&\n            format.subSuperScript === defaultFormat.subSuperScript && format.wordSpacing === defaultFormat.wordSpacing &&\n            format.wordWrap === defaultFormat.wordWrap);\n    };\n    PdfTreeGridLayouter.prototype.drawRow = function (row, layoutResult, height) {\n        //.. Check if required space available.\n        //.....If the row conains spans which  falls through more than one page, then draw the row to next page.\n        if (isNullOrUndefined(layoutResult)) {\n            var result = new RowLayoutResult();\n            height = row.rowBreakHeight > 0 ? row.rowBreakHeight : row.height;\n            if (height > this.currentPageBounds.height) {\n                if (this.treegrid.allowRowBreakAcrossPages) {\n                    result.isFinish = true;\n                    this.drawRowWithBreak(result, row, height);\n                }\n                else {\n                    // If AllowRowBreakAcrossPages is not true, draw the row till it fits the page.\n                    result.isFinish = false;\n                    this.drawRow(row, result, height);\n                }\n            }\n            else if (this.currentBounds.y + height > this.currentPageBounds.height ||\n                this.currentBounds.y + height > this.currentBounds.height) {\n                if (this.repeatRowIndex > -1 && this.repeatRowIndex === row.rowIndex) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        result.isFinish = true;\n                        this.drawRowWithBreak(result, row, height);\n                    }\n                    else {\n                        result.isFinish = false;\n                        this.drawRow(row, result, height);\n                    }\n                }\n                else {\n                    result.isFinish = false;\n                }\n            }\n            else {\n                result.isFinish = true;\n                this.drawRow(row, result, height);\n            }\n            return result;\n        }\n        else {\n            var location_1 = new PointF(this.currentBounds.x, this.currentBounds.y);\n            layoutResult.bounds = new RectangleF(location_1, new SizeF(0, 0));\n            var leftAdjustment = 0;\n            height = this.reCalculateHeight(row, height);\n            for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n                var cell = row.cells.getCell(i);\n                var column = this.treegrid.columns.getColumn(i);\n                if (column.isTreeColumn) {\n                    leftAdjustment = (row.level) * 10;\n                }\n                var cancelSpans = ((i > this.cellEndIndex + 1) && (cell.columnSpan > 1));\n                if (!cancelSpans) {\n                    for (var j = 1; j < cell.columnSpan; j++) {\n                        row.cells.getCell(i + j).isCellMergeContinue = true;\n                    }\n                }\n                var size = new SizeF(column.width, height);\n                if (cell.columnSpan > 1) {\n                    size = new SizeF(cell.width, height);\n                    i += cell.columnSpan;\n                }\n                if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                    cell.style.format = column.format;\n                }\n                cell.draw(this.currentGraphics, new RectangleF(location_1, size), cancelSpans, leftAdjustment);\n                /* eslint-disable-next-line */\n                if (row.treegrid.style.allowHorizontalOverflow && (cell.columnSpan > this.cellEndIndex || i + cell.columnSpan > this.cellEndIndex + 1) && this.cellEndIndex < row.cells.count - 1) {\n                    row.rowOverflowIndex = this.cellEndIndex;\n                }\n                location_1.x += column.width;\n                leftAdjustment = 0;\n            }\n            this.currentBounds.y += height;\n            /* eslint-disable-next-line */\n            layoutResult.bounds = new RectangleF(new PointF(layoutResult.bounds.x, layoutResult.bounds.y), new SizeF(location_1.x, location_1.y));\n            return null;\n        }\n    };\n    /**\n     * @param {RowLayoutResult} result .\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     */\n    PdfTreeGridLayouter.prototype.drawRowWithBreak = function (result, row, height) {\n        var location = new PointF(this.currentBounds.x, this.currentBounds.y);\n        result.bounds = new RectangleF(location, new SizeF(0, 0));\n        var leftAdjustment = 0;\n        this.treegridHeight = this.currentBounds.height;\n        // Calculate the remaining height.\n        row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n        // No need to explicit break if the row height is equal to treegrid height.\n        for (var c = 0; c < row.cells.count; c++) {\n            var cell = row.cells.getCell(c);\n            var cellHeight = cell.measureHeight();\n            if (cellHeight === height && cell.value === null) {\n                row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n            }\n        }\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            var column = this.treegrid.columns.getColumn(i);\n            if (column.isTreeColumn) {\n                leftAdjustment = row.level * 10;\n            }\n            var cell = row.cells.getCell(i);\n            var cancelSpans = ((cell.columnSpan + i > this.cellEndIndex + 1) && (cell.columnSpan > 1));\n            if (!cancelSpans) {\n                for (var j = 1; j < cell.columnSpan; j++) {\n                    row.cells.getCell(i + j).isCellMergeContinue = true;\n                }\n            }\n            var tHeight = this.treegridHeight > 0 ? this.treegridHeight : this.currentBounds.height;\n            var size = new SizeF(column.width, tHeight);\n            if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                cell.style.format = column.format;\n            }\n            cell.draw(this.currentGraphics, new RectangleF(location, size), cancelSpans, leftAdjustment);\n            result.isFinish = (!result.isFinish) ? result.isFinish : cell.finishedDrawingCell;\n            location.x += column.width;\n            leftAdjustment = 0;\n            this.currentBounds.y += this.treegridHeight > 0 ? this.treegridHeight : height;\n            result.bounds = new RectangleF(new PointF(result.bounds.x, result.bounds.y), new SizeF(location.x, location.y));\n        }\n    };\n    /**\n     * `Recalculate row height` for the split cell to be drawn.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.reCalculateHeight = function (row, height) {\n        var newHeight = 0;\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            if (!isNullOrUndefined(row.cells.getCell(i).remainingString) ||\n                row.cells.getCell(i).remainingString === '') {\n                newHeight = Math.max(newHeight, row.cells.getCell(i).measureHeight());\n            }\n        }\n        return Math.max(height, newHeight);\n    };\n    return PdfTreeGridLayouter;\n}(ElementLayouter));\nexport { PdfTreeGridLayouter };\nvar PdfTreeGridLayoutResult = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutResult, _super);\n    /**\n     * Constructor\n     *\n     * @param {PdfPage} page .\n     * @param {RectangleF} bounds .\n     * @private\n     */\n    function PdfTreeGridLayoutResult(page, bounds) {\n        return _super.call(this, page, bounds) || this;\n    }\n    return PdfTreeGridLayoutResult;\n}(PdfLayoutResult));\nexport { PdfTreeGridLayoutResult };\n/**\n * `PdfGridLayoutFormat` class represents a flexible grid that consists of columns and rows.\n */\nvar PdfTreeGridLayoutFormat = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutFormat, _super);\n    /**\n     * Initializes a new instance of the `PdfGridLayoutFormat` class.\n     *\n     * @param {PdfLayoutFormat} baseFormat .\n     * @private\n     */\n    function PdfTreeGridLayoutFormat(baseFormat) {\n        var _this = this;\n        if (typeof baseFormat === 'undefined') {\n            _this = _super.call(this) || this;\n        }\n        else {\n            _this = _super.call(this, baseFormat) || this;\n        }\n        return _this;\n    }\n    return PdfTreeGridLayoutFormat;\n}(PdfLayoutFormat));\nexport { PdfTreeGridLayoutFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfTreeGridColumnCollection, PdfTreeGridHeaderCollection, PdfTreeGridRowCollection } from './pdf-base/index';\nimport { PdfTreeGridStyle, PdfBorders, PdfTreeGridLayouter } from './pdf-base/index';\nimport { PdfLayoutElement, RectangleF, PdfLayoutFormat, PointF, SizeF } from '@syncfusion/ej2-pdf-export';\n/**\n * PdfTreeGrid Class for EJ2-PDF\n */\nvar PdfTreeGrid = /** @class */ (function (_super) {\n    __extends(PdfTreeGrid, _super);\n    function PdfTreeGrid() {\n        var _this = _super.call(this) || this;\n        _this.treeGridSize = new SizeF(0, 0);\n        _this.treeColumnIndex = 0;\n        _this.allowRowBreakAcrossPages = true;\n        _this.enableHeader = true;\n        _this.isFitToWidth = false;\n        _this.columns = new PdfTreeGridColumnCollection(_this);\n        _this.rows = new PdfTreeGridRowCollection(_this);\n        _this.headers = new PdfTreeGridHeaderCollection(_this);\n        _this.style = new PdfTreeGridStyle();\n        _this.rowHeight = 0;\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGrid.prototype, \"raiseBeginCellDraw\", {\n        //Properties\n        /**\n         * Gets a value indicating whether the `start cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        get: function () {\n            // eslint-disable-next-line\n            return (typeof this.beginCellDraw !== 'undefined' && typeof this.beginCellDraw !== null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGrid.prototype, \"raiseEndCellDraw\", {\n        /**\n         * Gets a value indicating whether the `end cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        get: function () {\n            // eslint-disable-next-line\n            return (typeof this.endCellDraw !== 'undefined' && typeof this.endCellDraw !== null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGrid.prototype, \"size\", {\n        get: function () {\n            if ((this.treeGridSize.width === 0 && this.treeGridSize.height === 0)) {\n                this.treeGridSize = this.calculateTreeGridSize();\n            }\n            return this.treeGridSize;\n        },\n        set: function (value) {\n            this.treeGridSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Draws` the element on the page with the specified page, 'RectangleF' class and layout format\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTreeGrid.prototype.draw = function (arg1, arg2, arg3, arg4) {\n        if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2.x, arg2.y);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && typeof arg4 === 'undefined') {\n            return this.drawHelper(arg1, arg2, arg3, null);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && arg3 instanceof PdfLayoutFormat) {\n            return this.drawHelper(arg1, arg2.x, arg2.y, arg3);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && (arg4 instanceof PdfLayoutFormat || arg4 === null)) {\n            var width = (arg1.graphics.clientSize.width - arg2);\n            var layoutRectangle = new RectangleF(arg2, arg3, width, 0);\n            return this.drawHelper(arg1, layoutRectangle, arg4);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'boolean') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else {\n            return this.drawHelper(arg1, arg2, arg3);\n        }\n    };\n    PdfTreeGrid.prototype.measureColumnsWidth = function (bounds) {\n        if (typeof bounds !== 'undefined') {\n            var widths = this.columns.getDefaultWidths(bounds.width - bounds.x);\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n        else {\n            var widths = [];\n            var cellWidth = 0;\n            var totalWidth = 0;\n            var rowLevel = 0;\n            // if(this.headers.count > 0){\n            //     let colCount: number = this.headers.getHeader(0).cells.count;\n            //     for(let i: number = 0; i < colCount; i++){\n            //         let rowCount: number = this.headers.count;\n            //         for(let j: number = 0; j < rowCount; j++){\n            //             let tempWidth: number = this.headers.getHeader(j).cells.getCell(i).width;\n            //             let rowWidth: number = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) :\n            //                 tempWidth;\n            //             cellWidth = Math.max(cellWidth, rowWidth);\n            //         }\n            //         widths.push(cellWidth);\n            //     }\n            // }\n            var colCount = this.columns.count;\n            for (var i = 0; i < colCount; i++) {\n                var rowCount = this.rows.count;\n                for (var j = 0; j < rowCount; j++) {\n                    var tempWidth = this.rows.getRow(j).cells.getCell(i).width;\n                    var rowWidth = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) : tempWidth;\n                    cellWidth = Math.max(cellWidth, rowWidth);\n                    cellWidth = Math.max(this.columns.getColumn(i).width, cellWidth);\n                    if (this.columns.getColumn(i).isTreeColumn) {\n                        rowLevel = Math.max(rowLevel, this.rows.getRow(j).level);\n                    }\n                }\n                if (this.columns.getColumn(i).isTreeColumn) {\n                    widths.push(cellWidth + (rowLevel * 10));\n                }\n                else {\n                    widths.push(cellWidth);\n                }\n                // eslint-disable-next-line\n                totalWidth += cellWidth;\n                cellWidth = 0;\n            }\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n    };\n    PdfTreeGrid.prototype.calculateTreeGridSize = function () {\n        var height = 0;\n        var width = this.columns.width;\n        for (var i = 0; i < this.headers.count; i++) {\n            var row = this.headers.getHeader(i);\n            height += row.height;\n        }\n        for (var i = 0; i < this.rows.count; i++) {\n            var row = this.rows.getRow(i);\n            height += row.height;\n        }\n        return new SizeF(width, height);\n    };\n    PdfTreeGrid.prototype.drawGrid = function (page, x, y, format) {\n        this.initialWidth = page.graphics.clientSize.width;\n        var layout = new RectangleF(0, 0, page.getClientSize().height, 0);\n        return this.draw(page, layout, format);\n    };\n    PdfTreeGrid.prototype.layout = function (param) {\n        if (this.rows.count !== 0) {\n            var style = this.rows.getRow(0).cells.getCell(0).style;\n            if (style.borders.left.width !== 1) {\n                var x = style.borders.left.width / 2;\n                var y = style.borders.top.width / 2;\n                if (param.bounds.x === PdfBorders.default.right.width / 2 &&\n                    param.bounds.y === PdfBorders.default.right.width / 2) {\n                    var newBound = new RectangleF(new PointF(x, y), new SizeF(this.size.width, this.size.height));\n                    param.bounds = newBound;\n                }\n            }\n        }\n        this.setSpan();\n        this.layouter = new PdfTreeGridLayouter(this);\n        var result = this.layouter.layoutInternal(param);\n        return result;\n    };\n    PdfTreeGrid.prototype.onBeginCellDraw = function (args) {\n        if (this.raiseBeginCellDraw) {\n            this.beginCellDraw(this, args);\n        }\n    };\n    PdfTreeGrid.prototype.onEndCellDraw = function (args) {\n        if (this.raiseEndCellDraw) {\n            this.endCellDraw(this, args);\n        }\n    };\n    PdfTreeGrid.prototype.setSpan = function () {\n        var colSpan = 1;\n        var rowSpan = 1;\n        var currentCellIndex = 0;\n        var currentRowIndex = 0;\n        var maxSpan = 0;\n        var rowCount = this.headers.count;\n        for (var i = 0; i < rowCount; i++) {\n            var row = this.headers.getHeader(i);\n            maxSpan = 0;\n            var colCount = row.cells.count;\n            for (var j = 0; j < colCount; j++) {\n                var cell = row.cells.getCell(j);\n                maxSpan = Math.max(maxSpan, cell.rowSpan);\n                //Skip setting span map for already coverted rows/columns.\n                if (!cell.isCellMergeContinue && !cell.isRowMergeContinue && (cell.columnSpan > 1 || cell.rowSpan > 1)) {\n                    if (cell.columnSpan + j > row.cells.count) {\n                        throw new Error('Invalid span specified at row ' + j.toString() + ' column ' + i.toString());\n                    }\n                    if (cell.rowSpan + i > this.headers.count) {\n                        throw new Error('Invalid span specified at Header ' + j.toString() + ' column ' + i.toString());\n                    }\n                    if (cell.columnSpan > 1 && cell.rowSpan > 1) {\n                        colSpan = cell.columnSpan;\n                        rowSpan = cell.rowSpan;\n                        currentCellIndex = j;\n                        currentRowIndex = i;\n                        cell.isCellMergeStart = true;\n                        cell.isRowMergeStart = true;\n                        //Set Column merges for first row\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            row.cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                            row.cells.getCell(currentCellIndex).rowSpan = rowSpan;\n                            colSpan--;\n                        }\n                        currentCellIndex = j;\n                        colSpan = cell.columnSpan;\n                        //Set Row Merges and column merges foreach subsequent rows.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                            rowSpan--;\n                            while (colSpan > 1) {\n                                currentCellIndex++;\n                                this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                                this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                                colSpan--;\n                            }\n                            colSpan = cell.columnSpan;\n                            currentCellIndex = j;\n                        }\n                    }\n                    else if (cell.columnSpan > 1 && cell.rowSpan === 1) {\n                        colSpan = cell.columnSpan;\n                        currentCellIndex = j;\n                        cell.isCellMergeStart = true;\n                        var totalColumnWidth = this.columns.columns[currentCellIndex].width;\n                        //Set Column merges.\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            colSpan--;\n                            totalColumnWidth += this.columns.columns[currentCellIndex].width;\n                        }\n                        cell.width = totalColumnWidth;\n                    }\n                    else if (cell.columnSpan === 1 && cell.rowSpan > 1) {\n                        rowSpan = cell.rowSpan;\n                        currentRowIndex = i;\n                        //Set row Merges.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            rowSpan--;\n                        }\n                    }\n                }\n            }\n            row.maximumRowSpan = maxSpan;\n        }\n        colSpan = rowSpan = 1;\n        currentCellIndex = currentRowIndex = 0;\n        rowCount = this.rows.count;\n        for (var i = 0; i < rowCount; i++) {\n            var row = this.rows.getRow(i);\n            var colcount = row.cells.count;\n            for (var j = 0; j < colcount; j++) {\n                var cell = row.cells.getCell(j);\n                //Skip setting span map for already coverted rows/columns.\n                if (!cell.isCellMergeContinue && !cell.isRowMergeContinue && (cell.columnSpan > 1 || cell.rowSpan > 1)) {\n                    if (cell.columnSpan + j > row.cells.count) {\n                        throw new Error('Invalid span specified at row {0} column {1} ' + j.toString());\n                    }\n                    if (cell.rowSpan + i > this.rows.count) {\n                        throw new Error('Invalid span specified at row {0} column {1} ' + j.toString());\n                    }\n                    if (cell.columnSpan > 1 && cell.rowSpan > 1) {\n                        colSpan = cell.columnSpan;\n                        rowSpan = cell.rowSpan;\n                        currentCellIndex = j;\n                        currentRowIndex = i;\n                        cell.isCellMergeStart = true;\n                        cell.isRowMergeStart = true;\n                        //set Column merges for first row.\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            colSpan--;\n                        }\n                        currentCellIndex = j;\n                        colSpan = cell.columnSpan;\n                        // Set row merges and column merges for each subsequentt rows.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.rows.getRow(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            rowSpan--;\n                            while (colSpan > 1) {\n                                currentCellIndex++;\n                                this.rows.getRow(currentRowIndex).cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                                colSpan--;\n                            }\n                            colSpan = cell.columnSpan;\n                            currentCellIndex = j;\n                        }\n                    }\n                    else if (cell.columnSpan > 1 && cell.rowSpan === 1) {\n                        colSpan = cell.columnSpan;\n                        currentCellIndex = j;\n                        cell.isCellMergeStart = true;\n                        //set Column merges.\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            colSpan--;\n                        }\n                    }\n                    else if (cell.columnSpan === 1 && cell.rowSpan > 1) {\n                        rowSpan = cell.rowSpan;\n                        currentRowIndex = i;\n                        //set row merges.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.rows.getRow(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            rowSpan--;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    return PdfTreeGrid;\n}(PdfLayoutElement));\nexport { PdfTreeGrid };\n","import { PdfTreeGrid } from '../pdf-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RectangleF, PdfTextAlignment, PdfBorderOverlapStyle, PointF, PdfDashStyle, PdfLineCap, PdfSolidBrush, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { SizeF, PdfFontStyle, PdfBitmap, PdfImage, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfStringLayouter } from '@syncfusion/ej2-pdf-export';\n/**@hidden*/\nvar PdfTreeGridCell = /** @class */ (function () {\n    function PdfTreeGridCell(row) {\n        this.cellWidth = 0;\n        this.cellHeight = 0;\n        /** @private */\n        this.finishedDrawingCell = true;\n        if (isNullOrUndefined(row)) {\n            this.rowSpan = 1;\n            this.columnSpan = 1;\n        }\n        else {\n            this.row = row;\n        }\n        this.style = {};\n    }\n    Object.defineProperty(PdfTreeGridCell.prototype, \"height\", {\n        /**\n         * Gets the `height` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellHeight === 0) {\n                this.cellHeight = this.measureHeight();\n            }\n            return this.cellHeight;\n        },\n        set: function (value) {\n            this.cellHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridCell.prototype, \"width\", {\n        /**\n         * Gets the `width` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellWidth === 0) {\n                this.cellWidth = this.measureWidth();\n            }\n            return Math.round(this.cellWidth);\n        },\n        set: function (value) {\n            this.cellWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridCell.prototype.measureWidth = function () {\n        var width = 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string') {\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable-next-line */\n            var slr = layouter.layout(this.value, font, this.style.format, new SizeF(Number.MAX_VALUE, Number.MAX_VALUE), false, new SizeF(0, 0));\n            width += slr.actualSize.width;\n            width += (this.style.borders.left.width + this.style.borders.right.width) * 2;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.left !== 'undefined' && this.row.treegrid.style.cellPadding.hasLeftPad) {\n            width += this.row.treegrid.style.cellPadding.left;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.right !== 'undefined' && this.row.treegrid.style.cellPadding.hasRightPad) {\n            width += this.row.treegrid.style.cellPadding.right;\n        }\n        width += this.row.treegrid.style.cellSpacing;\n        return width;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    /* eslint-disable */\n    PdfTreeGridCell.prototype.measureHeight = function () {\n        var rowHeight = this.row.treegrid.rowHeight;\n        var height = 0;\n        var width = this.calculateWidth();\n        width -= this.row.treegrid.style.cellPadding.right + this.row.treegrid.style.cellPadding.left;\n        width -= this.style.borders.left.width + this.style.borders.right.width;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var currentValue = this.value;\n            if (!this.finishedDrawingCell) {\n                currentValue = !(isNullOrUndefined(this.remainingString) || this.remainingString === '') ? this.remainingString : this.value;\n            }\n            var font = null;\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable */\n            var slr = layouter.layout(currentValue, font, this.style.format, new SizeF(width - 10, 0), false, new SizeF(0, 0));\n            var value = Math.max(slr.lineHeight, slr.actualSize.height);\n            if (currentValue.length > 80) {\n                height += value + 20;\n            }\n            else {\n                height += value + (slr.size.height / 2);\n            }\n            height += (this.style.borders.top.width + this.style.borders.bottom.width) * 2;\n        }\n        height += this.row.treegrid.style.cellPadding.top + this.row.treegrid.style.cellPadding.bottom;\n        height += this.row.treegrid.style.cellSpacing;\n        return height > rowHeight ? height : rowHeight;\n    };\n    /* eslint-enable */\n    PdfTreeGridCell.prototype.calculateWidth = function () {\n        var cellIndex = this.row.cells.indexOf(this);\n        var columnSpan = this.columnSpan;\n        var width = 0;\n        for (var i = 0; i < columnSpan; i++) {\n            width += this.row.treegrid.columns.getColumn(cellIndex + i).width;\n        }\n        if (this.row.treegrid.columns.getColumn(cellIndex).isTreeColumn) {\n            width -= (this.row.level * 10);\n        }\n        return width;\n    };\n    /**\n     * `Draws` the specified graphics.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @param {boolean} cancelSubsequentSpans .\n     * @param {number} leftAdjustment .\n     * @returns {PdfStringLayoutResult} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.draw = function (graphics, bounds, cancelSubsequentSpans, leftAdjustment) {\n        var result = null;\n        var padding = 10;\n        if (cancelSubsequentSpans) {\n            // Cancel all subsequent cell spans, if no space exists.\n            var currentCellIndex = this.row.cells.indexOf(this);\n            for (var i = currentCellIndex + 1; i <= currentCellIndex + this.columnSpan; i++) {\n                this.row.cells.getCell(i).isCellMergeContinue = false;\n                this.row.cells.getCell(i).isRowMergeContinue = false;\n            }\n            this.columnSpan = 1;\n        }\n        // Skip cells which were already covered by span map.\n        if (this.isCellMergeContinue || this.isRowMergeContinue) {\n            if (this.isCellMergeContinue && this.row.treegrid.style.allowHorizontalOverflow) {\n                if ((this.row.rowOverflowIndex > 0 && (this.row.cells.indexOf(this) !== this.row.rowOverflowIndex + 1)) ||\n                    (this.row.rowOverflowIndex === 0 && this.isCellMergeContinue)) {\n                    return result;\n                }\n                else {\n                    return result;\n                }\n            }\n        }\n        //bounds = this.adjustContentLayoutArea(bounds);\n        this.drawCellBackground(graphics, bounds);\n        var textPen = null;\n        var textBrush = new PdfSolidBrush(this.style.fontColor);\n        var font = null;\n        if (this.row.isParentRow) {\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n        }\n        else {\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n        }\n        if (this.row.treegrid.ganttStyle.font) {\n            font = this.row.treegrid.ganttStyle.font;\n        }\n        var innerLayoutArea = bounds;\n        if (!this.isHeaderCell) {\n            /* eslint-disable-next-line */\n            innerLayoutArea.x = innerLayoutArea.x;\n            /* eslint-disable-next-line */\n            innerLayoutArea.width = innerLayoutArea.width;\n        }\n        if (innerLayoutArea.height >= graphics.clientSize.height) {\n            // To break row to next page\n            if (this.row.treegrid.allowRowBreakAcrossPages) {\n                innerLayoutArea.height -= innerLayoutArea.y;\n                bounds.height -= bounds.y;\n            }\n            else {\n                innerLayoutArea.height = graphics.clientSize.height;\n                bounds.height = graphics.clientSize.height;\n            }\n        }\n        innerLayoutArea = this.adjustContentLayoutArea(innerLayoutArea);\n        if (this.image && this.value) {\n            var imageBounds = void 0;\n            if (this.image.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.image.width, this.image.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.image, imageBounds.x, imageBounds.y - 10, imageBounds.width, imageBounds.height);\n            var temp = null;\n            // font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            var customisedFont = void 0;\n            var newFont = new PdfStandardFont(this.fontStyle.fontFamily, this.fontStyle.fontSize, this.fontStyle.fontStyle);\n            if (this.fontStyle.fontSize || this.fontStyle.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = void 0;\n            if (this.fontStyle.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.fontStyle.fontBrush);\n            }\n            else {\n                customisedBrush = textBrush;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment) + this.image.width, this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var temp = null;\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, font, textPen, textBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y - 3, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, font, textPen, textBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (this.value instanceof PdfImage || this.value instanceof PdfBitmap) {\n            var imageBounds = void 0;\n            if (this.value.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.value.width, innerLayoutArea.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.value, imageBounds.x, imageBounds.y - 10, imageBounds.width, imageBounds.height);\n        }\n        else if (this.value instanceof PdfTextWebLink) {\n            this.value.draw(graphics.currentPage, innerLayoutArea);\n        }\n        if (this.style.borders !== null) {\n            this.drawCellBorder(graphics, bounds);\n        }\n        return result;\n    };\n    /**\n     * Draw the `cell background`.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBackground = function (graphics, bounds) {\n        var backgroundBrush = new PdfSolidBrush(this.style.backgroundColor);\n        if (backgroundBrush !== null) {\n            graphics.save();\n            graphics.drawRectangle(backgroundBrush, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n        }\n        // if (this.style.backgroundImage !== null) {\n        //     let image: PdfImage = this.getBackgroundImage();\n        //     graphics.drawImage(this.style.backgroundImage, bounds.x, bounds.y, bounds.width, bounds.height);\n        // }\n    };\n    /**\n     * `Adjusts the text layout area`.\n     *\n     * @param {RectangleF} bounds .\n     * @returns {RectangleF} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.adjustContentLayoutArea = function (bounds) {\n        //Add Padding value to its Cell Bounds\n        var returnBounds = new RectangleF(new PointF(bounds.x, bounds.y), new SizeF(bounds.width, bounds.height));\n        var cellPadding = this.style.padding;\n        if (this.value instanceof PdfTreeGrid) {\n            var size = this.value.size;\n            if (this.style.format.alignment === PdfTextAlignment.Center) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width) / 2;\n                returnBounds.y += cellPadding.top + (returnBounds.height - size.height) / 2;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Left) {\n                returnBounds.x += cellPadding.left;\n                returnBounds.y += cellPadding.top;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Right) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width);\n                returnBounds.y += cellPadding.top;\n            }\n        }\n        else {\n            returnBounds.x += cellPadding.left;\n            returnBounds.y += cellPadding.top;\n        }\n        return returnBounds;\n    };\n    /**\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBorder = function (graphics, bounds) {\n        if (this.row.treegrid.style.borderOverlapStyle === PdfBorderOverlapStyle.Inside) {\n            bounds.x += this.style.borders.left.width;\n            bounds.y += this.style.borders.top.width;\n            bounds.width -= this.style.borders.right.width;\n            bounds.height -= this.style.borders.bottom.width;\n        }\n        if (this.style.borders.isAll && this.isHeaderCell) {\n            graphics.drawRectangle(this.style.borders.left, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n            return;\n        }\n        else {\n            var p1 = new PointF(bounds.x, bounds.y + bounds.height);\n            var p2 = new PointF(bounds.x, bounds.y);\n            var pen = this.style.borders.left;\n            if (this.style.borders.left.dashStyle === PdfDashStyle.Solid) {\n                pen.lineCap = PdfLineCap.Square;\n            }\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            pen = this.style.borders.right;\n            if ((bounds.x + bounds.width) > (graphics.clientSize.width - (pen.width / 2))) {\n                p1 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y);\n                p2 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y + bounds.height);\n            }\n            if (this.style.borders.right.dashStyle === PdfDashStyle.Solid) {\n                pen.lineCap = PdfLineCap.Square;\n            }\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y);\n            pen = this.style.borders.top;\n            if (this.style.borders.top.dashStyle === PdfDashStyle.Solid) {\n                pen.lineCap = PdfLineCap.Square;\n            }\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            p2 = new PointF(bounds.x, bounds.y + bounds.height);\n            pen = this.style.borders.bottom;\n            if (bounds.y + bounds.height > graphics.clientSize.height - pen.width / 2) {\n                p1 = new PointF(bounds.x + bounds.width, graphics.clientSize.height - pen.width / 2);\n                p2 = new PointF(bounds.x, graphics.clientSize.height - pen.width / 2);\n            }\n            if (this.style.borders.bottom.dashStyle === PdfDashStyle.Solid) {\n                pen.lineCap = PdfLineCap.Square;\n            }\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n        }\n    };\n    return PdfTreeGridCell;\n}());\nexport { PdfTreeGridCell };\n/**\n * `PdfTreeGridCellCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridCell' objects.\n *\n * @private\n */\nvar PdfTreeGridCellCollection = /** @class */ (function () {\n    //Constructor\n    /**\n     * Initializes a new instance of the `PdfGridCellCollection` class with the row.\n     *\n     * @param { PdfTreeGridRow} row .\n     * @private\n     */\n    function PdfTreeGridCellCollection(row) {\n        this.treegridRow = row;\n        this.cells = [];\n    }\n    //Properties\n    /**\n     * Gets the current `cell`.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridCell} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.getCell = function (index) {\n        if (index < 0 || index >= this.count) {\n            throw new Error('IndexOutOfRangeException');\n        }\n        return this.cells[index];\n    };\n    Object.defineProperty(PdfTreeGridCellCollection.prototype, \"count\", {\n        /**\n         * Gets the cells `count`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.cells.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` this instance.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {PdfTreeGridCell | void} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.add = function (cell) {\n        if (typeof cell === 'undefined') {\n            var tempcell = new PdfTreeGridCell();\n            this.add(tempcell);\n            return cell;\n        }\n        else {\n            cell.row = this.treegridRow;\n            this.cells.push(cell);\n        }\n    };\n    /**\n     * Returns the `index of` a particular cell in the collection.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.indexOf = function (cell) {\n        return this.cells.indexOf(cell);\n    };\n    return PdfTreeGridCellCollection;\n}());\nexport { PdfTreeGridCellCollection };\n/**\n *\n */\nvar PdfTreeGridRow = /** @class */ (function () {\n    function PdfTreeGridRow(treegrid) {\n        this.treegridRowOverflowIndex = 0;\n        this.rowHeight = 0;\n        this.rowWidth = 0;\n        /* eslint-disable-next-line */\n        this._isParentRow = false;\n        this.intendLevel = 0;\n        this.pdfTreeGrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRow.prototype, \"cells\", {\n        get: function () {\n            if (isNullOrUndefined(this.treegridCells)) {\n                this.treegridCells = new PdfTreeGridCellCollection(this);\n            }\n            return this.treegridCells;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"isParentRow\", {\n        get: function () {\n            return this._isParentRow;\n        },\n        set: function (value) {\n            this._isParentRow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"treegrid\", {\n        get: function () {\n            return this.pdfTreeGrid;\n        },\n        set: function (value) {\n            this.pdfTreeGrid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowBreakHeight\", {\n        /**\n         * `Height` of the row yet to be drawn after split.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (typeof this.treegridRowBreakHeight === 'undefined') {\n                this.treegridRowBreakHeight = 0;\n            }\n            return this.treegridRowBreakHeight;\n        },\n        set: function (value) {\n            this.treegridRowBreakHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowOverflowIndex\", {\n        /**\n         * `over flow index` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.treegridRowOverflowIndex;\n        },\n        set: function (value) {\n            this.treegridRowOverflowIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"level\", {\n        get: function () {\n            return this.intendLevel;\n        },\n        set: function (value) {\n            this.intendLevel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"height\", {\n        /**\n         * Gets or sets the `height` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowHeight === 0) {\n                this.rowHeight = this.measureHeight();\n            }\n            return this.rowHeight;\n        },\n        set: function (value) {\n            this.rowHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"width\", {\n        /**\n         * Gets or sets the `width` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowWidth === 0) {\n                this.rowWidth = this.measureWidth();\n            }\n            return this.rowWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowIndex\", {\n        get: function () {\n            return this.treegrid.rows.rowCollection.indexOf(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRow.prototype.measureWidth = function () {\n        var columns = this.treegrid.columns.columns;\n        var totalWidth = 0;\n        for (var i = 0; i < columns.length; i++) {\n            var column = columns[i];\n            totalWidth += column.width;\n        }\n        return totalWidth;\n    };\n    PdfTreeGridRow.prototype.measureHeight = function () {\n        var rowHeight = this.cells.getCell(0).height;\n        for (var i = 0; i < this.cells.count; i++) {\n            var cell = this.cells.getCell(i);\n            if (cell.columnSpan === 1 || cell.rowSpan === 1) {\n                rowHeight = Math.max(rowHeight, cell.height);\n            }\n            else {\n                rowHeight = Math.min(rowHeight, cell.height);\n            }\n            cell.height = rowHeight;\n        }\n        return rowHeight;\n    };\n    return PdfTreeGridRow;\n}());\nexport { PdfTreeGridRow };\n/**\n * `PdfTreeGridRowCollection` class provides access to an ordered, strongly typed collection of 'PdfTreeGridRow' objects.\n *\n * @private\n */\nvar PdfTreeGridRowCollection = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridRowCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridRowCollection(treegrid) {\n        this.rows = [];\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"count\", {\n        //Properties\n        /**\n         * Gets the number of header in the `PdfTreeGrid`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"rowCollection\", {\n        //Implementation\n        /**\n         * Return the row collection of the `treegrid`.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        get: function () {\n            return this.rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRowCollection.prototype.addRow = function (row) {\n        if (typeof row === 'undefined') {\n            var row_1 = new PdfTreeGridRow(this.treegrid);\n            this.addRow(row_1);\n            return row_1;\n        }\n        else {\n            if (row.cells.count === 0) {\n                for (var i = 0; i < this.treegrid.columns.count; i++) {\n                    row.cells.add(new PdfTreeGridCell());\n                }\n            }\n            this.rows.push(row);\n        }\n    };\n    /**\n     * Return the row by index.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridRowCollection.prototype.getRow = function (index) {\n        return this.rows[index];\n    };\n    return PdfTreeGridRowCollection;\n}());\nexport { PdfTreeGridRowCollection };\n/**\n * `PdfTreeGridHeaderCollection` class provides customization of the settings for the header.\n *\n * @private\n */\nvar PdfTreeGridHeaderCollection = /** @class */ (function () {\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridHeaderCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridHeaderCollection(treegrid) {\n        /**\n         * The array to store the `rows` of the grid header.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        this.rows = [];\n        this.treegrid = treegrid;\n        this.rows = [];\n    }\n    //Properties\n    /**\n     * Gets a 'PdfTreeGridRow' object that represents the `header` row in a 'PdfGridHeaderCollection' control.[Read-Only].\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.getHeader = function (index) {\n        return (this.rows[index]);\n    };\n    Object.defineProperty(PdfTreeGridHeaderCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of header` in the 'PdfGrid'.[Read-Only]\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` the specified row.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.add = function (row) {\n        this.rows.push(row);\n    };\n    PdfTreeGridHeaderCollection.prototype.indexOf = function (row) {\n        return this.rows.indexOf(row);\n    };\n    return PdfTreeGridHeaderCollection;\n}());\nexport { PdfTreeGridHeaderCollection };\nvar PdfTreeGridColumn = /** @class */ (function () {\n    function PdfTreeGridColumn(treegrid) {\n        this.columnWidth = 0;\n        this.treeColumnIndex = false;\n        this._headerText = '';\n        this._field = '';\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"headerText\", {\n        get: function () {\n            return this._headerText;\n        },\n        set: function (value) {\n            this._headerText = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"field\", {\n        get: function () {\n            return this._field;\n        },\n        set: function (value) {\n            this._field = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"width\", {\n        get: function () {\n            return this.columnWidth;\n        },\n        set: function (value) {\n            this.columnWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"isTreeColumn\", {\n        get: function () {\n            return this.treeColumnIndex;\n        },\n        set: function (value) {\n            this.treeColumnIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"format\", {\n        /**\n         * Gets or sets the information about the text `formatting`.\n         *\n         * @returns {PdfStringFormat} .\n         * @private\n         */\n        get: function () {\n            if (isNullOrUndefined(this.stringFormat)) {\n                this.stringFormat = new PdfStringFormat(); //GetDefaultFormat();\n            }\n            return this.stringFormat;\n        },\n        set: function (value) {\n            this.stringFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTreeGridColumn;\n}());\nexport { PdfTreeGridColumn };\n/**\n * `PdfTreeGridColumnCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridColumn' objects.\n *\n * @private\n */\nvar PdfTreeGridColumnCollection = /** @class */ (function () {\n    //properties\n    //Constructors\n    /**\n     * Initializes a new instance of the `PdfTreeGridColumnCollection` class with the parent grid.\n     *\n     * @param { PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridColumnCollection(treegrid) {\n        /**\n         * @private\n         */\n        this.internalColumns = [];\n        /**\n         * @private\n         */\n        this.columnWidth = 0;\n        this.treegrid = treegrid;\n        this.internalColumns = [];\n    }\n    //Implementation\n    /**\n     * `Add` a new column to the 'PdfGrid'.\n     *\n     * @param {number} count .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.add = function (count) {\n        // public add(column : PdfGridColumn) : void\n        // public add(arg : number|PdfGridColumn) : void {\n        // if (typeof arg === 'number') {\n        for (var i = 0; i < count; i++) {\n            this.internalColumns.push(new PdfTreeGridColumn(this.treegrid));\n            for (var index = 0; index < this.treegrid.rows.count; index++) {\n                var row = this.treegrid.rows.getRow(index);\n                var cell = new PdfTreeGridCell();\n                cell.value = '';\n                row.cells.add(cell);\n            }\n        }\n        // } else {\n        //     let column : PdfGridColumn = new PdfGridColumn(this.grid);\n        //     this.columns.push(column);\n        //     return column;\n        // }\n    };\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of columns` in the 'PdfGrid'.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"width\", {\n        /**\n         * Gets the `widths`.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.columnWidth === 0) {\n                this.columnWidth = this.measureColumnsWidth();\n            }\n            return this.columnWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"columns\", {\n        /**\n         * Gets the `array of PdfGridColumn`.[Read-Only]\n         *\n         * @returns {PdfTreeGridColumn[]} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the `PdfTreeGridColumn` from the specified index.[Read-Only]\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridColumn} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getColumn = function (index) {\n        if (index >= 0 && index <= this.columns.length) {\n            return this.columns[index];\n        }\n        else {\n            throw Error('can not get the column from the index: ' + index);\n        }\n    };\n    //Implementation\n    /**\n     * `Calculates the column widths`.\n     *\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.measureColumnsWidth = function () {\n        var totalWidth = 0;\n        this.treegrid.measureColumnsWidth();\n        for (var i = 0, count = this.internalColumns.length; i < count; i++) {\n            totalWidth += this.internalColumns[i].width;\n        }\n        return totalWidth;\n    };\n    /**\n     * Gets the `widths of the columns`.\n     *\n     * @param {number} totalWidth .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getDefaultWidths = function (totalWidth) {\n        var widths = [];\n        var subFactor = this.count;\n        for (var i = 0; i < this.count; i++) {\n            widths[i] = this.internalColumns[i].width;\n            if (this.internalColumns[i].width > 0) {\n                totalWidth -= this.internalColumns[i].width;\n                subFactor--;\n            }\n            else {\n                widths[i] = 0;\n            }\n        }\n        for (var i = 0; i < this.count; i++) {\n            var width = totalWidth / subFactor;\n            if (widths[i] <= 0) {\n                widths[i] = width;\n            }\n        }\n        return widths;\n    };\n    return PdfTreeGridColumnCollection;\n}());\nexport { PdfTreeGridColumnCollection };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfFontFamily, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfPageCountField, PdfPageNumberField } from '@syncfusion/ej2-pdf-export';\nimport { PdfPageTemplateElement, RectangleF, PdfCompositeField, PointF } from '@syncfusion/ej2-pdf-export';\nimport { PdfVerticalAlignment, PdfTextAlignment, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { PdfFontStyle, PdfColor, PdfPen, PdfSolidBrush, SizeF, PdfBitmap } from '@syncfusion/ej2-pdf-export';\nimport { PdfBorders, PdfPaddings } from './pdf-base/index';\nimport { isNullOrUndefined, Internationalization, getValue, extend } from '@syncfusion/ej2-base';\nimport { getForeignData, ValueFormatter } from '@syncfusion/ej2-grids';\nimport { pixelToPoint, isScheduledTask } from '../base/utils';\n/**\n * @hidden\n * `ExportHelper` for `PdfExport` & `ExcelExport`\n */\nvar ExportHelper = /** @class */ (function () {\n    function ExportHelper(parent) {\n        this.totalColumnWidth = 0;\n        this.beforeSinglePageExport = {};\n        this.baselineHeight = 8;\n        this.parent = parent;\n    }\n    ExportHelper.prototype.processToFit = function () {\n        this.beforeSinglePageExport['zoomingProjectStartDate'] = this.parent.zoomingProjectStartDate;\n        this.beforeSinglePageExport['zoomingProjectEndDate'] = this.parent.zoomingProjectEndDate;\n        this.beforeSinglePageExport['cloneProjectStartDate'] = this.parent.cloneProjectStartDate;\n        this.beforeSinglePageExport['cloneProjectEndDate'] = this.parent.cloneProjectEndDate;\n        this.beforeSinglePageExport['customTimelineSettings'] = extend({}, this.parent.timelineModule.customTimelineSettings, null, true);\n        this.beforeSinglePageExport['isTimelineRoundOff'] = this.parent.isTimelineRoundOff;\n        this.beforeSinglePageExport['topTier'] = this.parent.timelineModule.topTier;\n        this.beforeSinglePageExport['topTierCellWidth'] = this.parent.timelineModule.topTierCellWidth;\n        this.beforeSinglePageExport['topTierCollection'] = this.parent.timelineModule.topTierCollection;\n        this.beforeSinglePageExport['bottomTier'] = this.parent.timelineModule.bottomTier;\n        this.beforeSinglePageExport['bottomTierCellWidth'] = this.parent.timelineModule.bottomTierCellWidth;\n        this.beforeSinglePageExport['bottomTierCollection'] = this.parent.timelineModule.bottomTierCollection;\n        this.beforeSinglePageExport['totalTimelineWidth'] = this.parent.timelineModule.totalTimelineWidth;\n        this.beforeSinglePageExport['timelineStartDate'] = this.parent.timelineModule.timelineStartDate;\n        this.beforeSinglePageExport['timelineEndDate'] = this.parent.timelineModule.timelineEndDate;\n        this.beforeSinglePageExport['timelineRoundOffEndDate'] = this.parent.timelineModule.timelineRoundOffEndDate;\n        this.beforeSinglePageExport['perDayWidth'] = this.parent.perDayWidth;\n        this.beforeSinglePageExport['updatedConnectorLineCollection'] = extend([], this.parent.updatedConnectorLineCollection, null, true);\n        this.parent.timelineModule.isZoomToFit = true;\n        this.parent.timelineModule.isZooming = false;\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartsideWidth;\n        var gridWidth;\n        if (this.exportProps.fitToWidthSettings.gridWidth) {\n            gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n        }\n        if (this.exportProps.fitToWidthSettings.chartWidth) {\n            chartsideWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n        }\n        else {\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                chartsideWidth = 100 - gridWidth;\n            }\n            else {\n                chartsideWidth = 70;\n            }\n        }\n        var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * chartsideWidth) / 100;\n        var chartWidth = pdfwidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.parent.timelineModule['calculateNumberOfTimelineCells'](newTimeline);\n        var scrollHeight = this.parent.pdfExportModule['pdfPageDimensions'].height; //17 is horizontal scrollbar width\n        var emptySpace = scrollHeight <= 0 ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        this.parent.timelineModule['changeTimelineSettings'](newTimeline);\n        this.parent.timelineModule.isZoomToFit = false;\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * @param {IGanttData[]} data .\n     * @param {PdfGantt} gantt .\n     * @param {PdfExportProperties} props .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.processGridExport = function (data, gantt, props) {\n        this.flatData = data;\n        this.gantt = gantt;\n        this.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n        this.exportProps = props;\n        this.rowIndex = 0;\n        this.colIndex = 0;\n        this.columns = this.parent.treeGrid.columns;\n        this.gantt.treeColumnIndex = this.parent.treeColumnIndex;\n        this.gantt.rowHeight = pixelToPoint(this.parent.rowHeight);\n        this.gantt.style.cellPadding.left = 0;\n        this.gantt.style.cellPadding.right = 0;\n        this.ganttStyle = this.gantt.ganttStyle;\n        this.gantt.borderColor = this.ganttStyle.chartGridLineColor;\n        this.parent.pdfExportModule.isPdfExport = true;\n        if (this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            this.processToFit();\n        }\n        this.processHeaderContent();\n        this.processGanttContent();\n        this.processTimeline();\n        this.processTaskbar();\n        this.processPredecessor();\n        this.parent.pdfExportModule.isPdfExport = false;\n    };\n    ExportHelper.prototype.processHeaderContent = function () {\n        var _this = this;\n        this.rowIndex++;\n        this.row = this.gantt.rows.addRow();\n        var index = 0;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processColumnHeader(column, index);\n                index++;\n            }\n        });\n    };\n    ExportHelper.prototype.processColumnHeader = function (column, index) {\n        this.gantt.columns.add(1);\n        var pdfColumn = this.gantt.columns.getColumn(index);\n        if (this.parent.treeColumnIndex === index) {\n            pdfColumn.isTreeColumn = true;\n        }\n        var width = parseInt(column.width, 10);\n        pdfColumn.width = pixelToPoint(width);\n        this.totalColumnWidth += pdfColumn.width;\n        pdfColumn.headerText = column.headerText;\n        pdfColumn.field = column.field;\n        var cell = this.row.cells.getCell(index);\n        cell.value = column.headerText;\n        cell.isHeaderCell = true;\n        var treeGridHeaderHeight = this.parent.timelineModule.isSingleTier ? 45 : 60;\n        this.copyStyles(this.ganttStyle.columnHeader, cell, false);\n        this.row.height = pixelToPoint(treeGridHeaderHeight);\n        if (column.headerTextAlign) {\n            cell.style.format.alignment = PdfTextAlignment[column.headerTextAlign];\n        }\n        var template = {\n            image: null,\n            value: null,\n            fontStyle: { fontBrush: null }\n        };\n        cell.fontStyle = {\n            fontSize: 9\n        };\n        var args = {\n            cell: cell,\n            style: cell.style,\n            value: cell.value,\n            column: column,\n            image: null,\n            headerTemplate: template\n        };\n        if (this.parent.pdfColumnHeaderQueryCellInfo) {\n            this.parent.trigger('pdfColumnHeaderQueryCellInfo', args);\n        }\n        if (args.headerTemplate.image && args.headerTemplate.value) {\n            args.image = new PdfBitmap(args.headerTemplate.image[0].base64);\n            args.image.height = args.headerTemplate.image[0].height || args.image.height;\n            args.image.width = args.headerTemplate.image[0].width || args.image.width;\n            cell.image = args.image;\n            cell.value = args.headerTemplate.value;\n            cell.fontStyle.fontSize = args.headerTemplate.fontStyle.fontSize;\n            cell.fontStyle.fontFamily = args.headerTemplate.fontStyle.fontFamily;\n            cell.fontStyle.fontBrush = args.headerTemplate.fontStyle.fontColor;\n        }\n        else {\n            cell.value = args.value;\n        }\n    };\n    ExportHelper.prototype.isColumnVisible = function (column) {\n        var visibleColumn = column.visible || this.exportProps.includeHiddenColumn;\n        return (visibleColumn);\n    };\n    ExportHelper.prototype.processGanttContent = function () {\n        var _this = this;\n        if (this.flatData.length === 0) {\n            this.renderEmptyGantt();\n        }\n        else {\n            var flatData = this.flatData;\n            flatData.forEach(function (data) {\n                _this.row = _this.gantt.rows.addRow();\n                if (data.hasChildRecords) {\n                    _this.gantt.rows.getRow(_this.rowIndex).isParentRow = true;\n                    _this.processRecordRow(data);\n                }\n                else {\n                    _this.processRecordRow(data);\n                }\n                _this.rowIndex++;\n            });\n        }\n    };\n    /**\n     * Method for processing the timeline details\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTimeline = function () {\n        if (this.parent.enableTimelineVirtualization) {\n            this.parent.timelineModule.createTimelineSeries();\n        }\n        var timelineSettings = this.parent.timelineModule;\n        this.gantt.chartHeader.topTierHeight = this.gantt.chartHeader.bottomTierHeight\n            = (this.parent.timelineModule.isSingleTier ? 45 : 60 / 2);\n        this.gantt.chartHeader.topTierCellWidth = timelineSettings.topTierCellWidth;\n        this.gantt.chartHeader.bottomTierCellWidth = timelineSettings.bottomTierCellWidth;\n        this.gantt.chartHeader.topTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportTopTierCollection : timelineSettings.topTierCollection, true);\n        this.gantt.chartHeader.bottomTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportBottomTierCollection : timelineSettings.bottomTierCollection, true);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth &&\n            this.parent.enableTimelineVirtualization) {\n            var tier = timelineSettings.topTier === 'None' ? 'bottomTier' : 'topTier';\n            this.gantt.chartHeader.width = timelineSettings['calculateWidthBetweenTwoDate'](tier, timelineSettings.timelineStartDate, timelineSettings.timelineEndDate);\n        }\n        else {\n            this.gantt.chartHeader.width = this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth :\n                timelineSettings.totalTimelineWidth;\n        }\n        this.gantt.chartHeader.height = this.gantt.rows.getRow(0).height;\n        this.gantt.timelineStartDate = new Date(timelineSettings.timelineStartDate.getTime());\n    };\n    /**\n     * Method for create the predecessor collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processPredecessor = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.exportProps.showPredecessorLines) || this.exportProps.showPredecessorLines) {\n            this.parent.pdfExportModule.isPdfExport = true;\n            this.parent.predecessorModule.createConnectorLinesCollection();\n            this.parent.updatedConnectorLineCollection.forEach(function (data) {\n                var predecessor = _this.gantt.predecessor.add();\n                predecessor.parentLeft = data.parentLeft;\n                predecessor.childLeft = data.childLeft;\n                predecessor.parentWidth = data.parentWidth;\n                predecessor.childWidth = data.childWidth;\n                predecessor.parentIndex = data.parentIndex;\n                predecessor.childIndex = data.childIndex;\n                predecessor.rowHeight = data.rowHeight;\n                predecessor.type = data.type;\n                predecessor.milestoneParent = data.milestoneParent;\n                predecessor.milestoneChild = data.milestoneChild;\n                predecessor.parentEndPoint = data.parentEndPoint;\n                predecessor.lineWidth = _this.parent.connectorLineWidth > 5 ? pixelToPoint(5) : pixelToPoint(_this.parent.connectorLineWidth);\n                if (data.isCritical) {\n                    predecessor.connectorLineColor = _this.ganttStyle.criticalConnectorLineColor;\n                }\n                else {\n                    predecessor.connectorLineColor = _this.ganttStyle.connectorLineColor;\n                }\n                _this.ganttStyle.connectorLineColor = predecessor.connectorLineColor;\n                _this.gantt.predecessorCollection.push(predecessor);\n            });\n            this.parent.pdfExportModule.isPdfExport = false;\n        }\n    };\n    ExportHelper.prototype.processRecordRow = function (data) {\n        var _this = this;\n        this.colIndex = 0;\n        this.row.level = data.level;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processRecordCell(data, column, _this.row);\n                _this.colIndex++;\n            }\n        });\n    };\n    ExportHelper.prototype.processRecordCell = function (data, column, row) {\n        var cell = row.cells.getCell(this.colIndex);\n        var taskFields = this.parent.taskFields;\n        var ganttProps = data.ganttProperties;\n        if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n            cell.value = data[column.field];\n        }\n        else if (column.field === taskFields.duration) {\n            cell.value = this.parent.getDurationString(ganttProps.duration, ganttProps.durationUnit);\n        }\n        else if (column.field === taskFields.resourceInfo) {\n            cell.value = ganttProps.resourceNames;\n        }\n        else if (column.field === taskFields.work) {\n            cell.value = this.parent.getWorkString(ganttProps.work, ganttProps.workUnit);\n        }\n        else {\n            cell.value = !isNullOrUndefined(data[column.field]) ? data[column.field].toString() : '';\n        }\n        var cellValueString = !isNullOrUndefined(cell.value) ? cell.value.toString() : '';\n        var cellValue = cellValueString;\n        var value = !isNullOrUndefined(cellValue) ? cellValue : '';\n        cell.isHeaderCell = false;\n        cell.style.padding = new PdfPaddings();\n        this.copyStyles(this.ganttStyle.cell, cell, row.isParentRow);\n        if (this.colIndex !== this.parent.treeColumnIndex) {\n            cell.style.format.alignment = PdfTextAlignment[column.textAlign];\n        }\n        else {\n            cell.style.format.paragraphIndent = cell.row.level * 10;\n        }\n        var args = {\n            data: data,\n            value: value,\n            column: column,\n            style: cell.style,\n            cell: cell\n        };\n        args.value = this.exportValueFormatter.formatCellValue(args);\n        if (this.parent.pdfQueryCellInfo) {\n            this.parent.trigger('pdfQueryCellInfo', args);\n        }\n        if (!isNullOrUndefined(args.image) && !isNullOrUndefined(args.image.base64)) {\n            args.value = new PdfBitmap(args.image.base64);\n            args.value.height = args.image.height || args.value.height;\n            args.value.width = args.image.width || args.value.width;\n        }\n        cell.value = args.value;\n        if (!isNullOrUndefined(args.hyperLink) && (!isNullOrUndefined(args.hyperLink.displayText) ||\n            !isNullOrUndefined(args.hyperLink.target))) {\n            cell.value = this.setHyperLink(args);\n        }\n    };\n    ExportHelper.prototype.setHyperLink = function (args) {\n        // create the Text Web Link\n        var textLink = new PdfTextWebLink();\n        // set the hyperlink\n        textLink.url = args.hyperLink.target;\n        // set the link text\n        textLink.text = args.hyperLink.displayText || args.hyperLink.target;\n        // set the font\n        textLink.font = new PdfStandardFont(PdfFontFamily.Helvetica, 9.75);\n        // set the brush and pen for the text color\n        textLink.brush = new PdfSolidBrush(new PdfColor(51, 102, 187));\n        return textLink;\n    };\n    /**\n     * Method for create the taskbar collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTaskbar = function () {\n        var _this = this;\n        var flatData = this.flatData;\n        flatData.forEach(function (data) {\n            var taskbar = _this.gantt.taskbar.add();\n            var ganttProp = data.ganttProperties;\n            taskbar.left = ganttProp.left;\n            taskbar.width = ganttProp.width;\n            if (taskbar.left < 0) {\n                taskbar.width = taskbar.width + taskbar.left;\n                taskbar.left = 0;\n            }\n            taskbar.progress = ganttProp.progress;\n            taskbar.isScheduledTask = isScheduledTask(ganttProp);\n            if (isScheduledTask) {\n                if (isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'startDate';\n                }\n                else if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'endDate';\n                }\n                else {\n                    taskbar.unscheduledTaskBy = 'duration';\n                    taskbar.unscheduleStarteDate = _this.parent.dateValidationModule.getValidStartDate(data.ganttProperties);\n                    taskbar.unscheduleEndDate = _this.parent.dateValidationModule.getValidEndDate(data.ganttProperties);\n                }\n            }\n            // else {\n            //     taskbar.unscheduleStarteDate = null;\n            //     taskbar.unscheduleEndDate = null;\n            // }\n            taskbar.startDate = ganttProp.startDate;\n            taskbar.endDate = ganttProp.endDate;\n            taskbar.height = _this.parent.chartRowsModule.taskBarHeight;\n            // if (this.parent.renderBaseline) {\n            //     let height: number;\n            //     if ((taskbar.height + this.baselineHeight) <= this.parent.rowHeight) {\n            //         height = taskbar.height;\n            //     } else {\n            //         height = taskbar.height - (this.baselineHeight + 1);\n            //     }\n            //     taskbar.height = height;\n            // }\n            taskbar.indicators = ganttProp.indicators;\n            taskbar.autoStartDate = ganttProp.autoStartDate;\n            taskbar.autoEndDate = ganttProp.autoEndDate;\n            taskbar.isAutoSchedule = ganttProp.isAutoSchedule;\n            taskbar.autoWidth = ganttProp.autoWidth;\n            taskbar.autoLeft = ganttProp.autoLeft;\n            taskbar.segment = ganttProp.segments;\n            taskbar.isSpliterTask = (isNullOrUndefined(ganttProp.segments) || ganttProp.segments.length === 0) ? false : true;\n            if (taskbar.isSpliterTask) {\n                taskbar.segmentCollection = taskbar.segment.map(function (obj) { return (__assign({}, obj)); });\n            }\n            taskbar.baselineTop = _this.parent.chartRowsModule.baselineTop;\n            taskbar.isMilestone = ganttProp.isMilestone;\n            taskbar.baselineStartDate = ganttProp.baselineStartDate;\n            taskbar.baselineEndDate = ganttProp.baselineEndDate;\n            taskbar.baselineLeft = ganttProp.baselineLeft;\n            taskbar.baselineWidth = ganttProp.baselineWidth;\n            taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.milestoneColor);\n            taskbar.isParentTask = data.hasChildRecords;\n            if (ganttProp.isMilestone) {\n                taskbar.height = ganttProp.width;\n            }\n            if (data[_this.parent.labelSettings.leftLabel]) {\n                taskbar.leftTaskLabel.value = data[_this.parent.labelSettings.leftLabel].toString();\n            }\n            if (data[_this.parent.labelSettings.rightLabel]) {\n                taskbar.rightTaskLabel.value = data[_this.parent.labelSettings.rightLabel].toString();\n            }\n            if (!isNullOrUndefined(data[_this.parent.labelSettings.taskLabel])) {\n                taskbar.taskLabel = data[_this.parent.labelSettings.taskLabel].toString();\n            }\n            var reduceLeft = ganttProp.isMilestone ? Math.floor(_this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n            taskbar.rightTaskLabel.left = ganttProp.left + ganttProp.width + reduceLeft; // right label left value\n            taskbar.fontFamily = _this.ganttStyle.fontFamily;\n            taskbar.progressWidth = ganttProp.progressWidth;\n            taskbar.labelColor = new PdfColor(_this.ganttStyle.label.fontColor);\n            taskbar.progressFontColor = new PdfColor(_this.ganttStyle.taskbar.progressFontColor);\n            if (taskbar.isParentTask) {\n                taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskColor);\n                taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskBorderColor);\n                taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.parentProgressColor);\n            }\n            else {\n                if (data.isCritical) {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.criticalProgressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskBorderColor);\n                    taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                }\n                else {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.taskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.progressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.taskBorderColor);\n                }\n            }\n            taskbar.manualParentBorder = new PdfColor(_this.ganttStyle.taskbar.manualParentBorder);\n            taskbar.manualChildBorder = new PdfColor(_this.ganttStyle.taskbar.manualChildBorder);\n            taskbar.manuallineColor = new PdfColor(_this.ganttStyle.taskbar.manualLineColor);\n            taskbar.unscheduledTaskBarColor = new PdfColor(_this.ganttStyle.taskbar.unscheduledTaskBarColor);\n            taskbar.manualParentBackground = new PdfColor(_this.ganttStyle.taskbar.manualParentBackground);\n            taskbar.manualParentProgress = new PdfColor(_this.ganttStyle.taskbar.manualParentProgress);\n            taskbar.manualChildBackground = new PdfColor(_this.ganttStyle.taskbar.manualChildBackground);\n            taskbar.manualChildProgress = new PdfColor(_this.ganttStyle.taskbar.manualChildProgress);\n            taskbar.splitLineBackground = new PdfColor(_this.ganttStyle.taskbar.splitLineBackground);\n            taskbar.baselineColor = new PdfColor(_this.ganttStyle.taskbar.baselineColor);\n            taskbar.baselineBorderColor = new PdfColor(_this.ganttStyle.taskbar.baselineBorderColor);\n            taskbar.gridLineColor = new PdfColor(_this.ganttStyle.chartGridLineColor);\n            var labelTemplateStyle = {};\n            labelTemplateStyle.leftLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.rightLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.taskLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            taskbar.labelSettings = labelTemplateStyle;\n            var taskbarTemplate = {\n                value: null,\n                image: null,\n                fontStyle: { fontBrush: null }\n            };\n            taskbar.taskbarTemplate = taskbarTemplate;\n            _this.gantt.taskbarCollection.push(taskbar);\n            var taskStyle = {};\n            taskStyle.progressFontColor = taskbar.progressFontColor;\n            taskStyle.taskColor = taskbar.taskColor;\n            taskStyle.taskBorderColor = taskbar.taskBorderColor;\n            taskStyle.progressColor = taskbar.progressColor;\n            taskStyle.milestoneColor = taskbar.milestoneColor;\n            taskStyle.baselineColor = taskbar.baselineColor;\n            taskStyle.baselineBorderColor = taskbar.baselineBorderColor;\n            var args = {\n                taskbar: taskStyle,\n                data: data,\n                indicators: data.ganttProperties.indicators,\n                labelSettings: labelTemplateStyle,\n                taskbarTemplate: taskbarTemplate\n            };\n            if (_this.parent.pdfQueryTaskbarInfo) {\n                _this.parent.trigger('pdfQueryTaskbarInfo', args);\n                taskbar.progressFontColor = args.taskbar.progressFontColor;\n                taskbar.taskColor = args.taskbar.taskColor;\n                taskbar.taskBorderColor = args.taskbar.taskBorderColor;\n                taskbar.progressColor = args.taskbar.progressColor;\n                taskbar.milestoneColor = args.taskbar.milestoneColor;\n                taskbar.baselineColor = args.taskbar.baselineColor;\n                taskbar.baselineBorderColor = args.taskbar.baselineBorderColor;\n                taskbar.indicators = args.indicators;\n                taskbar.labelSettings.leftLabel.value = args.labelSettings.leftLabel.value;\n                var leftImages = args.labelSettings.leftLabel.image;\n                taskbar.labelSettings.rightLabel.value = args.labelSettings.rightLabel.value;\n                var rightImage = args.labelSettings.rightLabel.image;\n                if (!isNullOrUndefined(args.labelSettings.taskLabel.value)) {\n                    taskbar.taskLabel = args.labelSettings.taskLabel.value;\n                }\n                if (!isNullOrUndefined(args.labelSettings.leftLabel.image) && Array.isArray(args.labelSettings.leftLabel.image[0].base64)\n                    && args.labelSettings.leftLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.leftLabel.image[0].base64.length;\n                    taskbar.labelSettings.leftLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.leftLabel.image.push({\n                            base64: leftImages[0].base64[i],\n                            width: leftImages[0].width,\n                            height: leftImages[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.leftLabel.image)) {\n                    taskbar.labelSettings.leftLabel.image = args.labelSettings.leftLabel.image;\n                }\n                if (!isNullOrUndefined(args.labelSettings.rightLabel.image) && Array.isArray(args.labelSettings.rightLabel.image[0].base64)\n                    && args.labelSettings.rightLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.rightLabel.image[0].base64.length;\n                    taskbar.labelSettings.rightLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.rightLabel.image.push({\n                            base64: rightImage[0].base64[i],\n                            width: rightImage[0].width,\n                            height: rightImage[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.rightLabel.image)) {\n                    taskbar.labelSettings.rightLabel.image = args.labelSettings.rightLabel.image;\n                }\n                /* eslint-disable-next-line */\n                var applyTemplate = function (target, source) {\n                    target.progressFontColor = source.taskbar.progressFontColor;\n                    target.taskColor = new PdfColor(source.taskbar.taskColor);\n                    target.taskBorderColor = source.taskbar.taskBorderColor;\n                    target.progressColor = source.taskbar.progressColor;\n                    target.milestoneColor = source.taskbar.milestoneColor;\n                    if (!isNullOrUndefined(source.taskbarTemplate.image) && !isNullOrUndefined(source.taskbarTemplate.image[0].base64)) {\n                        var width = source.taskbarTemplate.image[0].width;\n                        var milestoneHeight = taskbar.isMilestone ? ((source.taskbarTemplate.image[0].height <\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7)) ? source.taskbarTemplate.image[0].height :\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2) : (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2;\n                        var taskbarHeight = !isNullOrUndefined(source.taskbarTemplate.image[0].height) ?\n                            ((source.taskbarTemplate.image[0].height < taskbar.height) ?\n                                source.taskbarTemplate.image[0].height : taskbar.height - 2) : taskbar.height - 2;\n                        var height = taskbar.isMilestone ? milestoneHeight : taskbarHeight;\n                        target.taskbarTemplate.image = source.taskbarTemplate.image;\n                        target.taskbarTemplate.image[0].width = width;\n                        target.taskbarTemplate.image[0].height = height;\n                    }\n                    if (!isNullOrUndefined(source.taskbarTemplate.value)) {\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.fontStyle.fontColor = source.taskbarTemplate.fontStyle.fontColor;\n                        target.taskbarTemplate.fontStyle.fontSize = source.taskbarTemplate.fontStyle.fontSize;\n                        target.taskbarTemplate.fontStyle.fontFamily = source.taskbarTemplate.fontStyle.fontFamily;\n                        target.taskbarTemplate.fontStyle.fontStyle = source.taskbarTemplate.fontStyle.fontStyle;\n                        target.taskbarTemplate.fontStyle.fontBrush = source.taskbarTemplate.fontStyle.fontBrush;\n                    }\n                };\n                if (!args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.ganttProperties.duration === 0) {\n                    applyTemplate(taskbar, args);\n                }\n            }\n        });\n    };\n    /**\n     * set text alignment of each columns in exporting grid\n     *\n     * @param {string} textAlign .\n     * @param {PdfStringFormat} format .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getHorizontalAlignment = function (textAlign, format) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n        }\n        switch (textAlign) {\n            case 'Right':\n                format.alignment = PdfTextAlignment.Right;\n                break;\n            case 'Center':\n                format.alignment = PdfTextAlignment.Center;\n                break;\n            case 'Justify':\n                format.alignment = PdfTextAlignment.Justify;\n                break;\n            case 'Left':\n                format.alignment = PdfTextAlignment.Left;\n                break;\n        }\n        return format;\n    };\n    /**\n     * set vertical alignment of each columns in exporting grid\n     *\n     * @param {string} verticalAlign .\n     * @param {PdfStringFormat} format .\n     * @param {string} textAlign .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getVerticalAlignment = function (verticalAlign, format, textAlign) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n            format = this.getHorizontalAlignment(textAlign, format);\n        }\n        switch (verticalAlign) {\n            case 'Bottom':\n                format.lineAlignment = PdfVerticalAlignment.Bottom;\n                break;\n            case 'Middle':\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                break;\n            case 'Top':\n                format.lineAlignment = PdfVerticalAlignment.Top;\n                break;\n        }\n        return format;\n    };\n    ExportHelper.prototype.getFontFamily = function (fontFamily) {\n        switch (fontFamily) {\n            case 'TimesRoman':\n                return 2;\n            case 'Courier':\n                return 1;\n            case 'Symbol':\n                return 3;\n            case 'ZapfDingbats':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportHelper.prototype.getFont = function (content) {\n        if (content.font) {\n            return content.font;\n        }\n        var fontSize = (!isNullOrUndefined(content.style.fontSize)) ? (content.style.fontSize * 0.75) : 9.75;\n        var fontFamily = (!isNullOrUndefined(content.style.fontFamily)) ?\n            (this.getFontFamily(content.style.fontFamily)) : PdfFontFamily.TimesRoman;\n        var fontStyle = PdfFontStyle.Regular;\n        // if (!isNullOrUndefined(content.style.bold) && content.style.bold) {\n        //     fontStyle |= PdfFontStyle.Bold;\n        // }\n        // if (!isNullOrUndefined(content.style.italic) && content.style.italic) {\n        //     fontStyle |= PdfFontStyle.Italic;\n        // }\n        // if (!isNullOrUndefined(content.style.underline) && content.style.underline) {\n        //     fontStyle |= PdfFontStyle.Underline;\n        // }\n        // if (!isNullOrUndefined(content.style.strikeout) && content.style.strikeout) {\n        //     fontStyle |= PdfFontStyle.Strikeout;\n        // }\n        return new PdfStandardFont(fontFamily, fontSize, fontStyle);\n    };\n    ExportHelper.prototype.renderEmptyGantt = function () {\n        var row = this.gantt.rows.addRow();\n        row.cells.getCell(0).isHeaderCell = false;\n        row.height = pixelToPoint(this.parent.rowHeight);\n        this.copyStyles(this.ganttStyle.columnHeader, row.cells.getCell(0), row.isParentRow);\n        var count = this.columns.length;\n        row.cells.getCell(0).value = this.parent.localeObj.getConstant('emptyRecord');\n        this.mergeCells(1, 0, count);\n    };\n    ExportHelper.prototype.mergeCells = function (rowIndex, colIndex, lastColIndex) {\n        this.gantt.rows.getRow(rowIndex).cells.getCell(colIndex).columnSpan = lastColIndex;\n    };\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.copyStyles = function (style, cell, isParentRow) {\n        cell.style.fontColor = new PdfColor(style.fontColor);\n        cell.style.backgroundColor = new PdfColor(style.backgroundColor);\n        cell.style.borderColor = new PdfColor(style.borderColor);\n        cell.style.fontSize = style.fontSize;\n        cell.style.fontStyle = style.fontStyle;\n        /* eslint-disable-next-line */\n        cell.style.format = Object.assign(new PdfStringFormat(), style.format);\n        cell.style.borders = new PdfBorders();\n        cell.style.borders.all = new PdfPen(cell.style.borderColor);\n        cell.style.padding = new PdfPaddings();\n        var padding = 0;\n        if (cell.isHeaderCell) {\n            padding = this.parent.timelineModule.isSingleTier ? 45 / 2 : 60 / 2;\n        }\n        else {\n            padding = this.parent.rowHeight / 2;\n        }\n        cell.style.padding.top = padding - style.fontSize;\n        cell.style.padding.bottom = padding - style.fontSize;\n        cell.style.padding.left = 10;\n        cell.style.padding.right = 10;\n        if (style.padding) {\n            cell.style.padding = style.padding;\n        }\n        if (style.borders) {\n            cell.style.borders = style.borders;\n        }\n    };\n    /**\n     * @param {PdfDocument} pdfDoc .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.initializePdf = function (pdfDoc) {\n        this.pdfDoc = pdfDoc;\n        var widths = [];\n        var treeColumnIndex = 0;\n        var tWidth = (this.pdfDoc.pageSettings.width - 82);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            var gridWidth = void 0;\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n            }\n            else {\n                if (this.exportProps.fitToWidthSettings.chartWidth) {\n                    var chartWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n                    gridWidth = 100 - chartWidth;\n                }\n                else {\n                    gridWidth = 30;\n                }\n            }\n            var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * gridWidth) / 100;\n            var perColumnWidth = pdfwidth / this.gantt.columns.columns.length;\n            for (var i = 0; i < this.gantt.columns.columns.length; i++) {\n                this.gantt.columns.getColumn(i).width = perColumnWidth;\n            }\n        }\n        /* eslint-disable-next-line */\n        var PdfPage = this.parent.pdfExportModule.pdfPage;\n        if (this.totalColumnWidth > (this.pdfDoc.pageSettings.width - 82) && this.totalColumnWidth < PdfPage.getClientSize().width) {\n            this.gantt.style.allowHorizontalOverflow = true;\n        }\n        else if ((tWidth / this.columns.length) < widths[treeColumnIndex]) {\n            this.gantt.columns.getColumn(treeColumnIndex).width = widths[treeColumnIndex];\n        }\n        if (this.exportProps.enableFooter || isNullOrUndefined(this.exportProps.enableFooter)) {\n            //code for draw the footer content\n            var bounds = new RectangleF(0, 0, pdfDoc.pageSettings.width, 35);\n            var pen = new PdfPen(this.ganttStyle.chartGridLineColor);\n            var footer = new PdfPageTemplateElement(bounds);\n            var footerBrush = new PdfSolidBrush(this.ganttStyle.footer.backgroundColor);\n            footer.graphics.drawRectangle(pen, footerBrush, 0, 0, pdfDoc.pageSettings.width, 35);\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.ganttStyle.fontFamily, this.ganttStyle.footer.fontSize, this.ganttStyle.footer.fontStyle);\n            if (this.ganttStyle.font) {\n                font = this.ganttStyle.font;\n            }\n            var brush = new PdfSolidBrush(this.ganttStyle.footer.fontColor);\n            var pageNumber = new PdfPageNumberField(font);\n            var count = new PdfPageCountField(font, brush);\n            var compositeField = new PdfCompositeField(font, brush, 'Page {0}', pageNumber, count);\n            compositeField.stringFormat = this.ganttStyle.footer.format;\n            compositeField.bounds = bounds;\n            compositeField.draw(footer.graphics, new PointF(0, 0));\n            pdfDoc.template.bottom = footer;\n        }\n        /* eslint-disable-next-line */\n        var pageSize = PdfPage.size;\n        var clientSize = !isNullOrUndefined(pageSize) ? pageSize : this.pdfDoc.pageSettings.size;\n        // code for draw header content\n        if (!isNullOrUndefined(this.exportProps.header)) {\n            var headerProp = this.exportProps.header;\n            var position = new PointF(0, headerProp.fromTop);\n            var size = new SizeF((clientSize.width * 1.1), ((headerProp && headerProp.height) ? headerProp.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            pdfDoc.template.top = this.drawPageTemplate(new PdfPageTemplateElement(bounds), headerProp);\n        }\n        // code for customization of footer\n        if (!this.exportProps.enableFooter && !isNullOrUndefined(this.exportProps.footer)) {\n            var footer = this.exportProps.footer;\n            var position = new PointF(0, ((clientSize.width - 80) - ((footer && footer.fromBottom) ?\n                footer.fromBottom * 0.75 : 0)));\n            var size = new SizeF((clientSize.width * 1.1), ((footer && footer.height) ? footer.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            this.pdfDoc.template.bottom = this.drawPageTemplate(new PdfPageTemplateElement(bounds), footer);\n        }\n    };\n    ExportHelper.prototype.drawPageTemplate = function (template, element) {\n        for (var _i = 0, _a = element.contents; _i < _a.length; _i++) {\n            var content = _a[_i];\n            switch (content.type) {\n                case 'Text':\n                    if (content.value === '' || content.value === undefined || content.value === null || typeof content.value !== 'string') {\n                        throw new Error('please enter the valid input value in text content...');\n                    }\n                    this.drawText(template, content);\n                    break;\n                case 'PageNumber':\n                    this.drawPageNumber(template, content);\n                    break;\n                case 'Image':\n                    if (content.src === undefined || content.src === null || content.src === '') {\n                        throw new Error('please enter the valid base64 string in image content...');\n                    }\n                    this.drawImage(template, content);\n                    break;\n                case 'Line':\n                    this.drawLine(template, content);\n                    break;\n                default:\n                    throw new Error('Please set valid content type...');\n            }\n        }\n        return template;\n    };\n    // code for draw text\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawText = function (pageTemplate, content) {\n        var font = this.getFont(content);\n        var brush = this.getBrushFromContent(content);\n        var pen = null;\n        if (!isNullOrUndefined(content.style.textPenColor)) {\n            var penColor = this.hexToRgb(content.style.textPenColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        if (brush === null && pen === null) {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var value = content.value.toString();\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var format = new PdfStringFormat();\n        if (!isNullOrUndefined(content.style.stringFormat)) {\n            format.alignment = content.style.stringFormat.alignment;\n        }\n        var result = this.setContentFormat(content, format);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, result.size.width, result.size.height, result.format);\n        }\n        else {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, format);\n        }\n    };\n    // code for draw pagenumber\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawPageNumber = function (documentHeader, content) {\n        var font = this.getFont(content);\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        else {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var pageNumber = new PdfPageNumberField(font, brush);\n        pageNumber.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n        var compositeField;\n        var format;\n        if (!isNullOrUndefined(content.format)) {\n            var total = '$total';\n            var current = '$current';\n            if (content.format.indexOf(total) !== -1 && content.format.indexOf(current) !== -1) {\n                var pageCount = new PdfPageCountField(font);\n                pageCount.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n                if (content.format.indexOf(total) > content.format.indexOf(current)) {\n                    format = content.format.replace(current, '0');\n                    format = format.replace(total, '1');\n                }\n                else {\n                    format = content.format.replace(current, '1');\n                    format = format.replace(total, '0');\n                }\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber, pageCount);\n            }\n            else if (content.format.indexOf(current) !== -1 && content.format.indexOf(total) === -1) {\n                format = content.format.replace(current, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n            }\n            else {\n                var pageCount = new PdfPageCountField(font);\n                format = content.format.replace(total, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageCount);\n            }\n        }\n        else {\n            format = '{0}';\n            compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n        }\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var result = this.setContentFormat(content, compositeField.stringFormat);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            compositeField.stringFormat = result.format;\n            compositeField.bounds = new RectangleF(x, y, result.size.width, result.size.height);\n        }\n        compositeField.draw(documentHeader.graphics, x, y);\n    };\n    // code for draw image\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawImage = function (documentHeader, content) {\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var width = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.width)) ?\n            (content.size.width * 0.50) : undefined;\n        var height = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.height)) ?\n            (content.size.height * 0.75) : undefined;\n        var image = new PdfBitmap(content.src);\n        if (!isNullOrUndefined(width)) {\n            documentHeader.graphics.drawImage(image, x, y, width, height);\n        }\n        else {\n            documentHeader.graphics.drawImage(image, x, y);\n        }\n    };\n    // code for draw line\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawLine = function (documentHeader, content) {\n        var x1 = content.points.x1 * 0.75;\n        var y1 = content.points.y1 * 0.75;\n        var x2 = content.points.x2 * 0.75;\n        var y2 = content.points.y2 * 0.75;\n        var pen = this.getPenFromContent(content);\n        if (!isNullOrUndefined(content.style)) {\n            if (!isNullOrUndefined(content.style.penSize) && typeof content.style.penSize === 'number') {\n                pen.width = content.style.penSize * 0.75;\n            }\n            pen.dashStyle = this.getDashStyle(content.style.dashStyle);\n        }\n        documentHeader.graphics.drawLine(pen, x1, y1, x2, y2);\n    };\n    ExportHelper.prototype.getPenFromContent = function (content) {\n        var pen = new PdfPen(new PdfColor(0, 0, 0));\n        if (!isNullOrUndefined(content.style) && content.style !== null && !isNullOrUndefined(content.style.penColor)) {\n            var penColor = this.hexToRgb(content.style.penColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        return pen;\n    };\n    ExportHelper.prototype.getDashStyle = function (dashStyle) {\n        switch (dashStyle) {\n            case 'Dash':\n                return 1;\n            case 'Dot':\n                return 2;\n            case 'DashDot':\n                return 3;\n            case 'DashDotDot':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getBrushFromContent = function (content) {\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            /* tslint:disable-next-line:max-line-length */\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        return brush;\n    };\n    ExportHelper.prototype.hexToRgb = function (hex) {\n        if (hex === null || hex === '' || hex.length !== 7) {\n            throw new Error('please set valid hex value for color...');\n        }\n        hex = hex.substring(1);\n        var bigint = parseInt(hex, 16);\n        var r = (bigint >> 16) & 255;\n        var g = (bigint >> 8) & 255;\n        var b = bigint & 255;\n        return { r: r, g: g, b: b };\n    };\n    ExportHelper.prototype.setContentFormat = function (content, format) {\n        var width = (content.size) ? content.size.width * 0.75 : this.pdfDoc.pageSettings.size.width;\n        var height = (content.size) ? content.size.height * 0.75 : (!isNullOrUndefined(this.exportProps.footer) ? this.exportProps.footer.height * 0.50 : 0);\n        format = new PdfStringFormat(PdfTextAlignment.Left, PdfVerticalAlignment.Middle);\n        if (!isNullOrUndefined(content.style.hAlign)) {\n            switch (content.style.hAlign) {\n                case 'Right':\n                    format.alignment = PdfTextAlignment.Right;\n                    break;\n                case 'Center':\n                    format.alignment = PdfTextAlignment.Center;\n                    break;\n                case 'Justify':\n                    format.alignment = PdfTextAlignment.Justify;\n                    break;\n                default:\n                    format.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if (!isNullOrUndefined(content.style.vAlign)) {\n            format = this.getVerticalAlignment(content.style.vAlign, format);\n        }\n        return { format: format, size: new SizeF(width, height) };\n    };\n    ExportHelper.prototype.getPageNumberStyle = function (pageNumberType) {\n        switch (pageNumberType) {\n            case 'LowerLatin':\n                return 2;\n            case 'LowerRoman':\n                return 3;\n            case 'UpperLatin':\n                return 4;\n            case 'UpperRoman':\n                return 5;\n            default:\n                return 1;\n        }\n    };\n    return ExportHelper;\n}());\nexport { ExportHelper };\n/**\n * @hidden\n * `ExportValueFormatter` for `PdfExport` & `ExcelExport`\n */\nvar ExportValueFormatter = /** @class */ (function () {\n    function ExportValueFormatter(culture) {\n        this.valueFormatter = new ValueFormatter(culture);\n        this.internationalization = new Internationalization(culture);\n    }\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportValueFormatter.prototype.returnFormattedValue = function (args, customFormat) {\n        if (!isNullOrUndefined(args.value) && args.value) {\n            return this.valueFormatter.getFormatFunction(customFormat)(args.value);\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * @private\n     */\n    /* eslint-disable-next-line  */\n    ExportValueFormatter.prototype.formatCellValue = function (args) {\n        if (args.isForeignKey) {\n            args.value = getValue(args.column.foreignKeyValue, getForeignData(args.column, {}, args.value)[0]);\n        }\n        if (args.column.type === 'number' && args.column.format !== undefined && args.column.format !== '') {\n            return args.value ? this.internationalization.getNumberFormat({ format: args.column.format })(args.value) : '';\n        }\n        else if (args.column.type === 'boolean') {\n            return args.value ? 'true' : 'false';\n        }\n        else if ((args.column.type === 'date' || args.column.type === 'datetime' || args.column.type === 'time') && args.column.format !== undefined) {\n            if (typeof args.value === 'string') {\n                args.value = new Date(args.value);\n            }\n            if (typeof args.column.format === 'string') {\n                var format = void 0;\n                if (args.column.type === 'date') {\n                    format = { type: 'date', format: args.column.format };\n                }\n                else if (args.column.type === 'time') {\n                    format = { type: 'time', format: args.column.format };\n                }\n                else {\n                    format = { type: 'dateTime', format: args.column.format };\n                }\n                return this.returnFormattedValue(args, format);\n            }\n            else {\n                if (args.column.format instanceof Object && args.column.format.type === undefined) {\n                    return (args.value.toString());\n                }\n                else {\n                    var customFormat = void 0;\n                    if (args.column.type === 'date') {\n                        /* eslint-disable-next-line max-len */\n                        customFormat = { type: args.column.format.type, format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else if (args.column.type === 'time') {\n                        customFormat = { type: 'time', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else {\n                        customFormat = { type: 'dateTime', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    return this.returnFormattedValue(args, customFormat);\n                }\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(args.column.type) && !isNullOrUndefined(args.value)) || !isNullOrUndefined(args.value)) {\n                return (args.value).toString();\n            }\n            else {\n                return '';\n            }\n        }\n    };\n    return ExportValueFormatter;\n}());\nexport { ExportValueFormatter };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfColor, PdfStringLayouter, PdfPen, PdfSolidBrush, RectangleF, SizeF, PdfStandardFont, PdfFontStyle, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, PdfDashStyle, PdfPath, PdfBitmap, PdfBrushes, PdfLinearGradientBrush } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttTaskbarCollection = /** @class */ (function () {\n    function PdfGanttTaskbarCollection(parent) {\n        /** Defines the task baselineHeight . */\n        this.baselineHeight = 8;\n        this.segment = [];\n        this.segmentCollection = [];\n        /**\n         * @private\n         */\n        this.leftTaskLabel = {};\n        /**\n         * @private\n         */\n        this.rightTaskLabel = {};\n        this.startPage = -1;\n        this.endPage = -1;\n        this.parent = parent;\n    }\n    PdfGanttTaskbarCollection.prototype.add = function () {\n        return new PdfGanttTaskbarCollection(this.parent);\n    };\n    /**\n     * @param {PdfPage} page .\n     * @returns {PdfPage} .\n     * Get the next PDF page\n     */\n    PdfGanttTaskbarCollection.prototype.GetNextPage = function (page) {\n        var section = page.section;\n        var index = section.indexOf(page);\n        var nextPage = null;\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        return nextPage;\n    };\n    PdfGanttTaskbarCollection.prototype.isAutoFit = function () {\n        return ((this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) ||\n            this.parent.timelineModule.isZoomedToFit) ? true : false;\n    };\n    /**\n     * Draw the taskbar, chart back ground\n     *\n     * @private\n     */\n    /* eslint-disable */\n    PdfGanttTaskbarCollection.prototype.drawTaskbar = function (page, startPoint, detail, cumulativeWidth, rowHeight, taskbar, lineWidth) {\n        var _this = this;\n        var taskGraphics = page.graphics;\n        var isNextPage = false;\n        var pageSize = page.getClientSize();\n        var yPoint = startPoint.y + rowHeight;\n        //code for while current pdf page is exceed\n        if (yPoint > pageSize.height) {\n            page = this.GetNextPage(page);\n            page['contentWidth'] = (this.isAutoFit()) ? pointToPixel(detail.endPoint - detail.startPoint) : detail.endPoint - detail.startPoint;\n            taskGraphics = page.graphics;\n            startPoint.y = 0;\n            if (this.parent.pdfExportModule.gantt.enableHeader) {\n                this.parent.pdfExportModule.gantt.chartHeader.drawPageTimeline(page, startPoint, detail);\n                startPoint.y = pixelToPoint(this.parent.timelineModule.isSingleTier ? 45 : 60);\n            }\n            isNextPage = true;\n            var graphics = page.graphics;\n            var pen = new PdfPen(new PdfColor(206, 206, 206));\n            if (page['contentWidth'] && (this.parent.gridLines === \"Both\" || this.parent.gridLines === \"Horizontal\")) {\n                graphics.drawRectangle(pen, startPoint.x, startPoint.y, this.isAutoFit() && this.parent.timelineModule.bottomTier !== \"Day\" ? page['contentWidth'] + 0.5 : lineWidth, rowHeight);\n            }\n        }\n        this.drawLeftLabel(page, startPoint, detail, cumulativeWidth, taskbar);\n        //Draw Taskbar\n        var font = new PdfStandardFont(this.fontFamily, 9, PdfFontStyle.Regular);\n        var fontColor = null;\n        var fontBrush = new PdfSolidBrush(this.progressFontColor);\n        var customizedFont;\n        var customizedFontBrush;\n        var customizedFontColor;\n        customizedFont = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontFamily && taskbar.taskbarTemplate.fontStyle.fontSize\n            ? new PdfStandardFont(taskbar.taskbarTemplate.fontStyle.fontFamily, taskbar.taskbarTemplate.fontStyle.fontSize, taskbar.taskbarTemplate.fontStyle.fontStyle)\n            : font;\n        customizedFontBrush = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontColor\n            ? new PdfSolidBrush(taskbar.taskbarTemplate.fontStyle.fontColor)\n            : fontBrush;\n        customizedFontColor = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontBrush\n            ? new PdfPen(taskbar.taskbarTemplate.fontStyle.fontBrush)\n            : fontColor;\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var taskLabelFont;\n        var taskLabelFontBrush;\n        if (taskbar.labelSettings.taskLabel.fontStyle.fontSize) {\n            var taskFont = new PdfStandardFont(taskbar.labelSettings.taskLabel.fontStyle.fontFamily, taskbar.labelSettings.taskLabel.fontStyle.fontSize, taskbar.labelSettings.taskLabel.fontStyle.fontStyle);\n            taskLabelFont = taskFont;\n        }\n        else {\n            taskLabelFont = font;\n        }\n        if (taskbar.labelSettings.taskLabel.fontStyle.fontColor) {\n            taskLabelFontBrush = new PdfSolidBrush(taskbar.labelSettings.taskLabel.fontStyle.fontColor);\n        }\n        else {\n            taskLabelFontBrush = fontBrush;\n        }\n        var progressFormat = new PdfStringFormat();\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        progressFormat.alignment = PdfTextAlignment.Right;\n        var isLabelString = false;\n        var updatedWidth;\n        if (!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z0-9]/.test(this.taskLabel))) {\n            if (this.taskLabel === '0' || this.taskLabel === '0%') {\n                updatedWidth = this.width;\n                progressFormat.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if ((!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z]/.test(this.taskLabel))) || (!isNullOrUndefined(taskbar.taskbarTemplate.value))) {\n            isLabelString = true;\n            progressFormat.alignment = PdfTextAlignment.Left;\n        }\n        var pageIndex = -1;\n        var renderBaselineWidth = 0;\n        if (this.baselineWidth > detail.totalWidth) {\n            if (this.parent.timelineModule.isZoomedToFit || this.isAutoFit()) {\n                renderBaselineWidth = detail.totalWidth - this.baselineLeft;\n            }\n            else {\n                renderBaselineWidth = detail.totalWidth;\n            }\n            this.baselineWidth = this.baselineWidth - detail.totalWidth;\n        }\n        else {\n            if ((this.parent.timelineModule.isZoomedToFit || this.isAutoFit()) && this.baselineWidth + this.baselineLeft > detail.totalWidth) {\n                renderBaselineWidth = detail.totalWidth - this.baselineLeft;\n            }\n            else {\n                renderBaselineWidth = this.baselineWidth;\n            }\n        }\n        var baselinePen = new PdfPen(taskbar.baselineBorderColor);\n        var baselineBrush = new PdfSolidBrush(taskbar.baselineColor);\n        var template = taskbar.taskbarTemplate;\n        var renderedBaseline = false;\n        if (!taskbar.isMilestone) {\n            var taskbarPen_1 = new PdfPen(taskbar.taskBorderColor);\n            var taskBrush_1 = new PdfSolidBrush(taskbar.taskColor);\n            var manualParentBorderPen = new PdfPen(taskbar.manualParentBorder);\n            var manualChildBorderPen = new PdfPen(taskbar.manualChildBorder);\n            var manualTaskbarPen = new PdfPen(taskbar.manuallineColor);\n            var manualParentPen = new PdfPen(taskbar.manualParentProgress);\n            var manualline = new PdfPen(taskbar.manuallineColor);\n            var manuallineBrush = new PdfSolidBrush(taskbar.manuallineColor);\n            var splitline = new PdfPen(taskbar.splitLineBackground);\n            var manualBrush = new PdfSolidBrush(taskbar.manualParentBackground);\n            var manualChildBrush = new PdfSolidBrush(taskbar.manualChildBackground);\n            var manualChildProgressBrush = new PdfSolidBrush(taskbar.manualChildProgress);\n            var manualProgressBrush = new PdfSolidBrush(taskbar.manualParentProgress);\n            var progressPen_1 = new PdfPen(taskbar.progressColor);\n            var progressBrush_1 = new PdfSolidBrush(taskbar.progressColor);\n            var adjustHeightforTaskbar = pixelToPoint((this.parent.rowHeight - this.height) / 2.0);\n            var adjustHeightforBaseline = pixelToPoint((this.parent.rowHeight - this.height) / 4.5);\n            var adjustHeight_1 = this.parent.renderBaseline ? adjustHeightforBaseline : adjustHeightforTaskbar;\n            pageIndex = page.section.indexOf(page);\n            var startDate = isNullOrUndefined(this.unscheduleStarteDate) ? this.startDate : this.unscheduleStarteDate;\n            var endDate = isNullOrUndefined(this.unscheduleEndDate) ? this.endDate : this.unscheduleEndDate;\n            var imageSize_1 = 10;\n            //Task start and end date both are in the range of header split up start and end date\n            if (detail.startDate <= startDate && endDate <= detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, startPoint.y + adjustHeight_1, (taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (renderBaselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(renderBaselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        renderedBaseline = true;\n                    }\n                    if (taskbar.isSpliterTask) {\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data) {\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                        taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat);\n                                    }\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                        taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat);\n                                    }\n                                }\n                            }\n                        });\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        taskGraphics.save();\n                        var path = new PdfPath();\n                        path.addEllipse(0, 0, 5, 5);\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                        taskGraphics.restore();\n                        var path1 = new PdfPath();\n                        path1.addEllipse(0, 0, 5, 5);\n                        taskGraphics.save();\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1);\n                        taskGraphics.restore();\n                        manualline.dashStyle = PdfDashStyle.Solid;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                        else {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                    }\n                    else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + (taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0, (taskbar.taskbarTemplate.image[0].width) / 2.0, (taskbar.taskbarTemplate.image[0].height) / 2.0);\n                                }\n                                if (taskbar.taskbarTemplate.value) {\n                                    if (isLabelString) {\n                                        updatedWidth = this.width;\n                                    }\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width / 2.0 : 0;\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                    }\n                    if (this.isScheduledTask && taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) && !isNullOrUndefined(this.taskLabel)) {\n                                if (this.taskLabel !== '0' && this.taskLabel !== '0%') {\n                                    updatedWidth = this.progressWidth;\n                                }\n                                if (isLabelString) {\n                                    updatedWidth = this.width;\n                                }\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight_1, (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                                else {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight_1, pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                    }\n                    else if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data) {\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                        });\n                    }\n                }\n                this.isCompleted = true;\n                this.startPage = pageIndex;\n                this.endPage = pageIndex;\n            }\n            //Task start date is in the range of header split up start and end date\n            else if (detail.startDate <= startDate && detail.endDate >= startDate && (endDate >= detail.endDate)) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                var renderWidth_1 = 0;\n                var progressWidth = 0;\n                var splitRenderwidth_1 = 0;\n                this.width = this.width - (detail.totalWidth - (this.left - cumulativeWidth));\n                renderWidth_1 = (detail.totalWidth - (this.left - cumulativeWidth));\n                progressWidth = (detail.totalWidth - (this.left - cumulativeWidth));\n                splitRenderwidth_1 = renderWidth_1;\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, startPoint.y + adjustHeight_1, (renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    taskGraphics.save();\n                    var path = new PdfPath();\n                    path.addEllipse(0, 0, 5, 5);\n                    if (this.isAutoFit()) {\n                        taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    else {\n                        taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                    taskGraphics.restore();\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((renderWidth_1) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                    else {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(renderWidth_1) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.restore();\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (renderBaselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(renderBaselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        renderedBaseline = true;\n                    }\n                    if (taskbar.isSpliterTask) {\n                        var pervwidth_1 = 0;\n                        var valueChangeBlocker_1 = true;\n                        var lineWidth_1 = 0;\n                        taskbar.segment.map(function (item) {\n                            lineWidth_1 = item.left + item.width;\n                        });\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((lineWidth_1) + (this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(lineWidth_1) + pixelToPoint(this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data, index) {\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (taskbar.taskbarTemplate.image[0].width), (taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                        taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left) + imageWidth, startPoint.y + adjustHeight_1, (data.width), (taskbar.height), progressFormat);\n                                    }\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                        taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat);\n                                    }\n                                }\n                            }\n                            pervwidth_1 = data.left + data.width;\n                            if (renderWidth_1 >= pervwidth_1) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                            }\n                            else {\n                                if (renderWidth_1 >= (pervwidth_1 - data.width)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                                }\n                                else {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = ((splitRenderwidth_1 - data.left));\n                                }\n                                if (renderWidth_1 >= (pervwidth_1)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                }\n                                else {\n                                    if (valueChangeBlocker_1) {\n                                        _this.segmentCollection[parseInt(index.toString(), 10)].width = pervwidth_1 - renderWidth_1;\n                                        valueChangeBlocker_1 = false;\n                                    }\n                                }\n                            }\n                            splitRenderwidth_1 = splitRenderwidth_1 + data.width + data.left;\n                        });\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 0.5), (taskbar.taskbarTemplate.image[0].width / 2.0), (taskbar.taskbarTemplate.image[0].height / 2.0));\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    this.stringLeft = pixelToPoint(this.left);\n                                    var result_1 = this.getWidth(taskbar.taskbarTemplate.value, detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_1.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result_1.remainder)) {\n                                        this.remainString = result_1.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                            }\n                        }\n                        if (taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                            var progressBoundsWidth = 0;\n                            if (this.progressWidth <= renderWidth_1) {\n                                progressBoundsWidth = this.progressWidth;\n                            }\n                            else {\n                                progressBoundsWidth = renderWidth_1;\n                            }\n                            if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                                else {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                            }\n                            this.progressWidth -= progressBoundsWidth;\n                            if (this.parent.labelSettings.taskLabel && !isNullOrUndefined(this.taskLabel)) {\n                                updatedWidth = progressBoundsWidth;\n                                if (isLabelString) {\n                                    updatedWidth = renderWidth_1;\n                                }\n                                this.stringLeft = this.left;\n                                if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var result_2 = this.getWidth(this.taskLabel.toString(), detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_2.lines[0].text, taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result_2.remainder)) {\n                                        this.remainString = result_2.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                                else {\n                                    if (this.isAutoFit()) {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                    else {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (taskbar.isSpliterTask && taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= renderWidth_1) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = renderWidth_1;\n                        }\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressBoundsWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                            }\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (this.parent.labelSettings.taskLabel && !isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = progressBoundsWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                            else {\n                                taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                    else if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data, index) {\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (_this.segmentCollection[parseInt(index.toString(), 10)].width === 0) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = 0;\n                            }\n                            else {\n                                if (data.width - _this.segmentCollection[parseInt(index.toString(), 10)].width < data.progressWidth && data.width !== _this.segmentCollection[index].width) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = data.progressWidth - (data.width - _this.segmentCollection[index].width);\n                                }\n                            }\n                        });\n                    }\n                }\n                this.left = 0;\n                this.isCompleted = false;\n                this.startPage = pageIndex;\n            }\n            //Task end date is in the range of header split up start and end date\n            else if (endDate <= detail.endDate && detail.startDate <= endDate && !this.isCompleted) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (renderBaselineWidth), pixelToPoint(this.baselineHeight));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(renderBaselineWidth), pixelToPoint(this.baselineHeight));\n                    }\n                    renderedBaseline = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (taskbar.left + 0.5) + (taskbar.width) / 2, 0), new PointF(startPoint.x + (taskbar.left + 0.5), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (taskbar.left + 0.5), startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (taskbar.left + 0.5) + (taskbar.width), 0), new PointF(startPoint.x + (taskbar.left + 0.5) + (taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (taskbar.left + 0.5) + (taskbar.width) / 2, startPoint.y + adjustHeight_1, (taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (taskbar.left + 0.5), startPoint.y + adjustHeight_1, (taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var path1 = new PdfPath();\n                    path1.addEllipse(0, 0, 5, 5);\n                    taskGraphics.save();\n                    if (this.isAutoFit()) {\n                        taskGraphics.translateTransform(startPoint.x + (this.width), startPoint.y + adjustHeight_1 - 2);\n                    }\n                    else {\n                        taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.width) - 5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1);\n                    taskGraphics.restore();\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x, startPoint.y + adjustHeight_1), new PointF((taskbar.width), startPoint.y + adjustHeight_1));\n                    }\n                    else {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(taskbar.width), startPoint.y + adjustHeight_1));\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + taskbar.left + 0.5, startPoint.y + adjustHeight_1, taskbar.width, taskbar.height);\n                    }\n                    else {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + taskbar.left + 0.5, startPoint.y + adjustHeight_1, taskbar.width, taskbar.height);\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.restore();\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + taskbar.left + 0.5, startPoint.y + adjustHeight_1, taskbar.progressWidth, taskbar.height);\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (taskbar.isSpliterTask) {\n                    splitline.dashStyle = PdfDashStyle.Dot;\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((taskbar.width) + startPoint.x + (this.left), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                    }\n                    else {\n                        taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                    }\n                    taskbar.segmentCollection.map(function (data) {\n                        if (data.width !== 0) {\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                        taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (taskbar.left + 0.5 + data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat);\n                                    }\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                        taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat);\n                                    }\n                                }\n                            }\n                        }\n                    });\n                }\n                else {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (taskbar.left + 0.5), startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            if (!isNullOrUndefined(this.remainString)) {\n                                var result_3 = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                                taskGraphics.drawString(result_3.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left), (startPoint.y + adjustHeight_1), (updatedWidth), (this.height), progressFormat);\n                            }\n                        }\n                    }\n                    else {\n                        taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        if (!isNullOrUndefined(this.remainString)) {\n                            var result = this.getWidth(this.remainString, taskbar.width - taskbar.left, 15);\n                            taskGraphics.drawString(result.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left), (startPoint.y + adjustHeight_1), result.actualSize.width, pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                if (this.isScheduledTask && taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (taskbar.left + 0.5), startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(taskbar.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                        }\n                    }\n                    if (!isNullOrUndefined(this.taskLabel)) {\n                        updatedWidth = this.progressWidth;\n                        if (isLabelString) {\n                            updatedWidth = this.width;\n                        }\n                        if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left), (startPoint.y + adjustHeight_1), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                            else {\n                                if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    if (!isNullOrUndefined(this.remainString)) {\n                                        var result_4 = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                                        taskGraphics.drawString(result_4.lines[0].text, font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                }\n                            }\n                        }\n                        if (!isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = this.progressWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawString(this.taskLabel.toString(), font, fontColor, fontBrush, startPoint.x + (this.left), (startPoint.y + adjustHeight_1), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                            else {\n                                taskGraphics.drawString(this.taskLabel.toString(), font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                }\n                else if (taskbar.isSpliterTask) {\n                    taskbar.segmentCollection.map(function (data) {\n                        if (_this.isAutoFit()) {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                        }\n                    });\n                }\n                this.isCompleted = true;\n                this.endPage = pageIndex;\n            }\n            //Header splitup start and end date with in the task start and end date.\n            //So the task is takes entire width of page.\n            else if (startDate < detail.startDate && endDate > detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (renderBaselineWidth), pixelToPoint(this.baselineHeight));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(renderBaselineWidth), pixelToPoint(this.baselineHeight));\n                    }\n                    renderedBaseline = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (taskbar.left) + 0.5 + (detail.totalWidth) / 2, 0), new PointF(startPoint.x + (taskbar.left), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (taskbar.left) + 0.5, startPoint.y + adjustHeight_1, (detail.totalWidth), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (taskbar.left) + 0.5 + (detail.totalWidth), 0), new PointF(startPoint.x + (taskbar.left) + (detail.totalWidth) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (taskbar.left) + 0.5 + (detail.totalWidth) / 2, startPoint.y + adjustHeight_1, (detail.totalWidth) / 2, pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left) + pixelToPoint(detail.totalWidth) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x, startPoint.y + adjustHeight_1), new PointF((detail.totalWidth), startPoint.y + adjustHeight_1));\n                    }\n                    else {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(detail.totalWidth), startPoint.y + adjustHeight_1));\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + taskbar.left + 0.5, startPoint.y + adjustHeight_1, detail.totalWidth, taskbar.height);\n                    }\n                    else {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + taskbar.left + 0.5, startPoint.y + adjustHeight_1, detail.totalWidth, taskbar.height);\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.restore();\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + taskbar.left + 0.5, startPoint.y + adjustHeight_1, detail.totalWidth, taskbar.height);\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    }\n                }\n                else {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (taskbar.left) + 0.5, startPoint.y + adjustHeight_1, (detail.totalWidth), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            if (!isNullOrUndefined(this.remainString)) {\n                                var result_5 = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                                taskGraphics.drawString(result_5.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, (startPoint.y + adjustHeight_1), pixelToPoint(detail.totalWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                }\n                if (this.isScheduledTask) {\n                    var progressBoundsWidth = 0;\n                    if (this.progressWidth <= detail.totalWidth) {\n                        progressBoundsWidth = this.progressWidth;\n                    }\n                    else {\n                        progressBoundsWidth = detail.totalWidth;\n                    }\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (taskbar.left) + 0.5, startPoint.y + adjustHeight_1, (progressBoundsWidth), pixelToPoint(taskbar.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                        }\n                    }\n                    this.progressWidth -= progressBoundsWidth;\n                    if (!isNullOrUndefined(this.taskLabel)) {\n                        updatedWidth = progressBoundsWidth;\n                        if (isLabelString) {\n                            updatedWidth = this.width;\n                        }\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left), (startPoint.y + adjustHeight_1), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                        else {\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                this.isCompleted = false;\n                this.width -= detail.totalWidth;\n            }\n            if (!this.isAutoSchedule && taskbar.isParentTask) {\n                if (detail.startDate <= taskbar.autoStartDate && taskbar.autoEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                        }\n                    }\n                    this.isCompletedAutotask = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.autoStartDate && detail.endDate >= taskbar.autoStartDate && (taskbar.autoEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var renderWidth = 0;\n                    var progressWidth = 0;\n                    renderWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    progressWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(progressWidth), pixelToPoint(12));\n                        }\n                        taskbar.autoWidth = taskbar.autoWidth - renderWidth;\n                        taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                    }\n                    this.autoLeft = 0;\n                    this.isCompletedAutotask = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.autoEndDate <= detail.endDate && detail.startDate <= taskbar.autoEndDate && !this.isCompletedAutotask) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, (taskbar.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, (taskbar.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                        }\n                    }\n                    this.isCompletedAutotask = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.autoStartDate < detail.startDate && taskbar.autoEndDate > detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            if (taskbar.progressWidth !== 0) {\n                                taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                            }\n                        }\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                    }\n                    this.isCompletedAutotask = false;\n                    this.autoWidth -= detail.totalWidth;\n                }\n            }\n            if (!isNullOrUndefined(taskbar.indicators) && taskbar.indicators.length > 0) {\n                taskbar.indicators.map(function (items, index) {\n                    var currendate = _this.parent.dateValidationModule.getDateFromFormat(items.date, true);\n                    if (detail.startDate <= currendate && currendate <= detail.endDate) {\n                        var leftValue = _this.parent.chartRowsModule.getIndicatorleft(items.date);\n                        if (!isNullOrUndefined(items.base64)) {\n                            var image = new PdfBitmap(items.base64);\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawImage(image, startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 10, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1, startPoint.y + adjustHeight_1, null);\n                            }\n                            else {\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 10, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1, startPoint.y + adjustHeight_1, null);\n                            }\n                        }\n                    }\n                });\n            }\n        }\n        else {\n            this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar);\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar);\n            }\n        }\n        if (this.baselineEndDate >= detail.startDate && !renderedBaseline && detail.startIndex !== 1 && this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n            var adjustHeight = pixelToPoint((this.parent.rowHeight - this.height) / 4.5);\n            if (this.isAutoFit()) {\n                taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight + pixelToPoint(taskbar.height + 3), (renderBaselineWidth), pixelToPoint(this.baselineHeight));\n            }\n            else {\n                taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight + pixelToPoint(taskbar.height + 3), pixelToPoint(renderBaselineWidth), pixelToPoint(this.baselineHeight));\n            }\n        }\n        if (this.baselineEndDate >= detail.startDate && !renderedBaseline && detail.startIndex !== 1 && this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n            var adjustHeight = pixelToPoint((this.parent.rowHeight - this.height) / 4.5);\n            if (this.isAutoFit()) {\n                taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight + pixelToPoint(taskbar.height + 3), (renderBaselineWidth), pixelToPoint(this.baselineHeight));\n            }\n            else {\n                taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight + pixelToPoint(taskbar.height + 3), pixelToPoint(renderBaselineWidth), pixelToPoint(this.baselineHeight));\n            }\n        }\n        this.drawRightLabel(page, startPoint, detail, cumulativeWidth);\n        return isNextPage;\n    };\n    /* eslint-enable */\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @returns {void}\n     * Draw task right side label\n     */\n    PdfGanttTaskbarCollection.prototype.drawRightLabel = function (page, startPoint, detail, cumulativeWidth) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.rightTaskLabel.value)) {\n            if (this.rightTaskLabel.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    left = (this.rightTaskLabel.left);\n                }\n                else {\n                    left = pixelToPoint(this.rightTaskLabel.left);\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(this.rightTaskLabel.value) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidth(this.rightTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.actualSize.width, result.actualSize.height);\n                var labelBounds = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Right;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    /* eslint-disable-next-line */\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, labelBounds.x, labelBounds.y, result.actualSize.width, result.actualSize.height, labelFormat);\n                    if (result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        this.rightTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n                this.previousWidthofRightImage = 0;\n                this.previousWidthofRightValue = 0;\n                for (var i = 0; i < this.labelSettings.rightLabel.image.length; i++) {\n                    this.drawRigthlabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.image[i]);\n                    if (this.labelSettings.rightLabel.value) {\n                        var value = this.labelSettings.rightLabel.value.split(',');\n                        if (value) {\n                            this.rightTaskLabel.isCompleted = false;\n                            this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (this.labelSettings.rightLabel.value) {\n                this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRigthlabelImage = function (page, startPoint, detail, cumulativeWidth, rightImage) {\n        var left;\n        var graphics = page.graphics;\n        var labelBounds;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel) && !isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = this.rightTaskLabel.left + +this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    var value = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                        value = this.labelSettings.rightLabel.value.split(',');\n                    }\n                    if (this.labelSettings.rightLabel.image.length > 1 && value.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(this.labelSettings.rightLabel) && !this.rightTaskLabel.isCompleted) {\n                var result = new SizeF(rightImage.width, rightImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.width, result.height);\n                labelBounds = new RectangleF(point, size);\n                var image = new PdfBitmap(rightImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, labelBounds.x, labelBounds.y, result.width, result.height);\n                    if (this.labelSettings.rightLabel.value !== null) {\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRightLabelValue = function (page, startPoint, detail, cumulativeWidth, rightString) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = this.rightTaskLabel.left + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = this.rightTaskLabel.left + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(rightString) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.actualSize.width, result.actualSize.height);\n                var labelBound = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Right;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.rightLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize, this.labelSettings.rightLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.rightLabel.fontStyle.fontColor ? new PdfSolidBrush(this.labelSettings.rightLabel.fontStyle.fontColor) : fontBrush;\n                    /* eslint-disable-next-line */\n                    graphics.drawString(rightString, newFont, fontColor, newFontBrush, labelBound.x, labelBound.y, result.actualSize.width, result.actualSize.height, labelFormat);\n                    if (!isNullOrUndefined(result.remainder) && result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @returns {void}\n     * Draw task left task label\n     */\n    PdfGanttTaskbarCollection.prototype.drawLeftLabel = function (page, startPoint, detail, cumulativeWidth, taskbar) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(this.leftTaskLabel.value)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidth(this.leftTaskLabel.value, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                if (this.isAutoFit()) {\n                    left = (labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                left = this.leftTaskLabel.left;\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = taskbar.left - taskbar.autoLeft;\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - cumulativeWidth + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - cumulativeWidth + startPoint.x - leftValue;\n                    }\n                }\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = pixelToPoint(taskbar.left) - pixelToPoint(taskbar.autoLeft);\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x - leftValue;\n                    }\n                }\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(this.leftTaskLabel.value)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidth(this.leftTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.actualSize.width, result.actualSize.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    /* eslint-disable-next-line */\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    if (result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n                this.previousWidthofLeftImage = 0;\n                this.previousWidthofLeftValue = 0;\n                this.totalLeftWidth = 0;\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    var value = void 0;\n                    var result = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                        value = this.labelSettings.leftLabel.value.split(',');\n                        result = this.getWidth(value[i], Number.MAX_VALUE, 15);\n                    }\n                    var totalstringWidth = !isNullOrUndefined(result) ? result.actualSize.width : 0;\n                    this.totalLeftWidth += this.labelSettings.leftLabel.image[i].width + totalstringWidth;\n                }\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    this.drawLeftLabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.image[i]);\n                    if (this.labelSettings.leftLabel.value) {\n                        var value = this.labelSettings.leftLabel.value.split(',');\n                        if (value) {\n                            this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelImage = function (page, startPoint, detail, cumulativeWidth, leftLabelImage) {\n        var graphics = page.graphics;\n        var left;\n        var labelLeft = 0;\n        labelLeft = this.left;\n        if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = labelLeft - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                else {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = pixelToPoint(labelLeft) - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = pixelToPoint(labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                if (this.labelSettings.leftLabel.image.length > 1) {\n                    left = this.leftTaskLabel.left + this.previousWidthofLeftValue;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(leftLabelImage)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.width, result.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var image = new PdfBitmap(leftLabelImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, rightLabelBounds.x, rightLabelBounds.y, result.width, result.height);\n                    this.totalLeftWidth = this.totalLeftWidth - result.width;\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelValue = function (page, startPoint, detail, cumulativeWidth, leftLabelValue) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(leftLabelValue)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    var isLeftImageExist = !isNullOrUndefined(this.labelSettings.leftLabel.image) ? true : false;\n                    var imageLength = isLeftImageExist ? this.labelSettings.leftLabel.image.length : 0;\n                    if (value.length === 1 && isLeftImageExist && imageLength === 1) {\n                        left = this.leftTaskLabel.left + this.previousWidthofLeftImage;\n                        this.labelSettings.left = left;\n                        var result_6 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_6.actualSize.width;\n                    }\n                    else if (value.length > 1 && isLeftImageExist && imageLength > 1) {\n                        var totalWidth = (this.previousWidthofLeftValue !== 0) ? this.previousWidthofLeftValue\n                            + this.previousWidthofLeftImage : this.previousWidthofLeftImage;\n                        left = this.leftTaskLabel.left + totalWidth;\n                        this.labelSettings.left = left;\n                        var result_7 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_7.actualSize.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.actualSize.width;\n                    }\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (value.length === 1) {\n                    left = this.leftTaskLabel.left + this.previousWidthofLeftImage;\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else if (value.length > 1) {\n                    var totalWidth = (this.previousWidthofLeftValue !== 0) ?\n                        this.previousWidthofLeftValue + this.previousWidthofLeftImage\n                        : this.previousWidthofLeftImage;\n                    left = this.leftTaskLabel.left + totalWidth;\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(leftLabelValue)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.actualSize.width, result.actualSize.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.leftLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize, this.labelSettings.leftLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.leftLabel.fontStyle.fontColor ?\n                        new PdfSolidBrush(this.labelSettings.leftLabel.fontStyle.fontColor) : fontBrush;\n                    graphics.drawString(leftLabelValue, newFont, fontColor, newFontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    var value = this.labelSettings.leftLabel.value.split(',');\n                    if ((!isNullOrUndefined(result.remainder)) && result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else if (!isNullOrUndefined(this.labelSettings.leftLabel.image) &&\n                        this.labelSettings.leftLabel.image.length === 1 && value.length === 1) {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.getWidth = function (value, width, height) {\n        var font = new PdfStandardFont(this.fontFamily, 9);\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofLeftLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.leftLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofrightLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.rightLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    /**\n     * @param {PdfGraphics} taskGraphics .\n     * @param {PointF} startPoint .\n     * @param {number} cumulativeWidth .\n     * @param {number} adjustHeight .\n     * @returns {void}\n     * Draw Unscheduled Task\n     */\n    PdfGanttTaskbarCollection.prototype.drawUnscheduledTask = function (taskGraphics, startPoint, cumulativeWidth, adjustHeight) {\n        var taskBrush = new PdfSolidBrush(this.taskColor);\n        if (this.isAutoFit()) {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n        else {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     *  @param {PdfGanttTaskbarCollection} taskbar .\n     * @returns {void}\n     * Draw milestone task\n     */\n    PdfGanttTaskbarCollection.prototype.drawMilestone = function (page, startPoint, detail, cumulativeWidth, taskbar) {\n        if (detail.startDate <= this.startDate && this.startDate <= detail.endDate) {\n            var taskGraphics = page.graphics;\n            var pageIndex = page.section.indexOf(page);\n            this.taskStartPoint = __assign({}, startPoint);\n            var milestonePen = new PdfPen(this.milestoneColor);\n            var adjustHeightforBaselineMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 3.0));\n            var adjustHeightforMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 2.0));\n            var adjustHeight = this.parent.renderBaseline ? adjustHeightforBaselineMilesone : adjustHeightforMilesone;\n            var milestoneBrush = new PdfSolidBrush(this.milestoneColor);\n            var baselinePen = new PdfPen(this.baselineBorderColor);\n            var baselineBrush = new PdfSolidBrush(this.baselineColor);\n            taskGraphics.save(); //saving graphics state\n            var height = Math.floor(this.parent.chartRowsModule.taskBarHeight * 0.8);\n            if (this.isAutoFit()) {\n                taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n            }\n            else {\n                taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n            }\n            taskGraphics.rotateTransform(45); //apply rotation\n            if (this.parent.renderBaseline && this.baselineStartDate && this.baselineEndDate) {\n                taskGraphics.drawRectangle(baselinePen, baselineBrush, 2, 2, pixelToPoint(height), pixelToPoint(height));\n            }\n            taskGraphics.drawRectangle(milestonePen, milestoneBrush, 0, 0, pixelToPoint(height), pixelToPoint(height));\n            taskGraphics.restore(); //restoring graphics state\n            if (this.isAutoFit()) {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + (this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        ((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    var width = taskbar.taskbarTemplate.image[0].width / 2.0;\n                    var height_1 = taskbar.taskbarTemplate.image[0].height / 2.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        (((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), width, height_1);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + pixelToPoint(this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint(((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height - 2));\n                }\n            }\n            this.endPage = this.startPage = pageIndex;\n        }\n    };\n    return PdfGanttTaskbarCollection;\n}());\nexport { PdfGanttTaskbarCollection };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, PdfFontFamily, PdfBrushes, RectangleF } from '@syncfusion/ej2-pdf-export';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\n/**\n */\nvar PdfTimeline = /** @class */ (function () {\n    function PdfTimeline(gantt) {\n        this.holidayCompleted = false;\n        this.fitHolidayCompleted = false;\n        this.timelineWidth = 0;\n        this.lastWidth = 0;\n        this.width = 0;\n        this.gantt = gantt;\n        this.parent = gantt.parent;\n        this.topTierPoint = new PointF();\n        this.bottomTierPoint = new PointF();\n        this.topTierIndex = 0;\n        this.bottomTierIndex = 0;\n        this.prevTopTierIndex = 0;\n        this.prevBottomTierIndex = 0;\n    }\n    /**\n     * @private\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @returns {void}\n     */\n    PdfTimeline.prototype.drawTimeline = function (page, startPoint, detail) {\n        this.detailsTimeline = detail;\n        var remainWidth = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n            pointToPixel(Math.floor(detail.totalWidth)) : Math.round(detail.totalWidth);\n        var renderWidth = 0;\n        this.topTierPoint.x = startPoint.x;\n        this.topTierPoint.y = startPoint.y;\n        this.prevTopTierIndex = this.topTierIndex;\n        this.prevBottomTierIndex = this.bottomTierIndex;\n        while (remainWidth > 0) {\n            var pHeader = this.topTier[this.topTierIndex];\n            if (this.topTier.length > this.topTierIndex) {\n                var isCompleted = false;\n                if (!this.topTier[this.topTierIndex].isFinished) {\n                    if (remainWidth >= pHeader.width) {\n                        renderWidth = pHeader.width;\n                        pHeader.isFinished = true;\n                        pHeader.completedWidth = renderWidth;\n                        isCompleted = true;\n                    }\n                    else {\n                        renderWidth = remainWidth;\n                        isCompleted = false;\n                        pHeader.isFinished = false;\n                        pHeader.width = pHeader.width - remainWidth;\n                        pHeader.completedWidth = renderWidth;\n                    }\n                }\n                //Primary header Event Arguments\n                /* eslint-disable-next-line */\n                this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? renderWidth : pixelToPoint(renderWidth), pHeader.value, true, this.parent.timelineModule.isSingleTier && this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                this.topTierPoint.x += (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? renderWidth : pixelToPoint(renderWidth);\n                remainWidth -= renderWidth;\n                if (isCompleted) {\n                    this.topTierIndex++;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        remainWidth = Math.round(detail.totalWidth);\n        var height = this.parent.timelineModule.isSingleTier ? 0 : this.topTierHeight;\n        this.bottomTierPoint = new PointF(startPoint.x, pixelToPoint(startPoint.y + height));\n        while (remainWidth > 0) {\n            var secondHeader = this.bottomTier[this.bottomTierIndex];\n            if (this.bottomTier.length > this.bottomTierIndex) {\n                var isCompleted = true;\n                var width = secondHeader.width;\n                if (remainWidth < width) {\n                    width = remainWidth;\n                    isCompleted = false;\n                    secondHeader.completedWidth = width;\n                }\n                //Secondary header Event Arguments\n                this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? width : pixelToPoint(width), secondHeader.value, false, secondHeader.startDate);\n                this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                    this.bottomTierPoint.x + width : this.bottomTierPoint.x + pixelToPoint(width);\n                remainWidth -= width;\n                secondHeader.completedWidth = width;\n                // if (isCompleted) {\n                this.bottomTierIndex++;\n                // }\n                if (remainWidth > 0 && remainWidth < width) {\n                    remainWidth = secondHeader.width - 1;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        this.timelineWidth = this.lastWidth;\n    };\n    /**\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails}  detail .\n     * @returns {void} .\n     * Draw the specific gantt chart side header when the taskbar exceeds the page\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.drawPageTimeline = function (page, startPoint, detail) {\n        this.topTierPoint = extend({}, {}, startPoint, true);\n        for (var index = this.prevTopTierIndex; index <= this.topTierIndex; index++) {\n            if (this.topTier.length > index) {\n                var pHeader = this.topTier[index];\n                if (pHeader.completedWidth > 0) {\n                    //Primary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pHeader.completedWidth : pixelToPoint(pHeader.completedWidth), pHeader.value, true, this.parent.timelineModule.isSingleTier &&\n                        this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                    this.topTierPoint.x += (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        pHeader.completedWidth : pixelToPoint(pHeader.completedWidth);\n                }\n            }\n        }\n        this.bottomTierPoint.x = startPoint.x;\n        this.bottomTierPoint.y = pixelToPoint(startPoint.y + this.topTierHeight);\n        for (var index = this.prevBottomTierIndex; index <= this.bottomTierIndex; index++) {\n            if (this.bottomTier.length > index) {\n                var secondHeader = this.bottomTier[index];\n                if (secondHeader.completedWidth > 0) {\n                    //Secondary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? secondHeader.width : pixelToPoint(secondHeader.width), secondHeader.value, false, secondHeader.startDate);\n                    this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        this.bottomTierPoint.x + secondHeader.width : this.bottomTierPoint.x + pixelToPoint(secondHeader.width);\n                }\n            }\n        }\n    };\n    /**\n     * Method to trigger pdf query timelinecell event\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.triggerQueryTimelinecell = function (page, x, y, height, width, value, isTopTier, currentDate) {\n        var _this = this;\n        var days = new Date(currentDate).getDay();\n        var graphics = page.graphics;\n        var timelineStyle = {};\n        var ganttStyle = this.gantt.ganttStyle;\n        timelineStyle.borderColor = new PdfColor(ganttStyle.timeline.borderColor);\n        timelineStyle.fontColor = new PdfColor(ganttStyle.timeline.fontColor);\n        timelineStyle.fontSize = ganttStyle.timeline.fontSize;\n        timelineStyle.fontStyle = ganttStyle.timeline.fontStyle;\n        timelineStyle.backgroundColor = new PdfColor(ganttStyle.timeline.backgroundColor);\n        if (ganttStyle.timeline.padding) {\n            timelineStyle.padding = ganttStyle.timeline.padding;\n        }\n        var format = new PdfStringFormat();\n        if (isNullOrUndefined(ganttStyle.timeline.format)) {\n            if (isTopTier) {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Left;\n            }\n            else {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Center;\n                format.wordWrap = PdfWordWrapType.Character;\n            }\n        }\n        else {\n            format = ganttStyle.timeline.format;\n        }\n        timelineStyle.format = format;\n        var eventArgs = {\n            timelineCell: timelineStyle,\n            value: value\n        };\n        if (this.parent.pdfQueryTimelineCellInfo) {\n            this.parent.trigger('pdfQueryTimelineCellInfo', eventArgs);\n        }\n        var e = eventArgs.timelineCell;\n        var rectPen;\n        var rectBrush = new PdfSolidBrush(eventArgs.timelineCell.backgroundColor);\n        var nonWorkingDays = this.parent.nonWorkingDayIndex;\n        if (this.parent.highlightWeekends && nonWorkingDays.indexOf(days) !== -1 && (this.parent.timelineModule.bottomTier === 'Day' || this.parent.timelineModule.bottomTier === 'None' && this.parent.timelineModule.topTier === 'Day')) {\n            rectBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n        }\n        this.parent.holidays.map(function (item) {\n            var fromDate = new Date(item.from);\n            var toDate = new Date(item.to);\n            var timelinedate = new Date(currentDate);\n            if (fromDate <= timelinedate && toDate >= timelinedate && (_this.parent.timelineModule.bottomTier === 'Day' || (_this.parent.timelineModule.bottomTier === 'None' && _this.parent.timelineModule.topTier === 'Day'))) {\n                rectBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n                if (fromDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayWidth = x;\n                }\n                if (toDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayLabel = item.label;\n                    var changeDate = new Date(item.to);\n                    changeDate.setDate(changeDate.getDate() + 1);\n                    var day = _this.parent.dataOperation.getTaskWidth(fromDate, changeDate);\n                    _this.holidayNumberOfDays = day / width;\n                    _this.holidayCompleted = true;\n                }\n            }\n            else if (_this.parent.timelineModule.bottomTier !== 'Day') {\n                if (_this.detailsTimeline.startDate <= fromDate && _this.detailsTimeline.endDate >= fromDate) {\n                    _this.parent.timelineModule.bottomTierCollection.map(function (items) {\n                        if (items.startDate <= fromDate && items.endDate >= fromDate) {\n                            if (items.startDate === currentDate) {\n                                _this.fitHolidayCompleted = true;\n                                _this.fromDataHoliday = item.from;\n                                _this.holidayLabel = item.label;\n                            }\n                        }\n                    });\n                }\n            }\n        });\n        var rectPen1 = new PdfPen(eventArgs.timelineCell.borderColor);\n        if (!this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            this.lastWidth = x + width;\n        }\n        graphics.drawRectangle(rectPen1, rectBrush, x, y, width, pixelToPoint(height));\n        if (!isTopTier && (this.parent.gridLines === 'Both' || this.parent.gridLines === 'Vertical')) {\n            rectPen = new PdfPen(eventArgs.timelineCell.borderColor);\n        }\n        else {\n            rectPen = null;\n        }\n        graphics.drawRectangle(rectPen, rectBrush, x, y + pixelToPoint(height), width, page.getClientSize().height);\n        if (this.holidayCompleted) {\n            var state_1 = graphics.save();\n            var font1 = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n            var fontHieght = font1.height;\n            var fontSize = font1.size;\n            graphics.translateTransform(this.holidayWidth + width - ((fontSize / 2) * this.holidayNumberOfDays) -\n                fontHieght + (fontHieght / 2) + (width * this.holidayNumberOfDays) / 2, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(page.getClientSize().height / 2), -40);\n            graphics.drawString(this.holidayLabel, font1, null, PdfBrushes.Black, 10, 10, null);\n            graphics.restore(state_1);\n            this.holidayCompleted = false;\n        }\n        if (this.fitHolidayCompleted) {\n            var holidayBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n            var font1 = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n            var fontSize = font1.size;\n            graphics.drawRectangle(null, holidayBrush, x + (width / 2) - fontSize, y +\n                pixelToPoint(height), fontSize, page.getClientSize().height);\n            var state_2 = graphics.save();\n            graphics.translateTransform(x + width + (width / 2) - fontSize, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(page.getClientSize().height / 2), -40);\n            graphics.drawString(this.holidayLabel, font1, null, PdfBrushes.Black, 10, 10, null);\n            graphics.restore(state_2);\n            this.fitHolidayCompleted = false;\n        }\n        var font = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n        if (ganttStyle.font) {\n            font = ganttStyle.font;\n        }\n        var textBrush = new PdfSolidBrush(eventArgs.timelineCell.fontColor);\n        var pLeft = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.left : 0;\n        var pTop = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.top : 0;\n        /* eslint-disable-next-line */\n        var state = graphics.save();\n        graphics.setClip(new RectangleF(x, y, width, pixelToPoint(height)));\n        if (isTopTier) {\n            x = x + pLeft + 4;\n        }\n        else {\n            x = x + pLeft;\n        }\n        graphics.drawString(eventArgs.value, font, null, textBrush, x, y + pTop, pixelToPoint(width), pixelToPoint(height), e.format);\n        graphics.restore(state);\n    };\n    return PdfTimeline;\n}());\nexport { PdfTimeline };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfPage, PdfPen, PdfSolidBrush, RectangleF, SizeF } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttPredecessor = /** @class */ (function () {\n    function PdfGanttPredecessor(parent, pdfGantt) {\n        this.parent = parent;\n        this.pdfGantt = pdfGantt;\n    }\n    /**\n     * @returns {PdfGanttPredecessor} .\n     * @hidden\n     */\n    PdfGanttPredecessor.prototype.add = function () {\n        return new PdfGanttPredecessor(this.parent);\n    };\n    PdfGanttPredecessor.prototype.findindex = function (num) {\n        var dataindex;\n        if (!this.parent.enableVirtualization) {\n            this.parent.currentViewData.map(function (data, index) { if (data.index === num) {\n                dataindex = index;\n            } });\n            return dataindex;\n        }\n        else {\n            this.parent.flatData.map(function (data, index) { if (data.index === num) {\n                dataindex = index;\n            } });\n            return dataindex;\n        }\n    };\n    /**\n     * Calculate the predecesor line point and draw the predecessor\n     *\n     * @param {PdfGantt} pdfGantt .\n     * @returns {void}\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawPredecessor = function (pdfGantt) {\n        this.pdfGantt = pdfGantt;\n        var pages = pdfGantt.result.page.section.getPages();\n        var parentTask = pdfGantt.taskbarCollection[this.findindex(this.parentIndex)];\n        var childTask = pdfGantt.taskbarCollection[this.findindex(this.childIndex)];\n        var startPage = new PdfPage();\n        var endPage = new PdfPage();\n        var predecessorType = '';\n        var parentPageData;\n        var childPageData;\n        var parentY = 0;\n        var childY = 0;\n        switch (this.type) {\n            case 'FS':\n                if (childTask.startPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType1';\n                        }\n                        else {\n                            predecessorType = 'FSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType3';\n                        }\n                        else {\n                            predecessorType = 'FSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SF':\n                if (childTask.endPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType1';\n                        }\n                        else {\n                            predecessorType = 'SFType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType3';\n                        }\n                        else {\n                            predecessorType = 'SFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'FF':\n                if (childTask.endPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.endPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType1';\n                        }\n                        else {\n                            predecessorType = 'FFType2';\n                        }\n                    }\n                    else {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType3';\n                        }\n                        else {\n                            predecessorType = 'FFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SS':\n                if (childTask.startPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.startPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType1';\n                        }\n                        else {\n                            predecessorType = 'SSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType3';\n                        }\n                        else {\n                            predecessorType = 'SSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n        }\n        var midPointManualparent = Math.round((this.parent.rowHeight - 15) / 2.0);\n        var midPointforTaskbar = Math.round((this.parent.rowHeight - 1) / 2.0);\n        var midPointforBaseline = Math.round((this.parent.rowHeight - 10) / 2.0);\n        var midPoint = this.parent.renderBaseline ? midPointforBaseline :\n            ((!parentTask.isAutoSchedule && parentTask.isParentTask) || (!childTask.isAutoSchedule && childTask.isParentTask)) ?\n                midPointManualparent : midPointforTaskbar;\n        midPoint = pixelToPoint(midPoint);\n        /* eslint-disable-next-line */\n        var point1, point2, point3, point4, point5, point6;\n        point1 = point2 = point3 = point4 = point5 = point6 = new PointF();\n        var parentTaskpoint = __assign({}, parentTask.taskStartPoint);\n        var childTaskpoint = __assign({}, childTask.taskStartPoint);\n        parentY = parentTaskpoint.y + parentPageData.startPoint.y;\n        childY = childTaskpoint.y + childPageData.startPoint.y;\n        var ffpoint1;\n        var sspoint1;\n        var ffpoint3;\n        var ffpoint4;\n        var sspoint4;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            ffpoint1 = new PointF((this.parentLeft + this.parentWidth), parentY + midPoint);\n            sspoint1 = new PointF((this.parentLeft) - 1, parentY + midPoint);\n            ffpoint3 = new PointF((this.childLeft - 20), childY + midPoint);\n            ffpoint4 = new PointF((this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n            sspoint4 = new PointF((this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n        }\n        else {\n            ffpoint1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth), parentY + midPoint);\n            sspoint1 = new PointF(pixelToPoint(this.parentLeft) - 1, parentY + midPoint);\n            ffpoint3 = new PointF(pixelToPoint(this.childLeft - 20), childY + midPoint);\n            ffpoint4 = new PointF(pixelToPoint(this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n            sspoint4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n        }\n        switch (predecessorType) {\n            case 'FSType1':\n            case 'FSType3':\n                point1 = ffpoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                }\n                point3 = ffpoint3;\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FSType2':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, childY + 2);\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point4 = new PointF((this.childLeft - 20), childY + 2);\n                }\n                else {\n                    point4 = new PointF(pixelToPoint(this.childLeft - 20), childY + 2);\n                }\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FSType4':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, parentY + 2);\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point4 = new PointF((this.childLeft - 20), parentY + 2);\n                }\n                else {\n                    point4 = new PointF(pixelToPoint(this.childLeft - 20), parentY + 2);\n                }\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FFType1':\n            case 'FFType3':\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FFType2':\n            case 'FFType4':\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF((this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType1':\n            case 'SSType3':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType2':\n            case 'SSType4':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType1':\n            case 'SFType3':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType2':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF((this.childLeft + this.childWidth + 20), childY + 2);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), childY + 2);\n                }\n                point3 = new PointF(point2.x, childY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'SFType4':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF((this.childLeft + this.childWidth + 20), parentY + 2);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + 2);\n                }\n                point3 = new PointF(point2.x, parentY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n        }\n    };\n    /**\n     * Method to draw the predecessor lines with calculated connector points\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfGanttPredecessor.prototype.connectLines = function (startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6) {\n        this.drawLine(startPage, point1, point2);\n        this.drawLine(startPage, point2, point3);\n        this.drawLine(startPage, point3, point4);\n        if (!isNullOrUndefined(point5) && !isNullOrUndefined(point6)) {\n            this.drawLine(startPage, point4, point5);\n            this.drawLine(startPage, point5, point6);\n        }\n        this.drawArrow(endPage, childTask, midPoint);\n    };\n    /**\n     * Method to check the predecessor line  occurs within the page\n     *\n     * @param {RectangleF} rect .\n     * @param {number} x .\n     * @param {number} y .\n     * @returns {boolean} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.contains = function (rect, x, y) {\n        return rect.x <= x &&\n            x < rect.x + rect.width &&\n            rect.y <= y &&\n            y < rect.y + rect.height;\n    };\n    /**\n     * Find the PDF page index of given point\n     *\n     * @param {PointF} point .\n     * @returns {number} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.findPageIndex = function (point) {\n        var pageIndex = -1;\n        for (var index = 0; index < this.pdfGantt.pdfPageDetail.length; index++) {\n            var pageData = this.pdfGantt.pdfPageDetail[index];\n            var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n            if (this.contains(pageRect, point.x, point.y)) {\n                pageIndex = index;\n                break;\n            }\n        }\n        return pageIndex;\n    };\n    /**\n     * Draw predecessor line\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {PointF} endPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawLine = function (page, startPoint, endPoint) {\n        var pdfPages = this.pdfGantt.result.page.section.getPages();\n        var graphics = page.graphics;\n        var newEndPoint = __assign({}, endPoint);\n        var newStartPoint = __assign({}, endPoint);\n        var checkStartPoint = __assign({}, endPoint);\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        var endPointCheck = this.contains(pageRect, endPoint.x, endPoint.y);\n        var pageIndex = -1;\n        startPoint = new PointF(startPoint.x, startPoint.y);\n        endPoint = new PointF(endPoint.x, endPoint.y);\n        if (!startPointCheck && !endPointCheck || endPointCheck && !startPointCheck) {\n            pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                newStartPoint = startPoint;\n                newEndPoint = endPoint;\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        else if (!endPointCheck && startPointCheck) {\n            var pageRectLeft = pageRect.x;\n            var pageRectRight = pageRect.x + pageRect.width;\n            var pageRectBottom = pageRect.y + pageRect.height;\n            var pageRectTop = pageRect.y;\n            if (pageRectLeft > endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectLeft - 1;\n                newStartPoint.x = pageRectLeft - 1;\n            }\n            else if (pageRectRight < endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectRight;\n                newStartPoint.x = pageRectRight;\n                checkStartPoint.x += 1;\n            }\n            else if (pageRectBottom < endPoint.y) {\n                checkStartPoint.y = endPoint.y = pageRectBottom;\n                newStartPoint.y = pageRectBottom;\n                checkStartPoint.y += 1;\n                if (this.pdfGantt.enableHeader) {\n                    newStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            else if (pageRectTop > endPoint.y) {\n                newStartPoint.y = checkStartPoint.y = pageRectTop - 1;\n                endPoint.y = pageRectTop;\n                if (this.pdfGantt.enableHeader) {\n                    checkStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                    endPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            pageIndex = this.findPageIndex(checkStartPoint);\n            if (pageIndex !== -1) {\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        if (startPointCheck) {\n            startPoint = new PointF(startPoint.x, startPoint.y);\n            endPoint = new PointF(endPoint.x, endPoint.y);\n            startPoint.x = startPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            startPoint.y = startPoint.y - pageData.startPoint.y;\n            endPoint.x = endPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            endPoint.y = endPoint.y - pageData.startPoint.y;\n            var brush = new PdfSolidBrush(this.connectorLineColor);\n            var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n            graphics.drawLine(predecessorPen, startPoint, endPoint);\n        }\n    };\n    /**\n     * Draw predecessor arrow\n     *\n     * @param {PdfPage} page .\n     * @param {PdfGanttTaskbarCollection} childTask .\n     * @param {number} midPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawArrow = function (page, childTask, midPoint) {\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        /* eslint-disable-next-line */\n        var pageRect = new RectangleF(new PointF(pageData.startPoint.x, pageData.startPoint.y), new SizeF(pageData.width, pageData.height));\n        var startPoint = new PointF();\n        var pdfPages = page.section.getPages();\n        var width = 6 + this.lineWidth;\n        var point2;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF((this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF((this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF(pixelToPoint(this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF(pixelToPoint(this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        if (!startPointCheck) {\n            var pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                page = pdfPages[pageIndex + this.pdfGantt.chartPageIndex];\n            }\n        }\n        var graphics = page.graphics;\n        startPoint.x = startPoint.x - pageData.startPoint.x + pageData.pageStartX;\n        startPoint.y = startPoint.y - pageData.startPoint.y;\n        var point1 = new PointF(startPoint.x, startPoint.y + midPoint);\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - (width), point1.y - (width));\n            }\n            else {\n                point2 = new PointF(point1.x + (width), point1.y - (width));\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n            else {\n                point2 = new PointF(point1.x + pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n        }\n        var brush = new PdfSolidBrush(this.connectorLineColor);\n        var point3;\n        var predecessorPen;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            point3 = new PointF(point2.x, point2.y + (2 * width));\n            predecessorPen = new PdfPen(brush, (this.lineWidth));\n        }\n        else {\n            point3 = new PointF(point2.x, point2.y + pixelToPoint(2 * width));\n            predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n        }\n        graphics.drawLine(predecessorPen, point1, point2);\n        graphics.drawLine(predecessorPen, point2, point3);\n        graphics.drawLine(predecessorPen, point3, point1);\n    };\n    return PdfGanttPredecessor;\n}());\nexport { PdfGanttPredecessor };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfFontFamily, PdfStringFormat, PdfTextAlignment, PdfDashStyle, PdfBrushes } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(parent) {\n        this.parent = parent;\n    }\n    EventMarker.prototype.drawEventMarker = function (page, startPoint, cumulativeWidth, detail, eventMarker, cumulativeHeight) {\n        var taskGraphics = page.graphics;\n        var pageSize = page.getClientSize();\n        var font = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        /* eslint-disable-next-line */\n        var strSize;\n        if (!isNullOrUndefined(eventMarker.label)) {\n            strSize = font.measureString(eventMarker.label);\n        }\n        var triangle = 8;\n        var eventLine = new PdfPen(new PdfColor(0, 0, 0));\n        eventLine.dashStyle = PdfDashStyle.Dash;\n        if (detail.startDate <= eventMarker.date && eventMarker.date <= detail.endDate) {\n            var enventFormat = new PdfStringFormat();\n            enventFormat.alignment = PdfTextAlignment.Center;\n            var eventBrush = new PdfSolidBrush(new PdfColor(253, 191, 100));\n            var left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(eventMarker.date, true), false, true);\n            var diff = 10;\n            if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + (left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + (left - cumulativeWidth) + diff, pageSize.height));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    taskGraphics.save();\n                    taskGraphics.translateTransform(startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                    taskGraphics.rotateTransform(45);\n                    taskGraphics.drawRectangle(null, eventBrush, 0, 0, triangle, triangle);\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, eventBrush, startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                    taskGraphics.drawString(eventMarker.label, font, null, PdfBrushes.Black, startPoint.x +\n                        (left - cumulativeWidth) + 12 + diff, cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2), strSize.width, strSize.height, enventFormat);\n                }\n            }\n            else {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, pageSize.height));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    taskGraphics.save();\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                    taskGraphics.rotateTransform(45);\n                    taskGraphics.drawRectangle(null, eventBrush, 0, 0, triangle, triangle);\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, eventBrush, startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                    taskGraphics.drawString(eventMarker.label, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(left - cumulativeWidth) + 12 + diff, cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2), strSize.width, strSize.height, enventFormat);\n                }\n            }\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfGanttTaskbarCollection } from './pdf-taskbar';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PointF, PdfPen, PdfColor } from '@syncfusion/ej2-pdf-export';\nimport { PdfTreeGrid } from './pdf-treegrid';\nimport { PdfTimeline } from './pdf-timeline';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { PdfGanttPredecessor } from './pdf-connector-line';\nimport { EventMarker } from './pdf-event-marker';\n/**\n *\n */\nvar PdfGantt = /** @class */ (function (_super) {\n    __extends(PdfGantt, _super);\n    function PdfGantt(parent) {\n        var _this = _super.call(this) || this;\n        _this.exportProps = {};\n        _this.changeCloneProjectDates = false;\n        _this.parent = parent;\n        _this.chartHeader = new PdfTimeline(_this);\n        _this.eventMarker = new EventMarker(parent);\n        _this.predecessor = new PdfGanttPredecessor(parent, _this);\n        _this.headerDetails = [];\n        _this.pdfPageDetail = [];\n        _this.taskbarCollection = [];\n        _this.predecessorCollection = [];\n        return _this;\n    }\n    Object.defineProperty(PdfGantt.prototype, \"taskbar\", {\n        get: function () {\n            if (isNullOrUndefined(this.taskbars)) {\n                this.taskbars = new PdfGanttTaskbarCollection(this.parent);\n            }\n            return this.taskbars;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGantt.prototype.drawChart = function (result) {\n        this.result = result;\n        this.totalPages = this.result.page.section.count;\n        this.perColumnPages = this.totalPages / this.layouter.columnRanges.length;\n        this.calculateRange();\n        this.drawGantttChart();\n        this.drawPageBorder();\n    };\n    //Calcualte the header range for each pdf page based on schedule start and end date.\n    PdfGantt.prototype.calculateRange = function () {\n        var lastColumnRange = this.layouter.columnRanges[this.layouter.columnRanges.length - 1];\n        var totalColumnWidth = 0;\n        var isPageFinished = true;\n        var pageWidth = 0;\n        var remainWidth = 0;\n        var point = 0;\n        var headerWidth = pixelToPoint(this.chartHeader.width);\n        var timelineSettings = this.parent.timelineModule;\n        for (var index = lastColumnRange[0]; index <= lastColumnRange[1]; index++) {\n            totalColumnWidth += this.layouter.treegrid.columns.getColumn(index).width;\n        }\n        totalColumnWidth += 0.5;\n        if (totalColumnWidth + 100 < this.result.page.getClientSize().width) {\n            remainWidth = this.result.page.getClientSize().width - totalColumnWidth;\n            this.chartPageIndex = this.startPageIndex = this.totalPages - this.perColumnPages;\n            isPageFinished = false;\n            this.startPoint = new PointF(totalColumnWidth, 0);\n        }\n        else {\n            this.result.page.section.add();\n            this.chartPageIndex = this.startPageIndex = this.totalPages;\n            isPageFinished = true;\n            this.startPoint = new PointF(point, 0);\n        }\n        while (Math.round(point) < Math.round(headerWidth)) {\n            if (isPageFinished) {\n                pageWidth = this.result.page.getClientSize().width;\n            }\n            else {\n                pageWidth = remainWidth;\n                isPageFinished = true;\n            }\n            var detail = {};\n            var range = [];\n            var convertedWidth = pixelToPoint(this.chartHeader.bottomTierCellWidth);\n            var width = 0;\n            if (this.chartHeader.bottomTierCellWidth !== 0) {\n                width = (Math.floor(pageWidth / convertedWidth) * convertedWidth);\n            }\n            range[0] = point;\n            if (headerWidth - point <= width) {\n                range[1] = headerWidth;\n                detail.totalWidth = pointToPixel(headerWidth - point);\n            }\n            else {\n                range[1] = point + width;\n                detail.totalWidth = pointToPixel(width);\n            }\n            detail.startPoint = range[0];\n            detail.endPoint = range[1];\n            if (this.parent.cloneProjectStartDate.getHours() === 0 && this.parent.cloneProjectStartDate.getMinutes() === 0\n                && this.parent.cloneProjectStartDate.getSeconds() === 0) {\n                this.changeCloneProjectDates = true;\n                this.parent.cloneProjectStartDate.setHours(8);\n            }\n            var timelineStartDate = this.parent.dataOperation.getDateFromFormat(this.parent.timelineModule.timelineStartDate);\n            var count = isNullOrUndefined(timelineSettings.customTimelineSettings.bottomTier.count) ?\n                timelineSettings.customTimelineSettings.topTier.count : timelineSettings.customTimelineSettings.bottomTier.count;\n            var scheduleType = timelineSettings.customTimelineSettings.bottomTier.unit === 'None' ?\n                timelineSettings.customTimelineSettings.topTier.unit : timelineSettings.customTimelineSettings.bottomTier.unit;\n            switch (scheduleType) {\n                case 'Minutes':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + sDays * count);\n                        detail.startDate.setSeconds(detail.startDate.getSeconds() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setMinutes(detail.endDate.getMinutes() + eDays * count);\n                        break;\n                    }\n                case 'Hour':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays1 = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setHours(detail.startDate.getHours() + sDays1 * count);\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays1 = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setHours(detail.endDate.getHours() + eDays1 * count);\n                        break;\n                    }\n                case 'Day':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays = (Math.round(detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth)));\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays * count);\n                        var endDays = Math.round(((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth))) - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays * count);\n                        break;\n                    }\n                case 'Week':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays1 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 7);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays1 * count);\n                        var endDays1 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 7 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays1 * count);\n                        break;\n                    }\n                case 'Month':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays2 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 31);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays2 * count);\n                        var endDays2 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 31 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays2 * count);\n                        break;\n                    }\n                case 'Year':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays3 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 365);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays3 * count);\n                        var endDays3 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 365 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays3 * count);\n                        break;\n                    }\n            }\n            this.headerDetails.push(detail);\n            point += width;\n        }\n    };\n    PdfGantt.prototype.drawPageBorder = function () {\n        var pages = this.result.page.section.getPages();\n        for (var index = 0; index < pages.length; index++) {\n            var page = pages[index];\n            var graphics = page.graphics;\n            var pageSize = page.getClientSize();\n            var pen = new PdfPen(new PdfColor(206, 206, 206));\n            graphics.drawRectangle(pen, 0, 0, pageSize.width, pageSize.height);\n        }\n    };\n    //Draw the gantt chart side\n    PdfGantt.prototype.drawGantttChart = function () {\n        var _this = this;\n        var taskbarPoint = this.startPoint;\n        var pagePoint = new PointF();\n        var pageStartX = 0;\n        var cumulativeWidth = 0;\n        var cumulativeHeight = 0;\n        var pageData;\n        this.headerDetails.forEach(function (detail, index) {\n            var page = _this.result.page.section.getPages()[_this.startPageIndex];\n            page['contentWidth'] = (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pointToPixel(_this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint) : _this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint;\n            _this.chartHeader.drawTimeline(page, _this.startPoint, detail);\n            taskbarPoint.y = taskbarPoint.y + pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            pageStartX = taskbarPoint.x;\n            cumulativeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].startIndex = _this.startPageIndex;\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].pageStartPoint = taskbarPoint;\n            _this.parent.eventMarkerColloction.map(function (eventMarker) {\n                var timelimeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                _this.eventMarker.drawEventMarker(pdfPage, taskbarPoint, cumulativeWidth, detail, eventMarker, timelimeHeight);\n            });\n            for (var i = 0; i < _this.taskbarCollection.length; i++) {\n                var task = _this.taskbarCollection[i];\n                var rowHeight = _this.rows.getRow(i + 1).height;\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                var graphics = pdfPage.graphics;\n                var pen = new PdfPen(new PdfColor(206, 206, 206));\n                var lineWidth = void 0;\n                if (page['contentWidth'] && (_this.parent.gridLines === 'Both' || _this.parent.gridLines === 'Horizontal')) {\n                    lineWidth = _this.chartHeader.timelineWidth;\n                    graphics.drawRectangle(pen, pageStartX, taskbarPoint.y, (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit() &&\n                        _this.parent.timelineModule.bottomTier !== 'Day') ? page['contentWidth'] + 0.5 : lineWidth, rowHeight);\n                }\n                var isNextPage = task.drawTaskbar(pdfPage, taskbarPoint, detail, cumulativeWidth, rowHeight, _this.taskbarCollection[parseInt(i.toString(), 10)], lineWidth);\n                if (isNextPage) {\n                    if (_this.enableHeader) {\n                        taskbarPoint.y = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                    }\n                    _this.startPageIndex++;\n                    pageData = {};\n                    pageData.height = cumulativeHeight;\n                    pageData.pageStartX = pageStartX;\n                    pageData.startPoint = __assign({}, pagePoint);\n                    if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    else {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    _this.pdfPageDetail.push(pageData);\n                    pagePoint.y += pageData.height;\n                    if (_this.enableHeader) {\n                        cumulativeHeight = _this.chartHeader.height;\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                        cumulativeHeight = 0;\n                    }\n                }\n                taskbarPoint.y += rowHeight;\n                cumulativeHeight += rowHeight;\n                _this.parent.eventMarkerColloction.map(function (eventMarker) {\n                    var timelimeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                    _this.eventMarker.drawEventMarker(pdfPage, taskbarPoint, cumulativeWidth, detail, eventMarker, timelimeHeight);\n                });\n            }\n            _this.headerDetails[index].endIndex = _this.startPageIndex;\n            cumulativeWidth += detail.totalWidth;\n            pageData = {};\n            pageData.height = cumulativeHeight;\n            pageData.pageStartX = pageStartX;\n            pageData.startPoint = __assign({}, pagePoint);\n            if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                pageData.width = (detail.totalWidth);\n            }\n            else {\n                pageData.width = pixelToPoint(detail.totalWidth);\n            }\n            _this.pdfPageDetail.push(pageData);\n            pagePoint.x += pageData.width;\n            pagePoint.y = 0;\n            if (_this.enableHeader) {\n                cumulativeHeight = _this.chartHeader.height;\n            }\n            else {\n                taskbarPoint.y = 0;\n            }\n            if (_this.headerDetails.indexOf(detail) !== _this.headerDetails.length - 1) {\n                _this.result.page.section.add();\n                _this.startPageIndex = _this.result.page.section.count - 1;\n                taskbarPoint = _this.startPoint = new PointF(0, 0);\n            }\n        });\n        // Draw predecessor line.\n        for (var i = 0; i < this.predecessorCollection.length; i++) {\n            var predecessor = this.predecessorCollection[i];\n            predecessor.drawPredecessor(this);\n        }\n    };\n    return PdfGantt;\n}(PdfTreeGrid));\nexport { PdfGantt };\n","import { PdfGanttTheme } from './../export/pdf-base/pdf-style/gantt-theme';\nimport { PdfTreeGridLayoutFormat } from './../export/pdf-base/index';\nimport { isNullOrUndefined, getValue, extend } from '@syncfusion/ej2-base';\nimport { ExportHelper } from '../export/export-helper';\nimport { PdfDocument, PdfPageSettings, PdfPageOrientation, SizeF, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfGantt } from '../export/pdf-gantt';\n/**\n *\n * @hidden\n */\nvar PdfExport = /** @class */ (function () {\n    /**\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function PdfExport(parent) {\n        this.isPdfExport = false;\n        this.parent = parent;\n        this.helper = new ExportHelper(this.parent);\n        this.pdfDocument = undefined;\n    }\n    /**\n     * @returns {string} .\n     */\n    PdfExport.prototype.getModuleName = function () {\n        return 'pdfExport';\n    };\n    /**\n     * To destroy Pdf export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    PdfExport.prototype.initGantt = function () {\n        this.pdfDocument = undefined;\n        this.gantt = new PdfGantt(this.parent);\n        // this.gantt.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n    };\n    /**\n     * @param {PdfExportProperties} pdfExportProperties .\n     * @param {boolean} isMultipleExport .\n     * @param {object} pdfDoc .\n     * @param {boolean} isBlob .\n     * @returns {Promise<Object>} .\n     */\n    PdfExport.prototype.export = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        var _this = this;\n        this.isBlob = isBlob;\n        var args = {\n            requestType: 'beforePdfExport',\n            ganttObject: this.parent,\n            cancel: false\n        };\n        this.parent.trigger('beforePdfExport', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        if (getValue('cancel', args)) {\n            /* eslint-disable-next-line */\n            return new Promise(function (resolve, reject) {\n                return resolve();\n            });\n        }\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.exportWithData(pdfDoc, resolve, pdfExportProperties, isMultipleExport);\n        });\n    };\n    PdfExport.prototype.exportWithData = function (pdfDoc, resolve, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var data = [];\n        if (isNullOrUndefined(pdfExportProperties)) {\n            pdfExportProperties = {};\n        }\n        if (pdfExportProperties.fitToWidthSettings && pdfExportProperties.fitToWidthSettings.isFitToWidth) {\n            if (pdfExportProperties.exportType === 'CurrentViewData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.currentViewData, null, true);\n            }\n            else if (pdfExportProperties.exportType === 'AllData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.flatData, null, true);\n            }\n            else {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.updatedRecords, null, true);\n            }\n            this.helper.beforeSinglePageExport['cloneCurrentViewData'] = extend([], this.parent.currentViewData, null, true);\n            data = this.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            if (!isNullOrUndefined(pdfExportProperties.exportType)) {\n                if (pdfExportProperties.exportType === 'CurrentViewData') {\n                    data = this.parent.currentViewData;\n                }\n                else {\n                    data = this.parent.flatData;\n                }\n            }\n            else {\n                data = this.parent.updatedRecords;\n            }\n        }\n        this.initGantt();\n        if (!isNullOrUndefined(pdfDoc)) {\n            this.pdfDocument = pdfDoc;\n        }\n        else {\n            this.pdfDocument = new PdfDocument();\n        }\n        this.processExport(data, pdfExportProperties, isMultipleExport).then(function () {\n            _this.parent.trigger('pdfExportComplete', _this.isBlob ? { promise: _this.blobPromise } : {});\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n            resolve(_this.pdfDocument);\n        });\n    };\n    PdfExport.prototype.processExport = function (data, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var section = this.pdfDocument.sections.add();\n        this.processSectionExportProperties(section, pdfExportProperties);\n        this.pdfPage = section.pages.add();\n        this.pdfPageDimensions = this.pdfPage.getClientSize();\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.helper.processGridExport(data, _this.gantt, pdfExportProperties);\n            _this.helper.initializePdf(_this.pdfDocument);\n            resolve();\n        }).then(function () {\n            var format = new PdfTreeGridLayoutFormat();\n            format.break = PdfLayoutBreakType.FitElement;\n            var layouter = _this.gantt.drawGrid(_this.pdfPage, 0, 0, format);\n            _this.gantt.drawChart(layouter);\n            if (_this.helper.exportProps && _this.helper.exportProps.fitToWidthSettings &&\n                _this.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n                _this.parent.zoomingProjectStartDate = _this.helper.beforeSinglePageExport['zoomingProjectStartDate'];\n                _this.parent.zoomingProjectEndDate = _this.helper.beforeSinglePageExport['zoomingProjectEndDate'];\n                _this.parent.cloneProjectStartDate = _this.helper.beforeSinglePageExport['cloneProjectStartDate'];\n                _this.parent.cloneProjectEndDate = _this.helper.beforeSinglePageExport['cloneProjectEndDate'];\n                _this.parent.timelineModule.customTimelineSettings = _this.helper.beforeSinglePageExport['customTimelineSettings'];\n                _this.parent.isTimelineRoundOff = _this.helper.beforeSinglePageExport['isTimelineRoundOff'];\n                _this.parent.timelineModule.topTier = _this.helper.beforeSinglePageExport['topTier'];\n                _this.parent.timelineModule.topTierCellWidth = _this.helper.beforeSinglePageExport['topTierCellWidth'];\n                _this.parent.timelineModule.topTierCollection = _this.helper.beforeSinglePageExport['topTierCollection'];\n                _this.parent.timelineModule.bottomTier = _this.helper.beforeSinglePageExport['bottomTier'];\n                _this.parent.timelineModule.bottomTierCellWidth = _this.helper.beforeSinglePageExport['bottomTierCellWidth'];\n                _this.parent.timelineModule.bottomTierCollection = _this.helper.beforeSinglePageExport['bottomTierCollection'];\n                _this.parent.timelineModule.totalTimelineWidth = _this.helper.beforeSinglePageExport['totalTimelineWidth'];\n                _this.parent.timelineModule.timelineStartDate = _this.helper.beforeSinglePageExport['timelineStartDate'];\n                _this.parent.timelineModule.timelineEndDate = _this.helper.beforeSinglePageExport['timelineEndDate'];\n                _this.parent.timelineModule.timelineRoundOffEndDate = _this.helper.beforeSinglePageExport['timelineRoundOffEndDate'];\n                _this.parent.perDayWidth = _this.helper.beforeSinglePageExport['perDayWidth'];\n                _this.parent.updatedConnectorLineCollection = _this.helper.beforeSinglePageExport['updatedConnectorLineCollection'];\n            }\n            if (_this.gantt.changeCloneProjectDates) {\n                _this.parent.cloneProjectStartDate.setHours(0);\n                _this.gantt.changeCloneProjectDates = false;\n            }\n            if (!isMultipleExport) {\n                if (!_this.isBlob) {\n                    // save the PDF\n                    if (!isNullOrUndefined(pdfExportProperties) && pdfExportProperties.fileName) {\n                        _this.pdfDocument.save(pdfExportProperties.fileName);\n                    }\n                    else {\n                        _this.pdfDocument.save('Export.pdf');\n                    }\n                }\n                else {\n                    _this.blobPromise = _this.pdfDocument.save();\n                }\n                _this.pdfDocument.destroy();\n            }\n            return _this.pdfDocument;\n        });\n    };\n    PdfExport.prototype.processSectionExportProperties = function (section, pdfExportProperties) {\n        //To set section page size and page orientation.\n        if (!isNullOrUndefined(pdfExportProperties)) {\n            var pdfPageSettings = new PdfPageSettings();\n            if (!isNullOrUndefined(pdfExportProperties.pageOrientation) && pdfExportProperties.pageOrientation === 'Portrait') {\n                pdfPageSettings.orientation = PdfPageOrientation.Portrait;\n            }\n            else {\n                pdfPageSettings.orientation = PdfPageOrientation.Landscape;\n            }\n            if (!isNullOrUndefined(pdfExportProperties.pageSize)) {\n                pdfPageSettings.size = this.getPageSize(pdfExportProperties.pageSize);\n            }\n            section.setPageSettings(pdfPageSettings);\n            if (!isNullOrUndefined(pdfExportProperties.ganttStyle)) {\n                var defaultGanttTheme = new PdfGanttTheme(pdfExportProperties.theme).style;\n                this.gantt.ganttStyle = extend({}, defaultGanttTheme, pdfExportProperties.ganttStyle, true);\n            }\n            else {\n                this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n            }\n        }\n        else {\n            this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n        }\n    };\n    PdfExport.prototype.getPageSize = function (pageSize) {\n        switch (pageSize) {\n            case 'Letter':\n                return new SizeF(612, 792);\n            case 'Note':\n                return new SizeF(540, 720);\n            case 'Legal':\n                return new SizeF(612, 1008);\n            case 'A0':\n                return new SizeF(2380, 3368);\n            case 'A1':\n                return new SizeF(1684, 2380);\n            case 'A2':\n                return new SizeF(1190, 1684);\n            case 'A3':\n                return new SizeF(842, 1190);\n            case 'A5':\n                return new SizeF(421, 595);\n            case 'A6':\n                return new SizeF(297, 421);\n            case 'A7':\n                return new SizeF(210, 297);\n            case 'A8':\n                return new SizeF(148, 210);\n            case 'A9':\n                return new SizeF(105, 148);\n            // case 'A10':\n            //     return new SizeF(74, 105);\n            case 'B0':\n                return new SizeF(2836, 4008);\n            case 'B1':\n                return new SizeF(2004, 2836);\n            case 'B2':\n                return new SizeF(1418, 2004);\n            case 'B3':\n                return new SizeF(1002, 1418);\n            case 'B4':\n                return new SizeF(709, 1002);\n            case 'B5':\n                return new SizeF(501, 709);\n            case 'Archa':\n                return new SizeF(648, 864);\n            case 'Archb':\n                return new SizeF(864, 1296);\n            case 'Archc':\n                return new SizeF(1296, 1728);\n            case 'Archd':\n                return new SizeF(1728, 2592);\n            case 'Arche':\n                return new SizeF(2592, 3456);\n            case 'Flsa':\n                return new SizeF(612, 936);\n            case 'HalfLetter':\n                return new SizeF(396, 612);\n            case 'Letter11x17':\n                return new SizeF(792, 1224);\n            case 'Ledger':\n                return new SizeF(1224, 792);\n            default:\n                return new SizeF(595, 842);\n        }\n    };\n    return PdfExport;\n}());\nexport { PdfExport };\n","import { TreeGrid, VirtualScroll as TreeGridVirtualScroll } from '@syncfusion/ej2-treegrid';\n/**\n * Gantt Virtual Scroll module will handle Virtualization\n *\n * @hidden\n */\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent) {\n        this.parent = parent;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'virtualScroll';\n    };\n    /**\n     * Bind virtual-scroll related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.enableVirtualization = this.parent.enableVirtualization;\n        TreeGrid.Inject(TreeGridVirtualScroll);\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    VirtualScroll.prototype.getTopPosition = function () {\n        var virtualTable = this.parent.ganttChartModule.scrollElement.querySelector('.e-virtualtable');\n        var translates = virtualTable.style.transform.split(',');\n        var top;\n        if (translates.length > 1) {\n            top = translates[1].trim().split(')')[0];\n        }\n        else {\n            var transformString = virtualTable.style.transform;\n            top = transformString.substring(transformString.lastIndexOf('(') + 1, transformString.lastIndexOf(')'));\n        }\n        return parseFloat(top);\n    };\n    /**\n     * To destroy the virtual scroll module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    VirtualScroll.prototype.destroy = function () {\n        // destroy module\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","import * as index from './index';\nindex.Gantt.Inject(index.Filter, index.Selection, index.Sort, index.Reorder, index.Resize, index.Edit, index.DayMarkers, index.Toolbar, index.ContextMenu, index.ExcelExport, index.RowDD, index.ColumnMenu, index.PdfExport, index.VirtualScroll, index.CriticalPath, index.UndoRedo);\nexport * from './index';\n"],"names":["parentsUntil","elem","selector","isID","parent","id","classList","contains","parentElement","isScheduledTask","ganttProp","isNullOrUndefined","startDate","endDate","duration","isCountRequired","dataSource","DataManager","getSwapKey","obj","temp","_i","_a","Object","keys","length","key","isRemoteData","adaptor","ODataAdaptor","ODataV4Adaptor","WebApiAdaptor","WebMethodAdaptor","CacheAdaptor","RemoteSaveAdaptor","UrlAdaptor","getTaskData","records","isNotExtend","eventArgs","result","i","data","parseInt","toString","extend","taskData","timezone","updateDates","push","record","ganttProperties","taskFields","dateValidationModule","remove","baselineEndDate","baselineStartDate","formatString","str","args","regx","RegExp","replace","getIndex","value","key1","collection","key2","index","getValue","pixelToPoint","pointToPixel","getUid","uid","DateProcessor","this","fromSegments","mondayTimeRangeLength","tuesdayTimeRangeLength","wednesdayTimeRangeLength","thursdayTimeRangeLength","fridayTimeRangeLength","saturdayTimeRangeLength","sundayTimeRangeLength","prototype","isValidateNonWorkDays","isAutoSchedule","includeWeekend","totalHolidayDates","checkStartDate","date","validateAsMilestone","isLoad","currentDay","Date","getTime","dayStartTime","dayEndTime","cloneStartDate","hour","getSecondsInDecimal","isMilestone","setTime","setDate","getDate","workingRange","workingTimeRanges","weekWorkingTime","to","from","tStartDate","autoCalculateDateScheduling","holidayLength","autoEndDate","startTime","tempDate","getNextWorkingDay","count","holidayFrom","getDateFromFormat","holidayTo","setHours","checkEndDate","editModule","taskbarEditModule","taskBarEditRecord","defaultStartTime","defaultEndTime","cloneEndDate","taskfields","tempCheckDate","getPreviousWorkingDay","tempHoliday","setMinutes","getMilliseconds","checkBaselineStartDate","cloneDate","checkBaselineEndDate","autoStartDate","calculateStartDate","ganttData","tempStartDate","getStartDate","durationUnit","setRecordValue","dataOperation","updateMappingData","calculateEndDate","tempEndDate","compareDates","calculateDuration","segments","totalDuration","getEndDate","offsetDuration","tDuration","sumOfDuration","milestone","getDuration","col","columnByField","columnMapping","cellEditModule","isCellEdit","edit","read","dialog","dialogModule","textBox","querySelector","element","ej2_instances","dataBind","getNonworkingTime","sDate","eDate","isCheckTimeZone","weekendCount","getWeekendCount","totalHours","getNumberOfSeconds","holidaysCount","getHolidaysCount","totWorkDays","nonWorkHours","getNonWorkingSecondsOnDate","nonWorkingSeconds","secondsPerDay","workDays","fromDuration","newStartDate","newEndDate","timeDiff","getHours","isOnHolidayOrWeekEnd","currentDaySeconds","totSeconds","durationValue","durationHours","getTimeDifference","undefined","getFormatedDate","parseFloat","getDurationAsSeconds","toLocaleLowerCase","secondDuration","tempStart","calculateSecondDuration","setSeconds","getSeconds","fromValidation","tempEnd","fromEndDate","num","Number","isInteger","deciNumber","split","getProjectStartDate","cloneProjectStartDate","projectStartDate","flatData","minStartDate","getValidStartDate","isAuto","autoDuration","getValidEndDate","getWorkingTime","day","currentRange","totalSeconds","nonWorkingHours","nonWorkingTimeRanges","startHour","endHour","sdSeconds","edSeconds","assignStartTime","toLowerCase","assignEndTime","isWorking","interval","mondayDefaultStartTime","tuesdayDefaultStartTime","wednesdayDefaultStartTime","thursdayDefaultStartTime","fridayDefaultStartTime","saturdayDefaultStartTime","sundayDefaultStartTime","mondayDefaultEndTime","tuesdayDefaultEndTime","wednesdayDefaultEndTime","thursdayDefaultEndTime","fridayDefaultEndTime","saturdayDefaultEndTime","sundayDefaultEndTime","calculateWeekWorkTime","seconds","j","getSecondsPerDay","dayWorkingTime","dayOfWeek","timeRange","dayWorkingTime_1","_b","weekWorkingTime_1","weekDay","seconds_1","_c","_d","dayDefaultStartTime","seconds_2","getDurationValue","isFromDialog","values","match","trim","unit","durationUnitEditText","indexOf","dayIndex","getDay","nonWorkingDayIndex","holidays","currentHoliday","getHolidayDates","holidayDates","checkWeekEnd","startnonWorkingTimeRange","endnonWorkingTimeRange","sHour","eHour","startRangeIndex","endRangeIndex","totNonWrkSecs","startOnHoliday","endOnHoliday","val","getMonth","getFullYear","previousIndex","getNonWorkingDayIndex","weekDayLength","workWeek","slice","min","sec","updateDateWithTimeZone","uTZ","uDate","sTZ","getTimezoneOffset","eTZ","standardTZ","tzDiff","getMinutes","offset","localOffset","convertedDate","toLocaleString","timeZone","isNaN","error","reverse","fromOffset","toOffset","fromLocalOffset","toLocalOffset","convert","timelineSettings","bottomTier","toConvert","updatedDate","dateObject","globalize","parseDate","format","getDateFormat","type","date1","date2","getDurationString","toFixed","plural","localeObj","getConstant","getWorkString","work","workUnit","calculateProjectDatesForValidatedTasks","editArgs","_this","projectEndDate","maxEndDate","sortedStartDate","sort","a","b","sortedEndDate","cloneProjectEndDate","calculateProjectDates","enablePersistence","timelineModule","isZooming","currentViewData","taskRange","addDateToList","sortDates","dates","isZoomToFit","treeGrid","filterModule","filteredResult","forEach","task","renderBaseline","indicators","item","eventMarkers","marker","holiday","setValue","prevProjectStartDate","splitTasksDuration","segment","Math","ceil","__extends","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","TaskProcessor","_super","call","customSegmentProperties","recordIndex","taskIds","hierarchyData","addEventListener","on","checkDataBinding","bind","isChange","updatedRecords","dataArray","ids","predecessorsCollection","parentData","processTimeline","renderGantt","initDataSource","ganttdata","cloneDataSource","enableValidation","validateTimelineProp","queryManager","query","Query","requiresCount","dataManager","loadChildOnDemand","hasChildMapping","executeQuery","then","e","catch","trigger","constructDataSource","mappingData","executeLocal","group","parentID","rootData","groupData","child","items","apply","dataReorder","taskIdMapping","parentIdMapping","hierarchicalData","tempData","setProperties","segmentId","segmentCollection","segmentData","viewType","resources","unassignedTasks","constructResourceViewDataSource","resourceName","resourceFields","name","prepareDataSource","this_1","resourceData","resourceInfo","resourceIdMapping","isResourceString","resource","prepareRecordCollection","initialLoadData","dataMap","reduce","map","set","uniqueID","Map","calculateSharedTaskUniqueIds","dependency","predecessorModule","ensurePredecessorCollection","this_2","getTaskIds","sharedRecords_1","ids_1","filter","taskId","level","rowUniqueID","sharedTaskUniqueIds","parentItem","this_3","x","createRecord","updateTaskLeftWidth","setTaskIds","childData","parentProp","updateWorkWithDuration","parentWork","floor","calculateAutoDuration","updateAutoWidthLeft","allowParentDependency","resetDependency","updateWidthLeft","updateTaskData","addCustomFieldValue","ganttRecord","columns","ganttColumns","field","taskSettings","progress","notes","predecessors","autoSchedule","taskMode","manual","predecessor","undoRedoModule","addTaskData","setResourceInfo","updateResourceName","calculateScheduledValues","toLocaleDateString","predecessorsName","cssClass","getCloneParent","parentUniqId","hasChildRecords","collapseAllParentTasks","updateExpandStateMappingValue","calculateWidth","calculateLeft","getProgressWidth","width","calculateBaselineLeft","calculateBaselineWidth","childRecords","uniqueId","allowUnscheduledTasks","setSegmentsInfo","sortSegmentsData","onLoad","ganttSegments","remainingDuration","predefinedProperties","cleanedObject","extraProperties","String","left","segmentIndex","prevSegmentDate","setSegmentTaskData","mergedObject","assign","segmenttaskData","resourceOneDayWork","resourcesLength","resourceUnit","actualOneDayWork","durationInDay","getDurationInDay","taskType","isOnEdit","childCompletedWorks","cloneParent","expanded","reUpdateResources","json","offline","tempData_1","segmentDataCollection","updatableValue","expandStateMapping","expandState","mappingValue","setValidatedDates","updateDurationValue","isMileStone","durationMapping","validateDurationUnitMapping","validateWorkUnitMapping","taskTypeMapping","tType","validateTaskTypeMapping","calculateDateFromStartDate","calculateDateFromEndDate","updateDurationWithWork","updateUnitWithWork","totalResourceOneDayWork","updatedDuration","getWorkInHour","totalUnitInPercentage","individualUnit","isTreeGridRendered","parentWidth","percent","getTaskWidth","getTaskbarHeight","rowHeight","taskBarHeight","taskbarHeight","getTaskLeft","calculateAutoLeft","calculateAutoWidth","tierMode","topTier","isValid","modifiedsDate","isValid_1","k","dateDiff","perDayWidth","isInDst","isFromTimelineVirtulization","leftValueForStartDate","taskBarEditAction","ganttChartModule","scrollObject","enableTimelineVirtualization","scrollLeft","getTimelineLeft","timelineStartDate","leftValue","newTimelineStartDate","timelineUnitSize","getSplitTaskWidth","getSplitTaskLeft","segmentTaskStartDate","stDate","segmentStartTime","fieldName","resourceSettings","resourcesId","resourcesName","resName","join","updateTaskDataResource","setRecordDate","setRecordDuration","segmentTaskData","isEdit","contextMenuModule","preTaskResources","isAdded","data_1","mapping","isDynamicData","setDataSource","createData","isArray","setStartDate","dataMapping","taskName","parentId","resourceIdCollection","isAddNewResource","ganttResources","resourceIDMapping","resourceUnitMapping","resourceGroup","resource_1","ganttDataResource","updateResourceUnit","length_1","taskMapping","resourceLength","stringResourceName","taskResources","flatCollection","rootCollection","shift","splice","tempDuration","reUpdateGanttData","updateGanttData","_isInStartDateRange","isInRange","_isInEndDateRange","updateOverlappingValues","resourceTask","currentTask","tasks","ranges","workTimelineRanges","setSortedChildTasks","updateOverlappingIndex","cStartDate","cEndDate","range","tEndDate","rangeObj_1","mergeRangeCollections","calculateRangeLeftWidth","eOverlapIndex","isSplit","finalRange","currentTopRange","cCompareRange","sortedRanges","sortBy","splitRangeCollection","rangeCollection","fromField","toField","isSingleTier","getRangeWithWeek","getRangeWithDay","splitArray","splitRangeForDayMode","fromString","end","rangeObject","nStart","nEndDate","nextAvailDuration","round","splitRangeForWeekMode","start","isInSplit","rangeObj","isStartNotHolidayOrWeekend","isTempEndDateNotHolidayOrWeekend","isDifferentDates","getParentTask","updateParentItems","reUpdateGanttDataPosition","pdfExportModule","isPdfExport","helper","exportProps","fitToWidthSettings","isFitToWidth","beforeSinglePageExport","totalSegmentsProgressWidth","chartRowsModule","incrementSegments","showProgress","progressWidth","pStartDate","setProgress","autoWidth","getParentProgress","childGanttRecord","progressValues","totalProgress","recordProp","isUnscheduledTask","parantData","filledProperty","properties_1","prop","isParent","deleteUpdate","isParentUnschecule","previousStartDate","previousEndDate","childRecords_1","childLength","milestoneCount","isChildBoth","countOfScheduled_1","countOfUnScheduled_1","some","childRecord","isUnscheduled","propertyWithValue","this_4","isOnDelete","isDelete","propertyWithValue_1","numericValue","taskCount","parentProgress","taskbarEditedArgs","action","timelineSingleHeaderOuterDiv","leftLabelContainer","rightLabelContainer","taskBarMainContainer","taskLabel","childProgressBarInnerDiv","baselineBar","chartRow","traceChildTaskBar","manualParentTaskBar","label","dependencyViewContainer","connectorPointLeft","content","rangeContainer","ChartScroll","previousCount","isSetScrollLeft","previousScroll","top","scrollElement","addEventListeners","gridScrollHandler","EventHandler","add","onScroll","grid","updateShimmer","removeShimmer","transformChange","removeEventListeners","off","scrollTop","isFromTreeGrid","updateContent","ganttElement","currentCount","offsetWidth","deleteTableElements","createTimelineSeries","gridLines","dayMarkersModule","renderEventMarkers","nonworkingDayRender","renderWeekends","renderHolidays","updateChartElementStyles","chartTimelineContainer","tLeft","resultantWidth","wholeTimelineWidth","enableRtl","isBackwardScrolled","tableContainer","getElementsByClassName","innerHTML","outerHTML","translateXValue","dependencyViewer","connectorLineModule","taskTable","style","right","updateTopPosition","contentScrollTop","virtualScrollModule","enableVirtualization","getTopPosition","holidayContainer","weekendContainer","eventMarkersContainer","formatUnit","chartVerticalLineContainer","setTimeout","hideMaskRow","allowTaskbarOverlap","showOverAllocation","tr","ganttChartTableBody","childNodes","display","isExpandAll","isCollapseAll","getRowByIndex","height","getRows","contentHeight","children","virtualRender","adjustTable","showMaskRow","updateSpinner","showSpinner","window","clearTimeout","isScrolling","hideSpinner","scrollArgs","notify","previousScrollTop","scrollDirection","previousScrollLeft","totalTimelineWidth","updateWidthAndHeight","svgObject","setAttribute","isToolBarClick","isVirtualScroll","showIndicator","enableVirtualMaskRow","loadingIndicator","indicatorType","abs","requestType","setHeight","setWidth","setScrollTop","setScrollLeft","leftSign","destroy","VirtualContentRenderer","renderWrapper","wrapper","createElement","className","styles","appendChild","virtualTrack","chartBodyContent","appendChildElements","getContent","virtualTable","document","transform","treegridVirtualHeight","translateYValue","GanttChart","isExpandCollapseFromChart","isGanttElement","currentToolbarIndex","rangeViewContainer","cls.rangeContainer","renderChartContainer","renderChartElements","renderInitialContents","renderChartContents","wireEvents","chartElement","chartPane","renderTimelineContainer","renderBodyContainers","renderOverAllocationContainer","filterSettings","renderRangeContainer","isFromOnPropertyChange","updateProjectDates","isTimelineRoundOff","renderChartRows","connectorLineIds","updatedConnectorLineCollection","createConnectorLinesCollection","renderConnectorLines","node","criticalModule","criticalPathModule","enableCriticalPath","criticalPathCollection","criticalConnectorLine","detailPredecessorCollection","predecessorCollectionTaskIds","processZoomToFit","recordLength","renderRange","getTopValue","currentRecord","getExpandedRecords","nestedParent","getRecordByID","getRangeHeight","topValue","rowIndex","enableMultiTaskbar","offsetTop","sameIDElement","parentDiv","leftDiv","cls.rangeChildContainer","rightDiv","borderLeftWidth","borderRightWidth","chartBodyContainer","cls.chartScrollElement","toolbarHeight","toolbarModule","offsetHeight","ganttHeight","emptyHeight","contentElement","scrollHeight","setVirtualHeight","updateGridLineContainerHeight","updateLastRowBottomWidth","wrapper1","expandedRecords","lastExpandedRow","lastExpandedRowIndex","lastRow","table","querySelectorAll","removeClass","clientHeight","addClass","removeEventListener","isDestroyed","ganttChartMouseDown","cancel","allowTaskbarDragAndDrop","editSettings","allowTaskbarEditing","editAction","getRecordByTaskBar","target","closest","which","tabIndex","isTaskbarEdited","button","allowEditing","endEdit","ganttChartMouseClick","autoFocusTasks","scrollToTarget","ganttChartMouseUp","resizeCheck","Check","falseline","removeFalseLine","isOnTaskbarElement","cls.taskBarMainContainer","chartExpandCollapseRequest","row","dateObjLeft","updateScrollLeft","scrollWidth","mouseUp","allowRowDragAndDrop","ganttDragElemet","documentMouseUp","showActiveElement","focusedElement","onTaskbarClick","taskbarElement","getRecordByTarget","ganttChartLeave","ganttChartMove","pageX","getOffsetRect","connectorLineEditModule","updateConnectorLineEditElement","contextClick","allowFiltering","closeFilterOnContextClick","srcElement","mouseMoveHandler","onMouseMove","originalEvent","rowData","rowElement","columnElement","cellIndex","column","indicator","tooltipModule","getPredecessorTooltipData","getMarkerTooltipData","dataset","doubleClickHandler","recordDoubleClick","getAttribute","getChartRows","getElementById","gridRow","collapseGanttRow","expandGanttRow","reRenderConnectorLines","isCancel","collapsedGanttRow","arg","expandCollapseChartRows","idField_1","gridRec","getCurrentViewRecords","collapseRow","renderMultiTaskbar","updateContentHeight","expandedGanttRow","idField_2","expandRow","isExpandCollapseLevelMethod","refreshRecords","isChild","displayType","targetElement","t","chartRows","rows","expandCollapseAll","expandAll","collapseAll","treeGridContentHeight","expandAtLevel","collapseAtLevel","isIE11Pointer","Browser","isPointer","mouseDown","touchStartEvent","touchEndEvent","mouseMove","touchMoveEvent","isAdaptive","click","body","unWireEvents","getIndexByTaskBar","updateElement","next","currentColumn","isTab","isInEditedState","getNextElement","saveCell","editCell","onTabAction","enableHeaderFocus","toolbarItems","$target","focusModule","setActiveElement","focusedRowIndex","nextElement","colIndex","toolbar","itemIndex","isUpdated","tempNextElement","childrenIndex","nextElementIndex","isEditableElement","manageFocus","preventDefault","allowNextRowEdit","columnName","getNextRowElement","getChildElement","editedColumn","nextElementSibling","fmodule","currentInfo","elementToFocus","matrix","current","previousElementSibling","matches","validateNextElement","isChartRow","currentItem","expandedRecordIndex","nextRecord","nextRowIndex","elementByClass","hasChildNodes","childElement","focus","isChartElement","keyAction","getElementsByTagName","blur","cls.chartRow","__assign","s","n","arguments","Timeline","ganttObj","isZoomIn","topTierCollection","bottomTierCollection","pdfExportTopTierCollection","pdfExportBottomTierCollection","restrictRender","performedTimeSpanAction","isZoomedToFit","initProperties","timelineEndDate","customTimelineSettings","currentZoomingLevel","roundOffDays","processTimelineProperty","timelineWidthCalculation","refreshTimeline","processTimelineUnit","timelineContainer","refreshTimelineByTimeSpan","updateChartByNewTimeline","refreshChartByTimeline","currentScrollLeft","processZooming","previousTimeline","zoomingProjectStartDate","zoomingProjectEndDate","checkCurrentZoomingLevel","currentLevel","foundLevel","zoomingLevels","find","tempLevel","enableItems","controlId","findIndex","newTimeline","timeline","changeTimelineSettings","skipProperty","property","tier","calculateWidthBetweenTwoDate","zoomingLevel","firstValue","secondValue","totalDays","chartWidth","sortedCollectons","roundOffDateToZoom","numberOfCells","calculateNumberOfTimelineCells","emptySpace","bottomTierCellWidthCalc","mode","zoomLevel","convertedMilliSeconds","daysInMonth","daysInYear","isStartDate","roundOffTime","numberOfDays","directProperty","innerProperty","tierUnits","extendFunction","timelineViewMode","previousIsSingleTier","validateCount","validateFormat","weekStartDay","calculateZoomingLevelsPerDayWidth","collections","getPerDayWidth","getCurrentZoomingLevel","currentZoomCollection","checkSameCountLevels","getZoomingLevels","sameUnitLevels","closestUnit_1","getClosestUnit","sortedUnitLevels","checkCollectionsWidth","closetUnit","isCont","bottomTierUnits","checkSameLevels","zoomLevels","sortedZoomLevels","updateTimelineHeaderHeight","cls.timelineSingleHeaderOuterDiv","dateByLeftValue","milliSecondsPerPixel","td","div","thead","virtualTableDiv","virtualTrackDiv","loopCount","trTemplate","createTimelineTemplate","timelineVirtualizationStyles","trackWidth","contentVirtualTrack","position","virtualTableStylesT","virtualTableStylesB","virtualTrackStylesT","virtualTrackStylesB","difference","tierCount","timeDifference","timelineRoundOffEndDate","validateBottomTierCount","tierFormat","cloneObj","propertyCollection","tempObj","formatDateHeader","dayFormat","dateString","formatDate","locale","customFormat","formatter","parentTr","increment","newTime","isFirstCell","parentTh","scheduleDateCollection","WidthForVirtualTable","timelineCell","getHeaterTemplateString","calculateQuarterEndDate","getIncrement","tierCollection","weekendEndDate","updateTimelineAfterZooming","resized","totWidth","contentWidth","widthDiff","getTimelineRoundOffEndDate","firstDay","lastDay","dayIntervel","checkDate","diffCount","isWeekendHeaderCell","month","scheduleWeeks","isLast","template","timelineTemplate","templateCompiler","thWidth","newDate","cellWidth","isWeekendCell","textClassName","getTemplateID","weekendClass","th","weekendBackground","title","showTooltip","textContent","isReact","append","isWeekend","bottomTierCount","topTierCount","bottomTierCellWidth","topTierCellWidth","roundOffStartDate","last","updateScheduleDatesByToolBar","span","updateTimeLineOnEditing","tempArray","filteredStartDateRecord","pdc","filteredEndDateRecord","DataUtil","aggregates","max","validStartDate","validEndDate","maxStartLeft","maxEndLeft","validStartLeft","validEndLeft","isChanged","taskbarModule","performTimeSpanAction","isFrom","timeSpanActionEvent","ProjectEndDate","eventType","Column","options","allowReordering","allowResizing","allowSorting","merge","GanttTreeGrid","isPersist","queryCellInfo","headerCellInfo","rowDataBound","columnMenuOpen","filPopOptions","filOptions","filterMenuElement","columnMenuClick","objectEqualityChecker","old","isEqual","excludeKeys","modifiedRecords","TreeGrid","allowSelection","allowKeyboard","enableHtmlSanitizer","enableImmutableMode","treeGridColumns","isLocaleChanged","previousGanttColumns","validateGanttColumns","createContainer","updateScrollTop","renderReactTemplate","args_1","portal","renderTemplates","treeGridElement","tempHeader","treeGridPane","renderTreeGrid","composeProperties","bindEvents","registeredTemplate","appendTo","portals","enableAdaptiveUI","idMapping","showColumnMenu","enableCollapseAll","columnMenuItems","childMapping","treeColumnIndex","searchSettings","fields","getContentDiv","getHeaderDiv","getScrollbarWidth","outer","visibility","overflow","msOverflowStyle","inner","scrollbarWidth","parentNode","removeChild","ensureScrollBar","headerDiv","isMobile","test","navigator","userAgent","cssText","dataBound","collapsing","collapsed","expanding","actionBegin","actionComplete","treeActionComplete","created","actionFailure","beforeDataBound","dataStateChange","selectionModule","selectionSettings","persistSelection","getSelectedRowIndexes","treeDataBound","refreshToolbarItems","prevCurrentView","collapsingArgs","createExpandCollapseArgs","expandingArgs","collapsedArgs","expandedArgs","updateKeyConfigSettings","recordOne","updatedArgs","sortSettings","deleteObject","getTaskByUniqueID","initiateCellEdit","currentEditRow","isCancelled","addDeleteRecord","selectedRowIndex","selectRow","selectedIndexes","selectedRowIndexes","selectRows","indexvalue_1","currentSelection","addedRecord","updateDragDropRecords","keyboardModule","keyConfigs","delete","insert","upArrow","downArrow","ctrlHome","ctrlEnd","enter","tab","shiftTab","ctrlShiftUpArrow","ctrlShiftDownArrow","ctrlUpArrow","ctrlDownArrow","scrollHandler","treeGridClickHandler","isOpen","contextMenu","close","customColumns","tasksMapping","headerText","editType","bindTreeGridColumnProperties","createTreeGridColumn","composeUniqueIDColumn","isDefined","previousColumn","prevcolumn","disableHtmlEncode","clipMode","composeIDColumn","params","renderWorkingDayCell","renderDayCell","valueAccessor","durationValueAccessor","composeProgressColumn","dependencyValueAccessor","composeResourceColumn","showInlineNotes","colName","workValueAccessor","taskTypeValueAccessor","modeValueAccessor","text","resourceValueAccessor","getResourceIds","taskIDName","isProjectView","lengthDataSource","isPrimaryKey","idValueAccessor","visible","newGanttColumn","treeGridColumn","ganttColumn","GanttColumn","value_1","splitString_1","splitvalue","includes","resourceNames","newScrollTop","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","DayWorkingTime","Property","ChildProperty","AddDialogFieldSettings","EditDialogFieldSettings","EditSettings","EventMarker","FilterSettings","Collection","Predicate","SearchSettings","Holiday","LabelSettings","SelectionSettings","SplitterSettings","TaskFields","TimelineTierSettings","TimelineSettings","Complex","TooltipSettings","SortDescriptor","SortSettings","ResourceFields","LoadingIndicator","WeekWorkingTime","ChartRows","milestoneHeight","milesStoneRadius","baselineTop","baselineHeight","touchLeftConnectorpoint","touchRightConnectorpoint","dropSplit","refreshedTr","refreshedData","taskBaselineTemplateNode","initPublicProp","createChartTable","initiateTemplates","prevDate","contentModule","refreshGanttRows","cls.taskTable","attrs","cellspacing","colgroup","initChartHelperPrivateVariable","initializeChartTemplate","createTaskbarTemplate","isGanttChartRendered","getIndicatorNode","templateString","getIndicatorleft","iconClass","createDivElement","getChildTaskbarNode","rootElement","direction","childTaskbarNode","templateData","childTaskbarTemplateFunction","labelString","taskbarInnerDiv","progressDiv","cls.childProgressBarInnerDiv","getBorderRadius","tempDiv","taskLabelTemplateFunction","taskLabelTemplateNode","labelSettings","getTaskLabel","SanitizeHtmlHelper","sanitize","isTemplate","splitTaskbar","cls.traceChildTaskBar","templateElement","innerText","childLabel","marginLeft","marginRight","textAlign","splitTasks","progressBarVisible","generateSpiltTaskAriaLabel","getSplitTaskbarLeftResizerNode","getSplitTaskBorderRadius","cls.taskLabel","getSplitTaskbarRightResizerNode","getSplitProgressResizerNode","lResizerLeft","rResizerLeft","getSegmentIndex","splitStartDate","mergeTask","segmentIndexes","mergeArrayLength","mergeData","details","getUndoActions","rec","previousFlatData","firstSegmentIndex","arrayLength","firstSegment","secondSegment","secondSegmentIndex","insertIndex","segmentFields","modifiedSegments","refreshChartAfterSegment","updatedRecordsDateByPredecessor","removePreviousConnectorLines","refreshEditedRecordConnectorLine","isInPredecessorValidation","refreshRow","editedRecords","modifiedTaskData","triggerQueryTaskbarInfoByIndex","clearSelection","splitTask","splitDates","splitDate","splitRecord","segmentDuration","splitSegmentedTaskbar","constructSegments","segmentsArray","checkClickState","endDateState","segmentEndDate","mode_1","timeIncrement","diff","getMilestoneNode","milestoneNode","milestoneTemplateFunction","getTaskBaselineNode","baselineLeft","baselineWidth","baselineColor","updateTaskBaselineNode","getMilestoneBaselineNode","baselineMilestoneHeight","milestoneMarginTop","getLeftLabelNode","leftLabelNode","generateTaskLabelAriaLabel","leftLabelTemplateNode","leftTaskLabelTemplateFunction","leftLabel","getLableText","paddingLeft","paddingRight","labelDiv","leftLabelHeight","taskBarMarginTop","spanElem","cls.label","getRightLabelNode","rightLabelNode","rightLabelTemplateNode","rightTaskLabelTemplateFunction","rightLabel","getManualTaskbar","innerDiv","cls.manualParentTaskBar","autoLeft","milestoneTemplate","getParentTaskbarNode","parentTaskbarNode","parentTaskbarTemplateFunction","tHeight","getExpandClass","progressBarInnerDiv","parentTaskLabelNode","labelElement","parentLabel","getTableTrNode","activecls","treeGridModule","isSelected","getRowClassName","getExpandDisplayProp","parentTaskbarTemplate","taskbarTemplate","templateName","cls.leftLabelContainer","taskNameWidth","taskbarContainer","manualParent","getUnscheduledTaskClass","cls.rightLabelContainer","getRightLabelLeft","childTaskbarLeftResizer","childTaskbarRightResizer","childTaskbarProgressResizer","getLeftPointNode","marginTop","mileStoneLeftValue","pointerLeft","connectorPointWidth","mileStoneLeft","pointerTop","connectorPointMargin","canAdd","cls.connectorPointLeft","getRightPointNode","pointerRight","resultString","getResourceName","getFieldValue","getExpandStatus","rowClass","length_2","taskbarHeightValue","taskBarMarginTopValue","milestoneHeightValue","trs","collapsedResourceRecord","oldKeys","oldRowElements","getPrimaryKeyFieldNames","oldIndex","modifiedRecIndex","isFromRenderBaseline","tRow","getGanttChartRow","dupChartBody","tempTemplateData","maintainSelectedRecords","replaceChildren","initialChartRowElements","triggerQueryTaskbarInfo","updateOverlapped","parentTrNode","taskbarContainerNode","generateAriaLabel","connectorLineLeftNode","connectorLineRightNode","parentTaskbarTemplateNode","taskbarContainerNode1","appendChildTaskbars","manualTaskbar","connectorLineRightNode_1","milestoneTemplateNode","collapseParent","appendIndicators","setAriaRowIndex","visualData","queryTaskbarInfo","trElement","segmentLength","segmentElement","taskIndicatorNode","taskIndicatorTextNode","indicatorIndex","tooltip","taskbarCollection","scheduledTask","childTaskbarProgressResizeNode","childTaskbarRightResizeNode","childTaskbarLeftResizeNode","childTaskbarTemplateNode","length_3","segmentConnector","i_1","customizeTaskbars","segmentRowElement","taskbarType","classCollections","getClassName","milestoneColor","getComputedStyle","backgroundColor","cls.baselineBar","childTask","progressTask","taskbarBgColor","taskbarBorderColor","outlineColor","progressBarBgColor","taskLabelColor","color","rightLabelColor","leftLabelColor","taskbarArgs","updateQueryTaskbarInfoArgs","triggerTaskbarElement","taskbarElements","currentData","getRowByID","taskBarElement","borderTopColor","classCollection","compile","eOverlapped","rowIDs","rowCounts","rowuniqueid","verticalAlign","rowDragAndDropModule","draggedRecordMarginTop","isValidateRange","isUndoRedo","selectedItem","replaceChild","replaceWith","dataId","setRowData","nextEditableElement","getRowObjectFromUID","getDataRows","updateResourceTaskbarElement","cloneElement","segmentedTasks","mainTaskbar","zIndex","cloneChildElement","cloneNode","defaultValue","nameConstant","startDateConstant","endDateConstant","durationConstant","taskNameVal","startDateVal","endDateVal","durationVal","generateBaselineAriaLabel","Dependency","gantt","parentRecord","parentIds","parentPredecessors","validatedParentIds","storeId","isChildRecordValidated","dateValidateModule","predecessorTasks","ensurePredecessorCollectionHelper","predecessorVal","preValues","predecessorItem","preValue","offsetUnits","offsetUnit","tempOffsetUnits","getOffsetDurationUnit","checkIsParent","calculatePredecessor","getPredecessorStringValue","updateUnscheduledDependency","prdList","predId","predData","updateRecordByID","fromId","boolValue","predecessorValue","offsetValue","predecessorText","parentRecords","el","firstPart","predecessorName","isGUId","isAlpha","regex","elSplit","pop","substring","lastIndex","lastIndexOf","lastPart","lengthToSlice","indexFS","spliceLength","isExist","toUpperCase","tempOffset","isDrawn","isOwnParent","fromData","toData","validateParentPredecessor","creatCollection","checkColloction","fdata","temp1","currentValue","multiple","durationUnitLabels","updatePredecessors","updatePredecessorHelper","successorGanttRecord","connectorsCollection","connectorCount","connector","predecessorCollection","traverseParents","totLength","validatePredecessorDates","validateRecord","updateChildItems","recordId","updateParentPredecessor","enablePredecessorValidation","parentGanttRecord","currentTaskId_1","previousIds","validateManualTasksOnLinking","validateChildGanttRecord","editedTaskBarItem","childRecordProperty","currentTaskId_2","childPredecessor","getPredecessorDate","maxStartDate","validatedPredecessor","getRecord","getValidatedStartDate","ganttProperty","parentRecordProperty","returnStartDate","updateDateByOffset","resultDate","ganttRecords","deletedTaskDetails","addPredecessorsCollection","predecessorsLength","predecessorCount","updateConnectorLineObject","connectorObj","createConnectorLineObject","isCritical","connectorLineId","validatePredecessor","previousValue","validationOn","taskBarModule","successor","currentTaskId_3","successors","parentRec","isValidationEnabled","isValidatedParentTaskID","rootParent","getRootParent","ganttProp_1","childRec","updateOffsetOnTaskbarEdit","isFirstCall","JSON","parse","stringify","concat","validUpdate","validatedChildItems","previousData","previousRecords","calcEndDate","isRightMove","durationDiff","currentStartDate","getUpdatableChildRecords","calculateDateByRoundOffDuration","childLists","getValidPredecessor","validPredecessor","recPredecessor","ConnectorLine","connectorLinePath","arrowPath","taskLineValue","cls.dependencyViewContainer","pointerEvents","renderer","SvgRenderer","createSvg","getconnectorLineGap","milestoneChild","lineColor","connectorLineBackground","lineStroke","connectorLineWidth","createConnectorLineTooltipTable","getTaskbarMidpoint","parentGanttData","childGanttData","parentIndex","childIndex","parentIndexInCurrentView","childIndexInCurrentView","parentLeft","childLeft","childWidth","getBoundingClientRect","childId","milestoneParent","parentEndPoint","childEndPoint","connectorLinesCollection","connectorLine","ariaConnector","getConnectorLineTemplate","innerChild","ariaString","insertBefore","lastChild","getParentPosition","getHeightValue","getInnerElementWidthSSType2","getInnerElementLeftSSType2","getInnerChildWidthSSType2","getBorderStyles","cssType","setInnerChildWidthSSType2","setInnerElementWidthSSType2","setInnerElementLeftSSType2","isMilestoneParent","isVirtual","getPosition","rowPositionHeight","isMilestoneValue","heightValue","borderTopWidth","addTop","parentOverlapTopValue","childOverlapTopValue","fromRecordIsParent","toRecordIsParent","fromRecordIsManual","toRecordIsManual","connectorId","groupObject","createGroup","class","connectorPath","drawPath","fill","stroke-width","arrowlinePath","x1","x2","y1","y2","x3","x4","y3","y4","point1","point2","topPosition","lineHeight","midPointParent","midPoint","isParentIndex","isChildIndex","lastRowIndex","tooltipTable","cellpadding","tooltipBody","getConnectorLineTooltipInnerTd","fromTaskName","fromPredecessorText","toTaskName","toPredecessorText","innerTd","fromName","toName","finish","isObjectType","isObject","pre","lineId","removeConnectorLineById","Splitter","renderSplitter","splitterPosition","calculateSplitterPosition","splitterSettings","splitterElement","splitterObject","SplitterLayout","ganttWidth","separatorSize","paneSettings","resizable","size","getSpliterPositionInPercentage","minimum","orientation","resizeStart","leftPane","pane","rightPane","splitterPreviousPositionGrid","splitterPreviousPositionChart","callBackPromise","Deferred","resizeStartArgs","resolve","resizing","resizeStop","splitterResizedArgs","splitterLeftPane","ariaValueNow","splitter","view","columnIndex","getTotalColumnWidthByIndex","widthAsString","intValue","updateSplitterPosition","triggerCustomResizedEvent","pane1","pane2","event","separator","paneSize","Tooltip","createTooltip","toolTipObj","TooltipComponent","openDelay","animation","open","effect","delay","afterOpen","updateTooltipPosition","showTipPointer","beforeRender","tooltipBeforeRender","afterClose","tooltipCloseHandler","isStringTemplate","argsData","getTooltipContent","tooltipSettings","taskbar","taskbarTemplateNode","tooltipTemplate","baseLineTemplateNode","baseline","baselineTemplate","dependencyLineTemplateNode","predecessorTooltipData","callBackPromise_1","argData","currentTarget","tooltipMouseEvent","parentWithZoomStyle","postion","getPointorPosition","containerPosition","topEnd","leftEnd","tooltipPositionX","tooltipPositionY","y","innerHeight","posX","posY","documentElement","elementType","taskNameValue","milestoneStartDate","sDateValue","sDate_1","contentTemp","initializeCSPTemplate","startDateValue","endDateValue","progressValue","startDate_1","endDate_1","duration_1","progress_1","baselineStartDateValue_1","baselineEndDateValue_1","markerTooltipElement","markerTooltipElementValue_1","markerLabel_1","fromNameValue_1","fromIdValue_1","toNameValue_1","toIdValue_1","toId","linkTextValue_1","linkText","offsetStringValue_1","offsetString","titleValue_1","timlineTitleValue_1","autoStartDateValue","autoEndDateValue","durationUnitValue","manualStartDateValue","manualEndDateValue","autoStartDate_1","autoEndDate_1","durationValue_1","manualStartDate_1","manualEndDate_1","autoStartValue","autoEndValue","dateValue","autoStart_1","autoEnd_1","date_1","markerTooltipId","predeceesorParent","fromTask","toTask","linkType","getPredecessorTextValue","propName","tooltipFunction","templateID","FocusModule","activeElement","previousActiveElement","getActiveElement","isPreviousActiveElement","onKeyPress","focussedElement","hidePopUp","currentSelectingRecord","searchElement","upDownKeyNavigate","expandCollapseKey","textValue","dialogObj","stopPropagation","addRecord","newRowPosition","allowAdding","openAddDialog","openToolbarEditDialog","touchEdit","getSelectedRowCellIndexes","startDeleteAction","selectedId","selectCellIndex","scrollToTask","top_1","undo","redo","ganttRow","firstRowIndex","selectRowsByRange","keyEvent","selectingRowIndex","selectedCellItem","currentCellIndex","cellIndexes","cellInfo","selectCell","expandByIndex","collapseByIndex","Gantt","isRowSelected","singleTier","totalUndoAction","isOnAdded","isConnectorLineUpdate","staticSelectedRowIndex","needsID","eventMarkerColloction","mergePersistGanttData","getModuleName","preRender","getCurrentDayStartTime","getCurrentDayEndTime","getStartTime","getEndTime","endTime","getNonWorkingRange","nonWorkingTimeRange","sundayNonWorkingTimeRanges","mondayNonWorkingTimeRanges","tuesdayNonWorkingTimeRanges","wednesdayNonWorkingTimeRanges","thursdayNonWorkingTimeRanges","fridayNonWorkingTimeRanges","saturdayNonWorkingTimeRanges","getWorkingRange","sundayWorkingTimeRanges","mondayWorkingTimeRanges","tuesdayWorkingTimeRanges","wednesdayWorkingTimeRanges","thursdayWorkingTimeRanges","fridayWorkingTimeRanges","saturdayWorkingTimeRanges","sundaySeconds","mondaySeconds","tuesdaySeconds","wednesdaySeconds","thursdaySeconds","fridaySeconds","saturdaySeconds","Internationalization","isDevice","UpdateOffsetOnTaskbarEdit","L10n","getDefaultLocale","mondayNonWorkingHours","tuesdayNonWorkingHours","wednesdayNonWorkingHours","thursdayNonWorkingHours","fridayNonWorkingHours","saturdayNonWorkingHours","sundayNonWorkingHours","durationUnitTexts","days","hours","minutes","minute","isMileStoneEdited","validationDialogElement","currentEditedArgs","dialogValidateMode","respectLink","removeLink","preserveLinkWithEditing","splitterModule","keyConfig","home","saveRequest","cancelRequest","addRow","addRowDialog","editRowDialog","focusTask","indentLevel","outdentLevel","focusSearch","selectAll","resourceFieldsMapping","isUndoRedoItemPresent","undoRedoActions","dateFormat","getDatePattern","skeleton","getDefaultTZOffset","janMonth","julMonth","resourceNameMapping","validateDimentionValue","calculateDimensions","settingsHeight","settingsWidth","elementStyleHeight","elementStyleWidth","render","isVue","vueInstance","createSpinner","renderToolbar","actionFailures","checkModule","moduleName","settings","injectedModules","failureCases","modules","lettersRegex","allPropertiesNull","isPrimary","markers","allowDeleting","showDeleteConfirmDialog","allowExcelExport","dragAndDrop","enableUndoRedo","dayMarkers","highlightWeekends","enableContextMenu","allowPdfExport","failureEventArgs_1","err","isTablePresent","contentMaskTable","maskTable","headerMaskTable","ganttHeader","scrollLeftValue","ganttContent","renderBackGround","createMaskTable","renderHeaderBackground","backgroundLines","containerWidth","firstChild","shimmerContainerHeight","header","createEmptyTimeLineTable","removeProperty","createEmptyMaskTable","timelineHeight","tbody","duplicateRow","topBottomHeader","applyTimelineMaskRow","maskRow","maskCells","maskCell","innerMaskCells","htmlInner","columnLoop","applyMaskRow","renderChartVerticalLines","removeCriticalPathStyles","ganttChartElement","KeyboardEvents","keyActionHandler","eventName","windowResize","keyDownHandler","unwireEvents","altKey","keyCode","updateRowHeightInConnectorLine","updateContainerHeight","firstMenuItem","updateCurrentViewData","getRecordFromFlatdata","updatedRecord","_WeekStartDay","updateTimescaleView","displayHalfValue","displayQuarterValue","updateTreeColumns","gridColumns","getColumns","gridColumn","isUndefined","scrollContainer","createGanttPopUpElement","renderComplete","getCurrentRecords","showCriticalPath","onPropertyChanged","newProp","oldProp","isRefresh","refreshColumns","module","properties","getActualProperties","renderChartGridLines","enableToggle","updateSearchTextBox","processDialogFields","reUpdateDimention","reUpdateEditModules","selectRowByIndex","closeGanttActions","enable","contextMenuItems","updateOverAllocationCotainer","refresh","getPersistData","keyEntity","ignoreOnPersist","ignoreOnColumn","currentObject","ignoreInArrays","addOnPersist","ignoreInColumn","resetTemplates","requiredModules","member","sortColumn","isMultiSort","sortModule","mergeColumns","storedColumn","setFrozenCount","splitFrozenCount","isFrozenGrid","clearSorting","verticalLines","chartRowsTD","getContentHeight","currentProp","getHeaderContent","headerTable","thElements","thLength","leftPos","containerDiv","divElement","emptyRecord","criticalPath","changeScheduleMode","subTasksStartDate","subTasksEndDate","scheduleStartDate","scheduleEndDate","auto","resourceID","generalTab","customTab","writeNotes","addDialogTitle","editDialogTitle","update","search","zoomIn","zoomOut","zoomToFit","excelExport","csvExport","pdfExport","nextTimeSpan","prevTimeSpan","saveButton","taskBeforePredecessorFS","taskAfterPredecessorFS","taskBeforePredecessorSS","taskAfterPredecessorSS","taskBeforePredecessorFF","taskAfterPredecessorFF","taskBeforePredecessorSF","taskAfterPredecessorSF","okText","confirmDelete","taskLink","lag","enterValue","taskInformation","deleteTask","deleteDependency","save","above","below","toMilestone","leftTaskLabel","rightTaskLabel","confirmPredecessorDelete","unassignedTask","indent","outdent","FF","FS","SF","SS","removeSortColumn","actionBeginTask","scrollToDate","updateChartScrollOffset","parent_1","get","parent_2","filterByColumn","filterOperator","filterValue","predicate","matchCase","ignoreAccent","excelExportProperties","isMultipleExport","workbook","isBlob","excelExportModule","pdfExportProperties","pdfDoc","pageOrientation","export","clearFiltering","removeFilteredColsByField","nonWorkingDays","isDisabled","previousTimeSpan","timeSpan","reorderColumns","fromFName","toFName","initiateEditAction","isStart","isTaskData","makeCloneData","task_1","currentAction","oldRecord","cloneData","prevValue","clonedValue","isObjectArray","closeEdit","hide","dialogClose","setSplitterPosition","tempSplitterSettings","contructExpandCollapseArgs","ind","expandByID","collapseByID","rowPosition","addRowPosition","addRowIndex","parentTask","dropChildRecord","updateTaskId","currentId","newId","getRedoActions","clearUndoCollection","clearRedoCollection","getCriticalTasks","fitToProject","reorderRows","fromIndexes","toIndex","updateRecordByIndex","addPredecessor","predecessorString","removePredecessor","updatePredecessor","openEditDialog","gridRows","popup","keyVal","box","pageYOffset","pageXOffset","clientTop","clientLeft","updateDataSource","getGridColumns","getColumnByField","getGanttColumns","showColumn","showBy","showColumns","hideColumn","hideBy","hideColumns","cancelEdit","isToggle","selectCells","rowCellIndexes","deleteRecord","taskDetail","isEnable","updateDataArgs","customData","convertToMilestone","changeTaskMode","updateTaskScheduleModes","initiateUpdateAction","renderReactTemplates","clearTemplate","Event","NotifyPropertyChanges","Component","PdfHorizontalOverflowType","CellEdit","isResourceCellEdited","bindTreeGridProperties","cellEdit","ensureEditCell","Inject","Edit","readOnly","parentReference_1","openNotesEditor","isNOU","updatedEditFields","editedObj","editedArgs","editedValue","endEditAction","taskNameEdited","startDateEdited","endDateEdited","durationEdited","resourceEdited","progressEdited","baselineEdited","dependencyEdited","notedEdited","workEdited","taskmodeEdited","initiateSaveAction","typeEdited","updateEditedRecord","ganttProb","validateEndDateWithSegments","compareDatesFromRecord","revertCellEdit","updateResourceRelatedFields","durationString","currentDuration","updateSegmentProgress","baseLineStartDate","baseLineEndDate","editedResourceId","editedResouceLength","previousResource","editedResources","newIndex","previousResourceLength","isResourceUpdate","cellEditArgs","splitString","workValue","EditTooltip","taskbarEdit","opensOn","mouseTrail","offsetLeft","showHideTaskbarEditTooltip","bool","updateTooltip","connectorSecondAction","connectorSecondElement","taskBarEditElement","taskWidth","getTooltipText","offsetY","offsetX","tooltipString","instance","editRecord","editing","templateNode","TaskbarEdit","previousLeftValue","isMouseDragged","dependencyCancel","isDragged","editElement","elementOffsetLeft","elementOffsetTop","elementOffsetWidth","elementOffsetHeight","currentItemTop","currentItemPrevTop","isClonedElement","updatePosition","tooltipValue","editTooltip","mouseDownHandler","mouseUpHandler","mouseLeaveHandler","mouseMoveAction","mouseClickHandler","connectorSecondRecord","highlightedSecondElement","finalPredecessor","drawPredecessor","roundOffDuration","dragMouseLeave","previousItemProperty","tapPointOnFocus","canDrag","getElementByPosition","updateTaskBarEditElement","enableSelectMultiTouch","validateConnectorPoint","taskBarEditingAction","showHideActivePredecessors","multipleSelectionEnabled","showHideTaskBarEditingElements","show","applyActiveColor","chartContent","$tr","$taskbar","$connectorElement","predecessorIndex","renderPredecessorDeleteConfirmDialog","cloneTaskBar","realTaskbarElement","getTaskBarAction","index_1","ganttprop","parentleft","resizeElement","setProperty","currentindex","resizeTable","resizetableBody","createTable","taskbarPosition","tableBody","cloneTaskbarElement","taskbarResizer","currentIndex","updateMouseDownProperties","prevZIndex","secondElement","fadeConnectorLine","isShowProgressResizer","isShowConnectorPoints","progressElement","connectorElement","leftConnector","rightConnector","mouseDownElement","getCoordinate","zoom1","zoom","pageY","mouseDownX","mouseDownY","dragMoveY","isMouseDragCheck","mouseMoveX","mouseMoveY","previousItem","removeFirstBorder","canremove","removeLastBorder","islastRowIndex","isEmptyRow","removetopOrBottomBorder","border","addRemoveClasses","topOrBottomBorder","gridElement","removeChildBorder","borderElem","cells","len","addErrorElem","dragelem","ele","paddingTop","removeErrorElem","errorelem","ensurePosition","draggedRecords","draggedRecord","ganttRowElement","currentElement","xValue","yValue","elementFromPoint","draggedTreeGridRowElement","draggedTreeGridRowHeight","chartRowElement_1","droppedTreeGridRowElement","tObj","rowTop","toolHeight","positionOffSet","firstElementChild","divide","topRowSegment","middleRowSegment","bottomRowSegment","posy","isTopSegment","isMiddleRowSegment","isBottomRowSegment","droppedTreeGridRecord","isMouseClick","editingFields","updateMouseMoveProperties","oldData","performProgressResize","enableLeftResizing","enableRightResizing","enableDragging","updateConnectorLineSecondProperties","triggerDependencyEvent","drawFalseLine","parentClientRect","coordinates","pos","reduceHeight","setItemPosition","updateEditedItem","taskBarEditedAction","isConnectorLineEdit","mouseX","mouseY","timerCount","startScrollTimer","stopScrollTimer","scrollTimer","setInterval","sign","timelineWidth","clearInterval","differenceWidth","previousMouseMove","previousSegment","nextSegment","diffrenceWidth","widthValue","progressBorderRadius","enableSplitTaskLeftResize","updateEditPosition","segment_1","segment_2","segment_3","updateIsMilestone","segmentWidth","getProgressPercent","getRoundOffStartLeft","getDateByLeft","updateSplitLeftResize","getRoundOffEndLeft","tempdate","updateSplitRightResizing","updateChildDrag","setSplitTaskDrag","segmentOffsetDuration","segmentOffset","segmentDate","isRoundOff","totalLeft","remainingContribution","remainingLeft","positionValue","inHour","inMinutes","remainDays","remainDaysInDecimal","rightResizer","segmentedTaskBarContainer","traceChildProgressBar","childProgressResizer","taskBarRightResizer","traceParentTaskBar","traceParentProgressBar","traceConnectorPointRight","segmentConnectorPointRight","manualParentTaskbar","manualParentRight","manualParentLeft","resizeLine","segment_4","borderBottomRightRadius","borderTopRightRadius","width_1","width_2","resizeValue","mouseDragged","cancelTaskbarEditActionInMouseLeave","resMouseY","taskbarEdited","reUpdatePreviousRecords","fixedWidth","totalTaskWidth","totalProgressWidth","draggedRecIndex","flatRecordCol","droppedRecord","droppedTarget","droppedParentRecordIndex","draggedParentRecordIndex","fromIndex","dropIndex","dropPosition","dropRecord","droppedRecordIndex","updateParentProgress","segment_5","eDate_1","parentwidth","progresswidth","sqrt","angle","atan2","PI","falseLine","transformOrigin","isRemoveConnectorPointDisplay","isBigger","zoomedPageY","fromItem","toItem","isValidLink","validatePredecessorRelation","predecessorArray","newPredecessorString","tooltipElement","e_1","changedTouches","DialogEdit","taskFieldColumn","customFieldColumn","processedId","updatedAddFields","dialogEditValidationFlag","isValidData","isResourceTabUpdated","beforeOpenArgs","types","getPredecessorType","editedRecord","inputs","booleanedit","CheckBox","dropdownedit","DropDownList","datepickeredit","DatePicker","datetimepickeredit","DateTimePicker","maskededit","MaskedTextBox","numericedit","NumericTextBox","stringedit","TextBox","defaultedit","dblClickHandler","editDialogFields","getDefaultDialogFields","validateDialogFields","addDialogFields","dialogFields","newDialogFields","emptyCustomColumn","fieldItem","getGeneralColumnFields","getCustomColumnFields","valueOf","composeAddRecord","isFromAddDialog","createDialog","getMinimumStartDate","minDate","getNewTaskId","gObj","selectedRowId","numericOrString","isFromEditDialog","dialogModel","dialogMaxWidth","animationSettings","isModal","allowDragging","showCloseIcon","X","Y","closeOnEscape","beforeClose","closedBy","nodeName","dialogElement","generalTabElement","tabObj","select","maxHeight","buttons","buttonModel","buttonClick","createTab","CustomformObj","formObj","storeValidTab","validate","storeDependencyTab","firstOccuringTab","dependencyTab","storeResourceTab","resourceTab","initiateDialogSave","resetValues","destroyDialogInnerElements","tabModel","destroyCustomField","inputElement","controlObj","getObject","getEditFields","tabElement","tabItems","dialogSettings","dialogField","tabItem","getFieldsModel","getSegmentsModel","getPredecessorModel","getResourcesModel","getNotesModel","renderTabItems","selected","tabSelectedEvent","overflowMode","Tab","Dialog","actionCompleteArgs","validationRules","changeFormObj","actionCompleteArg","customComparator","typeOrder","typeA","typeB","storeColumn","getFilteredDialogFields","validateColumn","firstFieldType","customFieldColumns","taskFieldColumns","validationRulesArray","customColumn","createFormObj","taskColumn","targetArray","columnValue","form","rules","FormValidator","validationComplete","customPlacement","nameAttribute","valErrorPlacement","getElemTable","tooltipContent","errorMessage","existingTooltip","tooltipContainer","labelId","tooltipLabel","errorMessageElement","arrow","status","selectedContent","isValidateColumn","responsiveTabContent","resourceSelection","enableToolbarItems","dialogContent","dialogContentHeight","toolbar_1","fieldsModel","createInputModel","common","placeholder","floatLabelType","checkboxModel","change","validateScheduleFields","numeric","datePickerObj","strictMode","firstDayOfWeek","dateTimePickerObj","ID","Value","dropDownListObj","targetId","cellValue","strViewType","container","path","customFn","required","minLength","validateSegmentFields","validateScheduleValuesByCurrentField","updateScheduleFields","ganttField","tempValue","ganttId","taskField","picker","numericTextBox","validateDuration","validateStartDate","validateEndDate","segmentInputModel","prefixIcon","tooltipText","align","write","datePickerModel","columnFields","inputTextModel","getGridColumnByField","updateSegmentField","inputValue","gridModel","selectedSegment","inputModel","foreignKeyField","foreignKeyValue","checkboxOnly","checkboxMode","toolbarSettings","createFormElement","createInputElement","isCustomTab","HTMLElement","renderGeneralTab","disabled","renderPredecessorTab","renderResourceTab","renderCustomTab","renderNotesTab","renderSegmentsTab","segmentGridActionBegin","gridData","getDialogTabIndex","tabName","indexValue","itemName","preData","allProperty","toolbarCollection","columnCollection","additionalParams","Grid","Filter","Sort","Page","Group","Aggregate","ColumnChooser","ColumnMenu","ContextMenu","Resize","Reorder","DetailRow","RowDD","Search","Selection","Print","PdfExport","ExcelExport","GridToolbar","VirtualScroll","ForeignKey","columnCollections","updateColumns","gridObj","addFields","itemModel","getId","renderInputElements","templateFields","scriptElement","templateContent","isCheckIsDisabled","stringOrNumber","isParentValid","dependencyColumn","taskNameCollection","predecessorEditCollection","updatePredecessorDropDownData","predecessorLength","preTableCollection","gridActionComplete","gridActionBegin","ComboBox","idCollection","popupHeight","allowCustom","idInput","itemData","autofill","existingColumns","newColumns","columnMap","newColumn","isEdit_1","gridData_1","updateResourceCollection","resourceTreeGridId","resourceTreeGrid","getSelectedRecords","tempRecords","selectedItems","rowResource","rowResourceLength","resourceDataLength","rowSelected","currentResources","rowDeselected","toolbars","TreeGridFilter","TreeGridSort","TreeGridPage","TreeGridEdit","TreeGridAggregate","TreeGridResize","TreeGridReorder","TreeGridRowDD","TreeGridSelection","TreeGridToolbar","treeGridObj","resourceColumn","RichTextEditor","Image","Table","EmojiPicker","FileManager","FormatPainter","RTEToolbar","MarkdownEditor","Link","HtmlEditor","QuickToolbar","Count","notesColumn","enabled","checked","inputObj","preTaskIds","currentFlatData","parentUniqueID","tempObject","preDataCollection","validSuccessorTasks","fromId_1","idIndex","isIdInclude","item_1","arraysMatch","typeText","indexes","id_1","rowItems_1","updateGeneralTab","updatePredecessorTab","updateNotesTab","updateResourceTab","updateCustomTab","updateSegmentsData","disableUndo","newRecords","parentRecordIndex","updateSegmentTaskData","segmentForm","generalForm","isCustom","tasksData","valueString","HTMLInputElement","updateScheduleProperties","validateUpdateValues","fromRecord","toRecord","preElement","newValues","name_1","resourceElement","idArray","notesElement","rte","getHtml","getText","customElement","ConnectorLineEdit","validationPredecessor","confirmPredecessorDialog","validatedId","validatedOffsetIds","initPredecessorValidationDialog","getConnectorLineHoverElement","highlightConnectorLineElements","isOnLine","isArrow","isCriticalLine","isCriticalArrow","connectorLineElement","removeHighlight","addHighlight","pathElement","getEditedConnectorLineString","lineArray","editedConnectorLineString","lineIndex","lineString","idFromPredecessor","preArray","preIdArray","strArray","predecessorValidation","visitedIdArray","state_1","currentIdArray","predecessorIdArray","flag","state_2","checkParentRelation","checkArray","countFlag","state_3","currentIdIndex","tempPredecessorString","stringValue","editingData","state_4","renderValidationDialog","validationDialog","validationDialogClose","validationDialogOkButton","validationDialogCancelButton","currentArgs","validateMode","applyPredecessorOption","checkChildRecords","updateEditedTask","editEventArgs","connectedTaskId_1","taskId_1","processPredecessors","compareArrays","arr1","arr2","record_1","calculateOffset","isIdInclude_1","matchedObject","removePredecessors","compareObjects","obj1","obj2","keys1","keys2","every","isRecursive","prevPredecessor","validPredecessor_1","cumulativePredecessorChanges","pred","isNegativeOffset","preIndex","parentPreIndex","validPredecessor_2","matchingObjects","objectToCompare","preLength","parentPredecessor","openValidationDialog","contentTemplate","validationDialogTemplate","topContentText","contentdiv","parenttaskData","violationType","recordName","recordNewStartDate","recordArgs","topContent","innerTable","validateTypes","violatedParent","ganttTaskData","violateType","addRemovePredecessor","prevData","newPredecessor","prevPredecessor_1","this_5","this_6","removePredecessorByIndex","confirmOkDeleteButton","confirmCloseDialog","confirmDialog","isFromDeleteMethod","targetedRecords","isNewRecordAdded","isValidatedEditedRecord","createArray","updateParentRecords","isaddtoBottom","taskbarMoved","predecessorUpdated","isBreakLoop","renderDeleteConfirmDialog","updateDefaultColumnEditors","customEditorColumns","updateIDColumnEditParams","updateProgessColumnEditParams","updateResourceColumnEditor","updateTaskTypeColumnEditor","editParam","decimals","validateDecimalOnType","showSpinButton","updateEditParams","getResourceEditor","editor","editObject","MultiSelect","CheckBoxSelection","showDropDownIcon","delimiterChar","getTaskTypeEditor","ganttPropByMapping","scheduleFieldNames","isScheduleValueUpdated","ganttPropKey","totDuration","sdate","edate","seg","validateScheduleValues","fieldNames","validateScheduleByTwoValues","isTaskbarMoved","isMoved","prevStart","prevEnd","prevDuration","prevDurationUnit","isPredecessorUpdated","isCheckPredecessor","isValidatePredecessor","updateGanttProperties","updateData","childRecordIndex","validateObject","newArgs","validateTaskEvent","editedEventArgs","resetValidateArgs","updateParentChildRecord","updateParentItemOnEditing","childCount","milesStoneCount","resetEditProperties","isRefreshChart","isRefreshGrid","prevTask","originalData","copyTaskData","existing","newValue","updateScheduleDatesOnEditing","currentBaselineStart","currentBaselineEnd","currentProgress","unModifiedData","eventArg","updatedData","changedRecords","crud","dataAdaptor","batchUrl","saveChanges","dmSuccess","dmFailure","saveSuccess","eLength","_aLength","updateEditedRecordFields","deleteRecords","updateSharedTask","updateResoures","isTreeGridRefresh","prevResource","currentResource","updateRecord","flatRecords","currentLength","previousLength","prevResourceID","addNewRecord","record1","prevLength","taskID","removeChildRecord","checkWithUnassignedTask","unassignTaskObj","beforeEditStatus","cAddedRecord","addRecordAsBottom","recordIndex1","updateTreeGridUniqueID","addRecordAsChild","deletedRow","flatParentData","deleteChildRecords","uniqueIDIndex","deleteRecordIDs","removeFromDataSource","flatRecordIndex","idx","deletedRecordCount","getChildCount","childRecordsLength","spliceIndex","deletedIndexes","draggedParent","saveFailed","confirmDeleteOkButton","closeConfirmDialog","deleteSelectedItems","deleteResourceRecords","selectedRecords","resourceParent","deleteRow","totalRecords","getCellSelectedRecords","variableType","updateTargetedRecords","taskDetailArray","rowItems","deleteItems","canDeletePredecessor","removePredecessorOnDelete","delereArgs","deletedRecordCollection","updatedRecordCollection","initiateDeleteAction","toRecordPredcessor","updatePredecessorValues","fromRecordPredcessor","predcessorArray","cId","nId","cIndex","nIndex","thisRecord","currentGanttRecord","updatePredecessorOnUpdateId","removeData","dataCollection","modifiedRecord","updatedData_1","deletedRecords","query_1","deleteCrud","deleteSuccess","prevRecordIndex","flatIndex","treeGridParentIndex","dataIndex","refreshRecordInImmutableMode","updateUnAssignedResources_1","isDuplicate","newTaskId","prepareNewlyAddedData","newTaskIDmd","taskModel","updateNewlyAddedDataBeforeAjax","pIndex","backUpAndPushNewlyAddedRecord","addRowSelectedItem","newRecord","getVisibleChildRecordCount","updatePredecessorOnIndentOutdent","parentRecordTaskData","updatedPredecessor","predecessorCollections","prdcList","temppredecessorCollection","predecessorToString","tem","currentItemIndex","updatedCollectionIndex","recordCollectionUpdate","dataChildCount","newlyAddedRecordBackup","constructTaskAddedEventArgs","newTaskData","addSuccess","dragged","treeIndex","uniqueTaskID","originalIndex","renderModule","cellRender","cell","RowModifier","updateRealDataSource","addDataInRealDataSource","updateClientDataFromServer","serverReturnedValue","addedRecords","tempTaskID","cAddedRecord_1","validateTaskPosition","addData","addIndex","removeAddedRecord","_resetProperties","data_2","updatedData_2","prevID","idsIndex","updateNewRecord","data_3","canDelete","isPresent","id_2","refreshNewlyAddedRecord","tempArray_1","addedRec","createNewRecord","tempRecord","taskSettingsFields","AddRecord","flatRecordsIndex","currentViewDataIndex","getPrevRecordIndex","prevRecord","selectedRecord","indentOutdentRow","thisParent","actionArgs","actionArg","reArrangeRows","isByMethod","draggedRec","dragRecords","droppedRec","dLength","deleteDragRow","treeGridData","updateChildRecordLevel","updateChildRecord","dropMiddle","newParentIndex","refreshDataSource","refreshRecord","isDrag","queryValue","indentSuccess","indentFailure","indentOutdentSuccess","indx","proxy","rowPos","dragRecord","delRow","removeRecords","updateIndentedChildRecords","indentedRecord","createParentItem","recordLevel","levl","currentRec","flatParent","removeChildItem","gridIndx","recordIdx","i_2","childItem","columnDragStart","columnDrag","columnDrop","updateCustomFilters","initiateFiltering","updateModel","treeColumn","ui","getCustomFilterUi","filterUI","getDurationFilter","getDateTimePickerFilter","getDatePickerFilter","dropDateInstance","timeValue","getCustomDateFormat","flValInput","filteredValue","fltrObj","operator","dropInstance","textBoxInstance","durationObj","intVal","dayVal","datePickerElement","dateTimePickerElement","filterAfterOpen","updateFilterMenuPosition","filterObj","filterValues","instanceObj","setPosition","li","ul","parentNodeTop","parentNodeLeft","gridPos","gridPosTop","gridPosLeft","isNonBodyTag","HTMLDocument","liPos","scrollX","scrollY","getColumnHeaderByField","getFilterMenuPostion","TreeGrdSort","sortByColumn","isSelectionFromChart","multipleIndexes","openPopup","popUpClickHandler","rowSelecting","rowDeselecting","cellSelecting","cellSelected","cellDeselecting","cellDeselected","isCtrlPressed","isMultiCtrlRequest","isShiftPressed","isMultiShiftRequest","actualTarget","foreignKeyData","addRemoveClass","prevRowIndex","isInteracted","isContains","rowIndexes","cellselectingArgs","isPreventFocus","condition","selectedRow","preventFocus","selectedClass","selectedRows","selectedIndexes_1","cellDetails","cellSelectedRecords","getSelectedRows","highlightSelectedRows","fromChart","ctrlKey","shiftKey","rIndex","addRowsToSelection","getselectedrowsIndex","startIndex","endIndex","request","persist","selectedRecordLen","removeAttribute","showPopup","setCssInGridPopUp","$popUpElemet","spanElement","elements","Toolbar","predefinedItems","propertyChanged","headerModule","offsetParent","preItems_1","itemStr","localeName","searchLocalText","createToolbar","addReactToolbarPortals","getItems","NavToolbar","clicked","toolbarClickHandler","cancelItem","updateItem","getSearchBarElement","showClearButton","wireEvent","textbox","onclick","keyUpHandler","focusHandler","blurHandler","unWireEvent","searchIndex","searchItem","toolbarItems_1","getItemObject","getItem","itemObject","gID","adaptiveSearchbar","disableItems","previousGanttRecord","toolbarDefaultItems","isResouceParent","hasData","isDeleteSelected","hideItem","items_1","NonWorkingDay","weekendWidthUpdated","nonworkingContainer","createNonworkingContainer","getHolidaysElement","fromDate","toDate","viewportHeight","holidayDiv","spanTop","getWeekendElements","nonWorkingIndex","weekendDiv","updateHolidayLabelHeight","gantttable","labels","removeContainers","getEventMarkersElements","removeContainer","eventMarkerElement","rightArrow","eventMarkerCollection","DayMarkers","eventMarkerRender","refreshMarkers","updateHeight","CriticalPath","validatedids","resourceCollectionIds","criticalTasks","modelIds","dateDifference","checkBeyondEnddate_1","totalPredecessorsCollection","totalPredecessorsCollectionId","taskBeyondEnddate","predecessorTaskBeyondEnddate","collectionTaskId","fromDataObject","criticalPathIds","slack","currentRecords","endTask","toPredecessor","fromPredecessor","individualPredecessorLength","taskid","enddate","collectionLength","indexEnddate","z","fromdata","todateID","fromDataPredecessor","slackCalculation","finalCriticalPath","pathIndex","modelRecordIds","fromDateArray","fromTaskIdIndex","indexFromTaskId","indexToTaskId","totaskId","prevTaskEnddate","offsetInMillSec","ffslack","fromDateArray1","fromIdFlatData","toIdFlatData","getSlackDuration","updateCriticalTasks","resourceIndex","noSlackValue","toID","criticalData","taskClass","parentTaskbarElement","currentdata","checking","checkint","UndoRedo","isUndoRedoPerformed","getRedoCollection","getUndoCollection","redoEnabled","previousSortedColumns","searchString","isFromUndoRedo","canUpdateIndex","sortedColumnsLength","undoAction","updateAction_1","previousActions","previousDetails","findPosition","columnsArray","fromColumn","toColumn","isShowDeleteConfirmDialog","deleteRec","redoAction","updateAction","createUndoCollection","undoRedoStepsCount","disableRedo","detail","recIndex","previousRecord","prevInd","parentDataIndex","headerContextMenuClick","headerContextMenuOpen","ganttID","TreeGridContextMenu","contextMenuClick","contextMenuOpen","resetItems","reRenderContextMenu","contextMenuItemClick","contextMenuBeforeOpen","Menu","getMenuItems","beforeOpen","onOpen","onClose","contextMenuOnClose","headerMenuItems","getKeyFromId","mergeCall","splitTaskCall","currentClickedDate","getClickedDate","mergeSegmentIndexes","ganttElementPositionLeft","pageLeft","currentTaskDifference","clickedPosition","splitTaskDuration","clientX","menuElement","contentMenuItems","getLocale","updateItemStatus","hideItems","hideChildItems","revertItemStatus","editForm","subMenu","updateItemVisibility","createItemModel","cons.content","getPredecessorsItems","isSelect","mergeItemVisiblity","menuItems_1","getDefaultItems","buildDefaultItems","iconCss","generateID","iconCSS","contentMenuItem","getIconCSS","menuClass","iconString","showItems","idPrefix","TreeGridExcel","beforeExcelExport","excelQueryCellInfo","excelHeaderQueryCellInfo","excelExportComplete","TreeGridColumnMenu","getColumnMenu","columnMenuModule","isTest","updateCollection","isSharedTask","canDrop","rowDragStart","rowDragStartHelper","rowDrag","rowDrop","errorVal","spanContent","ganttDragElement","dragElement","ganttTop","getClientRects","ganttLeft","touches","clientY","ganttDragelem","dropRows","datas","dragLength","checkisSharedTask","previousParent","dropAtTop","spliceId","updatedParent","ganttData_1","uniqueTaskID_1","i_3","i_4","count_1","splittedName","validatedPredecessorNames","droppedParentItem","removeExistingResources","tempResourceInfo","updateCurrentTask","deleteSharedResourceTask","updateSharedResourceTask","toParent_1","isValidPredecessor","validateRecords","predName","toRec","dropRec","preParentRecord","_getExistingTaskWithID","existingTasks","removeResourceInfo","sameIdTasks","tempDataSource","ganttFields","droppedId","dragRec","sharedTask","childTasks","tempIndex","PdfGanttTheme","theme","ganttStyle","setTheme","enumerable","configurable","initStyles","columnHeader","fontSize","fontColor","PdfColor","gray","borderColor","lineAlignment","alignment","fontFamily","PdfFontFamily","Helvetica","footer","fontStyle","chartGridLineColor","taskColor","progressColor","criticalTaskColor","criticalProgressColor","baselineBorderColor","criticalConnectorLineColor","criticalTaskBorderColor","parentTaskColor","parentProgressColor","taskBorderColor","parentTaskBorderColor","connectorLineColor","progressFontColor","splitLineBackground","unscheduledTaskBarColor","manualParentBackground","manualParentProgress","manualChildBackground","manualChildProgress","manualLineColor","manualParentBorder","manualChildBorder","PdfStringFormat","TemporaryDictionary","mKeys","mValues","ReferenceError","RangeError","containsKey","clear","PdfBorders","defaultBorderPenLeft","PdfPen","dashStyle","PdfDashStyle","Solid","defaultBorderPenRight","defaultBorderPenTop","defaultBorderPenBottom","leftPen","rightPen","topPen","bottomPen","PdfPaddings","bottom","hasLeftPad","hasRightPad","hasTopPad","hasBottomPad","leftPad","rightPad","bottomPad","topPad","PdfTreeGridStyleBase","PdfTreeGridStyle","cellSpacing","borderOverlapStyle","PdfBorderOverlapStyle","Overlap","allowHorizontalOverflow","horizontalOverflowType","LastPage","cellPadding","PdfTreeGridLayouter","baseFormat","columnRanges","repeatRowIndex","currentBounds","RectangleF","layoutInternal","param","Error","currentPage","page","currentPageBounds","getClientSize","currentGraphics","graphics","break","PdfLayoutBreakType","FitColumnsToPage","PointF","bounds","SizeF","treegrid","clientSize","getRow","getCell","borders","startLocation","measureColumnsWidth","determineColumnDrawRanges","layoutOnPage","startColumn","endColumn","cellWidths","availableWidth","isAutoFit","getColumn","subWidths","getFormat","layoutedPages","startPage","cellStartIndex","cellEndIndex","rowsCount","repeatRow","originalHeight","rowResult","drawRow","rowCollection","isFinish","allowRowBreakAcrossPages","getNextPageFormat","enableHeader","drawHeader","checkBounds","layout","PdfLayoutType","OnePage","paginateBounds","default","getLayoutResult","NextPage","reArrangePages","location","layoutPages","pages","section","nextPage","getPages","PdfTreeGridLayoutResult","checkIfDefaultFormat","defaultFormat","characterSpacing","clipPath","firstLineIndent","horizontalScalingFactor","lineLimit","lineSpacing","measureTrailingSpaces","noClip","paragraphIndent","rightToLeft","subSuperScript","wordSpacing","wordWrap","layoutResult","RowLayoutResult","rowBreakHeight","drawRowWithBreak","location_1","leftAdjustment","reCalculateHeight","isTreeColumn","cancelSpans","columnSpan","isCellMergeContinue","draw","rowOverflowIndex","treegridHeight","measureHeight","finishedDrawingCell","newHeight","remainingString","ElementLayouter","PdfLayoutResult","PdfTreeGridLayoutFormat","PdfLayoutFormat","PdfTreeGrid","treeGridSize","PdfTreeGridColumnCollection","PdfTreeGridRowCollection","headers","PdfTreeGridHeaderCollection","beginCellDraw","endCellDraw","calculateTreeGridSize","arg1","arg2","arg3","arg4","drawHelper","layoutRectangle","widths","getDefaultWidths","rowLevel","colCount","rowCount","tempWidth","rowWidth","initialWidth","getHeader","drawGrid","newBound","setSpan","layouter","onBeginCellDraw","raiseBeginCellDraw","onEndCellDraw","raiseEndCellDraw","colSpan","rowSpan","currentRowIndex","maxSpan","isRowMergeContinue","isCellMergeStart","isRowMergeStart","totalColumnWidth","maximumRowSpan","colcount","PdfLayoutElement","PdfTreeGridCell","cellHeight","measureWidth","PdfStringLayouter","font","PdfStandardFont","isParentRow","PdfFontStyle","Bold","MAX_VALUE","actualSize","slr","cancelSubsequentSpans","drawCellBackground","textBrush","PdfSolidBrush","innerLayoutArea","isHeaderCell","adjustContentLayoutArea","image","imageBounds","drawImage","customisedFont","newFont","customisedBrush","fontBrush","drawString","stringLayoutResult","PdfImage","PdfBitmap","PdfTextWebLink","drawCellBorder","backgroundBrush","drawRectangle","restore","returnBounds","padding","PdfTextAlignment","Center","Left","Right","Inside","isAll","p1","p2","pen","lineCap","PdfLineCap","Square","drawLine","PdfTreeGridCellCollection","treegridRow","tempcell","PdfTreeGridRow","treegridRowOverflowIndex","_isParentRow","intendLevel","pdfTreeGrid","treegridCells","treegridRowBreakHeight","totalWidth","row_1","PdfTreeGridColumn","columnWidth","_headerText","_field","stringFormat","internalColumns","subFactor","ExportHelper","processToFit","chartsideWidth","gridWidth","processGridExport","props","exportValueFormatter","ExportValueFormatter","processHeaderContent","processGanttContent","processTaskbar","processPredecessor","isColumnVisible","processColumnHeader","pdfColumn","treeGridHeaderHeight","copyStyles","headerTextAlign","headerTemplate","pdfColumnHeaderQueryCellInfo","base64","includeHiddenColumn","renderEmptyGantt","processRecordRow","chartHeader","topTierHeight","bottomTierHeight","showPredecessorLines","lineWidth","processRecordCell","ganttProps","formatCellValue","pdfQueryCellInfo","hyperLink","displayText","setHyperLink","textLink","url","brush","unscheduledTaskBy","unscheduleStarteDate","unscheduleEndDate","isSpliterTask","isParentTask","reduceLeft","labelColor","manuallineColor","gridLineColor","labelTemplateStyle","taskStyle","pdfQueryTaskbarInfo","leftImages","rightImage","baseCount","applyTemplate","source","getHorizontalAlignment","Justify","getVerticalAlignment","PdfVerticalAlignment","Bottom","Middle","Top","getFontFamily","getFont","TimesRoman","Regular","mergeCells","lastColIndex","all","initializePdf","tWidth","pageSettings","perColumnWidth","PdfPage","pdfPage","enableFooter","PdfPageTemplateElement","footerBrush","pageNumber","PdfPageNumberField","PdfPageCountField","compositeField","PdfCompositeField","pageSize","headerProp","fromTop","drawPageTemplate","fromBottom","contents","drawText","drawPageNumber","src","pageTemplate","getBrushFromContent","textPenColor","penColor","hexToRgb","g","setContentFormat","documentHeader","textBrushColor","brushColor","numberStyle","getPageNumberStyle","pageNumberType","total","pageCount","points","getPenFromContent","penSize","getDashStyle","hex","bigint","hAlign","vAlign","culture","valueFormatter","ValueFormatter","internationalization","returnFormattedValue","getFormatFunction","isForeignKey","getForeignData","getNumberFormat","PdfGanttTaskbarCollection","endPage","GetNextPage","drawTaskbar","startPoint","cumulativeWidth","taskGraphics","isNextPage","endPoint","drawPageTimeline","drawLeftLabel","customizedFont","customizedFontBrush","customizedFontColor","taskLabelFont","taskLabelFontBrush","progressFormat","updatedWidth","isLabelString","pageIndex","renderBaselineWidth","baselinePen","baselineBrush","renderedBaseline","drawMilestone","taskbarPen_1","taskBrush_1","manualParentBorderPen","manualChildBorderPen","manualTaskbarPen","manualline","manuallineBrush","splitline","manualBrush","manualChildBrush","manualChildProgressBrush","manualProgressBrush","progressPen_1","progressBrush_1","adjustHeightforTaskbar","adjustHeightforBaseline","adjustHeight_1","isStartPoint","taskStartPoint","Dot","imageWidth","PdfPath","addEllipse","translateTransform","path1","setTransparency","drawUnscheduledTask","brush1","brush2","PdfLinearGradientBrush","isCompleted","renderWidth_1","splitRenderwidth_1","pervwidth_1","valueChangeBlocker_1","lineWidth_1","stringLeft","result_1","getWidth","lines","remainder","remainString","progressBoundsWidth","result_2","result_3","result_4","result_5","isCompletedAutotask","renderWidth","currendate","PdfBrushes","Black","adjustHeight","drawRightLabel","drawRightLabelValue","previousWidthofRightImage","previousWidthofRightValue","drawRigthlabelImage","isLeftCalculated","actualLeft","point","labelBounds","labelFormat","rightString","getWidthofrightLabel","labelBound","newFontBrush","drawLeftLabelValue","previousWidthofLeftImage","previousWidthofLeftValue","totalLeftWidth","totalstringWidth","drawLeftLabelImage","labelLeft","rightLabelpoint","rightLabelSize","rightLabelBounds","rightLabelFormat","leftLabelImage","leftLabelValue","getWidthofLeftLabel","isLeftImageExist","imageLength","result_6","result_7","PdfWordWrapType","Character","taskBrush","milestonePen","adjustHeightforBaselineMilesone","adjustHeightforMilesone","milestoneBrush","rotateTransform","height_1","PdfTimeline","holidayCompleted","fitHolidayCompleted","lastWidth","topTierPoint","bottomTierPoint","topTierIndex","bottomTierIndex","prevTopTierIndex","prevBottomTierIndex","drawTimeline","detailsTimeline","remainWidth","pHeader","isFinished","completedWidth","triggerQueryTimelinecell","secondHeader","isTopTier","currentDate","timelineStyle","pdfQueryTimelineCellInfo","rectPen","rectBrush","timelinedate","holidayWidth","holidayLabel","changeDate","holidayNumberOfDays","fromDataHoliday","rectPen1","fontHieght","font1","holidayBrush","pLeft","pTop","state","setClip","PdfGanttPredecessor","pdfGantt","findindex","dataindex","parentPageData","childPageData","predecessorType","parentY","childY","pdfPageDetail","chartPageIndex","midPointManualparent","midPointforTaskbar","midPointforBaseline","point3","point4","point5","point6","parentTaskpoint","childTaskpoint","ffpoint1","sspoint1","ffpoint3","ffpoint4","sspoint4","connectLines","drawArrow","rect","findPageIndex","pageData","pageRect","pdfPages","newEndPoint","newStartPoint","checkStartPoint","startPointCheck","endPointCheck","pageRectLeft","pageRectRight","pageRectBottom","pageRectTop","pageStartX","predecessorPen","drawEventMarker","eventMarker","cumulativeHeight","strSize","measureString","eventLine","Dash","enventFormat","eventBrush","PdfGantt","changeCloneProjectDates","headerDetails","taskbars","drawChart","totalPages","perColumnPages","calculateRange","drawGantttChart","drawPageBorder","lastColumnRange","isPageFinished","pageWidth","headerWidth","startPageIndex","convertedWidth","sDays","eDays","sDays1","eDays1","startDays","endDays","startDays1","endDays1","startDays2","endDays2","startDays3","endDays3","taskbarPoint","pagePoint","pageStartPoint","timelimeHeight","pdfDocument","initGantt","ganttObject","Promise","reject","exportWithData","exportType","PdfDocument","processExport","promise","blobPromise","sections","processSectionExportProperties","pdfPageDimensions","FitElement","fileName","pdfPageSettings","PdfPageSettings","PdfPageOrientation","Landscape","Portrait","getPageSize","setPageSettings","defaultGanttTheme","TreeGridVirtualScroll","translates","transformString","index.Filter","index.Selection","index.Sort","index.Reorder","index.Resize","index.Edit","index.DayMarkers","index.Toolbar","index.ContextMenu","index.ExcelExport","index.RowDD","index.ColumnMenu","index.PdfExport","index.VirtualScroll","index.CriticalPath","index.UndoRedo"],"mappings":"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"}